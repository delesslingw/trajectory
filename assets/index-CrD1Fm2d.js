(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const j of document.querySelectorAll('link[rel="modulepreload"]'))t(j);new MutationObserver(j=>{for(const x of j)if(x.type==="childList")for(const d of x.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&t(d)}).observe(document,{childList:!0,subtree:!0});function v(j){const x={};return j.integrity&&(x.integrity=j.integrity),j.referrerPolicy&&(x.referrerPolicy=j.referrerPolicy),j.crossOrigin==="use-credentials"?x.credentials="include":j.crossOrigin==="anonymous"?x.credentials="omit":x.credentials="same-origin",x}function t(j){if(j.ep)return;j.ep=!0;const x=v(j);fetch(j.href,x)}})();function fg(P){return P&&P.__esModule&&Object.prototype.hasOwnProperty.call(P,"default")?P.default:P}var vh={exports:{}},La={},_h={exports:{}},Ut={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Op;function pg(){if(Op)return Ut;Op=1;var P=Symbol.for("react.element"),r=Symbol.for("react.portal"),v=Symbol.for("react.fragment"),t=Symbol.for("react.strict_mode"),j=Symbol.for("react.profiler"),x=Symbol.for("react.provider"),d=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),s=Symbol.for("react.suspense"),c=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),y=Symbol.iterator;function o(z){return z===null||typeof z!="object"?null:(z=y&&z[y]||z["@@iterator"],typeof z=="function"?z:null)}var a={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},i=Object.assign,h={};function p(z,ee,ie){this.props=z,this.context=ee,this.refs=h,this.updater=ie||a}p.prototype.isReactComponent={},p.prototype.setState=function(z,ee){if(typeof z!="object"&&typeof z!="function"&&z!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,z,ee,"setState")},p.prototype.forceUpdate=function(z){this.updater.enqueueForceUpdate(this,z,"forceUpdate")};function l(){}l.prototype=p.prototype;function m(z,ee,ie){this.props=z,this.context=ee,this.refs=h,this.updater=ie||a}var _=m.prototype=new l;_.constructor=m,i(_,p.prototype),_.isPureReactComponent=!0;var b=Array.isArray,T=Object.prototype.hasOwnProperty,O={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function M(z,ee,ie){var C,B={},H=null,$=null;if(ee!=null)for(C in ee.ref!==void 0&&($=ee.ref),ee.key!==void 0&&(H=""+ee.key),ee)T.call(ee,C)&&!k.hasOwnProperty(C)&&(B[C]=ee[C]);var ne=arguments.length-2;if(ne===1)B.children=ie;else if(1<ne){for(var se=Array(ne),de=0;de<ne;de++)se[de]=arguments[de+2];B.children=se}if(z&&z.defaultProps)for(C in ne=z.defaultProps,ne)B[C]===void 0&&(B[C]=ne[C]);return{$$typeof:P,type:z,key:H,ref:$,props:B,_owner:O.current}}function I(z,ee){return{$$typeof:P,type:z.type,key:ee,ref:z.ref,props:z.props,_owner:z._owner}}function F(z){return typeof z=="object"&&z!==null&&z.$$typeof===P}function A(z){var ee={"=":"=0",":":"=2"};return"$"+z.replace(/[=:]/g,function(ie){return ee[ie]})}var U=/\/+/g;function D(z,ee){return typeof z=="object"&&z!==null&&z.key!=null?A(""+z.key):ee.toString(36)}function V(z,ee,ie,C,B){var H=typeof z;(H==="undefined"||H==="boolean")&&(z=null);var $=!1;if(z===null)$=!0;else switch(H){case"string":case"number":$=!0;break;case"object":switch(z.$$typeof){case P:case r:$=!0}}if($)return $=z,B=B($),z=C===""?"."+D($,0):C,b(B)?(ie="",z!=null&&(ie=z.replace(U,"$&/")+"/"),V(B,ee,ie,"",function(de){return de})):B!=null&&(F(B)&&(B=I(B,ie+(!B.key||$&&$.key===B.key?"":(""+B.key).replace(U,"$&/")+"/")+z)),ee.push(B)),1;if($=0,C=C===""?".":C+":",b(z))for(var ne=0;ne<z.length;ne++){H=z[ne];var se=C+D(H,ne);$+=V(H,ee,ie,se,B)}else if(se=o(z),typeof se=="function")for(z=se.call(z),ne=0;!(H=z.next()).done;)H=H.value,se=C+D(H,ne++),$+=V(H,ee,ie,se,B);else if(H==="object")throw ee=String(z),Error("Objects are not valid as a React child (found: "+(ee==="[object Object]"?"object with keys {"+Object.keys(z).join(", ")+"}":ee)+"). If you meant to render a collection of children, use an array instead.");return $}function G(z,ee,ie){if(z==null)return z;var C=[],B=0;return V(z,C,"","",function(H){return ee.call(ie,H,B++)}),C}function W(z){if(z._status===-1){var ee=z._result;ee=ee(),ee.then(function(ie){(z._status===0||z._status===-1)&&(z._status=1,z._result=ie)},function(ie){(z._status===0||z._status===-1)&&(z._status=2,z._result=ie)}),z._status===-1&&(z._status=0,z._result=ee)}if(z._status===1)return z._result.default;throw z._result}var J={current:null},Q={transition:null},Y={ReactCurrentDispatcher:J,ReactCurrentBatchConfig:Q,ReactCurrentOwner:O};return Ut.Children={map:G,forEach:function(z,ee,ie){G(z,function(){ee.apply(this,arguments)},ie)},count:function(z){var ee=0;return G(z,function(){ee++}),ee},toArray:function(z){return G(z,function(ee){return ee})||[]},only:function(z){if(!F(z))throw Error("React.Children.only expected to receive a single React element child.");return z}},Ut.Component=p,Ut.Fragment=v,Ut.Profiler=j,Ut.PureComponent=m,Ut.StrictMode=t,Ut.Suspense=s,Ut.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Y,Ut.cloneElement=function(z,ee,ie){if(z==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+z+".");var C=i({},z.props),B=z.key,H=z.ref,$=z._owner;if(ee!=null){if(ee.ref!==void 0&&(H=ee.ref,$=O.current),ee.key!==void 0&&(B=""+ee.key),z.type&&z.type.defaultProps)var ne=z.type.defaultProps;for(se in ee)T.call(ee,se)&&!k.hasOwnProperty(se)&&(C[se]=ee[se]===void 0&&ne!==void 0?ne[se]:ee[se])}var se=arguments.length-2;if(se===1)C.children=ie;else if(1<se){ne=Array(se);for(var de=0;de<se;de++)ne[de]=arguments[de+2];C.children=ne}return{$$typeof:P,type:z.type,key:B,ref:H,props:C,_owner:$}},Ut.createContext=function(z){return z={$$typeof:d,_currentValue:z,_currentValue2:z,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},z.Provider={$$typeof:x,_context:z},z.Consumer=z},Ut.createElement=M,Ut.createFactory=function(z){var ee=M.bind(null,z);return ee.type=z,ee},Ut.createRef=function(){return{current:null}},Ut.forwardRef=function(z){return{$$typeof:f,render:z}},Ut.isValidElement=F,Ut.lazy=function(z){return{$$typeof:g,_payload:{_status:-1,_result:z},_init:W}},Ut.memo=function(z,ee){return{$$typeof:c,type:z,compare:ee===void 0?null:ee}},Ut.startTransition=function(z){var ee=Q.transition;Q.transition={};try{z()}finally{Q.transition=ee}},Ut.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},Ut.useCallback=function(z,ee){return J.current.useCallback(z,ee)},Ut.useContext=function(z){return J.current.useContext(z)},Ut.useDebugValue=function(){},Ut.useDeferredValue=function(z){return J.current.useDeferredValue(z)},Ut.useEffect=function(z,ee){return J.current.useEffect(z,ee)},Ut.useId=function(){return J.current.useId()},Ut.useImperativeHandle=function(z,ee,ie){return J.current.useImperativeHandle(z,ee,ie)},Ut.useInsertionEffect=function(z,ee){return J.current.useInsertionEffect(z,ee)},Ut.useLayoutEffect=function(z,ee){return J.current.useLayoutEffect(z,ee)},Ut.useMemo=function(z,ee){return J.current.useMemo(z,ee)},Ut.useReducer=function(z,ee,ie){return J.current.useReducer(z,ee,ie)},Ut.useRef=function(z){return J.current.useRef(z)},Ut.useState=function(z){return J.current.useState(z)},Ut.useSyncExternalStore=function(z,ee,ie){return J.current.useSyncExternalStore(z,ee,ie)},Ut.useTransition=function(){return J.current.useTransition()},Ut.version="18.2.0",Ut}var Ap;function Dh(){return Ap||(Ap=1,_h.exports=pg()),_h.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pp;function mg(){if(Pp)return La;Pp=1;var P=Dh(),r=Symbol.for("react.element"),v=Symbol.for("react.fragment"),t=Object.prototype.hasOwnProperty,j=P.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,x={key:!0,ref:!0,__self:!0,__source:!0};function d(f,s,c){var g,y={},o=null,a=null;c!==void 0&&(o=""+c),s.key!==void 0&&(o=""+s.key),s.ref!==void 0&&(a=s.ref);for(g in s)t.call(s,g)&&!x.hasOwnProperty(g)&&(y[g]=s[g]);if(f&&f.defaultProps)for(g in s=f.defaultProps,s)y[g]===void 0&&(y[g]=s[g]);return{$$typeof:r,type:f,key:o,ref:a,props:y,_owner:j.current}}return La.Fragment=v,La.jsx=d,La.jsxs=d,La}var Rp;function yg(){return Rp||(Rp=1,vh.exports=mg()),vh.exports}var Ua=yg(),So=Dh();const gg=fg(So);var lu={},bh={exports:{}},kn={},wh={exports:{}},xh={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ip;function vg(){return Ip||(Ip=1,function(P){function r(Q,Y){var z=Q.length;Q.push(Y);e:for(;0<z;){var ee=z-1>>>1,ie=Q[ee];if(0<j(ie,Y))Q[ee]=Y,Q[z]=ie,z=ee;else break e}}function v(Q){return Q.length===0?null:Q[0]}function t(Q){if(Q.length===0)return null;var Y=Q[0],z=Q.pop();if(z!==Y){Q[0]=z;e:for(var ee=0,ie=Q.length,C=ie>>>1;ee<C;){var B=2*(ee+1)-1,H=Q[B],$=B+1,ne=Q[$];if(0>j(H,z))$<ie&&0>j(ne,H)?(Q[ee]=ne,Q[$]=z,ee=$):(Q[ee]=H,Q[B]=z,ee=B);else if($<ie&&0>j(ne,z))Q[ee]=ne,Q[$]=z,ee=$;else break e}}return Y}function j(Q,Y){var z=Q.sortIndex-Y.sortIndex;return z!==0?z:Q.id-Y.id}if(typeof performance=="object"&&typeof performance.now=="function"){var x=performance;P.unstable_now=function(){return x.now()}}else{var d=Date,f=d.now();P.unstable_now=function(){return d.now()-f}}var s=[],c=[],g=1,y=null,o=3,a=!1,i=!1,h=!1,p=typeof setTimeout=="function"?setTimeout:null,l=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(Q){for(var Y=v(c);Y!==null;){if(Y.callback===null)t(c);else if(Y.startTime<=Q)t(c),Y.sortIndex=Y.expirationTime,r(s,Y);else break;Y=v(c)}}function b(Q){if(h=!1,_(Q),!i)if(v(s)!==null)i=!0,W(T);else{var Y=v(c);Y!==null&&J(b,Y.startTime-Q)}}function T(Q,Y){i=!1,h&&(h=!1,l(M),M=-1),a=!0;var z=o;try{for(_(Y),y=v(s);y!==null&&(!(y.expirationTime>Y)||Q&&!A());){var ee=y.callback;if(typeof ee=="function"){y.callback=null,o=y.priorityLevel;var ie=ee(y.expirationTime<=Y);Y=P.unstable_now(),typeof ie=="function"?y.callback=ie:y===v(s)&&t(s),_(Y)}else t(s);y=v(s)}if(y!==null)var C=!0;else{var B=v(c);B!==null&&J(b,B.startTime-Y),C=!1}return C}finally{y=null,o=z,a=!1}}var O=!1,k=null,M=-1,I=5,F=-1;function A(){return!(P.unstable_now()-F<I)}function U(){if(k!==null){var Q=P.unstable_now();F=Q;var Y=!0;try{Y=k(!0,Q)}finally{Y?D():(O=!1,k=null)}}else O=!1}var D;if(typeof m=="function")D=function(){m(U)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,G=V.port2;V.port1.onmessage=U,D=function(){G.postMessage(null)}}else D=function(){p(U,0)};function W(Q){k=Q,O||(O=!0,D())}function J(Q,Y){M=p(function(){Q(P.unstable_now())},Y)}P.unstable_IdlePriority=5,P.unstable_ImmediatePriority=1,P.unstable_LowPriority=4,P.unstable_NormalPriority=3,P.unstable_Profiling=null,P.unstable_UserBlockingPriority=2,P.unstable_cancelCallback=function(Q){Q.callback=null},P.unstable_continueExecution=function(){i||a||(i=!0,W(T))},P.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<Q?Math.floor(1e3/Q):5},P.unstable_getCurrentPriorityLevel=function(){return o},P.unstable_getFirstCallbackNode=function(){return v(s)},P.unstable_next=function(Q){switch(o){case 1:case 2:case 3:var Y=3;break;default:Y=o}var z=o;o=Y;try{return Q()}finally{o=z}},P.unstable_pauseExecution=function(){},P.unstable_requestPaint=function(){},P.unstable_runWithPriority=function(Q,Y){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var z=o;o=Q;try{return Y()}finally{o=z}},P.unstable_scheduleCallback=function(Q,Y,z){var ee=P.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?ee+z:ee):z=ee,Q){case 1:var ie=-1;break;case 2:ie=250;break;case 5:ie=1073741823;break;case 4:ie=1e4;break;default:ie=5e3}return ie=z+ie,Q={id:g++,callback:Y,priorityLevel:Q,startTime:z,expirationTime:ie,sortIndex:-1},z>ee?(Q.sortIndex=z,r(c,Q),v(s)===null&&Q===v(c)&&(h?(l(M),M=-1):h=!0,J(b,z-ee))):(Q.sortIndex=ie,r(s,Q),i||a||(i=!0,W(T))),Q},P.unstable_shouldYield=A,P.unstable_wrapCallback=function(Q){var Y=o;return function(){var z=o;o=Y;try{return Q.apply(this,arguments)}finally{o=z}}}}(xh)),xh}var Dp;function _g(){return Dp||(Dp=1,wh.exports=vg()),wh.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lp;function bg(){if(Lp)return kn;Lp=1;var P=Dh(),r=_g();function v(n){for(var u="https://reactjs.org/docs/error-decoder.html?invariant="+n,S=1;S<arguments.length;S++)u+="&args[]="+encodeURIComponent(arguments[S]);return"Minified React error #"+n+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var t=new Set,j={};function x(n,u){d(n,u),d(n+"Capture",u)}function d(n,u){for(j[n]=u,n=0;n<u.length;n++)t.add(u[n])}var f=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),s=Object.prototype.hasOwnProperty,c=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g={},y={};function o(n){return s.call(y,n)?!0:s.call(g,n)?!1:c.test(n)?y[n]=!0:(g[n]=!0,!1)}function a(n,u,S,L){if(S!==null&&S.type===0)return!1;switch(typeof u){case"function":case"symbol":return!0;case"boolean":return L?!1:S!==null?!S.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function i(n,u,S,L){if(u===null||typeof u>"u"||a(n,u,S,L))return!0;if(L)return!1;if(S!==null)switch(S.type){case 3:return!u;case 4:return u===!1;case 5:return isNaN(u);case 6:return isNaN(u)||1>u}return!1}function h(n,u,S,L,X,Z,ue){this.acceptsBooleans=u===2||u===3||u===4,this.attributeName=L,this.attributeNamespace=X,this.mustUseProperty=S,this.propertyName=n,this.type=u,this.sanitizeURL=Z,this.removeEmptyString=ue}var p={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){p[n]=new h(n,0,!1,n,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var u=n[0];p[u]=new h(u,1,!1,n[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(n){p[n]=new h(n,2,!1,n.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){p[n]=new h(n,2,!1,n,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){p[n]=new h(n,3,!1,n.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(n){p[n]=new h(n,3,!0,n,null,!1,!1)}),["capture","download"].forEach(function(n){p[n]=new h(n,4,!1,n,null,!1,!1)}),["cols","rows","size","span"].forEach(function(n){p[n]=new h(n,6,!1,n,null,!1,!1)}),["rowSpan","start"].forEach(function(n){p[n]=new h(n,5,!1,n.toLowerCase(),null,!1,!1)});var l=/[\-:]([a-z])/g;function m(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var u=n.replace(l,m);p[u]=new h(u,1,!1,n,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var u=n.replace(l,m);p[u]=new h(u,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(n){var u=n.replace(l,m);p[u]=new h(u,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(n){p[n]=new h(n,1,!1,n.toLowerCase(),null,!1,!1)}),p.xlinkHref=new h("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(n){p[n]=new h(n,1,!1,n.toLowerCase(),null,!0,!0)});function _(n,u,S,L){var X=p.hasOwnProperty(u)?p[u]:null;(X!==null?X.type!==0:L||!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(i(u,S,X,L)&&(S=null),L||X===null?o(u)&&(S===null?n.removeAttribute(u):n.setAttribute(u,""+S)):X.mustUseProperty?n[X.propertyName]=S===null?X.type===3?!1:"":S:(u=X.attributeName,L=X.attributeNamespace,S===null?n.removeAttribute(u):(X=X.type,S=X===3||X===4&&S===!0?"":""+S,L?n.setAttributeNS(L,u,S):n.setAttribute(u,S))))}var b=P.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,T=Symbol.for("react.element"),O=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),M=Symbol.for("react.strict_mode"),I=Symbol.for("react.profiler"),F=Symbol.for("react.provider"),A=Symbol.for("react.context"),U=Symbol.for("react.forward_ref"),D=Symbol.for("react.suspense"),V=Symbol.for("react.suspense_list"),G=Symbol.for("react.memo"),W=Symbol.for("react.lazy"),J=Symbol.for("react.offscreen"),Q=Symbol.iterator;function Y(n){return n===null||typeof n!="object"?null:(n=Q&&n[Q]||n["@@iterator"],typeof n=="function"?n:null)}var z=Object.assign,ee;function ie(n){if(ee===void 0)try{throw Error()}catch(S){var u=S.stack.trim().match(/\n( *(at )?)/);ee=u&&u[1]||""}return`
`+ee+n}var C=!1;function B(n,u){if(!n||C)return"";C=!0;var S=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(u)if(u=function(){throw Error()},Object.defineProperty(u.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(u,[])}catch(He){var L=He}Reflect.construct(n,[],u)}else{try{u.call()}catch(He){L=He}n.call(u.prototype)}else{try{throw Error()}catch(He){L=He}n()}}catch(He){if(He&&L&&typeof He.stack=="string"){for(var X=He.stack.split(`
`),Z=L.stack.split(`
`),ue=X.length-1,Se=Z.length-1;1<=ue&&0<=Se&&X[ue]!==Z[Se];)Se--;for(;1<=ue&&0<=Se;ue--,Se--)if(X[ue]!==Z[Se]){if(ue!==1||Se!==1)do if(ue--,Se--,0>Se||X[ue]!==Z[Se]){var Ce=`
`+X[ue].replace(" at new "," at ");return n.displayName&&Ce.includes("<anonymous>")&&(Ce=Ce.replace("<anonymous>",n.displayName)),Ce}while(1<=ue&&0<=Se);break}}}finally{C=!1,Error.prepareStackTrace=S}return(n=n?n.displayName||n.name:"")?ie(n):""}function H(n){switch(n.tag){case 5:return ie(n.type);case 16:return ie("Lazy");case 13:return ie("Suspense");case 19:return ie("SuspenseList");case 0:case 2:case 15:return n=B(n.type,!1),n;case 11:return n=B(n.type.render,!1),n;case 1:return n=B(n.type,!0),n;default:return""}}function $(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case k:return"Fragment";case O:return"Portal";case I:return"Profiler";case M:return"StrictMode";case D:return"Suspense";case V:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case A:return(n.displayName||"Context")+".Consumer";case F:return(n._context.displayName||"Context")+".Provider";case U:var u=n.render;return n=n.displayName,n||(n=u.displayName||u.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case G:return u=n.displayName||null,u!==null?u:$(n.type)||"Memo";case W:u=n._payload,n=n._init;try{return $(n(u))}catch{}}return null}function ne(n){var u=n.type;switch(n.tag){case 24:return"Cache";case 9:return(u.displayName||"Context")+".Consumer";case 10:return(u._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=u.render,n=n.displayName||n.name||"",u.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return u;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return $(u);case 8:return u===M?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof u=="function")return u.displayName||u.name||null;if(typeof u=="string")return u}return null}function se(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function de(n){var u=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(u==="checkbox"||u==="radio")}function _e(n){var u=de(n)?"checked":"value",S=Object.getOwnPropertyDescriptor(n.constructor.prototype,u),L=""+n[u];if(!n.hasOwnProperty(u)&&typeof S<"u"&&typeof S.get=="function"&&typeof S.set=="function"){var X=S.get,Z=S.set;return Object.defineProperty(n,u,{configurable:!0,get:function(){return X.call(this)},set:function(ue){L=""+ue,Z.call(this,ue)}}),Object.defineProperty(n,u,{enumerable:S.enumerable}),{getValue:function(){return L},setValue:function(ue){L=""+ue},stopTracking:function(){n._valueTracker=null,delete n[u]}}}}function pe(n){n._valueTracker||(n._valueTracker=_e(n))}function ge(n){if(!n)return!1;var u=n._valueTracker;if(!u)return!0;var S=u.getValue(),L="";return n&&(L=de(n)?n.checked?"true":"false":n.value),n=L,n!==S?(u.setValue(n),!0):!1}function ve(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function le(n,u){var S=u.checked;return z({},u,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:S??n._wrapperState.initialChecked})}function he(n,u){var S=u.defaultValue==null?"":u.defaultValue,L=u.checked!=null?u.checked:u.defaultChecked;S=se(u.value!=null?u.value:S),n._wrapperState={initialChecked:L,initialValue:S,controlled:u.type==="checkbox"||u.type==="radio"?u.checked!=null:u.value!=null}}function be(n,u){u=u.checked,u!=null&&_(n,"checked",u,!1)}function Ae(n,u){be(n,u);var S=se(u.value),L=u.type;if(S!=null)L==="number"?(S===0&&n.value===""||n.value!=S)&&(n.value=""+S):n.value!==""+S&&(n.value=""+S);else if(L==="submit"||L==="reset"){n.removeAttribute("value");return}u.hasOwnProperty("value")?Te(n,u.type,S):u.hasOwnProperty("defaultValue")&&Te(n,u.type,se(u.defaultValue)),u.checked==null&&u.defaultChecked!=null&&(n.defaultChecked=!!u.defaultChecked)}function je(n,u,S){if(u.hasOwnProperty("value")||u.hasOwnProperty("defaultValue")){var L=u.type;if(!(L!=="submit"&&L!=="reset"||u.value!==void 0&&u.value!==null))return;u=""+n._wrapperState.initialValue,S||u===n.value||(n.value=u),n.defaultValue=u}S=n.name,S!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,S!==""&&(n.name=S)}function Te(n,u,S){(u!=="number"||ve(n.ownerDocument)!==n)&&(S==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+S&&(n.defaultValue=""+S))}var Me=Array.isArray;function qe(n,u,S,L){if(n=n.options,u){u={};for(var X=0;X<S.length;X++)u["$"+S[X]]=!0;for(S=0;S<n.length;S++)X=u.hasOwnProperty("$"+n[S].value),n[S].selected!==X&&(n[S].selected=X),X&&L&&(n[S].defaultSelected=!0)}else{for(S=""+se(S),u=null,X=0;X<n.length;X++){if(n[X].value===S){n[X].selected=!0,L&&(n[X].defaultSelected=!0);return}u!==null||n[X].disabled||(u=n[X])}u!==null&&(u.selected=!0)}}function Ne(n,u){if(u.dangerouslySetInnerHTML!=null)throw Error(v(91));return z({},u,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function ct(n,u){var S=u.value;if(S==null){if(S=u.children,u=u.defaultValue,S!=null){if(u!=null)throw Error(v(92));if(Me(S)){if(1<S.length)throw Error(v(93));S=S[0]}u=S}u==null&&(u=""),S=u}n._wrapperState={initialValue:se(S)}}function nt(n,u){var S=se(u.value),L=se(u.defaultValue);S!=null&&(S=""+S,S!==n.value&&(n.value=S),u.defaultValue==null&&n.defaultValue!==S&&(n.defaultValue=S)),L!=null&&(n.defaultValue=""+L)}function ot(n){var u=n.textContent;u===n._wrapperState.initialValue&&u!==""&&u!==null&&(n.value=u)}function ut(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function at(n,u){return n==null||n==="http://www.w3.org/1999/xhtml"?ut(u):n==="http://www.w3.org/2000/svg"&&u==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var Oe,Xe=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(u,S,L,X){MSApp.execUnsafeLocalFunction(function(){return n(u,S,L,X)})}:n}(function(n,u){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=u;else{for(Oe=Oe||document.createElement("div"),Oe.innerHTML="<svg>"+u.valueOf().toString()+"</svg>",u=Oe.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;u.firstChild;)n.appendChild(u.firstChild)}});function De(n,u){if(u){var S=n.firstChild;if(S&&S===n.lastChild&&S.nodeType===3){S.nodeValue=u;return}}n.textContent=u}var oe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ce=["Webkit","ms","Moz","O"];Object.keys(oe).forEach(function(n){ce.forEach(function(u){u=u+n.charAt(0).toUpperCase()+n.substring(1),oe[u]=oe[n]})});function re(n,u,S){return u==null||typeof u=="boolean"||u===""?"":S||typeof u!="number"||u===0||oe.hasOwnProperty(n)&&oe[n]?(""+u).trim():u+"px"}function fe(n,u){n=n.style;for(var S in u)if(u.hasOwnProperty(S)){var L=S.indexOf("--")===0,X=re(S,u[S],L);S==="float"&&(S="cssFloat"),L?n.setProperty(S,X):n[S]=X}}var ke=z({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ie(n,u){if(u){if(ke[n]&&(u.children!=null||u.dangerouslySetInnerHTML!=null))throw Error(v(137,n));if(u.dangerouslySetInnerHTML!=null){if(u.children!=null)throw Error(v(60));if(typeof u.dangerouslySetInnerHTML!="object"||!("__html"in u.dangerouslySetInnerHTML))throw Error(v(61))}if(u.style!=null&&typeof u.style!="object")throw Error(v(62))}}function ze(n,u){if(n.indexOf("-")===-1)return typeof u.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Je=null;function rt(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var st=null,lt=null,Ct=null;function kt(n){if(n=wa(n)){if(typeof st!="function")throw Error(v(280));var u=n.stateNode;u&&(u=jl(u),st(n.stateNode,n.type,u))}}function mt(n){lt?Ct?Ct.push(n):Ct=[n]:lt=n}function Mt(){if(lt){var n=lt,u=Ct;if(Ct=lt=null,kt(n),u)for(n=0;n<u.length;n++)kt(u[n])}}function St(n,u){return n(u)}function Zt(){}var Rr=!1;function wr(n,u,S){if(Rr)return n(u,S);Rr=!0;try{return St(n,u,S)}finally{Rr=!1,(lt!==null||Ct!==null)&&(Zt(),Mt())}}function Bt(n,u){var S=n.stateNode;if(S===null)return null;var L=jl(S);if(L===null)return null;S=L[u];e:switch(u){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(L=!L.disabled)||(n=n.type,L=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!L;break e;default:n=!1}if(n)return null;if(S&&typeof S!="function")throw Error(v(231,u,typeof S));return S}var Kt=!1;if(f)try{var Ft={};Object.defineProperty(Ft,"passive",{get:function(){Kt=!0}}),window.addEventListener("test",Ft,Ft),window.removeEventListener("test",Ft,Ft)}catch{Kt=!1}function Gr(n,u,S,L,X,Z,ue,Se,Ce){var He=Array.prototype.slice.call(arguments,3);try{u.apply(S,He)}catch(et){this.onError(et)}}var gr=!1,Ht=null,Tr=!1,Os=null,Ro={onError:function(n){gr=!0,Ht=n}};function Io(n,u,S,L,X,Z,ue,Se,Ce){gr=!1,Ht=null,Gr.apply(Ro,arguments)}function yi(n,u,S,L,X,Z,ue,Se,Ce){if(Io.apply(this,arguments),gr){if(gr){var He=Ht;gr=!1,Ht=null}else throw Error(v(198));Tr||(Tr=!0,Os=He)}}function Cn(n){var u=n,S=n;if(n.alternate)for(;u.return;)u=u.return;else{n=u;do u=n,(u.flags&4098)!==0&&(S=u.return),n=u.return;while(n)}return u.tag===3?S:null}function Qs(n){if(n.tag===13){var u=n.memoizedState;if(u===null&&(n=n.alternate,n!==null&&(u=n.memoizedState)),u!==null)return u.dehydrated}return null}function xe(n){if(Cn(n)!==n)throw Error(v(188))}function Ze(n){var u=n.alternate;if(!u){if(u=Cn(n),u===null)throw Error(v(188));return u!==n?null:n}for(var S=n,L=u;;){var X=S.return;if(X===null)break;var Z=X.alternate;if(Z===null){if(L=X.return,L!==null){S=L;continue}break}if(X.child===Z.child){for(Z=X.child;Z;){if(Z===S)return xe(X),n;if(Z===L)return xe(X),u;Z=Z.sibling}throw Error(v(188))}if(S.return!==L.return)S=X,L=Z;else{for(var ue=!1,Se=X.child;Se;){if(Se===S){ue=!0,S=X,L=Z;break}if(Se===L){ue=!0,L=X,S=Z;break}Se=Se.sibling}if(!ue){for(Se=Z.child;Se;){if(Se===S){ue=!0,S=Z,L=X;break}if(Se===L){ue=!0,L=Z,S=X;break}Se=Se.sibling}if(!ue)throw Error(v(189))}}if(S.alternate!==L)throw Error(v(190))}if(S.tag!==3)throw Error(v(188));return S.stateNode.current===S?n:u}function dt(n){return n=Ze(n),n!==null?$e(n):null}function $e(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var u=$e(n);if(u!==null)return u;n=n.sibling}return null}var Nt=r.unstable_scheduleCallback,Qe=r.unstable_cancelCallback,Gt=r.unstable_shouldYield,ht=r.unstable_requestPaint,Tt=r.unstable_now,ft=r.unstable_getCurrentPriorityLevel,hr=r.unstable_ImmediatePriority,kr=r.unstable_UserBlockingPriority,or=r.unstable_NormalPriority,Ir=r.unstable_LowPriority,Mn=r.unstable_IdlePriority,Xr=null,Or=null;function Dr(n){if(Or&&typeof Or.onCommitFiberRoot=="function")try{Or.onCommitFiberRoot(Xr,n,void 0,(n.current.flags&128)===128)}catch{}}var gn=Math.clz32?Math.clz32:gi,On=Math.log,$s=Math.LN2;function gi(n){return n>>>=0,n===0?32:31-(On(n)/$s|0)|0}var Do=64,Lo=4194304;function Js(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function Zs(n,u){var S=n.pendingLanes;if(S===0)return 0;var L=0,X=n.suspendedLanes,Z=n.pingedLanes,ue=S&268435455;if(ue!==0){var Se=ue&~X;Se!==0?L=Js(Se):(Z&=ue,Z!==0&&(L=Js(Z)))}else ue=S&~X,ue!==0?L=Js(ue):Z!==0&&(L=Js(Z));if(L===0)return 0;if(u!==0&&u!==L&&(u&X)===0&&(X=L&-L,Z=u&-u,X>=Z||X===16&&(Z&4194240)!==0))return u;if((L&4)!==0&&(L|=S&16),u=n.entangledLanes,u!==0)for(n=n.entanglements,u&=L;0<u;)S=31-gn(u),X=1<<S,L|=n[S],u&=~X;return L}function il(n,u){switch(n){case 1:case 2:case 4:return u+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function al(n,u){for(var S=n.suspendedLanes,L=n.pingedLanes,X=n.expirationTimes,Z=n.pendingLanes;0<Z;){var ue=31-gn(Z),Se=1<<ue,Ce=X[ue];Ce===-1?((Se&S)===0||(Se&L)!==0)&&(X[ue]=il(Se,u)):Ce<=u&&(n.expiredLanes|=Se),Z&=~Se}}function vi(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function ll(){var n=Do;return Do<<=1,(Do&4194240)===0&&(Do=64),n}function No(n){for(var u=[],S=0;31>S;S++)u.push(n);return u}function Ks(n,u,S){n.pendingLanes|=u,u!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,u=31-gn(u),n[u]=S}function ul(n,u){var S=n.pendingLanes&~u;n.pendingLanes=u,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=u,n.mutableReadLanes&=u,n.entangledLanes&=u,u=n.entanglements;var L=n.eventTimes;for(n=n.expirationTimes;0<S;){var X=31-gn(S),Z=1<<X;u[X]=0,L[X]=-1,n[X]=-1,S&=~Z}}function eo(n,u){var S=n.entangledLanes|=u;for(n=n.entanglements;S;){var L=31-gn(S),X=1<<L;X&u|n[L]&u&&(n[L]|=u),S&=~X}}var zt=0;function An(n){return n&=-n,1<n?4<n?(n&268435455)!==0?16:536870912:4:1}var la,_i,As,ua,cl,Fo=!1,Uo=[],ys=null,Zn=null,Kn=null,Bo=new Map,to=new Map,gs=[],Wu="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function hl(n,u){switch(n){case"focusin":case"focusout":ys=null;break;case"dragenter":case"dragleave":Zn=null;break;case"mouseover":case"mouseout":Kn=null;break;case"pointerover":case"pointerout":Bo.delete(u.pointerId);break;case"gotpointercapture":case"lostpointercapture":to.delete(u.pointerId)}}function Vo(n,u,S,L,X,Z){return n===null||n.nativeEvent!==Z?(n={blockedOn:u,domEventName:S,eventSystemFlags:L,nativeEvent:Z,targetContainers:[X]},u!==null&&(u=wa(u),u!==null&&_i(u)),n):(n.eventSystemFlags|=L,u=n.targetContainers,X!==null&&u.indexOf(X)===-1&&u.push(X),n)}function dl(n,u,S,L,X){switch(u){case"focusin":return ys=Vo(ys,n,u,S,L,X),!0;case"dragenter":return Zn=Vo(Zn,n,u,S,L,X),!0;case"mouseover":return Kn=Vo(Kn,n,u,S,L,X),!0;case"pointerover":var Z=X.pointerId;return Bo.set(Z,Vo(Bo.get(Z)||null,n,u,S,L,X)),!0;case"gotpointercapture":return Z=X.pointerId,to.set(Z,Vo(to.get(Z)||null,n,u,S,L,X)),!0}return!1}function Pn(n){var u=Qo(n.target);if(u!==null){var S=Cn(u);if(S!==null){if(u=S.tag,u===13){if(u=Qs(S),u!==null){n.blockedOn=u,cl(n.priority,function(){As(S)});return}}else if(u===3&&S.stateNode.current.memoizedState.isDehydrated){n.blockedOn=S.tag===3?S.stateNode.containerInfo:null;return}}}n.blockedOn=null}function vn(n){if(n.blockedOn!==null)return!1;for(var u=n.targetContainers;0<u.length;){var S=xi(n.domEventName,n.eventSystemFlags,u[0],n.nativeEvent);if(S===null){S=n.nativeEvent;var L=new S.constructor(S.type,S);Je=L,S.target.dispatchEvent(L),Je=null}else return u=wa(S),u!==null&&_i(u),n.blockedOn=S,!1;u.shift()}return!0}function ro(n,u,S){vn(n)&&S.delete(u)}function Go(){Fo=!1,ys!==null&&vn(ys)&&(ys=null),Zn!==null&&vn(Zn)&&(Zn=null),Kn!==null&&vn(Kn)&&(Kn=null),Bo.forEach(ro),to.forEach(ro)}function hn(n,u){n.blockedOn===u&&(n.blockedOn=null,Fo||(Fo=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Go)))}function es(n){function u(X){return hn(X,n)}if(0<Uo.length){hn(Uo[0],n);for(var S=1;S<Uo.length;S++){var L=Uo[S];L.blockedOn===n&&(L.blockedOn=null)}}for(ys!==null&&hn(ys,n),Zn!==null&&hn(Zn,n),Kn!==null&&hn(Kn,n),Bo.forEach(u),to.forEach(u),S=0;S<gs.length;S++)L=gs[S],L.blockedOn===n&&(L.blockedOn=null);for(;0<gs.length&&(S=gs[0],S.blockedOn===null);)Pn(S),S.blockedOn===null&&gs.shift()}var no=b.ReactCurrentBatchConfig,Rn=!0;function bi(n,u,S,L){var X=zt,Z=no.transition;no.transition=null;try{zt=1,wi(n,u,S,L)}finally{zt=X,no.transition=Z}}function fl(n,u,S,L){var X=zt,Z=no.transition;no.transition=null;try{zt=4,wi(n,u,S,L)}finally{zt=X,no.transition=Z}}function wi(n,u,S,L){if(Rn){var X=xi(n,u,S,L);if(X===null)lc(n,u,L,zo,S),hl(n,L);else if(dl(X,n,u,S,L))L.stopPropagation();else if(hl(n,L),u&4&&-1<Wu.indexOf(n)){for(;X!==null;){var Z=wa(X);if(Z!==null&&la(Z),Z=xi(n,u,S,L),Z===null&&lc(n,u,L,zo,S),Z===X)break;X=Z}X!==null&&L.stopPropagation()}else lc(n,u,L,null,S)}}var zo=null;function xi(n,u,S,L){if(zo=null,n=rt(L),n=Qo(n),n!==null)if(u=Cn(n),u===null)n=null;else if(S=u.tag,S===13){if(n=Qs(u),n!==null)return n;n=null}else if(S===3){if(u.stateNode.current.memoizedState.isDehydrated)return u.tag===3?u.stateNode.containerInfo:null;n=null}else u!==n&&(n=null);return zo=n,null}function ca(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ft()){case hr:return 1;case kr:return 4;case or:case Ir:return 16;case Mn:return 536870912;default:return 16}default:return 16}}var ts=null,Ho=null,Wo=null;function ha(){if(Wo)return Wo;var n,u=Ho,S=u.length,L,X="value"in ts?ts.value:ts.textContent,Z=X.length;for(n=0;n<S&&u[n]===X[n];n++);var ue=S-n;for(L=1;L<=ue&&u[S-L]===X[Z-L];L++);return Wo=X.slice(n,1<L?1-L:void 0)}function qo(n){var u=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&u===13&&(n=13)):n=u,n===10&&(n=13),32<=n||n===13?n:0}function Xo(){return!0}function da(){return!1}function sn(n){function u(S,L,X,Z,ue){this._reactName=S,this._targetInst=X,this.type=L,this.nativeEvent=Z,this.target=ue,this.currentTarget=null;for(var Se in n)n.hasOwnProperty(Se)&&(S=n[Se],this[Se]=S?S(Z):Z[Se]);return this.isDefaultPrevented=(Z.defaultPrevented!=null?Z.defaultPrevented:Z.returnValue===!1)?Xo:da,this.isPropagationStopped=da,this}return z(u.prototype,{preventDefault:function(){this.defaultPrevented=!0;var S=this.nativeEvent;S&&(S.preventDefault?S.preventDefault():typeof S.returnValue!="unknown"&&(S.returnValue=!1),this.isDefaultPrevented=Xo)},stopPropagation:function(){var S=this.nativeEvent;S&&(S.stopPropagation?S.stopPropagation():typeof S.cancelBubble!="unknown"&&(S.cancelBubble=!0),this.isPropagationStopped=Xo)},persist:function(){},isPersistent:Xo}),u}var Ps={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ji=sn(Ps),so=z({},Ps,{view:0,detail:0}),fa=sn(so),oo,Yo,io,In=z({},so,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:pa,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==io&&(io&&n.type==="mousemove"?(oo=n.screenX-io.screenX,Yo=n.screenY-io.screenY):Yo=oo=0,io=n),oo)},movementY:function(n){return"movementY"in n?n.movementY:Yo}}),rs=sn(In),yt=z({},In,{dataTransfer:0}),qu=sn(yt),pl=z({},so,{relatedTarget:0}),vs=sn(pl),Xu=z({},Ps,{animationName:0,elapsedTime:0,pseudoElement:0}),Yu=sn(Xu),er=z({},Ps,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),ml=sn(er),Qu=z({},Ps,{data:0}),_n=sn(Qu),$u={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ju={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Zu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ku(n){var u=this.nativeEvent;return u.getModifierState?u.getModifierState(n):(n=Zu[n])?!!u[n]:!1}function pa(){return Ku}var ec=z({},so,{key:function(n){if(n.key){var u=$u[n.key]||n.key;if(u!=="Unidentified")return u}return n.type==="keypress"?(n=qo(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?Ju[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:pa,charCode:function(n){return n.type==="keypress"?qo(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?qo(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),yl=sn(ec),Er=z({},In,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Si=sn(Er),w=z({},so,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:pa}),E=sn(w),R=z({},Ps,{propertyName:0,elapsedTime:0,pseudoElement:0}),N=sn(R),q=z({},In,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),K=sn(q),te=[9,13,27,32],ae=f&&"CompositionEvent"in window,me=null;f&&"documentMode"in document&&(me=document.documentMode);var ye=f&&"TextEvent"in window&&!me,Ee=f&&(!ae||me&&8<me&&11>=me),Le=" ",Pe=!1;function we(n,u){switch(n){case"keyup":return te.indexOf(u.keyCode)!==-1;case"keydown":return u.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ye(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Be=!1;function We(n,u){switch(n){case"compositionend":return Ye(u);case"keypress":return u.which!==32?null:(Pe=!0,Le);case"textInput":return n=u.data,n===Le&&Pe?null:n;default:return null}}function Fe(n,u){if(Be)return n==="compositionend"||!ae&&we(n,u)?(n=ha(),Wo=Ho=ts=null,Be=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(u.ctrlKey||u.altKey||u.metaKey)||u.ctrlKey&&u.altKey){if(u.char&&1<u.char.length)return u.char;if(u.which)return String.fromCharCode(u.which)}return null;case"compositionend":return Ee&&u.locale!=="ko"?null:u.data;default:return null}}var Ue={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function bt(n){var u=n&&n.nodeName&&n.nodeName.toLowerCase();return u==="input"?!!Ue[n.type]:u==="textarea"}function Rt(n,u,S,L){mt(L),u=bl(u,"onChange"),0<u.length&&(S=new ji("onChange","change",null,S,L),n.push({event:S,listeners:u}))}var gt=null,_t=null;function Lt(n){Hd(n,0)}function Yt(n){var u=Mi(n);if(ge(u))return n}function vr(n,u){if(n==="change")return u}var xr=!1;if(f){var Lr;if(f){var Nr="oninput"in document;if(!Nr){var bn=document.createElement("div");bn.setAttribute("oninput","return;"),Nr=typeof bn.oninput=="function"}Lr=Nr}else Lr=!1;xr=Lr&&(!document.documentMode||9<document.documentMode)}function $t(){gt&&(gt.detachEvent("onpropertychange",rr),_t=gt=null)}function rr(n){if(n.propertyName==="value"&&Yt(_t)){var u=[];Rt(u,_t,n,rt(n)),wr(Lt,u)}}function Qt(n,u,S){n==="focusin"?($t(),gt=u,_t=S,gt.attachEvent("onpropertychange",rr)):n==="focusout"&&$t()}function Yr(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Yt(_t)}function dr(n,u){if(n==="click")return Yt(u)}function zr(n,u){if(n==="input"||n==="change")return Yt(u)}function ir(n,u){return n===u&&(n!==0||1/n===1/u)||n!==n&&u!==u}var Jt=typeof Object.is=="function"?Object.is:ir;function ns(n,u){if(Jt(n,u))return!0;if(typeof n!="object"||n===null||typeof u!="object"||u===null)return!1;var S=Object.keys(n),L=Object.keys(u);if(S.length!==L.length)return!1;for(L=0;L<S.length;L++){var X=S[L];if(!s.call(u,X)||!Jt(n[X],u[X]))return!1}return!0}function Rs(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function ma(n,u){var S=Rs(n);n=0;for(var L;S;){if(S.nodeType===3){if(L=n+S.textContent.length,n<=u&&L>=u)return{node:S,offset:u-n};n=L}e:{for(;S;){if(S.nextSibling){S=S.nextSibling;break e}S=S.parentNode}S=void 0}S=Rs(S)}}function Rd(n,u){return n&&u?n===u?!0:n&&n.nodeType===3?!1:u&&u.nodeType===3?Rd(n,u.parentNode):"contains"in n?n.contains(u):n.compareDocumentPosition?!!(n.compareDocumentPosition(u)&16):!1:!1}function Id(){for(var n=window,u=ve();u instanceof n.HTMLIFrameElement;){try{var S=typeof u.contentWindow.location.href=="string"}catch{S=!1}if(S)n=u.contentWindow;else break;u=ve(n.document)}return u}function tc(n){var u=n&&n.nodeName&&n.nodeName.toLowerCase();return u&&(u==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||u==="textarea"||n.contentEditable==="true")}function by(n){var u=Id(),S=n.focusedElem,L=n.selectionRange;if(u!==S&&S&&S.ownerDocument&&Rd(S.ownerDocument.documentElement,S)){if(L!==null&&tc(S)){if(u=L.start,n=L.end,n===void 0&&(n=u),"selectionStart"in S)S.selectionStart=u,S.selectionEnd=Math.min(n,S.value.length);else if(n=(u=S.ownerDocument||document)&&u.defaultView||window,n.getSelection){n=n.getSelection();var X=S.textContent.length,Z=Math.min(L.start,X);L=L.end===void 0?Z:Math.min(L.end,X),!n.extend&&Z>L&&(X=L,L=Z,Z=X),X=ma(S,Z);var ue=ma(S,L);X&&ue&&(n.rangeCount!==1||n.anchorNode!==X.node||n.anchorOffset!==X.offset||n.focusNode!==ue.node||n.focusOffset!==ue.offset)&&(u=u.createRange(),u.setStart(X.node,X.offset),n.removeAllRanges(),Z>L?(n.addRange(u),n.extend(ue.node,ue.offset)):(u.setEnd(ue.node,ue.offset),n.addRange(u)))}}for(u=[],n=S;n=n.parentNode;)n.nodeType===1&&u.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<u.length;S++)n=u[S],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var wy=f&&"documentMode"in document&&11>=document.documentMode,Ti=null,rc=null,ya=null,nc=!1;function Dd(n,u,S){var L=S.window===S?S.document:S.nodeType===9?S:S.ownerDocument;nc||Ti==null||Ti!==ve(L)||(L=Ti,"selectionStart"in L&&tc(L)?L={start:L.selectionStart,end:L.selectionEnd}:(L=(L.ownerDocument&&L.ownerDocument.defaultView||window).getSelection(),L={anchorNode:L.anchorNode,anchorOffset:L.anchorOffset,focusNode:L.focusNode,focusOffset:L.focusOffset}),ya&&ns(ya,L)||(ya=L,L=bl(rc,"onSelect"),0<L.length&&(u=new ji("onSelect","select",null,u,S),n.push({event:u,listeners:L}),u.target=Ti)))}function gl(n,u){var S={};return S[n.toLowerCase()]=u.toLowerCase(),S["Webkit"+n]="webkit"+u,S["Moz"+n]="moz"+u,S}var ki={animationend:gl("Animation","AnimationEnd"),animationiteration:gl("Animation","AnimationIteration"),animationstart:gl("Animation","AnimationStart"),transitionend:gl("Transition","TransitionEnd")},sc={},Ld={};f&&(Ld=document.createElement("div").style,"AnimationEvent"in window||(delete ki.animationend.animation,delete ki.animationiteration.animation,delete ki.animationstart.animation),"TransitionEvent"in window||delete ki.transitionend.transition);function vl(n){if(sc[n])return sc[n];if(!ki[n])return n;var u=ki[n],S;for(S in u)if(u.hasOwnProperty(S)&&S in Ld)return sc[n]=u[S];return n}var Nd=vl("animationend"),Fd=vl("animationiteration"),Ud=vl("animationstart"),Bd=vl("transitionend"),Vd=new Map,Gd="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ao(n,u){Vd.set(n,u),x(u,[n])}for(var oc=0;oc<Gd.length;oc++){var ic=Gd[oc],xy=ic.toLowerCase(),jy=ic[0].toUpperCase()+ic.slice(1);ao(xy,"on"+jy)}ao(Nd,"onAnimationEnd"),ao(Fd,"onAnimationIteration"),ao(Ud,"onAnimationStart"),ao("dblclick","onDoubleClick"),ao("focusin","onFocus"),ao("focusout","onBlur"),ao(Bd,"onTransitionEnd"),d("onMouseEnter",["mouseout","mouseover"]),d("onMouseLeave",["mouseout","mouseover"]),d("onPointerEnter",["pointerout","pointerover"]),d("onPointerLeave",["pointerout","pointerover"]),x("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),x("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),x("onBeforeInput",["compositionend","keypress","textInput","paste"]),x("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),x("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),x("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ga="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Sy=new Set("cancel close invalid load scroll toggle".split(" ").concat(ga));function zd(n,u,S){var L=n.type||"unknown-event";n.currentTarget=S,yi(L,u,void 0,n),n.currentTarget=null}function Hd(n,u){u=(u&4)!==0;for(var S=0;S<n.length;S++){var L=n[S],X=L.event;L=L.listeners;e:{var Z=void 0;if(u)for(var ue=L.length-1;0<=ue;ue--){var Se=L[ue],Ce=Se.instance,He=Se.currentTarget;if(Se=Se.listener,Ce!==Z&&X.isPropagationStopped())break e;zd(X,Se,He),Z=Ce}else for(ue=0;ue<L.length;ue++){if(Se=L[ue],Ce=Se.instance,He=Se.currentTarget,Se=Se.listener,Ce!==Z&&X.isPropagationStopped())break e;zd(X,Se,He),Z=Ce}}}if(Tr)throw n=Os,Tr=!1,Os=null,n}function fr(n,u){var S=u[pc];S===void 0&&(S=u[pc]=new Set);var L=n+"__bubble";S.has(L)||(Wd(u,n,2,!1),S.add(L))}function ac(n,u,S){var L=0;u&&(L|=4),Wd(S,n,L,u)}var _l="_reactListening"+Math.random().toString(36).slice(2);function va(n){if(!n[_l]){n[_l]=!0,t.forEach(function(S){S!=="selectionchange"&&(Sy.has(S)||ac(S,!1,n),ac(S,!0,n))});var u=n.nodeType===9?n:n.ownerDocument;u===null||u[_l]||(u[_l]=!0,ac("selectionchange",!1,u))}}function Wd(n,u,S,L){switch(ca(u)){case 1:var X=bi;break;case 4:X=fl;break;default:X=wi}S=X.bind(null,u,S,n),X=void 0,!Kt||u!=="touchstart"&&u!=="touchmove"&&u!=="wheel"||(X=!0),L?X!==void 0?n.addEventListener(u,S,{capture:!0,passive:X}):n.addEventListener(u,S,!0):X!==void 0?n.addEventListener(u,S,{passive:X}):n.addEventListener(u,S,!1)}function lc(n,u,S,L,X){var Z=L;if((u&1)===0&&(u&2)===0&&L!==null)e:for(;;){if(L===null)return;var ue=L.tag;if(ue===3||ue===4){var Se=L.stateNode.containerInfo;if(Se===X||Se.nodeType===8&&Se.parentNode===X)break;if(ue===4)for(ue=L.return;ue!==null;){var Ce=ue.tag;if((Ce===3||Ce===4)&&(Ce=ue.stateNode.containerInfo,Ce===X||Ce.nodeType===8&&Ce.parentNode===X))return;ue=ue.return}for(;Se!==null;){if(ue=Qo(Se),ue===null)return;if(Ce=ue.tag,Ce===5||Ce===6){L=Z=ue;continue e}Se=Se.parentNode}}L=L.return}wr(function(){var He=Z,et=rt(S),tt=[];e:{var Ke=Vd.get(n);if(Ke!==void 0){var pt=ji,wt=n;switch(n){case"keypress":if(qo(S)===0)break e;case"keydown":case"keyup":pt=yl;break;case"focusin":wt="focus",pt=vs;break;case"focusout":wt="blur",pt=vs;break;case"beforeblur":case"afterblur":pt=vs;break;case"click":if(S.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":pt=rs;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":pt=qu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":pt=E;break;case Nd:case Fd:case Ud:pt=Yu;break;case Bd:pt=N;break;case"scroll":pt=fa;break;case"wheel":pt=K;break;case"copy":case"cut":case"paste":pt=ml;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":pt=Si}var xt=(u&4)!==0,Ar=!xt&&n==="scroll",Ve=xt?Ke!==null?Ke+"Capture":null:Ke;xt=[];for(var Re=He,Ge;Re!==null;){Ge=Re;var it=Ge.stateNode;if(Ge.tag===5&&it!==null&&(Ge=it,Ve!==null&&(it=Bt(Re,Ve),it!=null&&xt.push(_a(Re,it,Ge)))),Ar)break;Re=Re.return}0<xt.length&&(Ke=new pt(Ke,wt,null,S,et),tt.push({event:Ke,listeners:xt}))}}if((u&7)===0){e:{if(Ke=n==="mouseover"||n==="pointerover",pt=n==="mouseout"||n==="pointerout",Ke&&S!==Je&&(wt=S.relatedTarget||S.fromElement)&&(Qo(wt)||wt[Is]))break e;if((pt||Ke)&&(Ke=et.window===et?et:(Ke=et.ownerDocument)?Ke.defaultView||Ke.parentWindow:window,pt?(wt=S.relatedTarget||S.toElement,pt=He,wt=wt?Qo(wt):null,wt!==null&&(Ar=Cn(wt),wt!==Ar||wt.tag!==5&&wt.tag!==6)&&(wt=null)):(pt=null,wt=He),pt!==wt)){if(xt=rs,it="onMouseLeave",Ve="onMouseEnter",Re="mouse",(n==="pointerout"||n==="pointerover")&&(xt=Si,it="onPointerLeave",Ve="onPointerEnter",Re="pointer"),Ar=pt==null?Ke:Mi(pt),Ge=wt==null?Ke:Mi(wt),Ke=new xt(it,Re+"leave",pt,S,et),Ke.target=Ar,Ke.relatedTarget=Ge,it=null,Qo(et)===He&&(xt=new xt(Ve,Re+"enter",wt,S,et),xt.target=Ge,xt.relatedTarget=Ar,it=xt),Ar=it,pt&&wt)t:{for(xt=pt,Ve=wt,Re=0,Ge=xt;Ge;Ge=Ei(Ge))Re++;for(Ge=0,it=Ve;it;it=Ei(it))Ge++;for(;0<Re-Ge;)xt=Ei(xt),Re--;for(;0<Ge-Re;)Ve=Ei(Ve),Ge--;for(;Re--;){if(xt===Ve||Ve!==null&&xt===Ve.alternate)break t;xt=Ei(xt),Ve=Ei(Ve)}xt=null}else xt=null;pt!==null&&qd(tt,Ke,pt,xt,!1),wt!==null&&Ar!==null&&qd(tt,Ar,wt,xt,!0)}}e:{if(Ke=He?Mi(He):window,pt=Ke.nodeName&&Ke.nodeName.toLowerCase(),pt==="select"||pt==="input"&&Ke.type==="file")var jt=vr;else if(bt(Ke))if(xr)jt=zr;else{jt=Yr;var Ot=Qt}else(pt=Ke.nodeName)&&pt.toLowerCase()==="input"&&(Ke.type==="checkbox"||Ke.type==="radio")&&(jt=dr);if(jt&&(jt=jt(n,He))){Rt(tt,jt,S,et);break e}Ot&&Ot(n,Ke,He),n==="focusout"&&(Ot=Ke._wrapperState)&&Ot.controlled&&Ke.type==="number"&&Te(Ke,"number",Ke.value)}switch(Ot=He?Mi(He):window,n){case"focusin":(bt(Ot)||Ot.contentEditable==="true")&&(Ti=Ot,rc=He,ya=null);break;case"focusout":ya=rc=Ti=null;break;case"mousedown":nc=!0;break;case"contextmenu":case"mouseup":case"dragend":nc=!1,Dd(tt,S,et);break;case"selectionchange":if(wy)break;case"keydown":case"keyup":Dd(tt,S,et)}var At;if(ae)e:{switch(n){case"compositionstart":var It="onCompositionStart";break e;case"compositionend":It="onCompositionEnd";break e;case"compositionupdate":It="onCompositionUpdate";break e}It=void 0}else Be?we(n,S)&&(It="onCompositionEnd"):n==="keydown"&&S.keyCode===229&&(It="onCompositionStart");It&&(Ee&&S.locale!=="ko"&&(Be||It!=="onCompositionStart"?It==="onCompositionEnd"&&Be&&(At=ha()):(ts=et,Ho="value"in ts?ts.value:ts.textContent,Be=!0)),Ot=bl(He,It),0<Ot.length&&(It=new _n(It,n,null,S,et),tt.push({event:It,listeners:Ot}),At?It.data=At:(At=Ye(S),At!==null&&(It.data=At)))),(At=ye?We(n,S):Fe(n,S))&&(He=bl(He,"onBeforeInput"),0<He.length&&(et=new _n("onBeforeInput","beforeinput",null,S,et),tt.push({event:et,listeners:He}),et.data=At))}Hd(tt,u)})}function _a(n,u,S){return{instance:n,listener:u,currentTarget:S}}function bl(n,u){for(var S=u+"Capture",L=[];n!==null;){var X=n,Z=X.stateNode;X.tag===5&&Z!==null&&(X=Z,Z=Bt(n,S),Z!=null&&L.unshift(_a(n,Z,X)),Z=Bt(n,u),Z!=null&&L.push(_a(n,Z,X))),n=n.return}return L}function Ei(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function qd(n,u,S,L,X){for(var Z=u._reactName,ue=[];S!==null&&S!==L;){var Se=S,Ce=Se.alternate,He=Se.stateNode;if(Ce!==null&&Ce===L)break;Se.tag===5&&He!==null&&(Se=He,X?(Ce=Bt(S,Z),Ce!=null&&ue.unshift(_a(S,Ce,Se))):X||(Ce=Bt(S,Z),Ce!=null&&ue.push(_a(S,Ce,Se)))),S=S.return}ue.length!==0&&n.push({event:u,listeners:ue})}var Ty=/\r\n?/g,ky=/\u0000|\uFFFD/g;function Xd(n){return(typeof n=="string"?n:""+n).replace(Ty,`
`).replace(ky,"")}function wl(n,u,S){if(u=Xd(u),Xd(n)!==u&&S)throw Error(v(425))}function xl(){}var uc=null,cc=null;function hc(n,u){return n==="textarea"||n==="noscript"||typeof u.children=="string"||typeof u.children=="number"||typeof u.dangerouslySetInnerHTML=="object"&&u.dangerouslySetInnerHTML!==null&&u.dangerouslySetInnerHTML.__html!=null}var dc=typeof setTimeout=="function"?setTimeout:void 0,Ey=typeof clearTimeout=="function"?clearTimeout:void 0,Yd=typeof Promise=="function"?Promise:void 0,Cy=typeof queueMicrotask=="function"?queueMicrotask:typeof Yd<"u"?function(n){return Yd.resolve(null).then(n).catch(My)}:dc;function My(n){setTimeout(function(){throw n})}function fc(n,u){var S=u,L=0;do{var X=S.nextSibling;if(n.removeChild(S),X&&X.nodeType===8)if(S=X.data,S==="/$"){if(L===0){n.removeChild(X),es(u);return}L--}else S!=="$"&&S!=="$?"&&S!=="$!"||L++;S=X}while(S);es(u)}function lo(n){for(;n!=null;n=n.nextSibling){var u=n.nodeType;if(u===1||u===3)break;if(u===8){if(u=n.data,u==="$"||u==="$!"||u==="$?")break;if(u==="/$")return null}}return n}function Qd(n){n=n.previousSibling;for(var u=0;n;){if(n.nodeType===8){var S=n.data;if(S==="$"||S==="$!"||S==="$?"){if(u===0)return n;u--}else S==="/$"&&u++}n=n.previousSibling}return null}var Ci=Math.random().toString(36).slice(2),_s="__reactFiber$"+Ci,ba="__reactProps$"+Ci,Is="__reactContainer$"+Ci,pc="__reactEvents$"+Ci,Oy="__reactListeners$"+Ci,Ay="__reactHandles$"+Ci;function Qo(n){var u=n[_s];if(u)return u;for(var S=n.parentNode;S;){if(u=S[Is]||S[_s]){if(S=u.alternate,u.child!==null||S!==null&&S.child!==null)for(n=Qd(n);n!==null;){if(S=n[_s])return S;n=Qd(n)}return u}n=S,S=n.parentNode}return null}function wa(n){return n=n[_s]||n[Is],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function Mi(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(v(33))}function jl(n){return n[ba]||null}var mc=[],Oi=-1;function uo(n){return{current:n}}function pr(n){0>Oi||(n.current=mc[Oi],mc[Oi]=null,Oi--)}function lr(n,u){Oi++,mc[Oi]=n.current,n.current=u}var co={},on=uo(co),wn=uo(!1),$o=co;function Ai(n,u){var S=n.type.contextTypes;if(!S)return co;var L=n.stateNode;if(L&&L.__reactInternalMemoizedUnmaskedChildContext===u)return L.__reactInternalMemoizedMaskedChildContext;var X={},Z;for(Z in S)X[Z]=u[Z];return L&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=u,n.__reactInternalMemoizedMaskedChildContext=X),X}function xn(n){return n=n.childContextTypes,n!=null}function Sl(){pr(wn),pr(on)}function $d(n,u,S){if(on.current!==co)throw Error(v(168));lr(on,u),lr(wn,S)}function Jd(n,u,S){var L=n.stateNode;if(u=u.childContextTypes,typeof L.getChildContext!="function")return S;L=L.getChildContext();for(var X in L)if(!(X in u))throw Error(v(108,ne(n)||"Unknown",X));return z({},S,L)}function Tl(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||co,$o=on.current,lr(on,n),lr(wn,wn.current),!0}function Zd(n,u,S){var L=n.stateNode;if(!L)throw Error(v(169));S?(n=Jd(n,u,$o),L.__reactInternalMemoizedMergedChildContext=n,pr(wn),pr(on),lr(on,n)):pr(wn),lr(wn,S)}var Ds=null,kl=!1,yc=!1;function Kd(n){Ds===null?Ds=[n]:Ds.push(n)}function Py(n){kl=!0,Kd(n)}function ho(){if(!yc&&Ds!==null){yc=!0;var n=0,u=zt;try{var S=Ds;for(zt=1;n<S.length;n++){var L=S[n];do L=L(!0);while(L!==null)}Ds=null,kl=!1}catch(X){throw Ds!==null&&(Ds=Ds.slice(n+1)),Nt(hr,ho),X}finally{zt=u,yc=!1}}return null}var Pi=[],Ri=0,El=null,Cl=0,Bn=[],Vn=0,Jo=null,Ls=1,Ns="";function Zo(n,u){Pi[Ri++]=Cl,Pi[Ri++]=El,El=n,Cl=u}function ef(n,u,S){Bn[Vn++]=Ls,Bn[Vn++]=Ns,Bn[Vn++]=Jo,Jo=n;var L=Ls;n=Ns;var X=32-gn(L)-1;L&=~(1<<X),S+=1;var Z=32-gn(u)+X;if(30<Z){var ue=X-X%5;Z=(L&(1<<ue)-1).toString(32),L>>=ue,X-=ue,Ls=1<<32-gn(u)+X|S<<X|L,Ns=Z+n}else Ls=1<<Z|S<<X|L,Ns=n}function gc(n){n.return!==null&&(Zo(n,1),ef(n,1,0))}function vc(n){for(;n===El;)El=Pi[--Ri],Pi[Ri]=null,Cl=Pi[--Ri],Pi[Ri]=null;for(;n===Jo;)Jo=Bn[--Vn],Bn[Vn]=null,Ns=Bn[--Vn],Bn[Vn]=null,Ls=Bn[--Vn],Bn[Vn]=null}var Dn=null,Ln=null,_r=!1,ss=null;function tf(n,u){var S=Wn(5,null,null,0);S.elementType="DELETED",S.stateNode=u,S.return=n,u=n.deletions,u===null?(n.deletions=[S],n.flags|=16):u.push(S)}function rf(n,u){switch(n.tag){case 5:var S=n.type;return u=u.nodeType!==1||S.toLowerCase()!==u.nodeName.toLowerCase()?null:u,u!==null?(n.stateNode=u,Dn=n,Ln=lo(u.firstChild),!0):!1;case 6:return u=n.pendingProps===""||u.nodeType!==3?null:u,u!==null?(n.stateNode=u,Dn=n,Ln=null,!0):!1;case 13:return u=u.nodeType!==8?null:u,u!==null?(S=Jo!==null?{id:Ls,overflow:Ns}:null,n.memoizedState={dehydrated:u,treeContext:S,retryLane:1073741824},S=Wn(18,null,null,0),S.stateNode=u,S.return=n,n.child=S,Dn=n,Ln=null,!0):!1;default:return!1}}function _c(n){return(n.mode&1)!==0&&(n.flags&128)===0}function bc(n){if(_r){var u=Ln;if(u){var S=u;if(!rf(n,u)){if(_c(n))throw Error(v(418));u=lo(S.nextSibling);var L=Dn;u&&rf(n,u)?tf(L,S):(n.flags=n.flags&-4097|2,_r=!1,Dn=n)}}else{if(_c(n))throw Error(v(418));n.flags=n.flags&-4097|2,_r=!1,Dn=n}}}function nf(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;Dn=n}function Ml(n){if(n!==Dn)return!1;if(!_r)return nf(n),_r=!0,!1;var u;if((u=n.tag!==3)&&!(u=n.tag!==5)&&(u=n.type,u=u!=="head"&&u!=="body"&&!hc(n.type,n.memoizedProps)),u&&(u=Ln)){if(_c(n))throw sf(),Error(v(418));for(;u;)tf(n,u),u=lo(u.nextSibling)}if(nf(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(v(317));e:{for(n=n.nextSibling,u=0;n;){if(n.nodeType===8){var S=n.data;if(S==="/$"){if(u===0){Ln=lo(n.nextSibling);break e}u--}else S!=="$"&&S!=="$!"&&S!=="$?"||u++}n=n.nextSibling}Ln=null}}else Ln=Dn?lo(n.stateNode.nextSibling):null;return!0}function sf(){for(var n=Ln;n;)n=lo(n.nextSibling)}function Ii(){Ln=Dn=null,_r=!1}function wc(n){ss===null?ss=[n]:ss.push(n)}var Ry=b.ReactCurrentBatchConfig;function os(n,u){if(n&&n.defaultProps){u=z({},u),n=n.defaultProps;for(var S in n)u[S]===void 0&&(u[S]=n[S]);return u}return u}var Ol=uo(null),Al=null,Di=null,xc=null;function jc(){xc=Di=Al=null}function Sc(n){var u=Ol.current;pr(Ol),n._currentValue=u}function Tc(n,u,S){for(;n!==null;){var L=n.alternate;if((n.childLanes&u)!==u?(n.childLanes|=u,L!==null&&(L.childLanes|=u)):L!==null&&(L.childLanes&u)!==u&&(L.childLanes|=u),n===S)break;n=n.return}}function Li(n,u){Al=n,xc=Di=null,n=n.dependencies,n!==null&&n.firstContext!==null&&((n.lanes&u)!==0&&(jn=!0),n.firstContext=null)}function Gn(n){var u=n._currentValue;if(xc!==n)if(n={context:n,memoizedValue:u,next:null},Di===null){if(Al===null)throw Error(v(308));Di=n,Al.dependencies={lanes:0,firstContext:n}}else Di=Di.next=n;return u}var Ko=null;function kc(n){Ko===null?Ko=[n]:Ko.push(n)}function of(n,u,S,L){var X=u.interleaved;return X===null?(S.next=S,kc(u)):(S.next=X.next,X.next=S),u.interleaved=S,Fs(n,L)}function Fs(n,u){n.lanes|=u;var S=n.alternate;for(S!==null&&(S.lanes|=u),S=n,n=n.return;n!==null;)n.childLanes|=u,S=n.alternate,S!==null&&(S.childLanes|=u),S=n,n=n.return;return S.tag===3?S.stateNode:null}var fo=!1;function Ec(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function af(n,u){n=n.updateQueue,u.updateQueue===n&&(u.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function Us(n,u){return{eventTime:n,lane:u,tag:0,payload:null,callback:null,next:null}}function po(n,u,S){var L=n.updateQueue;if(L===null)return null;if(L=L.shared,(Wt&2)!==0){var X=L.pending;return X===null?u.next=u:(u.next=X.next,X.next=u),L.pending=u,Fs(n,S)}return X=L.interleaved,X===null?(u.next=u,kc(L)):(u.next=X.next,X.next=u),L.interleaved=u,Fs(n,S)}function Pl(n,u,S){if(u=u.updateQueue,u!==null&&(u=u.shared,(S&4194240)!==0)){var L=u.lanes;L&=n.pendingLanes,S|=L,u.lanes=S,eo(n,S)}}function lf(n,u){var S=n.updateQueue,L=n.alternate;if(L!==null&&(L=L.updateQueue,S===L)){var X=null,Z=null;if(S=S.firstBaseUpdate,S!==null){do{var ue={eventTime:S.eventTime,lane:S.lane,tag:S.tag,payload:S.payload,callback:S.callback,next:null};Z===null?X=Z=ue:Z=Z.next=ue,S=S.next}while(S!==null);Z===null?X=Z=u:Z=Z.next=u}else X=Z=u;S={baseState:L.baseState,firstBaseUpdate:X,lastBaseUpdate:Z,shared:L.shared,effects:L.effects},n.updateQueue=S;return}n=S.lastBaseUpdate,n===null?S.firstBaseUpdate=u:n.next=u,S.lastBaseUpdate=u}function Rl(n,u,S,L){var X=n.updateQueue;fo=!1;var Z=X.firstBaseUpdate,ue=X.lastBaseUpdate,Se=X.shared.pending;if(Se!==null){X.shared.pending=null;var Ce=Se,He=Ce.next;Ce.next=null,ue===null?Z=He:ue.next=He,ue=Ce;var et=n.alternate;et!==null&&(et=et.updateQueue,Se=et.lastBaseUpdate,Se!==ue&&(Se===null?et.firstBaseUpdate=He:Se.next=He,et.lastBaseUpdate=Ce))}if(Z!==null){var tt=X.baseState;ue=0,et=He=Ce=null,Se=Z;do{var Ke=Se.lane,pt=Se.eventTime;if((L&Ke)===Ke){et!==null&&(et=et.next={eventTime:pt,lane:0,tag:Se.tag,payload:Se.payload,callback:Se.callback,next:null});e:{var wt=n,xt=Se;switch(Ke=u,pt=S,xt.tag){case 1:if(wt=xt.payload,typeof wt=="function"){tt=wt.call(pt,tt,Ke);break e}tt=wt;break e;case 3:wt.flags=wt.flags&-65537|128;case 0:if(wt=xt.payload,Ke=typeof wt=="function"?wt.call(pt,tt,Ke):wt,Ke==null)break e;tt=z({},tt,Ke);break e;case 2:fo=!0}}Se.callback!==null&&Se.lane!==0&&(n.flags|=64,Ke=X.effects,Ke===null?X.effects=[Se]:Ke.push(Se))}else pt={eventTime:pt,lane:Ke,tag:Se.tag,payload:Se.payload,callback:Se.callback,next:null},et===null?(He=et=pt,Ce=tt):et=et.next=pt,ue|=Ke;if(Se=Se.next,Se===null){if(Se=X.shared.pending,Se===null)break;Ke=Se,Se=Ke.next,Ke.next=null,X.lastBaseUpdate=Ke,X.shared.pending=null}}while(!0);if(et===null&&(Ce=tt),X.baseState=Ce,X.firstBaseUpdate=He,X.lastBaseUpdate=et,u=X.shared.interleaved,u!==null){X=u;do ue|=X.lane,X=X.next;while(X!==u)}else Z===null&&(X.shared.lanes=0);ri|=ue,n.lanes=ue,n.memoizedState=tt}}function uf(n,u,S){if(n=u.effects,u.effects=null,n!==null)for(u=0;u<n.length;u++){var L=n[u],X=L.callback;if(X!==null){if(L.callback=null,L=S,typeof X!="function")throw Error(v(191,X));X.call(L)}}}var cf=new P.Component().refs;function Cc(n,u,S,L){u=n.memoizedState,S=S(L,u),S=S==null?u:z({},u,S),n.memoizedState=S,n.lanes===0&&(n.updateQueue.baseState=S)}var Il={isMounted:function(n){return(n=n._reactInternals)?Cn(n)===n:!1},enqueueSetState:function(n,u,S){n=n._reactInternals;var L=fn(),X=vo(n),Z=Us(L,X);Z.payload=u,S!=null&&(Z.callback=S),u=po(n,Z,X),u!==null&&(ls(u,n,X,L),Pl(u,n,X))},enqueueReplaceState:function(n,u,S){n=n._reactInternals;var L=fn(),X=vo(n),Z=Us(L,X);Z.tag=1,Z.payload=u,S!=null&&(Z.callback=S),u=po(n,Z,X),u!==null&&(ls(u,n,X,L),Pl(u,n,X))},enqueueForceUpdate:function(n,u){n=n._reactInternals;var S=fn(),L=vo(n),X=Us(S,L);X.tag=2,u!=null&&(X.callback=u),u=po(n,X,L),u!==null&&(ls(u,n,L,S),Pl(u,n,L))}};function hf(n,u,S,L,X,Z,ue){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(L,Z,ue):u.prototype&&u.prototype.isPureReactComponent?!ns(S,L)||!ns(X,Z):!0}function df(n,u,S){var L=!1,X=co,Z=u.contextType;return typeof Z=="object"&&Z!==null?Z=Gn(Z):(X=xn(u)?$o:on.current,L=u.contextTypes,Z=(L=L!=null)?Ai(n,X):co),u=new u(S,Z),n.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,u.updater=Il,n.stateNode=u,u._reactInternals=n,L&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=X,n.__reactInternalMemoizedMaskedChildContext=Z),u}function ff(n,u,S,L){n=u.state,typeof u.componentWillReceiveProps=="function"&&u.componentWillReceiveProps(S,L),typeof u.UNSAFE_componentWillReceiveProps=="function"&&u.UNSAFE_componentWillReceiveProps(S,L),u.state!==n&&Il.enqueueReplaceState(u,u.state,null)}function Mc(n,u,S,L){var X=n.stateNode;X.props=S,X.state=n.memoizedState,X.refs=cf,Ec(n);var Z=u.contextType;typeof Z=="object"&&Z!==null?X.context=Gn(Z):(Z=xn(u)?$o:on.current,X.context=Ai(n,Z)),X.state=n.memoizedState,Z=u.getDerivedStateFromProps,typeof Z=="function"&&(Cc(n,u,Z,S),X.state=n.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof X.getSnapshotBeforeUpdate=="function"||typeof X.UNSAFE_componentWillMount!="function"&&typeof X.componentWillMount!="function"||(u=X.state,typeof X.componentWillMount=="function"&&X.componentWillMount(),typeof X.UNSAFE_componentWillMount=="function"&&X.UNSAFE_componentWillMount(),u!==X.state&&Il.enqueueReplaceState(X,X.state,null),Rl(n,S,X,L),X.state=n.memoizedState),typeof X.componentDidMount=="function"&&(n.flags|=4194308)}function xa(n,u,S){if(n=S.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(S._owner){if(S=S._owner,S){if(S.tag!==1)throw Error(v(309));var L=S.stateNode}if(!L)throw Error(v(147,n));var X=L,Z=""+n;return u!==null&&u.ref!==null&&typeof u.ref=="function"&&u.ref._stringRef===Z?u.ref:(u=function(ue){var Se=X.refs;Se===cf&&(Se=X.refs={}),ue===null?delete Se[Z]:Se[Z]=ue},u._stringRef=Z,u)}if(typeof n!="string")throw Error(v(284));if(!S._owner)throw Error(v(290,n))}return n}function Dl(n,u){throw n=Object.prototype.toString.call(u),Error(v(31,n==="[object Object]"?"object with keys {"+Object.keys(u).join(", ")+"}":n))}function pf(n){var u=n._init;return u(n._payload)}function mf(n){function u(Ve,Re){if(n){var Ge=Ve.deletions;Ge===null?(Ve.deletions=[Re],Ve.flags|=16):Ge.push(Re)}}function S(Ve,Re){if(!n)return null;for(;Re!==null;)u(Ve,Re),Re=Re.sibling;return null}function L(Ve,Re){for(Ve=new Map;Re!==null;)Re.key!==null?Ve.set(Re.key,Re):Ve.set(Re.index,Re),Re=Re.sibling;return Ve}function X(Ve,Re){return Ve=bo(Ve,Re),Ve.index=0,Ve.sibling=null,Ve}function Z(Ve,Re,Ge){return Ve.index=Ge,n?(Ge=Ve.alternate,Ge!==null?(Ge=Ge.index,Ge<Re?(Ve.flags|=2,Re):Ge):(Ve.flags|=2,Re)):(Ve.flags|=1048576,Re)}function ue(Ve){return n&&Ve.alternate===null&&(Ve.flags|=2),Ve}function Se(Ve,Re,Ge,it){return Re===null||Re.tag!==6?(Re=dh(Ge,Ve.mode,it),Re.return=Ve,Re):(Re=X(Re,Ge),Re.return=Ve,Re)}function Ce(Ve,Re,Ge,it){var jt=Ge.type;return jt===k?et(Ve,Re,Ge.props.children,it,Ge.key):Re!==null&&(Re.elementType===jt||typeof jt=="object"&&jt!==null&&jt.$$typeof===W&&pf(jt)===Re.type)?(it=X(Re,Ge.props),it.ref=xa(Ve,Re,Ge),it.return=Ve,it):(it=eu(Ge.type,Ge.key,Ge.props,null,Ve.mode,it),it.ref=xa(Ve,Re,Ge),it.return=Ve,it)}function He(Ve,Re,Ge,it){return Re===null||Re.tag!==4||Re.stateNode.containerInfo!==Ge.containerInfo||Re.stateNode.implementation!==Ge.implementation?(Re=fh(Ge,Ve.mode,it),Re.return=Ve,Re):(Re=X(Re,Ge.children||[]),Re.return=Ve,Re)}function et(Ve,Re,Ge,it,jt){return Re===null||Re.tag!==7?(Re=ii(Ge,Ve.mode,it,jt),Re.return=Ve,Re):(Re=X(Re,Ge),Re.return=Ve,Re)}function tt(Ve,Re,Ge){if(typeof Re=="string"&&Re!==""||typeof Re=="number")return Re=dh(""+Re,Ve.mode,Ge),Re.return=Ve,Re;if(typeof Re=="object"&&Re!==null){switch(Re.$$typeof){case T:return Ge=eu(Re.type,Re.key,Re.props,null,Ve.mode,Ge),Ge.ref=xa(Ve,null,Re),Ge.return=Ve,Ge;case O:return Re=fh(Re,Ve.mode,Ge),Re.return=Ve,Re;case W:var it=Re._init;return tt(Ve,it(Re._payload),Ge)}if(Me(Re)||Y(Re))return Re=ii(Re,Ve.mode,Ge,null),Re.return=Ve,Re;Dl(Ve,Re)}return null}function Ke(Ve,Re,Ge,it){var jt=Re!==null?Re.key:null;if(typeof Ge=="string"&&Ge!==""||typeof Ge=="number")return jt!==null?null:Se(Ve,Re,""+Ge,it);if(typeof Ge=="object"&&Ge!==null){switch(Ge.$$typeof){case T:return Ge.key===jt?Ce(Ve,Re,Ge,it):null;case O:return Ge.key===jt?He(Ve,Re,Ge,it):null;case W:return jt=Ge._init,Ke(Ve,Re,jt(Ge._payload),it)}if(Me(Ge)||Y(Ge))return jt!==null?null:et(Ve,Re,Ge,it,null);Dl(Ve,Ge)}return null}function pt(Ve,Re,Ge,it,jt){if(typeof it=="string"&&it!==""||typeof it=="number")return Ve=Ve.get(Ge)||null,Se(Re,Ve,""+it,jt);if(typeof it=="object"&&it!==null){switch(it.$$typeof){case T:return Ve=Ve.get(it.key===null?Ge:it.key)||null,Ce(Re,Ve,it,jt);case O:return Ve=Ve.get(it.key===null?Ge:it.key)||null,He(Re,Ve,it,jt);case W:var Ot=it._init;return pt(Ve,Re,Ge,Ot(it._payload),jt)}if(Me(it)||Y(it))return Ve=Ve.get(Ge)||null,et(Re,Ve,it,jt,null);Dl(Re,it)}return null}function wt(Ve,Re,Ge,it){for(var jt=null,Ot=null,At=Re,It=Re=0,Jr=null;At!==null&&It<Ge.length;It++){At.index>It?(Jr=At,At=null):Jr=At.sibling;var qt=Ke(Ve,At,Ge[It],it);if(qt===null){At===null&&(At=Jr);break}n&&At&&qt.alternate===null&&u(Ve,At),Re=Z(qt,Re,It),Ot===null?jt=qt:Ot.sibling=qt,Ot=qt,At=Jr}if(It===Ge.length)return S(Ve,At),_r&&Zo(Ve,It),jt;if(At===null){for(;It<Ge.length;It++)At=tt(Ve,Ge[It],it),At!==null&&(Re=Z(At,Re,It),Ot===null?jt=At:Ot.sibling=At,Ot=At);return _r&&Zo(Ve,It),jt}for(At=L(Ve,At);It<Ge.length;It++)Jr=pt(At,Ve,It,Ge[It],it),Jr!==null&&(n&&Jr.alternate!==null&&At.delete(Jr.key===null?It:Jr.key),Re=Z(Jr,Re,It),Ot===null?jt=Jr:Ot.sibling=Jr,Ot=Jr);return n&&At.forEach(function(wo){return u(Ve,wo)}),_r&&Zo(Ve,It),jt}function xt(Ve,Re,Ge,it){var jt=Y(Ge);if(typeof jt!="function")throw Error(v(150));if(Ge=jt.call(Ge),Ge==null)throw Error(v(151));for(var Ot=jt=null,At=Re,It=Re=0,Jr=null,qt=Ge.next();At!==null&&!qt.done;It++,qt=Ge.next()){At.index>It?(Jr=At,At=null):Jr=At.sibling;var wo=Ke(Ve,At,qt.value,it);if(wo===null){At===null&&(At=Jr);break}n&&At&&wo.alternate===null&&u(Ve,At),Re=Z(wo,Re,It),Ot===null?jt=wo:Ot.sibling=wo,Ot=wo,At=Jr}if(qt.done)return S(Ve,At),_r&&Zo(Ve,It),jt;if(At===null){for(;!qt.done;It++,qt=Ge.next())qt=tt(Ve,qt.value,it),qt!==null&&(Re=Z(qt,Re,It),Ot===null?jt=qt:Ot.sibling=qt,Ot=qt);return _r&&Zo(Ve,It),jt}for(At=L(Ve,At);!qt.done;It++,qt=Ge.next())qt=pt(At,Ve,It,qt.value,it),qt!==null&&(n&&qt.alternate!==null&&At.delete(qt.key===null?It:qt.key),Re=Z(qt,Re,It),Ot===null?jt=qt:Ot.sibling=qt,Ot=qt);return n&&At.forEach(function(dg){return u(Ve,dg)}),_r&&Zo(Ve,It),jt}function Ar(Ve,Re,Ge,it){if(typeof Ge=="object"&&Ge!==null&&Ge.type===k&&Ge.key===null&&(Ge=Ge.props.children),typeof Ge=="object"&&Ge!==null){switch(Ge.$$typeof){case T:e:{for(var jt=Ge.key,Ot=Re;Ot!==null;){if(Ot.key===jt){if(jt=Ge.type,jt===k){if(Ot.tag===7){S(Ve,Ot.sibling),Re=X(Ot,Ge.props.children),Re.return=Ve,Ve=Re;break e}}else if(Ot.elementType===jt||typeof jt=="object"&&jt!==null&&jt.$$typeof===W&&pf(jt)===Ot.type){S(Ve,Ot.sibling),Re=X(Ot,Ge.props),Re.ref=xa(Ve,Ot,Ge),Re.return=Ve,Ve=Re;break e}S(Ve,Ot);break}else u(Ve,Ot);Ot=Ot.sibling}Ge.type===k?(Re=ii(Ge.props.children,Ve.mode,it,Ge.key),Re.return=Ve,Ve=Re):(it=eu(Ge.type,Ge.key,Ge.props,null,Ve.mode,it),it.ref=xa(Ve,Re,Ge),it.return=Ve,Ve=it)}return ue(Ve);case O:e:{for(Ot=Ge.key;Re!==null;){if(Re.key===Ot)if(Re.tag===4&&Re.stateNode.containerInfo===Ge.containerInfo&&Re.stateNode.implementation===Ge.implementation){S(Ve,Re.sibling),Re=X(Re,Ge.children||[]),Re.return=Ve,Ve=Re;break e}else{S(Ve,Re);break}else u(Ve,Re);Re=Re.sibling}Re=fh(Ge,Ve.mode,it),Re.return=Ve,Ve=Re}return ue(Ve);case W:return Ot=Ge._init,Ar(Ve,Re,Ot(Ge._payload),it)}if(Me(Ge))return wt(Ve,Re,Ge,it);if(Y(Ge))return xt(Ve,Re,Ge,it);Dl(Ve,Ge)}return typeof Ge=="string"&&Ge!==""||typeof Ge=="number"?(Ge=""+Ge,Re!==null&&Re.tag===6?(S(Ve,Re.sibling),Re=X(Re,Ge),Re.return=Ve,Ve=Re):(S(Ve,Re),Re=dh(Ge,Ve.mode,it),Re.return=Ve,Ve=Re),ue(Ve)):S(Ve,Re)}return Ar}var Ni=mf(!0),yf=mf(!1),ja={},bs=uo(ja),Sa=uo(ja),Ta=uo(ja);function ei(n){if(n===ja)throw Error(v(174));return n}function Oc(n,u){switch(lr(Ta,u),lr(Sa,n),lr(bs,ja),n=u.nodeType,n){case 9:case 11:u=(u=u.documentElement)?u.namespaceURI:at(null,"");break;default:n=n===8?u.parentNode:u,u=n.namespaceURI||null,n=n.tagName,u=at(u,n)}pr(bs),lr(bs,u)}function Fi(){pr(bs),pr(Sa),pr(Ta)}function gf(n){ei(Ta.current);var u=ei(bs.current),S=at(u,n.type);u!==S&&(lr(Sa,n),lr(bs,S))}function Ac(n){Sa.current===n&&(pr(bs),pr(Sa))}var jr=uo(0);function Ll(n){for(var u=n;u!==null;){if(u.tag===13){var S=u.memoizedState;if(S!==null&&(S=S.dehydrated,S===null||S.data==="$?"||S.data==="$!"))return u}else if(u.tag===19&&u.memoizedProps.revealOrder!==void 0){if((u.flags&128)!==0)return u}else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===n)break;for(;u.sibling===null;){if(u.return===null||u.return===n)return null;u=u.return}u.sibling.return=u.return,u=u.sibling}return null}var Pc=[];function Rc(){for(var n=0;n<Pc.length;n++)Pc[n]._workInProgressVersionPrimary=null;Pc.length=0}var Nl=b.ReactCurrentDispatcher,Ic=b.ReactCurrentBatchConfig,ti=0,Sr=null,Hr=null,Qr=null,Fl=!1,ka=!1,Ea=0,Iy=0;function an(){throw Error(v(321))}function Dc(n,u){if(u===null)return!1;for(var S=0;S<u.length&&S<n.length;S++)if(!Jt(n[S],u[S]))return!1;return!0}function Lc(n,u,S,L,X,Z){if(ti=Z,Sr=u,u.memoizedState=null,u.updateQueue=null,u.lanes=0,Nl.current=n===null||n.memoizedState===null?Fy:Uy,n=S(L,X),ka){Z=0;do{if(ka=!1,Ea=0,25<=Z)throw Error(v(301));Z+=1,Qr=Hr=null,u.updateQueue=null,Nl.current=By,n=S(L,X)}while(ka)}if(Nl.current=Vl,u=Hr!==null&&Hr.next!==null,ti=0,Qr=Hr=Sr=null,Fl=!1,u)throw Error(v(300));return n}function Nc(){var n=Ea!==0;return Ea=0,n}function ws(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Qr===null?Sr.memoizedState=Qr=n:Qr=Qr.next=n,Qr}function zn(){if(Hr===null){var n=Sr.alternate;n=n!==null?n.memoizedState:null}else n=Hr.next;var u=Qr===null?Sr.memoizedState:Qr.next;if(u!==null)Qr=u,Hr=n;else{if(n===null)throw Error(v(310));Hr=n,n={memoizedState:Hr.memoizedState,baseState:Hr.baseState,baseQueue:Hr.baseQueue,queue:Hr.queue,next:null},Qr===null?Sr.memoizedState=Qr=n:Qr=Qr.next=n}return Qr}function Ca(n,u){return typeof u=="function"?u(n):u}function Fc(n){var u=zn(),S=u.queue;if(S===null)throw Error(v(311));S.lastRenderedReducer=n;var L=Hr,X=L.baseQueue,Z=S.pending;if(Z!==null){if(X!==null){var ue=X.next;X.next=Z.next,Z.next=ue}L.baseQueue=X=Z,S.pending=null}if(X!==null){Z=X.next,L=L.baseState;var Se=ue=null,Ce=null,He=Z;do{var et=He.lane;if((ti&et)===et)Ce!==null&&(Ce=Ce.next={lane:0,action:He.action,hasEagerState:He.hasEagerState,eagerState:He.eagerState,next:null}),L=He.hasEagerState?He.eagerState:n(L,He.action);else{var tt={lane:et,action:He.action,hasEagerState:He.hasEagerState,eagerState:He.eagerState,next:null};Ce===null?(Se=Ce=tt,ue=L):Ce=Ce.next=tt,Sr.lanes|=et,ri|=et}He=He.next}while(He!==null&&He!==Z);Ce===null?ue=L:Ce.next=Se,Jt(L,u.memoizedState)||(jn=!0),u.memoizedState=L,u.baseState=ue,u.baseQueue=Ce,S.lastRenderedState=L}if(n=S.interleaved,n!==null){X=n;do Z=X.lane,Sr.lanes|=Z,ri|=Z,X=X.next;while(X!==n)}else X===null&&(S.lanes=0);return[u.memoizedState,S.dispatch]}function Uc(n){var u=zn(),S=u.queue;if(S===null)throw Error(v(311));S.lastRenderedReducer=n;var L=S.dispatch,X=S.pending,Z=u.memoizedState;if(X!==null){S.pending=null;var ue=X=X.next;do Z=n(Z,ue.action),ue=ue.next;while(ue!==X);Jt(Z,u.memoizedState)||(jn=!0),u.memoizedState=Z,u.baseQueue===null&&(u.baseState=Z),S.lastRenderedState=Z}return[Z,L]}function vf(){}function _f(n,u){var S=Sr,L=zn(),X=u(),Z=!Jt(L.memoizedState,X);if(Z&&(L.memoizedState=X,jn=!0),L=L.queue,Bc(xf.bind(null,S,L,n),[n]),L.getSnapshot!==u||Z||Qr!==null&&Qr.memoizedState.tag&1){if(S.flags|=2048,Ma(9,wf.bind(null,S,L,X,u),void 0,null),$r===null)throw Error(v(349));(ti&30)!==0||bf(S,u,X)}return X}function bf(n,u,S){n.flags|=16384,n={getSnapshot:u,value:S},u=Sr.updateQueue,u===null?(u={lastEffect:null,stores:null},Sr.updateQueue=u,u.stores=[n]):(S=u.stores,S===null?u.stores=[n]:S.push(n))}function wf(n,u,S,L){u.value=S,u.getSnapshot=L,jf(u)&&Sf(n)}function xf(n,u,S){return S(function(){jf(u)&&Sf(n)})}function jf(n){var u=n.getSnapshot;n=n.value;try{var S=u();return!Jt(n,S)}catch{return!0}}function Sf(n){var u=Fs(n,1);u!==null&&ls(u,n,1,-1)}function Tf(n){var u=ws();return typeof n=="function"&&(n=n()),u.memoizedState=u.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ca,lastRenderedState:n},u.queue=n,n=n.dispatch=Ny.bind(null,Sr,n),[u.memoizedState,n]}function Ma(n,u,S,L){return n={tag:n,create:u,destroy:S,deps:L,next:null},u=Sr.updateQueue,u===null?(u={lastEffect:null,stores:null},Sr.updateQueue=u,u.lastEffect=n.next=n):(S=u.lastEffect,S===null?u.lastEffect=n.next=n:(L=S.next,S.next=n,n.next=L,u.lastEffect=n)),n}function kf(){return zn().memoizedState}function Ul(n,u,S,L){var X=ws();Sr.flags|=n,X.memoizedState=Ma(1|u,S,void 0,L===void 0?null:L)}function Bl(n,u,S,L){var X=zn();L=L===void 0?null:L;var Z=void 0;if(Hr!==null){var ue=Hr.memoizedState;if(Z=ue.destroy,L!==null&&Dc(L,ue.deps)){X.memoizedState=Ma(u,S,Z,L);return}}Sr.flags|=n,X.memoizedState=Ma(1|u,S,Z,L)}function Ef(n,u){return Ul(8390656,8,n,u)}function Bc(n,u){return Bl(2048,8,n,u)}function Cf(n,u){return Bl(4,2,n,u)}function Mf(n,u){return Bl(4,4,n,u)}function Of(n,u){if(typeof u=="function")return n=n(),u(n),function(){u(null)};if(u!=null)return n=n(),u.current=n,function(){u.current=null}}function Af(n,u,S){return S=S!=null?S.concat([n]):null,Bl(4,4,Of.bind(null,u,n),S)}function Vc(){}function Pf(n,u){var S=zn();u=u===void 0?null:u;var L=S.memoizedState;return L!==null&&u!==null&&Dc(u,L[1])?L[0]:(S.memoizedState=[n,u],n)}function Rf(n,u){var S=zn();u=u===void 0?null:u;var L=S.memoizedState;return L!==null&&u!==null&&Dc(u,L[1])?L[0]:(n=n(),S.memoizedState=[n,u],n)}function If(n,u,S){return(ti&21)===0?(n.baseState&&(n.baseState=!1,jn=!0),n.memoizedState=S):(Jt(S,u)||(S=ll(),Sr.lanes|=S,ri|=S,n.baseState=!0),u)}function Dy(n,u){var S=zt;zt=S!==0&&4>S?S:4,n(!0);var L=Ic.transition;Ic.transition={};try{n(!1),u()}finally{zt=S,Ic.transition=L}}function Df(){return zn().memoizedState}function Ly(n,u,S){var L=vo(n);if(S={lane:L,action:S,hasEagerState:!1,eagerState:null,next:null},Lf(n))Nf(u,S);else if(S=of(n,u,S,L),S!==null){var X=fn();ls(S,n,L,X),Ff(S,u,L)}}function Ny(n,u,S){var L=vo(n),X={lane:L,action:S,hasEagerState:!1,eagerState:null,next:null};if(Lf(n))Nf(u,X);else{var Z=n.alternate;if(n.lanes===0&&(Z===null||Z.lanes===0)&&(Z=u.lastRenderedReducer,Z!==null))try{var ue=u.lastRenderedState,Se=Z(ue,S);if(X.hasEagerState=!0,X.eagerState=Se,Jt(Se,ue)){var Ce=u.interleaved;Ce===null?(X.next=X,kc(u)):(X.next=Ce.next,Ce.next=X),u.interleaved=X;return}}catch{}finally{}S=of(n,u,X,L),S!==null&&(X=fn(),ls(S,n,L,X),Ff(S,u,L))}}function Lf(n){var u=n.alternate;return n===Sr||u!==null&&u===Sr}function Nf(n,u){ka=Fl=!0;var S=n.pending;S===null?u.next=u:(u.next=S.next,S.next=u),n.pending=u}function Ff(n,u,S){if((S&4194240)!==0){var L=u.lanes;L&=n.pendingLanes,S|=L,u.lanes=S,eo(n,S)}}var Vl={readContext:Gn,useCallback:an,useContext:an,useEffect:an,useImperativeHandle:an,useInsertionEffect:an,useLayoutEffect:an,useMemo:an,useReducer:an,useRef:an,useState:an,useDebugValue:an,useDeferredValue:an,useTransition:an,useMutableSource:an,useSyncExternalStore:an,useId:an,unstable_isNewReconciler:!1},Fy={readContext:Gn,useCallback:function(n,u){return ws().memoizedState=[n,u===void 0?null:u],n},useContext:Gn,useEffect:Ef,useImperativeHandle:function(n,u,S){return S=S!=null?S.concat([n]):null,Ul(4194308,4,Of.bind(null,u,n),S)},useLayoutEffect:function(n,u){return Ul(4194308,4,n,u)},useInsertionEffect:function(n,u){return Ul(4,2,n,u)},useMemo:function(n,u){var S=ws();return u=u===void 0?null:u,n=n(),S.memoizedState=[n,u],n},useReducer:function(n,u,S){var L=ws();return u=S!==void 0?S(u):u,L.memoizedState=L.baseState=u,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:u},L.queue=n,n=n.dispatch=Ly.bind(null,Sr,n),[L.memoizedState,n]},useRef:function(n){var u=ws();return n={current:n},u.memoizedState=n},useState:Tf,useDebugValue:Vc,useDeferredValue:function(n){return ws().memoizedState=n},useTransition:function(){var n=Tf(!1),u=n[0];return n=Dy.bind(null,n[1]),ws().memoizedState=n,[u,n]},useMutableSource:function(){},useSyncExternalStore:function(n,u,S){var L=Sr,X=ws();if(_r){if(S===void 0)throw Error(v(407));S=S()}else{if(S=u(),$r===null)throw Error(v(349));(ti&30)!==0||bf(L,u,S)}X.memoizedState=S;var Z={value:S,getSnapshot:u};return X.queue=Z,Ef(xf.bind(null,L,Z,n),[n]),L.flags|=2048,Ma(9,wf.bind(null,L,Z,S,u),void 0,null),S},useId:function(){var n=ws(),u=$r.identifierPrefix;if(_r){var S=Ns,L=Ls;S=(L&~(1<<32-gn(L)-1)).toString(32)+S,u=":"+u+"R"+S,S=Ea++,0<S&&(u+="H"+S.toString(32)),u+=":"}else S=Iy++,u=":"+u+"r"+S.toString(32)+":";return n.memoizedState=u},unstable_isNewReconciler:!1},Uy={readContext:Gn,useCallback:Pf,useContext:Gn,useEffect:Bc,useImperativeHandle:Af,useInsertionEffect:Cf,useLayoutEffect:Mf,useMemo:Rf,useReducer:Fc,useRef:kf,useState:function(){return Fc(Ca)},useDebugValue:Vc,useDeferredValue:function(n){var u=zn();return If(u,Hr.memoizedState,n)},useTransition:function(){var n=Fc(Ca)[0],u=zn().memoizedState;return[n,u]},useMutableSource:vf,useSyncExternalStore:_f,useId:Df,unstable_isNewReconciler:!1},By={readContext:Gn,useCallback:Pf,useContext:Gn,useEffect:Bc,useImperativeHandle:Af,useInsertionEffect:Cf,useLayoutEffect:Mf,useMemo:Rf,useReducer:Uc,useRef:kf,useState:function(){return Uc(Ca)},useDebugValue:Vc,useDeferredValue:function(n){var u=zn();return Hr===null?u.memoizedState=n:If(u,Hr.memoizedState,n)},useTransition:function(){var n=Uc(Ca)[0],u=zn().memoizedState;return[n,u]},useMutableSource:vf,useSyncExternalStore:_f,useId:Df,unstable_isNewReconciler:!1};function Ui(n,u){try{var S="",L=u;do S+=H(L),L=L.return;while(L);var X=S}catch(Z){X=`
Error generating stack: `+Z.message+`
`+Z.stack}return{value:n,source:u,stack:X,digest:null}}function Gc(n,u,S){return{value:n,source:null,stack:S??null,digest:u??null}}function zc(n,u){try{console.error(u.value)}catch(S){setTimeout(function(){throw S})}}var Vy=typeof WeakMap=="function"?WeakMap:Map;function Uf(n,u,S){S=Us(-1,S),S.tag=3,S.payload={element:null};var L=u.value;return S.callback=function(){Yl||(Yl=!0,sh=L),zc(n,u)},S}function Bf(n,u,S){S=Us(-1,S),S.tag=3;var L=n.type.getDerivedStateFromError;if(typeof L=="function"){var X=u.value;S.payload=function(){return L(X)},S.callback=function(){zc(n,u)}}var Z=n.stateNode;return Z!==null&&typeof Z.componentDidCatch=="function"&&(S.callback=function(){zc(n,u),typeof L!="function"&&(yo===null?yo=new Set([this]):yo.add(this));var ue=u.stack;this.componentDidCatch(u.value,{componentStack:ue!==null?ue:""})}),S}function Vf(n,u,S){var L=n.pingCache;if(L===null){L=n.pingCache=new Vy;var X=new Set;L.set(u,X)}else X=L.get(u),X===void 0&&(X=new Set,L.set(u,X));X.has(S)||(X.add(S),n=tg.bind(null,n,u,S),u.then(n,n))}function Gf(n){do{var u;if((u=n.tag===13)&&(u=n.memoizedState,u=u!==null?u.dehydrated!==null:!0),u)return n;n=n.return}while(n!==null);return null}function zf(n,u,S,L,X){return(n.mode&1)===0?(n===u?n.flags|=65536:(n.flags|=128,S.flags|=131072,S.flags&=-52805,S.tag===1&&(S.alternate===null?S.tag=17:(u=Us(-1,1),u.tag=2,po(S,u,1))),S.lanes|=1),n):(n.flags|=65536,n.lanes=X,n)}var Gy=b.ReactCurrentOwner,jn=!1;function dn(n,u,S,L){u.child=n===null?yf(u,null,S,L):Ni(u,n.child,S,L)}function Hf(n,u,S,L,X){S=S.render;var Z=u.ref;return Li(u,X),L=Lc(n,u,S,L,Z,X),S=Nc(),n!==null&&!jn?(u.updateQueue=n.updateQueue,u.flags&=-2053,n.lanes&=~X,Bs(n,u,X)):(_r&&S&&gc(u),u.flags|=1,dn(n,u,L,X),u.child)}function Wf(n,u,S,L,X){if(n===null){var Z=S.type;return typeof Z=="function"&&!hh(Z)&&Z.defaultProps===void 0&&S.compare===null&&S.defaultProps===void 0?(u.tag=15,u.type=Z,qf(n,u,Z,L,X)):(n=eu(S.type,null,L,u,u.mode,X),n.ref=u.ref,n.return=u,u.child=n)}if(Z=n.child,(n.lanes&X)===0){var ue=Z.memoizedProps;if(S=S.compare,S=S!==null?S:ns,S(ue,L)&&n.ref===u.ref)return Bs(n,u,X)}return u.flags|=1,n=bo(Z,L),n.ref=u.ref,n.return=u,u.child=n}function qf(n,u,S,L,X){if(n!==null){var Z=n.memoizedProps;if(ns(Z,L)&&n.ref===u.ref)if(jn=!1,u.pendingProps=L=Z,(n.lanes&X)!==0)(n.flags&131072)!==0&&(jn=!0);else return u.lanes=n.lanes,Bs(n,u,X)}return Hc(n,u,S,L,X)}function Xf(n,u,S){var L=u.pendingProps,X=L.children,Z=n!==null?n.memoizedState:null;if(L.mode==="hidden")if((u.mode&1)===0)u.memoizedState={baseLanes:0,cachePool:null,transitions:null},lr(Vi,Nn),Nn|=S;else{if((S&1073741824)===0)return n=Z!==null?Z.baseLanes|S:S,u.lanes=u.childLanes=1073741824,u.memoizedState={baseLanes:n,cachePool:null,transitions:null},u.updateQueue=null,lr(Vi,Nn),Nn|=n,null;u.memoizedState={baseLanes:0,cachePool:null,transitions:null},L=Z!==null?Z.baseLanes:S,lr(Vi,Nn),Nn|=L}else Z!==null?(L=Z.baseLanes|S,u.memoizedState=null):L=S,lr(Vi,Nn),Nn|=L;return dn(n,u,X,S),u.child}function Yf(n,u){var S=u.ref;(n===null&&S!==null||n!==null&&n.ref!==S)&&(u.flags|=512,u.flags|=2097152)}function Hc(n,u,S,L,X){var Z=xn(S)?$o:on.current;return Z=Ai(u,Z),Li(u,X),S=Lc(n,u,S,L,Z,X),L=Nc(),n!==null&&!jn?(u.updateQueue=n.updateQueue,u.flags&=-2053,n.lanes&=~X,Bs(n,u,X)):(_r&&L&&gc(u),u.flags|=1,dn(n,u,S,X),u.child)}function Qf(n,u,S,L,X){if(xn(S)){var Z=!0;Tl(u)}else Z=!1;if(Li(u,X),u.stateNode===null)zl(n,u),df(u,S,L),Mc(u,S,L,X),L=!0;else if(n===null){var ue=u.stateNode,Se=u.memoizedProps;ue.props=Se;var Ce=ue.context,He=S.contextType;typeof He=="object"&&He!==null?He=Gn(He):(He=xn(S)?$o:on.current,He=Ai(u,He));var et=S.getDerivedStateFromProps,tt=typeof et=="function"||typeof ue.getSnapshotBeforeUpdate=="function";tt||typeof ue.UNSAFE_componentWillReceiveProps!="function"&&typeof ue.componentWillReceiveProps!="function"||(Se!==L||Ce!==He)&&ff(u,ue,L,He),fo=!1;var Ke=u.memoizedState;ue.state=Ke,Rl(u,L,ue,X),Ce=u.memoizedState,Se!==L||Ke!==Ce||wn.current||fo?(typeof et=="function"&&(Cc(u,S,et,L),Ce=u.memoizedState),(Se=fo||hf(u,S,Se,L,Ke,Ce,He))?(tt||typeof ue.UNSAFE_componentWillMount!="function"&&typeof ue.componentWillMount!="function"||(typeof ue.componentWillMount=="function"&&ue.componentWillMount(),typeof ue.UNSAFE_componentWillMount=="function"&&ue.UNSAFE_componentWillMount()),typeof ue.componentDidMount=="function"&&(u.flags|=4194308)):(typeof ue.componentDidMount=="function"&&(u.flags|=4194308),u.memoizedProps=L,u.memoizedState=Ce),ue.props=L,ue.state=Ce,ue.context=He,L=Se):(typeof ue.componentDidMount=="function"&&(u.flags|=4194308),L=!1)}else{ue=u.stateNode,af(n,u),Se=u.memoizedProps,He=u.type===u.elementType?Se:os(u.type,Se),ue.props=He,tt=u.pendingProps,Ke=ue.context,Ce=S.contextType,typeof Ce=="object"&&Ce!==null?Ce=Gn(Ce):(Ce=xn(S)?$o:on.current,Ce=Ai(u,Ce));var pt=S.getDerivedStateFromProps;(et=typeof pt=="function"||typeof ue.getSnapshotBeforeUpdate=="function")||typeof ue.UNSAFE_componentWillReceiveProps!="function"&&typeof ue.componentWillReceiveProps!="function"||(Se!==tt||Ke!==Ce)&&ff(u,ue,L,Ce),fo=!1,Ke=u.memoizedState,ue.state=Ke,Rl(u,L,ue,X);var wt=u.memoizedState;Se!==tt||Ke!==wt||wn.current||fo?(typeof pt=="function"&&(Cc(u,S,pt,L),wt=u.memoizedState),(He=fo||hf(u,S,He,L,Ke,wt,Ce)||!1)?(et||typeof ue.UNSAFE_componentWillUpdate!="function"&&typeof ue.componentWillUpdate!="function"||(typeof ue.componentWillUpdate=="function"&&ue.componentWillUpdate(L,wt,Ce),typeof ue.UNSAFE_componentWillUpdate=="function"&&ue.UNSAFE_componentWillUpdate(L,wt,Ce)),typeof ue.componentDidUpdate=="function"&&(u.flags|=4),typeof ue.getSnapshotBeforeUpdate=="function"&&(u.flags|=1024)):(typeof ue.componentDidUpdate!="function"||Se===n.memoizedProps&&Ke===n.memoizedState||(u.flags|=4),typeof ue.getSnapshotBeforeUpdate!="function"||Se===n.memoizedProps&&Ke===n.memoizedState||(u.flags|=1024),u.memoizedProps=L,u.memoizedState=wt),ue.props=L,ue.state=wt,ue.context=Ce,L=He):(typeof ue.componentDidUpdate!="function"||Se===n.memoizedProps&&Ke===n.memoizedState||(u.flags|=4),typeof ue.getSnapshotBeforeUpdate!="function"||Se===n.memoizedProps&&Ke===n.memoizedState||(u.flags|=1024),L=!1)}return Wc(n,u,S,L,Z,X)}function Wc(n,u,S,L,X,Z){Yf(n,u);var ue=(u.flags&128)!==0;if(!L&&!ue)return X&&Zd(u,S,!1),Bs(n,u,Z);L=u.stateNode,Gy.current=u;var Se=ue&&typeof S.getDerivedStateFromError!="function"?null:L.render();return u.flags|=1,n!==null&&ue?(u.child=Ni(u,n.child,null,Z),u.child=Ni(u,null,Se,Z)):dn(n,u,Se,Z),u.memoizedState=L.state,X&&Zd(u,S,!0),u.child}function $f(n){var u=n.stateNode;u.pendingContext?$d(n,u.pendingContext,u.pendingContext!==u.context):u.context&&$d(n,u.context,!1),Oc(n,u.containerInfo)}function Jf(n,u,S,L,X){return Ii(),wc(X),u.flags|=256,dn(n,u,S,L),u.child}var qc={dehydrated:null,treeContext:null,retryLane:0};function Xc(n){return{baseLanes:n,cachePool:null,transitions:null}}function Zf(n,u,S){var L=u.pendingProps,X=jr.current,Z=!1,ue=(u.flags&128)!==0,Se;if((Se=ue)||(Se=n!==null&&n.memoizedState===null?!1:(X&2)!==0),Se?(Z=!0,u.flags&=-129):(n===null||n.memoizedState!==null)&&(X|=1),lr(jr,X&1),n===null)return bc(u),n=u.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?((u.mode&1)===0?u.lanes=1:n.data==="$!"?u.lanes=8:u.lanes=1073741824,null):(ue=L.children,n=L.fallback,Z?(L=u.mode,Z=u.child,ue={mode:"hidden",children:ue},(L&1)===0&&Z!==null?(Z.childLanes=0,Z.pendingProps=ue):Z=tu(ue,L,0,null),n=ii(n,L,S,null),Z.return=u,n.return=u,Z.sibling=n,u.child=Z,u.child.memoizedState=Xc(S),u.memoizedState=qc,n):Yc(u,ue));if(X=n.memoizedState,X!==null&&(Se=X.dehydrated,Se!==null))return zy(n,u,ue,L,Se,X,S);if(Z){Z=L.fallback,ue=u.mode,X=n.child,Se=X.sibling;var Ce={mode:"hidden",children:L.children};return(ue&1)===0&&u.child!==X?(L=u.child,L.childLanes=0,L.pendingProps=Ce,u.deletions=null):(L=bo(X,Ce),L.subtreeFlags=X.subtreeFlags&14680064),Se!==null?Z=bo(Se,Z):(Z=ii(Z,ue,S,null),Z.flags|=2),Z.return=u,L.return=u,L.sibling=Z,u.child=L,L=Z,Z=u.child,ue=n.child.memoizedState,ue=ue===null?Xc(S):{baseLanes:ue.baseLanes|S,cachePool:null,transitions:ue.transitions},Z.memoizedState=ue,Z.childLanes=n.childLanes&~S,u.memoizedState=qc,L}return Z=n.child,n=Z.sibling,L=bo(Z,{mode:"visible",children:L.children}),(u.mode&1)===0&&(L.lanes=S),L.return=u,L.sibling=null,n!==null&&(S=u.deletions,S===null?(u.deletions=[n],u.flags|=16):S.push(n)),u.child=L,u.memoizedState=null,L}function Yc(n,u){return u=tu({mode:"visible",children:u},n.mode,0,null),u.return=n,n.child=u}function Gl(n,u,S,L){return L!==null&&wc(L),Ni(u,n.child,null,S),n=Yc(u,u.pendingProps.children),n.flags|=2,u.memoizedState=null,n}function zy(n,u,S,L,X,Z,ue){if(S)return u.flags&256?(u.flags&=-257,L=Gc(Error(v(422))),Gl(n,u,ue,L)):u.memoizedState!==null?(u.child=n.child,u.flags|=128,null):(Z=L.fallback,X=u.mode,L=tu({mode:"visible",children:L.children},X,0,null),Z=ii(Z,X,ue,null),Z.flags|=2,L.return=u,Z.return=u,L.sibling=Z,u.child=L,(u.mode&1)!==0&&Ni(u,n.child,null,ue),u.child.memoizedState=Xc(ue),u.memoizedState=qc,Z);if((u.mode&1)===0)return Gl(n,u,ue,null);if(X.data==="$!"){if(L=X.nextSibling&&X.nextSibling.dataset,L)var Se=L.dgst;return L=Se,Z=Error(v(419)),L=Gc(Z,L,void 0),Gl(n,u,ue,L)}if(Se=(ue&n.childLanes)!==0,jn||Se){if(L=$r,L!==null){switch(ue&-ue){case 4:X=2;break;case 16:X=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:X=32;break;case 536870912:X=268435456;break;default:X=0}X=(X&(L.suspendedLanes|ue))!==0?0:X,X!==0&&X!==Z.retryLane&&(Z.retryLane=X,Fs(n,X),ls(L,n,X,-1))}return ch(),L=Gc(Error(v(421))),Gl(n,u,ue,L)}return X.data==="$?"?(u.flags|=128,u.child=n.child,u=rg.bind(null,n),X._reactRetry=u,null):(n=Z.treeContext,Ln=lo(X.nextSibling),Dn=u,_r=!0,ss=null,n!==null&&(Bn[Vn++]=Ls,Bn[Vn++]=Ns,Bn[Vn++]=Jo,Ls=n.id,Ns=n.overflow,Jo=u),u=Yc(u,L.children),u.flags|=4096,u)}function Kf(n,u,S){n.lanes|=u;var L=n.alternate;L!==null&&(L.lanes|=u),Tc(n.return,u,S)}function Qc(n,u,S,L,X){var Z=n.memoizedState;Z===null?n.memoizedState={isBackwards:u,rendering:null,renderingStartTime:0,last:L,tail:S,tailMode:X}:(Z.isBackwards=u,Z.rendering=null,Z.renderingStartTime=0,Z.last=L,Z.tail=S,Z.tailMode=X)}function ep(n,u,S){var L=u.pendingProps,X=L.revealOrder,Z=L.tail;if(dn(n,u,L.children,S),L=jr.current,(L&2)!==0)L=L&1|2,u.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=u.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&Kf(n,S,u);else if(n.tag===19)Kf(n,S,u);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===u)break e;for(;n.sibling===null;){if(n.return===null||n.return===u)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}L&=1}if(lr(jr,L),(u.mode&1)===0)u.memoizedState=null;else switch(X){case"forwards":for(S=u.child,X=null;S!==null;)n=S.alternate,n!==null&&Ll(n)===null&&(X=S),S=S.sibling;S=X,S===null?(X=u.child,u.child=null):(X=S.sibling,S.sibling=null),Qc(u,!1,X,S,Z);break;case"backwards":for(S=null,X=u.child,u.child=null;X!==null;){if(n=X.alternate,n!==null&&Ll(n)===null){u.child=X;break}n=X.sibling,X.sibling=S,S=X,X=n}Qc(u,!0,S,null,Z);break;case"together":Qc(u,!1,null,null,void 0);break;default:u.memoizedState=null}return u.child}function zl(n,u){(u.mode&1)===0&&n!==null&&(n.alternate=null,u.alternate=null,u.flags|=2)}function Bs(n,u,S){if(n!==null&&(u.dependencies=n.dependencies),ri|=u.lanes,(S&u.childLanes)===0)return null;if(n!==null&&u.child!==n.child)throw Error(v(153));if(u.child!==null){for(n=u.child,S=bo(n,n.pendingProps),u.child=S,S.return=u;n.sibling!==null;)n=n.sibling,S=S.sibling=bo(n,n.pendingProps),S.return=u;S.sibling=null}return u.child}function Hy(n,u,S){switch(u.tag){case 3:$f(u),Ii();break;case 5:gf(u);break;case 1:xn(u.type)&&Tl(u);break;case 4:Oc(u,u.stateNode.containerInfo);break;case 10:var L=u.type._context,X=u.memoizedProps.value;lr(Ol,L._currentValue),L._currentValue=X;break;case 13:if(L=u.memoizedState,L!==null)return L.dehydrated!==null?(lr(jr,jr.current&1),u.flags|=128,null):(S&u.child.childLanes)!==0?Zf(n,u,S):(lr(jr,jr.current&1),n=Bs(n,u,S),n!==null?n.sibling:null);lr(jr,jr.current&1);break;case 19:if(L=(S&u.childLanes)!==0,(n.flags&128)!==0){if(L)return ep(n,u,S);u.flags|=128}if(X=u.memoizedState,X!==null&&(X.rendering=null,X.tail=null,X.lastEffect=null),lr(jr,jr.current),L)break;return null;case 22:case 23:return u.lanes=0,Xf(n,u,S)}return Bs(n,u,S)}var tp,$c,rp,np;tp=function(n,u){for(var S=u.child;S!==null;){if(S.tag===5||S.tag===6)n.appendChild(S.stateNode);else if(S.tag!==4&&S.child!==null){S.child.return=S,S=S.child;continue}if(S===u)break;for(;S.sibling===null;){if(S.return===null||S.return===u)return;S=S.return}S.sibling.return=S.return,S=S.sibling}},$c=function(){},rp=function(n,u,S,L){var X=n.memoizedProps;if(X!==L){n=u.stateNode,ei(bs.current);var Z=null;switch(S){case"input":X=le(n,X),L=le(n,L),Z=[];break;case"select":X=z({},X,{value:void 0}),L=z({},L,{value:void 0}),Z=[];break;case"textarea":X=Ne(n,X),L=Ne(n,L),Z=[];break;default:typeof X.onClick!="function"&&typeof L.onClick=="function"&&(n.onclick=xl)}Ie(S,L);var ue;S=null;for(He in X)if(!L.hasOwnProperty(He)&&X.hasOwnProperty(He)&&X[He]!=null)if(He==="style"){var Se=X[He];for(ue in Se)Se.hasOwnProperty(ue)&&(S||(S={}),S[ue]="")}else He!=="dangerouslySetInnerHTML"&&He!=="children"&&He!=="suppressContentEditableWarning"&&He!=="suppressHydrationWarning"&&He!=="autoFocus"&&(j.hasOwnProperty(He)?Z||(Z=[]):(Z=Z||[]).push(He,null));for(He in L){var Ce=L[He];if(Se=X!=null?X[He]:void 0,L.hasOwnProperty(He)&&Ce!==Se&&(Ce!=null||Se!=null))if(He==="style")if(Se){for(ue in Se)!Se.hasOwnProperty(ue)||Ce&&Ce.hasOwnProperty(ue)||(S||(S={}),S[ue]="");for(ue in Ce)Ce.hasOwnProperty(ue)&&Se[ue]!==Ce[ue]&&(S||(S={}),S[ue]=Ce[ue])}else S||(Z||(Z=[]),Z.push(He,S)),S=Ce;else He==="dangerouslySetInnerHTML"?(Ce=Ce?Ce.__html:void 0,Se=Se?Se.__html:void 0,Ce!=null&&Se!==Ce&&(Z=Z||[]).push(He,Ce)):He==="children"?typeof Ce!="string"&&typeof Ce!="number"||(Z=Z||[]).push(He,""+Ce):He!=="suppressContentEditableWarning"&&He!=="suppressHydrationWarning"&&(j.hasOwnProperty(He)?(Ce!=null&&He==="onScroll"&&fr("scroll",n),Z||Se===Ce||(Z=[])):(Z=Z||[]).push(He,Ce))}S&&(Z=Z||[]).push("style",S);var He=Z;(u.updateQueue=He)&&(u.flags|=4)}},np=function(n,u,S,L){S!==L&&(u.flags|=4)};function Oa(n,u){if(!_r)switch(n.tailMode){case"hidden":u=n.tail;for(var S=null;u!==null;)u.alternate!==null&&(S=u),u=u.sibling;S===null?n.tail=null:S.sibling=null;break;case"collapsed":S=n.tail;for(var L=null;S!==null;)S.alternate!==null&&(L=S),S=S.sibling;L===null?u||n.tail===null?n.tail=null:n.tail.sibling=null:L.sibling=null}}function ln(n){var u=n.alternate!==null&&n.alternate.child===n.child,S=0,L=0;if(u)for(var X=n.child;X!==null;)S|=X.lanes|X.childLanes,L|=X.subtreeFlags&14680064,L|=X.flags&14680064,X.return=n,X=X.sibling;else for(X=n.child;X!==null;)S|=X.lanes|X.childLanes,L|=X.subtreeFlags,L|=X.flags,X.return=n,X=X.sibling;return n.subtreeFlags|=L,n.childLanes=S,u}function Wy(n,u,S){var L=u.pendingProps;switch(vc(u),u.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ln(u),null;case 1:return xn(u.type)&&Sl(),ln(u),null;case 3:return L=u.stateNode,Fi(),pr(wn),pr(on),Rc(),L.pendingContext&&(L.context=L.pendingContext,L.pendingContext=null),(n===null||n.child===null)&&(Ml(u)?u.flags|=4:n===null||n.memoizedState.isDehydrated&&(u.flags&256)===0||(u.flags|=1024,ss!==null&&(ah(ss),ss=null))),$c(n,u),ln(u),null;case 5:Ac(u);var X=ei(Ta.current);if(S=u.type,n!==null&&u.stateNode!=null)rp(n,u,S,L,X),n.ref!==u.ref&&(u.flags|=512,u.flags|=2097152);else{if(!L){if(u.stateNode===null)throw Error(v(166));return ln(u),null}if(n=ei(bs.current),Ml(u)){L=u.stateNode,S=u.type;var Z=u.memoizedProps;switch(L[_s]=u,L[ba]=Z,n=(u.mode&1)!==0,S){case"dialog":fr("cancel",L),fr("close",L);break;case"iframe":case"object":case"embed":fr("load",L);break;case"video":case"audio":for(X=0;X<ga.length;X++)fr(ga[X],L);break;case"source":fr("error",L);break;case"img":case"image":case"link":fr("error",L),fr("load",L);break;case"details":fr("toggle",L);break;case"input":he(L,Z),fr("invalid",L);break;case"select":L._wrapperState={wasMultiple:!!Z.multiple},fr("invalid",L);break;case"textarea":ct(L,Z),fr("invalid",L)}Ie(S,Z),X=null;for(var ue in Z)if(Z.hasOwnProperty(ue)){var Se=Z[ue];ue==="children"?typeof Se=="string"?L.textContent!==Se&&(Z.suppressHydrationWarning!==!0&&wl(L.textContent,Se,n),X=["children",Se]):typeof Se=="number"&&L.textContent!==""+Se&&(Z.suppressHydrationWarning!==!0&&wl(L.textContent,Se,n),X=["children",""+Se]):j.hasOwnProperty(ue)&&Se!=null&&ue==="onScroll"&&fr("scroll",L)}switch(S){case"input":pe(L),je(L,Z,!0);break;case"textarea":pe(L),ot(L);break;case"select":case"option":break;default:typeof Z.onClick=="function"&&(L.onclick=xl)}L=X,u.updateQueue=L,L!==null&&(u.flags|=4)}else{ue=X.nodeType===9?X:X.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=ut(S)),n==="http://www.w3.org/1999/xhtml"?S==="script"?(n=ue.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof L.is=="string"?n=ue.createElement(S,{is:L.is}):(n=ue.createElement(S),S==="select"&&(ue=n,L.multiple?ue.multiple=!0:L.size&&(ue.size=L.size))):n=ue.createElementNS(n,S),n[_s]=u,n[ba]=L,tp(n,u,!1,!1),u.stateNode=n;e:{switch(ue=ze(S,L),S){case"dialog":fr("cancel",n),fr("close",n),X=L;break;case"iframe":case"object":case"embed":fr("load",n),X=L;break;case"video":case"audio":for(X=0;X<ga.length;X++)fr(ga[X],n);X=L;break;case"source":fr("error",n),X=L;break;case"img":case"image":case"link":fr("error",n),fr("load",n),X=L;break;case"details":fr("toggle",n),X=L;break;case"input":he(n,L),X=le(n,L),fr("invalid",n);break;case"option":X=L;break;case"select":n._wrapperState={wasMultiple:!!L.multiple},X=z({},L,{value:void 0}),fr("invalid",n);break;case"textarea":ct(n,L),X=Ne(n,L),fr("invalid",n);break;default:X=L}Ie(S,X),Se=X;for(Z in Se)if(Se.hasOwnProperty(Z)){var Ce=Se[Z];Z==="style"?fe(n,Ce):Z==="dangerouslySetInnerHTML"?(Ce=Ce?Ce.__html:void 0,Ce!=null&&Xe(n,Ce)):Z==="children"?typeof Ce=="string"?(S!=="textarea"||Ce!=="")&&De(n,Ce):typeof Ce=="number"&&De(n,""+Ce):Z!=="suppressContentEditableWarning"&&Z!=="suppressHydrationWarning"&&Z!=="autoFocus"&&(j.hasOwnProperty(Z)?Ce!=null&&Z==="onScroll"&&fr("scroll",n):Ce!=null&&_(n,Z,Ce,ue))}switch(S){case"input":pe(n),je(n,L,!1);break;case"textarea":pe(n),ot(n);break;case"option":L.value!=null&&n.setAttribute("value",""+se(L.value));break;case"select":n.multiple=!!L.multiple,Z=L.value,Z!=null?qe(n,!!L.multiple,Z,!1):L.defaultValue!=null&&qe(n,!!L.multiple,L.defaultValue,!0);break;default:typeof X.onClick=="function"&&(n.onclick=xl)}switch(S){case"button":case"input":case"select":case"textarea":L=!!L.autoFocus;break e;case"img":L=!0;break e;default:L=!1}}L&&(u.flags|=4)}u.ref!==null&&(u.flags|=512,u.flags|=2097152)}return ln(u),null;case 6:if(n&&u.stateNode!=null)np(n,u,n.memoizedProps,L);else{if(typeof L!="string"&&u.stateNode===null)throw Error(v(166));if(S=ei(Ta.current),ei(bs.current),Ml(u)){if(L=u.stateNode,S=u.memoizedProps,L[_s]=u,(Z=L.nodeValue!==S)&&(n=Dn,n!==null))switch(n.tag){case 3:wl(L.nodeValue,S,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&wl(L.nodeValue,S,(n.mode&1)!==0)}Z&&(u.flags|=4)}else L=(S.nodeType===9?S:S.ownerDocument).createTextNode(L),L[_s]=u,u.stateNode=L}return ln(u),null;case 13:if(pr(jr),L=u.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(_r&&Ln!==null&&(u.mode&1)!==0&&(u.flags&128)===0)sf(),Ii(),u.flags|=98560,Z=!1;else if(Z=Ml(u),L!==null&&L.dehydrated!==null){if(n===null){if(!Z)throw Error(v(318));if(Z=u.memoizedState,Z=Z!==null?Z.dehydrated:null,!Z)throw Error(v(317));Z[_s]=u}else Ii(),(u.flags&128)===0&&(u.memoizedState=null),u.flags|=4;ln(u),Z=!1}else ss!==null&&(ah(ss),ss=null),Z=!0;if(!Z)return u.flags&65536?u:null}return(u.flags&128)!==0?(u.lanes=S,u):(L=L!==null,L!==(n!==null&&n.memoizedState!==null)&&L&&(u.child.flags|=8192,(u.mode&1)!==0&&(n===null||(jr.current&1)!==0?Wr===0&&(Wr=3):ch())),u.updateQueue!==null&&(u.flags|=4),ln(u),null);case 4:return Fi(),$c(n,u),n===null&&va(u.stateNode.containerInfo),ln(u),null;case 10:return Sc(u.type._context),ln(u),null;case 17:return xn(u.type)&&Sl(),ln(u),null;case 19:if(pr(jr),Z=u.memoizedState,Z===null)return ln(u),null;if(L=(u.flags&128)!==0,ue=Z.rendering,ue===null)if(L)Oa(Z,!1);else{if(Wr!==0||n!==null&&(n.flags&128)!==0)for(n=u.child;n!==null;){if(ue=Ll(n),ue!==null){for(u.flags|=128,Oa(Z,!1),L=ue.updateQueue,L!==null&&(u.updateQueue=L,u.flags|=4),u.subtreeFlags=0,L=S,S=u.child;S!==null;)Z=S,n=L,Z.flags&=14680066,ue=Z.alternate,ue===null?(Z.childLanes=0,Z.lanes=n,Z.child=null,Z.subtreeFlags=0,Z.memoizedProps=null,Z.memoizedState=null,Z.updateQueue=null,Z.dependencies=null,Z.stateNode=null):(Z.childLanes=ue.childLanes,Z.lanes=ue.lanes,Z.child=ue.child,Z.subtreeFlags=0,Z.deletions=null,Z.memoizedProps=ue.memoizedProps,Z.memoizedState=ue.memoizedState,Z.updateQueue=ue.updateQueue,Z.type=ue.type,n=ue.dependencies,Z.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),S=S.sibling;return lr(jr,jr.current&1|2),u.child}n=n.sibling}Z.tail!==null&&Tt()>Gi&&(u.flags|=128,L=!0,Oa(Z,!1),u.lanes=4194304)}else{if(!L)if(n=Ll(ue),n!==null){if(u.flags|=128,L=!0,S=n.updateQueue,S!==null&&(u.updateQueue=S,u.flags|=4),Oa(Z,!0),Z.tail===null&&Z.tailMode==="hidden"&&!ue.alternate&&!_r)return ln(u),null}else 2*Tt()-Z.renderingStartTime>Gi&&S!==1073741824&&(u.flags|=128,L=!0,Oa(Z,!1),u.lanes=4194304);Z.isBackwards?(ue.sibling=u.child,u.child=ue):(S=Z.last,S!==null?S.sibling=ue:u.child=ue,Z.last=ue)}return Z.tail!==null?(u=Z.tail,Z.rendering=u,Z.tail=u.sibling,Z.renderingStartTime=Tt(),u.sibling=null,S=jr.current,lr(jr,L?S&1|2:S&1),u):(ln(u),null);case 22:case 23:return uh(),L=u.memoizedState!==null,n!==null&&n.memoizedState!==null!==L&&(u.flags|=8192),L&&(u.mode&1)!==0?(Nn&1073741824)!==0&&(ln(u),u.subtreeFlags&6&&(u.flags|=8192)):ln(u),null;case 24:return null;case 25:return null}throw Error(v(156,u.tag))}function qy(n,u){switch(vc(u),u.tag){case 1:return xn(u.type)&&Sl(),n=u.flags,n&65536?(u.flags=n&-65537|128,u):null;case 3:return Fi(),pr(wn),pr(on),Rc(),n=u.flags,(n&65536)!==0&&(n&128)===0?(u.flags=n&-65537|128,u):null;case 5:return Ac(u),null;case 13:if(pr(jr),n=u.memoizedState,n!==null&&n.dehydrated!==null){if(u.alternate===null)throw Error(v(340));Ii()}return n=u.flags,n&65536?(u.flags=n&-65537|128,u):null;case 19:return pr(jr),null;case 4:return Fi(),null;case 10:return Sc(u.type._context),null;case 22:case 23:return uh(),null;case 24:return null;default:return null}}var Hl=!1,un=!1,Xy=typeof WeakSet=="function"?WeakSet:Set,vt=null;function Bi(n,u){var S=n.ref;if(S!==null)if(typeof S=="function")try{S(null)}catch(L){Cr(n,u,L)}else S.current=null}function Jc(n,u,S){try{S()}catch(L){Cr(n,u,L)}}var sp=!1;function Yy(n,u){if(uc=Rn,n=Id(),tc(n)){if("selectionStart"in n)var S={start:n.selectionStart,end:n.selectionEnd};else e:{S=(S=n.ownerDocument)&&S.defaultView||window;var L=S.getSelection&&S.getSelection();if(L&&L.rangeCount!==0){S=L.anchorNode;var X=L.anchorOffset,Z=L.focusNode;L=L.focusOffset;try{S.nodeType,Z.nodeType}catch{S=null;break e}var ue=0,Se=-1,Ce=-1,He=0,et=0,tt=n,Ke=null;t:for(;;){for(var pt;tt!==S||X!==0&&tt.nodeType!==3||(Se=ue+X),tt!==Z||L!==0&&tt.nodeType!==3||(Ce=ue+L),tt.nodeType===3&&(ue+=tt.nodeValue.length),(pt=tt.firstChild)!==null;)Ke=tt,tt=pt;for(;;){if(tt===n)break t;if(Ke===S&&++He===X&&(Se=ue),Ke===Z&&++et===L&&(Ce=ue),(pt=tt.nextSibling)!==null)break;tt=Ke,Ke=tt.parentNode}tt=pt}S=Se===-1||Ce===-1?null:{start:Se,end:Ce}}else S=null}S=S||{start:0,end:0}}else S=null;for(cc={focusedElem:n,selectionRange:S},Rn=!1,vt=u;vt!==null;)if(u=vt,n=u.child,(u.subtreeFlags&1028)!==0&&n!==null)n.return=u,vt=n;else for(;vt!==null;){u=vt;try{var wt=u.alternate;if((u.flags&1024)!==0)switch(u.tag){case 0:case 11:case 15:break;case 1:if(wt!==null){var xt=wt.memoizedProps,Ar=wt.memoizedState,Ve=u.stateNode,Re=Ve.getSnapshotBeforeUpdate(u.elementType===u.type?xt:os(u.type,xt),Ar);Ve.__reactInternalSnapshotBeforeUpdate=Re}break;case 3:var Ge=u.stateNode.containerInfo;Ge.nodeType===1?Ge.textContent="":Ge.nodeType===9&&Ge.documentElement&&Ge.removeChild(Ge.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(v(163))}}catch(it){Cr(u,u.return,it)}if(n=u.sibling,n!==null){n.return=u.return,vt=n;break}vt=u.return}return wt=sp,sp=!1,wt}function Aa(n,u,S){var L=u.updateQueue;if(L=L!==null?L.lastEffect:null,L!==null){var X=L=L.next;do{if((X.tag&n)===n){var Z=X.destroy;X.destroy=void 0,Z!==void 0&&Jc(u,S,Z)}X=X.next}while(X!==L)}}function Wl(n,u){if(u=u.updateQueue,u=u!==null?u.lastEffect:null,u!==null){var S=u=u.next;do{if((S.tag&n)===n){var L=S.create;S.destroy=L()}S=S.next}while(S!==u)}}function Zc(n){var u=n.ref;if(u!==null){var S=n.stateNode;switch(n.tag){case 5:n=S;break;default:n=S}typeof u=="function"?u(n):u.current=n}}function op(n){var u=n.alternate;u!==null&&(n.alternate=null,op(u)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(u=n.stateNode,u!==null&&(delete u[_s],delete u[ba],delete u[pc],delete u[Oy],delete u[Ay])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function ip(n){return n.tag===5||n.tag===3||n.tag===4}function ap(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||ip(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Kc(n,u,S){var L=n.tag;if(L===5||L===6)n=n.stateNode,u?S.nodeType===8?S.parentNode.insertBefore(n,u):S.insertBefore(n,u):(S.nodeType===8?(u=S.parentNode,u.insertBefore(n,S)):(u=S,u.appendChild(n)),S=S._reactRootContainer,S!=null||u.onclick!==null||(u.onclick=xl));else if(L!==4&&(n=n.child,n!==null))for(Kc(n,u,S),n=n.sibling;n!==null;)Kc(n,u,S),n=n.sibling}function eh(n,u,S){var L=n.tag;if(L===5||L===6)n=n.stateNode,u?S.insertBefore(n,u):S.appendChild(n);else if(L!==4&&(n=n.child,n!==null))for(eh(n,u,S),n=n.sibling;n!==null;)eh(n,u,S),n=n.sibling}var en=null,is=!1;function mo(n,u,S){for(S=S.child;S!==null;)lp(n,u,S),S=S.sibling}function lp(n,u,S){if(Or&&typeof Or.onCommitFiberUnmount=="function")try{Or.onCommitFiberUnmount(Xr,S)}catch{}switch(S.tag){case 5:un||Bi(S,u);case 6:var L=en,X=is;en=null,mo(n,u,S),en=L,is=X,en!==null&&(is?(n=en,S=S.stateNode,n.nodeType===8?n.parentNode.removeChild(S):n.removeChild(S)):en.removeChild(S.stateNode));break;case 18:en!==null&&(is?(n=en,S=S.stateNode,n.nodeType===8?fc(n.parentNode,S):n.nodeType===1&&fc(n,S),es(n)):fc(en,S.stateNode));break;case 4:L=en,X=is,en=S.stateNode.containerInfo,is=!0,mo(n,u,S),en=L,is=X;break;case 0:case 11:case 14:case 15:if(!un&&(L=S.updateQueue,L!==null&&(L=L.lastEffect,L!==null))){X=L=L.next;do{var Z=X,ue=Z.destroy;Z=Z.tag,ue!==void 0&&((Z&2)!==0||(Z&4)!==0)&&Jc(S,u,ue),X=X.next}while(X!==L)}mo(n,u,S);break;case 1:if(!un&&(Bi(S,u),L=S.stateNode,typeof L.componentWillUnmount=="function"))try{L.props=S.memoizedProps,L.state=S.memoizedState,L.componentWillUnmount()}catch(Se){Cr(S,u,Se)}mo(n,u,S);break;case 21:mo(n,u,S);break;case 22:S.mode&1?(un=(L=un)||S.memoizedState!==null,mo(n,u,S),un=L):mo(n,u,S);break;default:mo(n,u,S)}}function up(n){var u=n.updateQueue;if(u!==null){n.updateQueue=null;var S=n.stateNode;S===null&&(S=n.stateNode=new Xy),u.forEach(function(L){var X=ng.bind(null,n,L);S.has(L)||(S.add(L),L.then(X,X))})}}function as(n,u){var S=u.deletions;if(S!==null)for(var L=0;L<S.length;L++){var X=S[L];try{var Z=n,ue=u,Se=ue;e:for(;Se!==null;){switch(Se.tag){case 5:en=Se.stateNode,is=!1;break e;case 3:en=Se.stateNode.containerInfo,is=!0;break e;case 4:en=Se.stateNode.containerInfo,is=!0;break e}Se=Se.return}if(en===null)throw Error(v(160));lp(Z,ue,X),en=null,is=!1;var Ce=X.alternate;Ce!==null&&(Ce.return=null),X.return=null}catch(He){Cr(X,u,He)}}if(u.subtreeFlags&12854)for(u=u.child;u!==null;)cp(u,n),u=u.sibling}function cp(n,u){var S=n.alternate,L=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(as(u,n),xs(n),L&4){try{Aa(3,n,n.return),Wl(3,n)}catch(xt){Cr(n,n.return,xt)}try{Aa(5,n,n.return)}catch(xt){Cr(n,n.return,xt)}}break;case 1:as(u,n),xs(n),L&512&&S!==null&&Bi(S,S.return);break;case 5:if(as(u,n),xs(n),L&512&&S!==null&&Bi(S,S.return),n.flags&32){var X=n.stateNode;try{De(X,"")}catch(xt){Cr(n,n.return,xt)}}if(L&4&&(X=n.stateNode,X!=null)){var Z=n.memoizedProps,ue=S!==null?S.memoizedProps:Z,Se=n.type,Ce=n.updateQueue;if(n.updateQueue=null,Ce!==null)try{Se==="input"&&Z.type==="radio"&&Z.name!=null&&be(X,Z),ze(Se,ue);var He=ze(Se,Z);for(ue=0;ue<Ce.length;ue+=2){var et=Ce[ue],tt=Ce[ue+1];et==="style"?fe(X,tt):et==="dangerouslySetInnerHTML"?Xe(X,tt):et==="children"?De(X,tt):_(X,et,tt,He)}switch(Se){case"input":Ae(X,Z);break;case"textarea":nt(X,Z);break;case"select":var Ke=X._wrapperState.wasMultiple;X._wrapperState.wasMultiple=!!Z.multiple;var pt=Z.value;pt!=null?qe(X,!!Z.multiple,pt,!1):Ke!==!!Z.multiple&&(Z.defaultValue!=null?qe(X,!!Z.multiple,Z.defaultValue,!0):qe(X,!!Z.multiple,Z.multiple?[]:"",!1))}X[ba]=Z}catch(xt){Cr(n,n.return,xt)}}break;case 6:if(as(u,n),xs(n),L&4){if(n.stateNode===null)throw Error(v(162));X=n.stateNode,Z=n.memoizedProps;try{X.nodeValue=Z}catch(xt){Cr(n,n.return,xt)}}break;case 3:if(as(u,n),xs(n),L&4&&S!==null&&S.memoizedState.isDehydrated)try{es(u.containerInfo)}catch(xt){Cr(n,n.return,xt)}break;case 4:as(u,n),xs(n);break;case 13:as(u,n),xs(n),X=n.child,X.flags&8192&&(Z=X.memoizedState!==null,X.stateNode.isHidden=Z,!Z||X.alternate!==null&&X.alternate.memoizedState!==null||(nh=Tt())),L&4&&up(n);break;case 22:if(et=S!==null&&S.memoizedState!==null,n.mode&1?(un=(He=un)||et,as(u,n),un=He):as(u,n),xs(n),L&8192){if(He=n.memoizedState!==null,(n.stateNode.isHidden=He)&&!et&&(n.mode&1)!==0)for(vt=n,et=n.child;et!==null;){for(tt=vt=et;vt!==null;){switch(Ke=vt,pt=Ke.child,Ke.tag){case 0:case 11:case 14:case 15:Aa(4,Ke,Ke.return);break;case 1:Bi(Ke,Ke.return);var wt=Ke.stateNode;if(typeof wt.componentWillUnmount=="function"){L=Ke,S=Ke.return;try{u=L,wt.props=u.memoizedProps,wt.state=u.memoizedState,wt.componentWillUnmount()}catch(xt){Cr(L,S,xt)}}break;case 5:Bi(Ke,Ke.return);break;case 22:if(Ke.memoizedState!==null){fp(tt);continue}}pt!==null?(pt.return=Ke,vt=pt):fp(tt)}et=et.sibling}e:for(et=null,tt=n;;){if(tt.tag===5){if(et===null){et=tt;try{X=tt.stateNode,He?(Z=X.style,typeof Z.setProperty=="function"?Z.setProperty("display","none","important"):Z.display="none"):(Se=tt.stateNode,Ce=tt.memoizedProps.style,ue=Ce!=null&&Ce.hasOwnProperty("display")?Ce.display:null,Se.style.display=re("display",ue))}catch(xt){Cr(n,n.return,xt)}}}else if(tt.tag===6){if(et===null)try{tt.stateNode.nodeValue=He?"":tt.memoizedProps}catch(xt){Cr(n,n.return,xt)}}else if((tt.tag!==22&&tt.tag!==23||tt.memoizedState===null||tt===n)&&tt.child!==null){tt.child.return=tt,tt=tt.child;continue}if(tt===n)break e;for(;tt.sibling===null;){if(tt.return===null||tt.return===n)break e;et===tt&&(et=null),tt=tt.return}et===tt&&(et=null),tt.sibling.return=tt.return,tt=tt.sibling}}break;case 19:as(u,n),xs(n),L&4&&up(n);break;case 21:break;default:as(u,n),xs(n)}}function xs(n){var u=n.flags;if(u&2){try{e:{for(var S=n.return;S!==null;){if(ip(S)){var L=S;break e}S=S.return}throw Error(v(160))}switch(L.tag){case 5:var X=L.stateNode;L.flags&32&&(De(X,""),L.flags&=-33);var Z=ap(n);eh(n,Z,X);break;case 3:case 4:var ue=L.stateNode.containerInfo,Se=ap(n);Kc(n,Se,ue);break;default:throw Error(v(161))}}catch(Ce){Cr(n,n.return,Ce)}n.flags&=-3}u&4096&&(n.flags&=-4097)}function Qy(n,u,S){vt=n,hp(n)}function hp(n,u,S){for(var L=(n.mode&1)!==0;vt!==null;){var X=vt,Z=X.child;if(X.tag===22&&L){var ue=X.memoizedState!==null||Hl;if(!ue){var Se=X.alternate,Ce=Se!==null&&Se.memoizedState!==null||un;Se=Hl;var He=un;if(Hl=ue,(un=Ce)&&!He)for(vt=X;vt!==null;)ue=vt,Ce=ue.child,ue.tag===22&&ue.memoizedState!==null?pp(X):Ce!==null?(Ce.return=ue,vt=Ce):pp(X);for(;Z!==null;)vt=Z,hp(Z),Z=Z.sibling;vt=X,Hl=Se,un=He}dp(n)}else(X.subtreeFlags&8772)!==0&&Z!==null?(Z.return=X,vt=Z):dp(n)}}function dp(n){for(;vt!==null;){var u=vt;if((u.flags&8772)!==0){var S=u.alternate;try{if((u.flags&8772)!==0)switch(u.tag){case 0:case 11:case 15:un||Wl(5,u);break;case 1:var L=u.stateNode;if(u.flags&4&&!un)if(S===null)L.componentDidMount();else{var X=u.elementType===u.type?S.memoizedProps:os(u.type,S.memoizedProps);L.componentDidUpdate(X,S.memoizedState,L.__reactInternalSnapshotBeforeUpdate)}var Z=u.updateQueue;Z!==null&&uf(u,Z,L);break;case 3:var ue=u.updateQueue;if(ue!==null){if(S=null,u.child!==null)switch(u.child.tag){case 5:S=u.child.stateNode;break;case 1:S=u.child.stateNode}uf(u,ue,S)}break;case 5:var Se=u.stateNode;if(S===null&&u.flags&4){S=Se;var Ce=u.memoizedProps;switch(u.type){case"button":case"input":case"select":case"textarea":Ce.autoFocus&&S.focus();break;case"img":Ce.src&&(S.src=Ce.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(u.memoizedState===null){var He=u.alternate;if(He!==null){var et=He.memoizedState;if(et!==null){var tt=et.dehydrated;tt!==null&&es(tt)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(v(163))}un||u.flags&512&&Zc(u)}catch(Ke){Cr(u,u.return,Ke)}}if(u===n){vt=null;break}if(S=u.sibling,S!==null){S.return=u.return,vt=S;break}vt=u.return}}function fp(n){for(;vt!==null;){var u=vt;if(u===n){vt=null;break}var S=u.sibling;if(S!==null){S.return=u.return,vt=S;break}vt=u.return}}function pp(n){for(;vt!==null;){var u=vt;try{switch(u.tag){case 0:case 11:case 15:var S=u.return;try{Wl(4,u)}catch(Ce){Cr(u,S,Ce)}break;case 1:var L=u.stateNode;if(typeof L.componentDidMount=="function"){var X=u.return;try{L.componentDidMount()}catch(Ce){Cr(u,X,Ce)}}var Z=u.return;try{Zc(u)}catch(Ce){Cr(u,Z,Ce)}break;case 5:var ue=u.return;try{Zc(u)}catch(Ce){Cr(u,ue,Ce)}}}catch(Ce){Cr(u,u.return,Ce)}if(u===n){vt=null;break}var Se=u.sibling;if(Se!==null){Se.return=u.return,vt=Se;break}vt=u.return}}var $y=Math.ceil,ql=b.ReactCurrentDispatcher,th=b.ReactCurrentOwner,Hn=b.ReactCurrentBatchConfig,Wt=0,$r=null,Fr=null,tn=0,Nn=0,Vi=uo(0),Wr=0,Pa=null,ri=0,Xl=0,rh=0,Ra=null,Sn=null,nh=0,Gi=1/0,Vs=null,Yl=!1,sh=null,yo=null,Ql=!1,go=null,$l=0,Ia=0,oh=null,Jl=-1,Zl=0;function fn(){return(Wt&6)!==0?Tt():Jl!==-1?Jl:Jl=Tt()}function vo(n){return(n.mode&1)===0?1:(Wt&2)!==0&&tn!==0?tn&-tn:Ry.transition!==null?(Zl===0&&(Zl=ll()),Zl):(n=zt,n!==0||(n=window.event,n=n===void 0?16:ca(n.type)),n)}function ls(n,u,S,L){if(50<Ia)throw Ia=0,oh=null,Error(v(185));Ks(n,S,L),((Wt&2)===0||n!==$r)&&(n===$r&&((Wt&2)===0&&(Xl|=S),Wr===4&&_o(n,tn)),Tn(n,L),S===1&&Wt===0&&(u.mode&1)===0&&(Gi=Tt()+500,kl&&ho()))}function Tn(n,u){var S=n.callbackNode;al(n,u);var L=Zs(n,n===$r?tn:0);if(L===0)S!==null&&Qe(S),n.callbackNode=null,n.callbackPriority=0;else if(u=L&-L,n.callbackPriority!==u){if(S!=null&&Qe(S),u===1)n.tag===0?Py(yp.bind(null,n)):Kd(yp.bind(null,n)),Cy(function(){(Wt&6)===0&&ho()}),S=null;else{switch(An(L)){case 1:S=hr;break;case 4:S=kr;break;case 16:S=or;break;case 536870912:S=Mn;break;default:S=or}S=Sp(S,mp.bind(null,n))}n.callbackPriority=u,n.callbackNode=S}}function mp(n,u){if(Jl=-1,Zl=0,(Wt&6)!==0)throw Error(v(327));var S=n.callbackNode;if(zi()&&n.callbackNode!==S)return null;var L=Zs(n,n===$r?tn:0);if(L===0)return null;if((L&30)!==0||(L&n.expiredLanes)!==0||u)u=Kl(n,L);else{u=L;var X=Wt;Wt|=2;var Z=vp();($r!==n||tn!==u)&&(Vs=null,Gi=Tt()+500,si(n,u));do try{Ky();break}catch(Se){gp(n,Se)}while(!0);jc(),ql.current=Z,Wt=X,Fr!==null?u=0:($r=null,tn=0,u=Wr)}if(u!==0){if(u===2&&(X=vi(n),X!==0&&(L=X,u=ih(n,X))),u===1)throw S=Pa,si(n,0),_o(n,L),Tn(n,Tt()),S;if(u===6)_o(n,L);else{if(X=n.current.alternate,(L&30)===0&&!Jy(X)&&(u=Kl(n,L),u===2&&(Z=vi(n),Z!==0&&(L=Z,u=ih(n,Z))),u===1))throw S=Pa,si(n,0),_o(n,L),Tn(n,Tt()),S;switch(n.finishedWork=X,n.finishedLanes=L,u){case 0:case 1:throw Error(v(345));case 2:oi(n,Sn,Vs);break;case 3:if(_o(n,L),(L&130023424)===L&&(u=nh+500-Tt(),10<u)){if(Zs(n,0)!==0)break;if(X=n.suspendedLanes,(X&L)!==L){fn(),n.pingedLanes|=n.suspendedLanes&X;break}n.timeoutHandle=dc(oi.bind(null,n,Sn,Vs),u);break}oi(n,Sn,Vs);break;case 4:if(_o(n,L),(L&4194240)===L)break;for(u=n.eventTimes,X=-1;0<L;){var ue=31-gn(L);Z=1<<ue,ue=u[ue],ue>X&&(X=ue),L&=~Z}if(L=X,L=Tt()-L,L=(120>L?120:480>L?480:1080>L?1080:1920>L?1920:3e3>L?3e3:4320>L?4320:1960*$y(L/1960))-L,10<L){n.timeoutHandle=dc(oi.bind(null,n,Sn,Vs),L);break}oi(n,Sn,Vs);break;case 5:oi(n,Sn,Vs);break;default:throw Error(v(329))}}}return Tn(n,Tt()),n.callbackNode===S?mp.bind(null,n):null}function ih(n,u){var S=Ra;return n.current.memoizedState.isDehydrated&&(si(n,u).flags|=256),n=Kl(n,u),n!==2&&(u=Sn,Sn=S,u!==null&&ah(u)),n}function ah(n){Sn===null?Sn=n:Sn.push.apply(Sn,n)}function Jy(n){for(var u=n;;){if(u.flags&16384){var S=u.updateQueue;if(S!==null&&(S=S.stores,S!==null))for(var L=0;L<S.length;L++){var X=S[L],Z=X.getSnapshot;X=X.value;try{if(!Jt(Z(),X))return!1}catch{return!1}}}if(S=u.child,u.subtreeFlags&16384&&S!==null)S.return=u,u=S;else{if(u===n)break;for(;u.sibling===null;){if(u.return===null||u.return===n)return!0;u=u.return}u.sibling.return=u.return,u=u.sibling}}return!0}function _o(n,u){for(u&=~rh,u&=~Xl,n.suspendedLanes|=u,n.pingedLanes&=~u,n=n.expirationTimes;0<u;){var S=31-gn(u),L=1<<S;n[S]=-1,u&=~L}}function yp(n){if((Wt&6)!==0)throw Error(v(327));zi();var u=Zs(n,0);if((u&1)===0)return Tn(n,Tt()),null;var S=Kl(n,u);if(n.tag!==0&&S===2){var L=vi(n);L!==0&&(u=L,S=ih(n,L))}if(S===1)throw S=Pa,si(n,0),_o(n,u),Tn(n,Tt()),S;if(S===6)throw Error(v(345));return n.finishedWork=n.current.alternate,n.finishedLanes=u,oi(n,Sn,Vs),Tn(n,Tt()),null}function lh(n,u){var S=Wt;Wt|=1;try{return n(u)}finally{Wt=S,Wt===0&&(Gi=Tt()+500,kl&&ho())}}function ni(n){go!==null&&go.tag===0&&(Wt&6)===0&&zi();var u=Wt;Wt|=1;var S=Hn.transition,L=zt;try{if(Hn.transition=null,zt=1,n)return n()}finally{zt=L,Hn.transition=S,Wt=u,(Wt&6)===0&&ho()}}function uh(){Nn=Vi.current,pr(Vi)}function si(n,u){n.finishedWork=null,n.finishedLanes=0;var S=n.timeoutHandle;if(S!==-1&&(n.timeoutHandle=-1,Ey(S)),Fr!==null)for(S=Fr.return;S!==null;){var L=S;switch(vc(L),L.tag){case 1:L=L.type.childContextTypes,L!=null&&Sl();break;case 3:Fi(),pr(wn),pr(on),Rc();break;case 5:Ac(L);break;case 4:Fi();break;case 13:pr(jr);break;case 19:pr(jr);break;case 10:Sc(L.type._context);break;case 22:case 23:uh()}S=S.return}if($r=n,Fr=n=bo(n.current,null),tn=Nn=u,Wr=0,Pa=null,rh=Xl=ri=0,Sn=Ra=null,Ko!==null){for(u=0;u<Ko.length;u++)if(S=Ko[u],L=S.interleaved,L!==null){S.interleaved=null;var X=L.next,Z=S.pending;if(Z!==null){var ue=Z.next;Z.next=X,L.next=ue}S.pending=L}Ko=null}return n}function gp(n,u){do{var S=Fr;try{if(jc(),Nl.current=Vl,Fl){for(var L=Sr.memoizedState;L!==null;){var X=L.queue;X!==null&&(X.pending=null),L=L.next}Fl=!1}if(ti=0,Qr=Hr=Sr=null,ka=!1,Ea=0,th.current=null,S===null||S.return===null){Wr=1,Pa=u,Fr=null;break}e:{var Z=n,ue=S.return,Se=S,Ce=u;if(u=tn,Se.flags|=32768,Ce!==null&&typeof Ce=="object"&&typeof Ce.then=="function"){var He=Ce,et=Se,tt=et.tag;if((et.mode&1)===0&&(tt===0||tt===11||tt===15)){var Ke=et.alternate;Ke?(et.updateQueue=Ke.updateQueue,et.memoizedState=Ke.memoizedState,et.lanes=Ke.lanes):(et.updateQueue=null,et.memoizedState=null)}var pt=Gf(ue);if(pt!==null){pt.flags&=-257,zf(pt,ue,Se,Z,u),pt.mode&1&&Vf(Z,He,u),u=pt,Ce=He;var wt=u.updateQueue;if(wt===null){var xt=new Set;xt.add(Ce),u.updateQueue=xt}else wt.add(Ce);break e}else{if((u&1)===0){Vf(Z,He,u),ch();break e}Ce=Error(v(426))}}else if(_r&&Se.mode&1){var Ar=Gf(ue);if(Ar!==null){(Ar.flags&65536)===0&&(Ar.flags|=256),zf(Ar,ue,Se,Z,u),wc(Ui(Ce,Se));break e}}Z=Ce=Ui(Ce,Se),Wr!==4&&(Wr=2),Ra===null?Ra=[Z]:Ra.push(Z),Z=ue;do{switch(Z.tag){case 3:Z.flags|=65536,u&=-u,Z.lanes|=u;var Ve=Uf(Z,Ce,u);lf(Z,Ve);break e;case 1:Se=Ce;var Re=Z.type,Ge=Z.stateNode;if((Z.flags&128)===0&&(typeof Re.getDerivedStateFromError=="function"||Ge!==null&&typeof Ge.componentDidCatch=="function"&&(yo===null||!yo.has(Ge)))){Z.flags|=65536,u&=-u,Z.lanes|=u;var it=Bf(Z,Se,u);lf(Z,it);break e}}Z=Z.return}while(Z!==null)}bp(S)}catch(jt){u=jt,Fr===S&&S!==null&&(Fr=S=S.return);continue}break}while(!0)}function vp(){var n=ql.current;return ql.current=Vl,n===null?Vl:n}function ch(){(Wr===0||Wr===3||Wr===2)&&(Wr=4),$r===null||(ri&268435455)===0&&(Xl&268435455)===0||_o($r,tn)}function Kl(n,u){var S=Wt;Wt|=2;var L=vp();($r!==n||tn!==u)&&(Vs=null,si(n,u));do try{Zy();break}catch(X){gp(n,X)}while(!0);if(jc(),Wt=S,ql.current=L,Fr!==null)throw Error(v(261));return $r=null,tn=0,Wr}function Zy(){for(;Fr!==null;)_p(Fr)}function Ky(){for(;Fr!==null&&!Gt();)_p(Fr)}function _p(n){var u=jp(n.alternate,n,Nn);n.memoizedProps=n.pendingProps,u===null?bp(n):Fr=u,th.current=null}function bp(n){var u=n;do{var S=u.alternate;if(n=u.return,(u.flags&32768)===0){if(S=Wy(S,u,Nn),S!==null){Fr=S;return}}else{if(S=qy(S,u),S!==null){S.flags&=32767,Fr=S;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{Wr=6,Fr=null;return}}if(u=u.sibling,u!==null){Fr=u;return}Fr=u=n}while(u!==null);Wr===0&&(Wr=5)}function oi(n,u,S){var L=zt,X=Hn.transition;try{Hn.transition=null,zt=1,eg(n,u,S,L)}finally{Hn.transition=X,zt=L}return null}function eg(n,u,S,L){do zi();while(go!==null);if((Wt&6)!==0)throw Error(v(327));S=n.finishedWork;var X=n.finishedLanes;if(S===null)return null;if(n.finishedWork=null,n.finishedLanes=0,S===n.current)throw Error(v(177));n.callbackNode=null,n.callbackPriority=0;var Z=S.lanes|S.childLanes;if(ul(n,Z),n===$r&&(Fr=$r=null,tn=0),(S.subtreeFlags&2064)===0&&(S.flags&2064)===0||Ql||(Ql=!0,Sp(or,function(){return zi(),null})),Z=(S.flags&15990)!==0,(S.subtreeFlags&15990)!==0||Z){Z=Hn.transition,Hn.transition=null;var ue=zt;zt=1;var Se=Wt;Wt|=4,th.current=null,Yy(n,S),cp(S,n),by(cc),Rn=!!uc,cc=uc=null,n.current=S,Qy(S),ht(),Wt=Se,zt=ue,Hn.transition=Z}else n.current=S;if(Ql&&(Ql=!1,go=n,$l=X),Z=n.pendingLanes,Z===0&&(yo=null),Dr(S.stateNode),Tn(n,Tt()),u!==null)for(L=n.onRecoverableError,S=0;S<u.length;S++)X=u[S],L(X.value,{componentStack:X.stack,digest:X.digest});if(Yl)throw Yl=!1,n=sh,sh=null,n;return($l&1)!==0&&n.tag!==0&&zi(),Z=n.pendingLanes,(Z&1)!==0?n===oh?Ia++:(Ia=0,oh=n):Ia=0,ho(),null}function zi(){if(go!==null){var n=An($l),u=Hn.transition,S=zt;try{if(Hn.transition=null,zt=16>n?16:n,go===null)var L=!1;else{if(n=go,go=null,$l=0,(Wt&6)!==0)throw Error(v(331));var X=Wt;for(Wt|=4,vt=n.current;vt!==null;){var Z=vt,ue=Z.child;if((vt.flags&16)!==0){var Se=Z.deletions;if(Se!==null){for(var Ce=0;Ce<Se.length;Ce++){var He=Se[Ce];for(vt=He;vt!==null;){var et=vt;switch(et.tag){case 0:case 11:case 15:Aa(8,et,Z)}var tt=et.child;if(tt!==null)tt.return=et,vt=tt;else for(;vt!==null;){et=vt;var Ke=et.sibling,pt=et.return;if(op(et),et===He){vt=null;break}if(Ke!==null){Ke.return=pt,vt=Ke;break}vt=pt}}}var wt=Z.alternate;if(wt!==null){var xt=wt.child;if(xt!==null){wt.child=null;do{var Ar=xt.sibling;xt.sibling=null,xt=Ar}while(xt!==null)}}vt=Z}}if((Z.subtreeFlags&2064)!==0&&ue!==null)ue.return=Z,vt=ue;else e:for(;vt!==null;){if(Z=vt,(Z.flags&2048)!==0)switch(Z.tag){case 0:case 11:case 15:Aa(9,Z,Z.return)}var Ve=Z.sibling;if(Ve!==null){Ve.return=Z.return,vt=Ve;break e}vt=Z.return}}var Re=n.current;for(vt=Re;vt!==null;){ue=vt;var Ge=ue.child;if((ue.subtreeFlags&2064)!==0&&Ge!==null)Ge.return=ue,vt=Ge;else e:for(ue=Re;vt!==null;){if(Se=vt,(Se.flags&2048)!==0)try{switch(Se.tag){case 0:case 11:case 15:Wl(9,Se)}}catch(jt){Cr(Se,Se.return,jt)}if(Se===ue){vt=null;break e}var it=Se.sibling;if(it!==null){it.return=Se.return,vt=it;break e}vt=Se.return}}if(Wt=X,ho(),Or&&typeof Or.onPostCommitFiberRoot=="function")try{Or.onPostCommitFiberRoot(Xr,n)}catch{}L=!0}return L}finally{zt=S,Hn.transition=u}}return!1}function wp(n,u,S){u=Ui(S,u),u=Uf(n,u,1),n=po(n,u,1),u=fn(),n!==null&&(Ks(n,1,u),Tn(n,u))}function Cr(n,u,S){if(n.tag===3)wp(n,n,S);else for(;u!==null;){if(u.tag===3){wp(u,n,S);break}else if(u.tag===1){var L=u.stateNode;if(typeof u.type.getDerivedStateFromError=="function"||typeof L.componentDidCatch=="function"&&(yo===null||!yo.has(L))){n=Ui(S,n),n=Bf(u,n,1),u=po(u,n,1),n=fn(),u!==null&&(Ks(u,1,n),Tn(u,n));break}}u=u.return}}function tg(n,u,S){var L=n.pingCache;L!==null&&L.delete(u),u=fn(),n.pingedLanes|=n.suspendedLanes&S,$r===n&&(tn&S)===S&&(Wr===4||Wr===3&&(tn&130023424)===tn&&500>Tt()-nh?si(n,0):rh|=S),Tn(n,u)}function xp(n,u){u===0&&((n.mode&1)===0?u=1:(u=Lo,Lo<<=1,(Lo&130023424)===0&&(Lo=4194304)));var S=fn();n=Fs(n,u),n!==null&&(Ks(n,u,S),Tn(n,S))}function rg(n){var u=n.memoizedState,S=0;u!==null&&(S=u.retryLane),xp(n,S)}function ng(n,u){var S=0;switch(n.tag){case 13:var L=n.stateNode,X=n.memoizedState;X!==null&&(S=X.retryLane);break;case 19:L=n.stateNode;break;default:throw Error(v(314))}L!==null&&L.delete(u),xp(n,S)}var jp;jp=function(n,u,S){if(n!==null)if(n.memoizedProps!==u.pendingProps||wn.current)jn=!0;else{if((n.lanes&S)===0&&(u.flags&128)===0)return jn=!1,Hy(n,u,S);jn=(n.flags&131072)!==0}else jn=!1,_r&&(u.flags&1048576)!==0&&ef(u,Cl,u.index);switch(u.lanes=0,u.tag){case 2:var L=u.type;zl(n,u),n=u.pendingProps;var X=Ai(u,on.current);Li(u,S),X=Lc(null,u,L,n,X,S);var Z=Nc();return u.flags|=1,typeof X=="object"&&X!==null&&typeof X.render=="function"&&X.$$typeof===void 0?(u.tag=1,u.memoizedState=null,u.updateQueue=null,xn(L)?(Z=!0,Tl(u)):Z=!1,u.memoizedState=X.state!==null&&X.state!==void 0?X.state:null,Ec(u),X.updater=Il,u.stateNode=X,X._reactInternals=u,Mc(u,L,n,S),u=Wc(null,u,L,!0,Z,S)):(u.tag=0,_r&&Z&&gc(u),dn(null,u,X,S),u=u.child),u;case 16:L=u.elementType;e:{switch(zl(n,u),n=u.pendingProps,X=L._init,L=X(L._payload),u.type=L,X=u.tag=og(L),n=os(L,n),X){case 0:u=Hc(null,u,L,n,S);break e;case 1:u=Qf(null,u,L,n,S);break e;case 11:u=Hf(null,u,L,n,S);break e;case 14:u=Wf(null,u,L,os(L.type,n),S);break e}throw Error(v(306,L,""))}return u;case 0:return L=u.type,X=u.pendingProps,X=u.elementType===L?X:os(L,X),Hc(n,u,L,X,S);case 1:return L=u.type,X=u.pendingProps,X=u.elementType===L?X:os(L,X),Qf(n,u,L,X,S);case 3:e:{if($f(u),n===null)throw Error(v(387));L=u.pendingProps,Z=u.memoizedState,X=Z.element,af(n,u),Rl(u,L,null,S);var ue=u.memoizedState;if(L=ue.element,Z.isDehydrated)if(Z={element:L,isDehydrated:!1,cache:ue.cache,pendingSuspenseBoundaries:ue.pendingSuspenseBoundaries,transitions:ue.transitions},u.updateQueue.baseState=Z,u.memoizedState=Z,u.flags&256){X=Ui(Error(v(423)),u),u=Jf(n,u,L,S,X);break e}else if(L!==X){X=Ui(Error(v(424)),u),u=Jf(n,u,L,S,X);break e}else for(Ln=lo(u.stateNode.containerInfo.firstChild),Dn=u,_r=!0,ss=null,S=yf(u,null,L,S),u.child=S;S;)S.flags=S.flags&-3|4096,S=S.sibling;else{if(Ii(),L===X){u=Bs(n,u,S);break e}dn(n,u,L,S)}u=u.child}return u;case 5:return gf(u),n===null&&bc(u),L=u.type,X=u.pendingProps,Z=n!==null?n.memoizedProps:null,ue=X.children,hc(L,X)?ue=null:Z!==null&&hc(L,Z)&&(u.flags|=32),Yf(n,u),dn(n,u,ue,S),u.child;case 6:return n===null&&bc(u),null;case 13:return Zf(n,u,S);case 4:return Oc(u,u.stateNode.containerInfo),L=u.pendingProps,n===null?u.child=Ni(u,null,L,S):dn(n,u,L,S),u.child;case 11:return L=u.type,X=u.pendingProps,X=u.elementType===L?X:os(L,X),Hf(n,u,L,X,S);case 7:return dn(n,u,u.pendingProps,S),u.child;case 8:return dn(n,u,u.pendingProps.children,S),u.child;case 12:return dn(n,u,u.pendingProps.children,S),u.child;case 10:e:{if(L=u.type._context,X=u.pendingProps,Z=u.memoizedProps,ue=X.value,lr(Ol,L._currentValue),L._currentValue=ue,Z!==null)if(Jt(Z.value,ue)){if(Z.children===X.children&&!wn.current){u=Bs(n,u,S);break e}}else for(Z=u.child,Z!==null&&(Z.return=u);Z!==null;){var Se=Z.dependencies;if(Se!==null){ue=Z.child;for(var Ce=Se.firstContext;Ce!==null;){if(Ce.context===L){if(Z.tag===1){Ce=Us(-1,S&-S),Ce.tag=2;var He=Z.updateQueue;if(He!==null){He=He.shared;var et=He.pending;et===null?Ce.next=Ce:(Ce.next=et.next,et.next=Ce),He.pending=Ce}}Z.lanes|=S,Ce=Z.alternate,Ce!==null&&(Ce.lanes|=S),Tc(Z.return,S,u),Se.lanes|=S;break}Ce=Ce.next}}else if(Z.tag===10)ue=Z.type===u.type?null:Z.child;else if(Z.tag===18){if(ue=Z.return,ue===null)throw Error(v(341));ue.lanes|=S,Se=ue.alternate,Se!==null&&(Se.lanes|=S),Tc(ue,S,u),ue=Z.sibling}else ue=Z.child;if(ue!==null)ue.return=Z;else for(ue=Z;ue!==null;){if(ue===u){ue=null;break}if(Z=ue.sibling,Z!==null){Z.return=ue.return,ue=Z;break}ue=ue.return}Z=ue}dn(n,u,X.children,S),u=u.child}return u;case 9:return X=u.type,L=u.pendingProps.children,Li(u,S),X=Gn(X),L=L(X),u.flags|=1,dn(n,u,L,S),u.child;case 14:return L=u.type,X=os(L,u.pendingProps),X=os(L.type,X),Wf(n,u,L,X,S);case 15:return qf(n,u,u.type,u.pendingProps,S);case 17:return L=u.type,X=u.pendingProps,X=u.elementType===L?X:os(L,X),zl(n,u),u.tag=1,xn(L)?(n=!0,Tl(u)):n=!1,Li(u,S),df(u,L,X),Mc(u,L,X,S),Wc(null,u,L,!0,n,S);case 19:return ep(n,u,S);case 22:return Xf(n,u,S)}throw Error(v(156,u.tag))};function Sp(n,u){return Nt(n,u)}function sg(n,u,S,L){this.tag=n,this.key=S,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=u,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=L,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Wn(n,u,S,L){return new sg(n,u,S,L)}function hh(n){return n=n.prototype,!(!n||!n.isReactComponent)}function og(n){if(typeof n=="function")return hh(n)?1:0;if(n!=null){if(n=n.$$typeof,n===U)return 11;if(n===G)return 14}return 2}function bo(n,u){var S=n.alternate;return S===null?(S=Wn(n.tag,u,n.key,n.mode),S.elementType=n.elementType,S.type=n.type,S.stateNode=n.stateNode,S.alternate=n,n.alternate=S):(S.pendingProps=u,S.type=n.type,S.flags=0,S.subtreeFlags=0,S.deletions=null),S.flags=n.flags&14680064,S.childLanes=n.childLanes,S.lanes=n.lanes,S.child=n.child,S.memoizedProps=n.memoizedProps,S.memoizedState=n.memoizedState,S.updateQueue=n.updateQueue,u=n.dependencies,S.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext},S.sibling=n.sibling,S.index=n.index,S.ref=n.ref,S}function eu(n,u,S,L,X,Z){var ue=2;if(L=n,typeof n=="function")hh(n)&&(ue=1);else if(typeof n=="string")ue=5;else e:switch(n){case k:return ii(S.children,X,Z,u);case M:ue=8,X|=8;break;case I:return n=Wn(12,S,u,X|2),n.elementType=I,n.lanes=Z,n;case D:return n=Wn(13,S,u,X),n.elementType=D,n.lanes=Z,n;case V:return n=Wn(19,S,u,X),n.elementType=V,n.lanes=Z,n;case J:return tu(S,X,Z,u);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case F:ue=10;break e;case A:ue=9;break e;case U:ue=11;break e;case G:ue=14;break e;case W:ue=16,L=null;break e}throw Error(v(130,n==null?n:typeof n,""))}return u=Wn(ue,S,u,X),u.elementType=n,u.type=L,u.lanes=Z,u}function ii(n,u,S,L){return n=Wn(7,n,L,u),n.lanes=S,n}function tu(n,u,S,L){return n=Wn(22,n,L,u),n.elementType=J,n.lanes=S,n.stateNode={isHidden:!1},n}function dh(n,u,S){return n=Wn(6,n,null,u),n.lanes=S,n}function fh(n,u,S){return u=Wn(4,n.children!==null?n.children:[],n.key,u),u.lanes=S,u.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},u}function ig(n,u,S,L,X){this.tag=u,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=No(0),this.expirationTimes=No(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=No(0),this.identifierPrefix=L,this.onRecoverableError=X,this.mutableSourceEagerHydrationData=null}function ph(n,u,S,L,X,Z,ue,Se,Ce){return n=new ig(n,u,S,Se,Ce),u===1?(u=1,Z===!0&&(u|=8)):u=0,Z=Wn(3,null,null,u),n.current=Z,Z.stateNode=n,Z.memoizedState={element:L,isDehydrated:S,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ec(Z),n}function ag(n,u,S){var L=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:O,key:L==null?null:""+L,children:n,containerInfo:u,implementation:S}}function Tp(n){if(!n)return co;n=n._reactInternals;e:{if(Cn(n)!==n||n.tag!==1)throw Error(v(170));var u=n;do{switch(u.tag){case 3:u=u.stateNode.context;break e;case 1:if(xn(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break e}}u=u.return}while(u!==null);throw Error(v(171))}if(n.tag===1){var S=n.type;if(xn(S))return Jd(n,S,u)}return u}function kp(n,u,S,L,X,Z,ue,Se,Ce){return n=ph(S,L,!0,n,X,Z,ue,Se,Ce),n.context=Tp(null),S=n.current,L=fn(),X=vo(S),Z=Us(L,X),Z.callback=u??null,po(S,Z,X),n.current.lanes=X,Ks(n,X,L),Tn(n,L),n}function ru(n,u,S,L){var X=u.current,Z=fn(),ue=vo(X);return S=Tp(S),u.context===null?u.context=S:u.pendingContext=S,u=Us(Z,ue),u.payload={element:n},L=L===void 0?null:L,L!==null&&(u.callback=L),n=po(X,u,ue),n!==null&&(ls(n,X,ue,Z),Pl(n,X,ue)),ue}function nu(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function Ep(n,u){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var S=n.retryLane;n.retryLane=S!==0&&S<u?S:u}}function mh(n,u){Ep(n,u),(n=n.alternate)&&Ep(n,u)}function lg(){return null}var Cp=typeof reportError=="function"?reportError:function(n){console.error(n)};function yh(n){this._internalRoot=n}su.prototype.render=yh.prototype.render=function(n){var u=this._internalRoot;if(u===null)throw Error(v(409));ru(n,u,null,null)},su.prototype.unmount=yh.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var u=n.containerInfo;ni(function(){ru(null,n,null,null)}),u[Is]=null}};function su(n){this._internalRoot=n}su.prototype.unstable_scheduleHydration=function(n){if(n){var u=ua();n={blockedOn:null,target:n,priority:u};for(var S=0;S<gs.length&&u!==0&&u<gs[S].priority;S++);gs.splice(S,0,n),S===0&&Pn(n)}};function gh(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function ou(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function Mp(){}function ug(n,u,S,L,X){if(X){if(typeof L=="function"){var Z=L;L=function(){var He=nu(ue);Z.call(He)}}var ue=kp(u,L,n,0,null,!1,!1,"",Mp);return n._reactRootContainer=ue,n[Is]=ue.current,va(n.nodeType===8?n.parentNode:n),ni(),ue}for(;X=n.lastChild;)n.removeChild(X);if(typeof L=="function"){var Se=L;L=function(){var He=nu(Ce);Se.call(He)}}var Ce=ph(n,0,!1,null,null,!1,!1,"",Mp);return n._reactRootContainer=Ce,n[Is]=Ce.current,va(n.nodeType===8?n.parentNode:n),ni(function(){ru(u,Ce,S,L)}),Ce}function iu(n,u,S,L,X){var Z=S._reactRootContainer;if(Z){var ue=Z;if(typeof X=="function"){var Se=X;X=function(){var Ce=nu(ue);Se.call(Ce)}}ru(u,ue,n,X)}else ue=ug(S,u,n,X,L);return nu(ue)}la=function(n){switch(n.tag){case 3:var u=n.stateNode;if(u.current.memoizedState.isDehydrated){var S=Js(u.pendingLanes);S!==0&&(eo(u,S|1),Tn(u,Tt()),(Wt&6)===0&&(Gi=Tt()+500,ho()))}break;case 13:ni(function(){var L=Fs(n,1);if(L!==null){var X=fn();ls(L,n,1,X)}}),mh(n,1)}},_i=function(n){if(n.tag===13){var u=Fs(n,134217728);if(u!==null){var S=fn();ls(u,n,134217728,S)}mh(n,134217728)}},As=function(n){if(n.tag===13){var u=vo(n),S=Fs(n,u);if(S!==null){var L=fn();ls(S,n,u,L)}mh(n,u)}},ua=function(){return zt},cl=function(n,u){var S=zt;try{return zt=n,u()}finally{zt=S}},st=function(n,u,S){switch(u){case"input":if(Ae(n,S),u=S.name,S.type==="radio"&&u!=null){for(S=n;S.parentNode;)S=S.parentNode;for(S=S.querySelectorAll("input[name="+JSON.stringify(""+u)+'][type="radio"]'),u=0;u<S.length;u++){var L=S[u];if(L!==n&&L.form===n.form){var X=jl(L);if(!X)throw Error(v(90));ge(L),Ae(L,X)}}}break;case"textarea":nt(n,S);break;case"select":u=S.value,u!=null&&qe(n,!!S.multiple,u,!1)}},St=lh,Zt=ni;var cg={usingClientEntryPoint:!1,Events:[wa,Mi,jl,mt,Mt,lh]},Da={findFiberByHostInstance:Qo,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},hg={bundleType:Da.bundleType,version:Da.version,rendererPackageName:Da.rendererPackageName,rendererConfig:Da.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=dt(n),n===null?null:n.stateNode},findFiberByHostInstance:Da.findFiberByHostInstance||lg,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var au=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!au.isDisabled&&au.supportsFiber)try{Xr=au.inject(hg),Or=au}catch{}}return kn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=cg,kn.createPortal=function(n,u){var S=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!gh(u))throw Error(v(200));return ag(n,u,null,S)},kn.createRoot=function(n,u){if(!gh(n))throw Error(v(299));var S=!1,L="",X=Cp;return u!=null&&(u.unstable_strictMode===!0&&(S=!0),u.identifierPrefix!==void 0&&(L=u.identifierPrefix),u.onRecoverableError!==void 0&&(X=u.onRecoverableError)),u=ph(n,1,!1,null,null,S,!1,L,X),n[Is]=u.current,va(n.nodeType===8?n.parentNode:n),new yh(u)},kn.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var u=n._reactInternals;if(u===void 0)throw typeof n.render=="function"?Error(v(188)):(n=Object.keys(n).join(","),Error(v(268,n)));return n=dt(u),n=n===null?null:n.stateNode,n},kn.flushSync=function(n){return ni(n)},kn.hydrate=function(n,u,S){if(!ou(u))throw Error(v(200));return iu(null,n,u,!0,S)},kn.hydrateRoot=function(n,u,S){if(!gh(n))throw Error(v(405));var L=S!=null&&S.hydratedSources||null,X=!1,Z="",ue=Cp;if(S!=null&&(S.unstable_strictMode===!0&&(X=!0),S.identifierPrefix!==void 0&&(Z=S.identifierPrefix),S.onRecoverableError!==void 0&&(ue=S.onRecoverableError)),u=kp(u,null,n,1,S??null,X,!1,Z,ue),n[Is]=u.current,va(n),L)for(n=0;n<L.length;n++)S=L[n],X=S._getVersion,X=X(S._source),u.mutableSourceEagerHydrationData==null?u.mutableSourceEagerHydrationData=[S,X]:u.mutableSourceEagerHydrationData.push(S,X);return new su(u)},kn.render=function(n,u,S){if(!ou(u))throw Error(v(200));return iu(null,n,u,!1,S)},kn.unmountComponentAtNode=function(n){if(!ou(n))throw Error(v(40));return n._reactRootContainer?(ni(function(){iu(null,null,n,!1,function(){n._reactRootContainer=null,n[Is]=null})}),!0):!1},kn.unstable_batchedUpdates=lh,kn.unstable_renderSubtreeIntoContainer=function(n,u,S,L){if(!ou(S))throw Error(v(200));if(n==null||n._reactInternals===void 0)throw Error(v(38));return iu(n,u,S,!1,L)},kn.version="18.2.0-next-9e3b772b8-20220608",kn}var Np;function wg(){if(Np)return bh.exports;Np=1;function P(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(P)}catch(r){console.error(r)}}return P(),bh.exports=bg(),bh.exports}var Fp;function xg(){if(Fp)return lu;Fp=1;var P=wg();return lu.createRoot=P.createRoot,lu.hydrateRoot=P.hydrateRoot,lu}var jg=xg();const Sg={Date:!0,RegExp:!0,String:!0,Number:!0};function um(P,r,v={cyclesFix:!0},t=[]){var j,x;let d=[];const f=Array.isArray(P);for(const c in P){const g=P[c],y=f?+c:c;if(!(c in r)){d.push({type:"REMOVE",path:[y],oldValue:P[c]});continue}const o=r[c],a=typeof g=="object"&&typeof o=="object"&&Array.isArray(g)===Array.isArray(o);if(g&&o&&a&&!Sg[(x=(j=Object.getPrototypeOf(g))==null?void 0:j.constructor)==null?void 0:x.name]&&(!v.cyclesFix||!t.includes(g))){const i=um(g,o,v,v.cyclesFix?t.concat([g]):[]);d.push.apply(d,i.map(h=>(h.path.unshift(y),h)))}else g!==o&&!(Number.isNaN(g)&&Number.isNaN(o))&&!(a&&(isNaN(g)?g+""==o+"":+g==+o))&&d.push({path:[y],type:"CHANGE",value:o,oldValue:g})}const s=Array.isArray(r);for(const c in r)c in P||d.push({type:"CREATE",path:[s?+c:c],value:r[c]});return d}function Tg(P,r){return um(P,r).length===0}var uu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function kg(P){return P&&P.__esModule&&Object.prototype.hasOwnProperty.call(P,"default")?P.default:P}var cm={exports:{}},Na={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Up;function Eg(){if(Up)return Na;Up=1;var P=gg,r=Symbol.for("react.element"),v=Symbol.for("react.fragment"),t=Object.prototype.hasOwnProperty,j=P.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,x={key:!0,ref:!0,__self:!0,__source:!0};function d(f,s,c){var g,y={},o=null,a=null;c!==void 0&&(o=""+c),s.key!==void 0&&(o=""+s.key),s.ref!==void 0&&(a=s.ref);for(g in s)t.call(s,g)&&!x.hasOwnProperty(g)&&(y[g]=s[g]);if(f&&f.defaultProps)for(g in s=f.defaultProps,s)y[g]===void 0&&(y[g]=s[g]);return{$$typeof:r,type:f,key:o,ref:a,props:y,_owner:j.current}}return Na.Fragment=v,Na.jsx=d,Na.jsxs=d,Na}cm.exports=Eg();var mu=cm.exports;const Cg="react-p5-wrapper";function cu(P){throw new Error('Could not dynamically require "'+P+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var hm={exports:{}};/*! p5.js v1.9.4 May 21, 2024 */(function(P,r){(function(v){P.exports=v()})(function(){var v;return function t(j,x,d){function f(g,y){if(!x[g]){if(!j[g]){var o=typeof cu=="function"&&cu;if(!y&&o)return o(g,!0);if(s)return s(g,!0);throw(y=new Error("Cannot find module '"+g+"'")).code="MODULE_NOT_FOUND",y}o=x[g]={exports:{}},j[g][0].call(o.exports,function(a){return f(j[g][1][a]||a)},o,o.exports,t,j,x,d)}return x[g].exports}for(var s=typeof cu=="function"&&cu,c=0;c<d.length;c++)f(d[c]);return f}({1:[function(t,j,x){x.byteLength=function(h){var h=o(h),i=h[0],h=h[1];return 3*(i+h)/4-h},x.toByteArray=function(a){var i,h,l=o(a),p=l[0],l=l[1],m=new s(function(T,O){return 3*(T+O)/4-O}(p,l)),_=0,b=0<l?p-4:p;for(h=0;h<b;h+=4)i=f[a.charCodeAt(h)]<<18|f[a.charCodeAt(h+1)]<<12|f[a.charCodeAt(h+2)]<<6|f[a.charCodeAt(h+3)],m[_++]=i>>16&255,m[_++]=i>>8&255,m[_++]=255&i;return l===2&&(i=f[a.charCodeAt(h)]<<2|f[a.charCodeAt(h+1)]>>4,m[_++]=255&i),l===1&&(i=f[a.charCodeAt(h)]<<10|f[a.charCodeAt(h+1)]<<4|f[a.charCodeAt(h+2)]>>2,m[_++]=i>>8&255,m[_++]=255&i),m},x.fromByteArray=function(a){for(var i,h=a.length,p=h%3,l=[],m=0,_=h-p;m<_;m+=16383)l.push(function(b,T,O){for(var k,M=[],I=T;I<O;I+=3)k=(b[I]<<16&16711680)+(b[I+1]<<8&65280)+(255&b[I+2]),M.push(function(F){return d[F>>18&63]+d[F>>12&63]+d[F>>6&63]+d[63&F]}(k));return M.join("")}(a,m,_<m+16383?_:m+16383));return p==1?(i=a[h-1],l.push(d[i>>2]+d[i<<4&63]+"==")):p==2&&(i=(a[h-2]<<8)+a[h-1],l.push(d[i>>10]+d[i>>4&63]+d[i<<2&63]+"=")),l.join("")};for(var d=[],f=[],s=typeof Uint8Array<"u"?Uint8Array:Array,c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",g=0,y=c.length;g<y;++g)d[g]=c[g],f[c.charCodeAt(g)]=g;function o(a){var i=a.length;if(0<i%4)throw new Error("Invalid string. Length must be a multiple of 4");return a=a.indexOf("="),i=(a=a===-1?i:a)===i?0:4-a%4,[a,i]}f[45]=62,f[95]=63},{}],2:[function(t,j,x){},{}],3:[function(t,j,x){},{}],4:[function(t,j,x){(function(o){var f=t("base64-js"),s=t("ieee754"),c=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null,g=(x.Buffer=o,x.SlowBuffer=function(C){return+C!=C&&(C=0),o.alloc(+C)},x.INSPECT_MAX_BYTES=50,2147483647);function y(C){if(g<C)throw new RangeError('The value "'+C+'" is invalid for option "size"');return C=new Uint8Array(C),Object.setPrototypeOf(C,o.prototype),C}function o(C,B,H){if(typeof C!="number")return a(C,B,H);if(typeof B=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return h(C)}function a(C,B,H){if(typeof C=="string"){var $=C,ne=B;if(o.isEncoding(ne=typeof ne=="string"&&ne!==""?ne:"utf8"))return se=0|m($,ne),de=y(se),de=($=de.write($,ne))!==se?de.slice(0,$):de;throw new TypeError("Unknown encoding: "+ne)}if(ArrayBuffer.isView(C))return p(C);if(C!=null){if(z(C,ArrayBuffer)||C&&z(C.buffer,ArrayBuffer)){var se=C,$=B,de=H;if($<0||se.byteLength<$)throw new RangeError('"offset" is outside of buffer bounds');if(se.byteLength<$+(de||0))throw new RangeError('"length" is outside of buffer bounds');return se=$===void 0&&de===void 0?new Uint8Array(se):de===void 0?new Uint8Array(se,$):new Uint8Array(se,$,de),Object.setPrototypeOf(se,o.prototype),se}if(typeof C=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');if(ne=C.valueOf&&C.valueOf(),ne!=null&&ne!==C)return o.from(ne,B,H);var _e=function(pe){{var ge,ve;if(o.isBuffer(pe))return ge=0|l(pe.length),(ve=y(ge)).length!==0&&pe.copy(ve,0,0,ge),ve}if(pe.length!==void 0)return typeof pe.length!="number"||ee(pe.length)?y(0):p(pe);if(pe.type==="Buffer"&&Array.isArray(pe.data))return p(pe.data)}(C);if(_e)return _e;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof C[Symbol.toPrimitive]=="function")return o.from(C[Symbol.toPrimitive]("string"),B,H)}throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof C)}function i(C){if(typeof C!="number")throw new TypeError('"size" argument must be of type number');if(C<0)throw new RangeError('The value "'+C+'" is invalid for option "size"')}function h(C){return i(C),y(C<0?0:0|l(C))}function p(C){for(var B=C.length<0?0:0|l(C.length),H=y(B),$=0;$<B;$+=1)H[$]=255&C[$];return H}function l(C){if(g<=C)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+g.toString(16)+" bytes");return 0|C}function m(C,B){if(o.isBuffer(C))return C.length;if(ArrayBuffer.isView(C)||z(C,ArrayBuffer))return C.byteLength;if(typeof C!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof C);var H=C.length,$=2<arguments.length&&arguments[2]===!0;if(!$&&H===0)return 0;for(var ne=!1;;)switch(B){case"ascii":case"latin1":case"binary":return H;case"utf8":case"utf-8":return J(C).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*H;case"hex":return H>>>1;case"base64":return Q(C).length;default:if(ne)return $?-1:J(C).length;B=(""+B).toLowerCase(),ne=!0}}function _(C,B,H){var $,ne=!1;if((B=B===void 0||B<0?0:B)>this.length||(H=H===void 0||H>this.length?this.length:H)<=0||(H>>>=0)<=(B>>>=0))return"";for(C=C||"utf8";;)switch(C){case"hex":var se=this,je=B,de=H,ve=se.length;(!de||de<0||ve<de)&&(de=ve);for(var _e="",pe=je=!je||je<0?0:je;pe<de;++pe)_e+=ie[se[pe]];return _e;case"utf8":case"utf-8":return I(this,B,H);case"ascii":var ge=this,ve=B,le=H,he="";le=Math.min(ge.length,le);for(var be=ve;be<le;++be)he+=String.fromCharCode(127&ge[be]);return he;case"latin1":case"binary":var Ae=this,je=B,Te=H,Me="";Te=Math.min(Ae.length,Te);for(var qe=je;qe<Te;++qe)Me+=String.fromCharCode(Ae[qe]);return Me;case"base64":return Ne=this,$=H,(ct=B)===0&&$===Ne.length?f.fromByteArray(Ne):f.fromByteArray(Ne.slice(ct,$));case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":for(var Ne=B,ct=H,nt=this.slice(Ne,ct),ot="",ut=0;ut<nt.length;ut+=2)ot+=String.fromCharCode(nt[ut]+256*nt[ut+1]);return ot;default:if(ne)throw new TypeError("Unknown encoding: "+C);C=(C+"").toLowerCase(),ne=!0}}function b(C,B,H){var $=C[B];C[B]=C[H],C[H]=$}function T(C,B,H,$,ne){if(C.length===0)return-1;if(typeof H=="string"?($=H,H=0):2147483647<H?H=2147483647:H<-2147483648&&(H=-2147483648),(H=(H=ee(H=+H)?ne?0:C.length-1:H)<0?C.length+H:H)>=C.length){if(ne)return-1;H=C.length-1}else if(H<0){if(!ne)return-1;H=0}if(typeof B=="string"&&(B=o.from(B,$)),o.isBuffer(B))return B.length===0?-1:O(C,B,H,$,ne);if(typeof B=="number")return B&=255,typeof Uint8Array.prototype.indexOf=="function"?(ne?Uint8Array.prototype.indexOf:Uint8Array.prototype.lastIndexOf).call(C,B,H):O(C,[B],H,$,ne);throw new TypeError("val must be string, number or Buffer")}function O(C,B,H,$,ne){var se=1,de=C.length,_e=B.length;if($!==void 0&&(($=String($).toLowerCase())==="ucs2"||$==="ucs-2"||$==="utf16le"||$==="utf-16le")){if(C.length<2||B.length<2)return-1;de/=se=2,_e/=2,H/=2}function pe(be,Ae){return se===1?be[Ae]:be.readUInt16BE(Ae*se)}if(ne)for(var ge=-1,ve=H;ve<de;ve++)if(pe(C,ve)===pe(B,ge===-1?0:ve-ge)){if(ve-(ge=ge===-1?ve:ge)+1===_e)return ge*se}else ge!==-1&&(ve-=ve-ge),ge=-1;else for(ve=H=de<H+_e?de-_e:H;0<=ve;ve--){for(var le=!0,he=0;he<_e;he++)if(pe(C,ve+he)!==pe(B,he)){le=!1;break}if(le)return ve}return-1}function k(C,B,H,$){return Y(function(ne){for(var se=[],de=0;de<ne.length;++de)se.push(255&ne.charCodeAt(de));return se}(B),C,H,$)}function M(C,B,H,$){return Y(function(ne,se){for(var de,_e,pe=[],ge=0;ge<ne.length&&!((se-=2)<0);++ge)_e=ne.charCodeAt(ge),de=_e>>8,_e=_e%256,pe.push(_e),pe.push(de);return pe}(B,C.length-H),C,H,$)}function I(C,B,H){H=Math.min(C.length,H);for(var $=[],ne=B;ne<H;){var se,de,_e,pe,ge=C[ne],ve=null,le=239<ge?4:223<ge?3:191<ge?2:1;if(ne+le<=H)switch(le){case 1:ge<128&&(ve=ge);break;case 2:(192&(se=C[ne+1]))==128&&127<(pe=(31&ge)<<6|63&se)&&(ve=pe);break;case 3:se=C[ne+1],de=C[ne+2],(192&se)==128&&(192&de)==128&&2047<(pe=(15&ge)<<12|(63&se)<<6|63&de)&&(pe<55296||57343<pe)&&(ve=pe);break;case 4:se=C[ne+1],de=C[ne+2],_e=C[ne+3],(192&se)==128&&(192&de)==128&&(192&_e)==128&&65535<(pe=(15&ge)<<18|(63&se)<<12|(63&de)<<6|63&_e)&&pe<1114112&&(ve=pe)}ve===null?(ve=65533,le=1):65535<ve&&(ve-=65536,$.push(ve>>>10&1023|55296),ve=56320|1023&ve),$.push(ve),ne+=le}var he=$,be=he.length;if(be<=F)return String.fromCharCode.apply(String,he);for(var Ae="",je=0;je<be;)Ae+=String.fromCharCode.apply(String,he.slice(je,je+=F));return Ae}x.kMaxLength=g,(o.TYPED_ARRAY_SUPPORT=function(){try{var C=new Uint8Array(1),B={foo:function(){return 42}};return Object.setPrototypeOf(B,Uint8Array.prototype),Object.setPrototypeOf(C,B),C.foo()===42}catch{return!1}}())||typeof console>"u"||typeof console.error!="function"||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(o.prototype,"parent",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.buffer}}),Object.defineProperty(o.prototype,"offset",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.byteOffset}}),typeof Symbol<"u"&&Symbol.species!=null&&o[Symbol.species]===o&&Object.defineProperty(o,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),o.poolSize=8192,o.from=a,Object.setPrototypeOf(o.prototype,Uint8Array.prototype),Object.setPrototypeOf(o,Uint8Array),o.alloc=function(C,B,H){return B=B,H=H,i(C=C),!(C<=0)&&B!==void 0?typeof H=="string"?y(C).fill(B,H):y(C).fill(B):y(C)},o.allocUnsafe=h,o.allocUnsafeSlow=h,o.isBuffer=function(C){return C!=null&&C._isBuffer===!0&&C!==o.prototype},o.compare=function(C,B){if(z(C,Uint8Array)&&(C=o.from(C,C.offset,C.byteLength)),z(B,Uint8Array)&&(B=o.from(B,B.offset,B.byteLength)),!o.isBuffer(C)||!o.isBuffer(B))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(C===B)return 0;for(var H=C.length,$=B.length,ne=0,se=Math.min(H,$);ne<se;++ne)if(C[ne]!==B[ne]){H=C[ne],$=B[ne];break}return H<$?-1:$<H?1:0},o.isEncoding=function(C){switch(String(C).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},o.concat=function(C,B){if(!Array.isArray(C))throw new TypeError('"list" argument must be an Array of Buffers');if(C.length===0)return o.alloc(0);if(B===void 0)for(ne=B=0;ne<C.length;++ne)B+=C[ne].length;for(var H=o.allocUnsafe(B),$=0,ne=0;ne<C.length;++ne){var se=C[ne];if(z(se,Uint8Array)&&(se=o.from(se)),!o.isBuffer(se))throw new TypeError('"list" argument must be an Array of Buffers');se.copy(H,$),$+=se.length}return H},o.byteLength=m,o.prototype._isBuffer=!0,o.prototype.swap16=function(){var C=this.length;if(C%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var B=0;B<C;B+=2)b(this,B,B+1);return this},o.prototype.swap32=function(){var C=this.length;if(C%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var B=0;B<C;B+=4)b(this,B,B+3),b(this,B+1,B+2);return this},o.prototype.swap64=function(){var C=this.length;if(C%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var B=0;B<C;B+=8)b(this,B,B+7),b(this,B+1,B+6),b(this,B+2,B+5),b(this,B+3,B+4);return this},o.prototype.toLocaleString=o.prototype.toString=function(){var C=this.length;return C===0?"":arguments.length===0?I(this,0,C):_.apply(this,arguments)},o.prototype.equals=function(C){if(o.isBuffer(C))return this===C||o.compare(this,C)===0;throw new TypeError("Argument must be a Buffer")},o.prototype.inspect=function(){var B="",C=x.INSPECT_MAX_BYTES,B=this.toString("hex",0,C).replace(/(.{2})/g,"$1 ").trim();return this.length>C&&(B+=" ... "),"<Buffer "+B+">"},c&&(o.prototype[c]=o.prototype.inspect),o.prototype.compare=function(C,B,H,$,ne){if(z(C,Uint8Array)&&(C=o.from(C,C.offset,C.byteLength)),!o.isBuffer(C))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof C);if(H===void 0&&(H=C?C.length:0),$===void 0&&($=0),ne===void 0&&(ne=this.length),(B=B===void 0?0:B)<0||H>C.length||$<0||ne>this.length)throw new RangeError("out of range index");if(ne<=$&&H<=B)return 0;if(ne<=$)return-1;if(H<=B)return 1;if(this===C)return 0;for(var se=(ne>>>=0)-($>>>=0),de=(H>>>=0)-(B>>>=0),_e=Math.min(se,de),pe=this.slice($,ne),ge=C.slice(B,H),ve=0;ve<_e;++ve)if(pe[ve]!==ge[ve]){se=pe[ve],de=ge[ve];break}return se<de?-1:de<se?1:0},o.prototype.includes=function(C,B,H){return this.indexOf(C,B,H)!==-1},o.prototype.indexOf=function(C,B,H){return T(this,C,B,H,!0)},o.prototype.lastIndexOf=function(C,B,H){return T(this,C,B,H,!1)},o.prototype.write=function(C,B,H,$){if(B===void 0)$="utf8",H=this.length,B=0;else if(H===void 0&&typeof B=="string")$=B,H=this.length,B=0;else{if(!isFinite(B))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");B>>>=0,isFinite(H)?(H>>>=0,$===void 0&&($="utf8")):($=H,H=void 0)}var ne=this.length-B;if((H===void 0||ne<H)&&(H=ne),0<C.length&&(H<0||B<0)||B>this.length)throw new RangeError("Attempt to write outside buffer bounds");$=$||"utf8";for(var se,de,_e,pe=!1;;)switch($){case"hex":var ge=this,ve=C,le=B,he=H,be=(le=Number(le)||0,ge.length-le);(!he||be<(he=Number(he)))&&(he=be),(be=ve.length)/2<he&&(he=be/2);for(var Ae=0;Ae<he;++Ae){var je=parseInt(ve.substr(2*Ae,2),16);if(ee(je))return Ae;ge[le+Ae]=je}return Ae;case"utf8":case"utf-8":return be=B,_e=H,Y(J(C,(de=this).length-be),de,be,_e);case"ascii":return k(this,C,B,H);case"latin1":case"binary":return k(this,C,B,H);case"base64":return de=this,_e=B,se=H,Y(Q(C),de,_e,se);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return M(this,C,B,H);default:if(pe)throw new TypeError("Unknown encoding: "+$);$=(""+$).toLowerCase(),pe=!0}},o.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var F=4096;function A(C,B,H){if(C%1!=0||C<0)throw new RangeError("offset is not uint");if(H<C+B)throw new RangeError("Trying to access beyond buffer length")}function U(C,B,H,$,ne,se){if(!o.isBuffer(C))throw new TypeError('"buffer" argument must be a Buffer instance');if(ne<B||B<se)throw new RangeError('"value" argument is out of bounds');if(H+$>C.length)throw new RangeError("Index out of range")}function D(C,B,H,$){if(H+$>C.length)throw new RangeError("Index out of range");if(H<0)throw new RangeError("Index out of range")}function V(C,B,H,$,ne){return B=+B,H>>>=0,ne||D(C,0,H,4),s.write(C,B,H,$,23,4),H+4}function G(C,B,H,$,ne){return B=+B,H>>>=0,ne||D(C,0,H,8),s.write(C,B,H,$,52,8),H+8}o.prototype.slice=function(C,B){var H=this.length,H=((C=~~C)<0?(C+=H)<0&&(C=0):H<C&&(C=H),(B=B===void 0?H:~~B)<0?(B+=H)<0&&(B=0):H<B&&(B=H),B<C&&(B=C),this.subarray(C,B));return Object.setPrototypeOf(H,o.prototype),H},o.prototype.readUIntLE=function(C,B,H){C>>>=0,B>>>=0,H||A(C,B,this.length);for(var $=this[C],ne=1,se=0;++se<B&&(ne*=256);)$+=this[C+se]*ne;return $},o.prototype.readUIntBE=function(C,B,H){C>>>=0,B>>>=0,H||A(C,B,this.length);for(var $=this[C+--B],ne=1;0<B&&(ne*=256);)$+=this[C+--B]*ne;return $},o.prototype.readUInt8=function(C,B){return C>>>=0,B||A(C,1,this.length),this[C]},o.prototype.readUInt16LE=function(C,B){return C>>>=0,B||A(C,2,this.length),this[C]|this[C+1]<<8},o.prototype.readUInt16BE=function(C,B){return C>>>=0,B||A(C,2,this.length),this[C]<<8|this[C+1]},o.prototype.readUInt32LE=function(C,B){return C>>>=0,B||A(C,4,this.length),(this[C]|this[C+1]<<8|this[C+2]<<16)+16777216*this[C+3]},o.prototype.readUInt32BE=function(C,B){return C>>>=0,B||A(C,4,this.length),16777216*this[C]+(this[C+1]<<16|this[C+2]<<8|this[C+3])},o.prototype.readIntLE=function(C,B,H){C>>>=0,B>>>=0,H||A(C,B,this.length);for(var $=this[C],ne=1,se=0;++se<B&&(ne*=256);)$+=this[C+se]*ne;return(ne*=128)<=$&&($-=Math.pow(2,8*B)),$},o.prototype.readIntBE=function(C,B,H){C>>>=0,B>>>=0,H||A(C,B,this.length);for(var $=B,ne=1,se=this[C+--$];0<$&&(ne*=256);)se+=this[C+--$]*ne;return(ne*=128)<=se&&(se-=Math.pow(2,8*B)),se},o.prototype.readInt8=function(C,B){return C>>>=0,B||A(C,1,this.length),128&this[C]?-1*(255-this[C]+1):this[C]},o.prototype.readInt16LE=function(C,B){return C>>>=0,B||A(C,2,this.length),B=this[C]|this[C+1]<<8,32768&B?4294901760|B:B},o.prototype.readInt16BE=function(C,B){return C>>>=0,B||A(C,2,this.length),B=this[C+1]|this[C]<<8,32768&B?4294901760|B:B},o.prototype.readInt32LE=function(C,B){return C>>>=0,B||A(C,4,this.length),this[C]|this[C+1]<<8|this[C+2]<<16|this[C+3]<<24},o.prototype.readInt32BE=function(C,B){return C>>>=0,B||A(C,4,this.length),this[C]<<24|this[C+1]<<16|this[C+2]<<8|this[C+3]},o.prototype.readFloatLE=function(C,B){return C>>>=0,B||A(C,4,this.length),s.read(this,C,!0,23,4)},o.prototype.readFloatBE=function(C,B){return C>>>=0,B||A(C,4,this.length),s.read(this,C,!1,23,4)},o.prototype.readDoubleLE=function(C,B){return C>>>=0,B||A(C,8,this.length),s.read(this,C,!0,52,8)},o.prototype.readDoubleBE=function(C,B){return C>>>=0,B||A(C,8,this.length),s.read(this,C,!1,52,8)},o.prototype.writeUIntLE=function(C,B,H,$){C=+C,B>>>=0,H>>>=0,$||U(this,C,B,H,Math.pow(2,8*H)-1,0);var ne=1,se=0;for(this[B]=255&C;++se<H&&(ne*=256);)this[B+se]=C/ne&255;return B+H},o.prototype.writeUIntBE=function(C,B,H,$){C=+C,B>>>=0,H>>>=0,$||U(this,C,B,H,Math.pow(2,8*H)-1,0);var ne=H-1,se=1;for(this[B+ne]=255&C;0<=--ne&&(se*=256);)this[B+ne]=C/se&255;return B+H},o.prototype.writeUInt8=function(C,B,H){return C=+C,B>>>=0,H||U(this,C,B,1,255,0),this[B]=255&C,B+1},o.prototype.writeUInt16LE=function(C,B,H){return C=+C,B>>>=0,H||U(this,C,B,2,65535,0),this[B]=255&C,this[B+1]=C>>>8,B+2},o.prototype.writeUInt16BE=function(C,B,H){return C=+C,B>>>=0,H||U(this,C,B,2,65535,0),this[B]=C>>>8,this[B+1]=255&C,B+2},o.prototype.writeUInt32LE=function(C,B,H){return C=+C,B>>>=0,H||U(this,C,B,4,4294967295,0),this[B+3]=C>>>24,this[B+2]=C>>>16,this[B+1]=C>>>8,this[B]=255&C,B+4},o.prototype.writeUInt32BE=function(C,B,H){return C=+C,B>>>=0,H||U(this,C,B,4,4294967295,0),this[B]=C>>>24,this[B+1]=C>>>16,this[B+2]=C>>>8,this[B+3]=255&C,B+4},o.prototype.writeIntLE=function(C,B,H,$){C=+C,B>>>=0,$||U(this,C,B,H,($=Math.pow(2,8*H-1))-1,-$);var ne=0,se=1,de=0;for(this[B]=255&C;++ne<H&&(se*=256);)C<0&&de===0&&this[B+ne-1]!==0&&(de=1),this[B+ne]=(C/se>>0)-de&255;return B+H},o.prototype.writeIntBE=function(C,B,H,$){C=+C,B>>>=0,$||U(this,C,B,H,($=Math.pow(2,8*H-1))-1,-$);var ne=H-1,se=1,de=0;for(this[B+ne]=255&C;0<=--ne&&(se*=256);)C<0&&de===0&&this[B+ne+1]!==0&&(de=1),this[B+ne]=(C/se>>0)-de&255;return B+H},o.prototype.writeInt8=function(C,B,H){return C=+C,B>>>=0,H||U(this,C,B,1,127,-128),this[B]=255&(C=C<0?255+C+1:C),B+1},o.prototype.writeInt16LE=function(C,B,H){return C=+C,B>>>=0,H||U(this,C,B,2,32767,-32768),this[B]=255&C,this[B+1]=C>>>8,B+2},o.prototype.writeInt16BE=function(C,B,H){return C=+C,B>>>=0,H||U(this,C,B,2,32767,-32768),this[B]=C>>>8,this[B+1]=255&C,B+2},o.prototype.writeInt32LE=function(C,B,H){return C=+C,B>>>=0,H||U(this,C,B,4,2147483647,-2147483648),this[B]=255&C,this[B+1]=C>>>8,this[B+2]=C>>>16,this[B+3]=C>>>24,B+4},o.prototype.writeInt32BE=function(C,B,H){return C=+C,B>>>=0,H||U(this,C,B,4,2147483647,-2147483648),this[B]=(C=C<0?4294967295+C+1:C)>>>24,this[B+1]=C>>>16,this[B+2]=C>>>8,this[B+3]=255&C,B+4},o.prototype.writeFloatLE=function(C,B,H){return V(this,C,B,!0,H)},o.prototype.writeFloatBE=function(C,B,H){return V(this,C,B,!1,H)},o.prototype.writeDoubleLE=function(C,B,H){return G(this,C,B,!0,H)},o.prototype.writeDoubleBE=function(C,B,H){return G(this,C,B,!1,H)},o.prototype.copy=function(C,B,H,$){if(!o.isBuffer(C))throw new TypeError("argument should be a Buffer");if(H=H||0,$||$===0||($=this.length),B>=C.length&&(B=C.length),($=0<$&&$<H?H:$)===H||C.length===0||this.length===0)return 0;if((B=B||0)<0)throw new RangeError("targetStart out of bounds");if(H<0||H>=this.length)throw new RangeError("Index out of range");if($<0)throw new RangeError("sourceEnd out of bounds");$>this.length&&($=this.length);var ne=($=C.length-B<$-H?C.length-B+H:$)-H;if(this===C&&typeof Uint8Array.prototype.copyWithin=="function")this.copyWithin(B,H,$);else if(this===C&&H<B&&B<$)for(var se=ne-1;0<=se;--se)C[se+B]=this[se+H];else Uint8Array.prototype.set.call(C,this.subarray(H,$),B);return ne},o.prototype.fill=function(C,B,H,$){if(typeof C=="string"){if(typeof B=="string"?($=B,B=0,H=this.length):typeof H=="string"&&($=H,H=this.length),$!==void 0&&typeof $!="string")throw new TypeError("encoding must be a string");if(typeof $=="string"&&!o.isEncoding($))throw new TypeError("Unknown encoding: "+$);var ne;C.length===1&&(ne=C.charCodeAt(0),($==="utf8"&&ne<128||$==="latin1")&&(C=ne))}else typeof C=="number"?C&=255:typeof C=="boolean"&&(C=Number(C));if(B<0||this.length<B||this.length<H)throw new RangeError("Out of range index");var se;if(!(H<=B))if(B>>>=0,H=H===void 0?this.length:H>>>0,typeof(C=C||0)=="number")for(se=B;se<H;++se)this[se]=C;else{var de=o.isBuffer(C)?C:o.from(C,$),_e=de.length;if(_e===0)throw new TypeError('The value "'+C+'" is invalid for argument "value"');for(se=0;se<H-B;++se)this[se+B]=de[se%_e]}return this};var W=/[^+/0-9A-Za-z-_]/g;function J(C,B){B=B||1/0;for(var H,$=C.length,ne=null,se=[],de=0;de<$;++de){if(55295<(H=C.charCodeAt(de))&&H<57344){if(!ne){if(56319<H){-1<(B-=3)&&se.push(239,191,189);continue}if(de+1===$){-1<(B-=3)&&se.push(239,191,189);continue}ne=H;continue}if(H<56320){-1<(B-=3)&&se.push(239,191,189),ne=H;continue}H=65536+(ne-55296<<10|H-56320)}else ne&&-1<(B-=3)&&se.push(239,191,189);if(ne=null,H<128){if(--B<0)break;se.push(H)}else if(H<2048){if((B-=2)<0)break;se.push(H>>6|192,63&H|128)}else if(H<65536){if((B-=3)<0)break;se.push(H>>12|224,H>>6&63|128,63&H|128)}else{if(!(H<1114112))throw new Error("Invalid code point");if((B-=4)<0)break;se.push(H>>18|240,H>>12&63|128,H>>6&63|128,63&H|128)}}return se}function Q(C){return f.toByteArray(function(B){if((B=(B=B.split("=")[0]).trim().replace(W,"")).length<2)return"";for(;B.length%4!=0;)B+="=";return B}(C))}function Y(C,B,H,$){for(var ne=0;ne<$&&!(ne+H>=B.length||ne>=C.length);++ne)B[ne+H]=C[ne];return ne}function z(C,B){return C instanceof B||C!=null&&C.constructor!=null&&C.constructor.name!=null&&C.constructor.name===B.name}function ee(C){return C!=C}var ie=function(){for(var C="0123456789abcdef",B=new Array(256),H=0;H<16;++H)for(var $=16*H,ne=0;ne<16;++ne)B[$+ne]=C[H]+C[ne];return B}()}).call(this,t("buffer").Buffer)},{"base64-js":1,buffer:4,ieee754:251}],5:[function(t,j,x){j.exports=function(d){if(typeof d!="function")throw TypeError(String(d)+" is not a function");return d}},{}],6:[function(t,j,x){var d=t("../internals/is-object");j.exports=function(f){if(d(f)||f===null)return f;throw TypeError("Can't set "+String(f)+" as a prototype")}},{"../internals/is-object":75}],7:[function(s,j,x){var d=s("../internals/well-known-symbol"),f=s("../internals/object-create"),s=s("../internals/object-define-property"),c=d("unscopables"),g=Array.prototype;g[c]==null&&s.f(g,c,{configurable:!0,value:f(null)}),j.exports=function(y){g[c][y]=!0}},{"../internals/object-create":91,"../internals/object-define-property":93,"../internals/well-known-symbol":149}],8:[function(t,j,x){var d=t("../internals/string-multibyte").charAt;j.exports=function(f,s,c){return s+(c?d(f,s).length:1)}},{"../internals/string-multibyte":124}],9:[function(t,j,x){j.exports=function(d,f,s){if(d instanceof f)return d;throw TypeError("Incorrect "+(s?s+" ":"")+"invocation")}},{}],10:[function(t,j,x){var d=t("../internals/is-object");j.exports=function(f){if(d(f))return f;throw TypeError(String(f)+" is not an object")}},{"../internals/is-object":75}],11:[function(t,j,x){j.exports=typeof ArrayBuffer<"u"&&typeof DataView<"u"},{}],12:[function(D,j,x){function d(G){return y(G)&&o(V,a(G))}var f,s=D("../internals/array-buffer-native"),c=D("../internals/descriptors"),g=D("../internals/global"),y=D("../internals/is-object"),o=D("../internals/has"),a=D("../internals/classof"),i=D("../internals/create-non-enumerable-property"),h=D("../internals/redefine"),p=D("../internals/object-define-property").f,l=D("../internals/object-get-prototype-of"),m=D("../internals/object-set-prototype-of"),F=D("../internals/well-known-symbol"),D=D("../internals/uid"),_=g.Int8Array,b=_&&_.prototype,T=g.Uint8ClampedArray,T=T&&T.prototype,O=_&&l(_),k=b&&l(b),M=Object.prototype,I=M.isPrototypeOf,F=F("toStringTag"),A=D("TYPED_ARRAY_TAG"),U=s&&!!m&&a(g.opera)!=="Opera",D=!1,V={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8};for(f in V)g[f]||(U=!1);if((!U||typeof O!="function"||O===Function.prototype)&&(O=function(){throw TypeError("Incorrect invocation")},U))for(f in V)g[f]&&m(g[f],O);if((!U||!k||k===M)&&(k=O.prototype,U))for(f in V)g[f]&&m(g[f].prototype,k);if(U&&l(T)!==k&&m(T,k),c&&!o(k,F))for(f in D=!0,p(k,F,{get:function(){return y(this)?this[A]:void 0}}),V)g[f]&&i(g[f],A,f);j.exports={NATIVE_ARRAY_BUFFER_VIEWS:U,TYPED_ARRAY_TAG:D&&A,aTypedArray:function(G){if(d(G))return G;throw TypeError("Target is not a typed array")},aTypedArrayConstructor:function(G){if(m){if(I.call(O,G))return G}else for(var W in V)if(o(V,f)&&(W=g[W],W&&(G===W||I.call(W,G))))return G;throw TypeError("Target is not a typed array constructor")},exportTypedArrayMethod:function(G,W,J){if(c){if(J)for(var Q in V)Q=g[Q],Q&&o(Q.prototype,G)&&delete Q.prototype[G];k[G]&&!J||h(k,G,!J&&U&&b[G]||W)}},exportTypedArrayStaticMethod:function(G,W,J){var Q,Y;if(c){if(m){if(J)for(Q in V)(Y=g[Q])&&o(Y,G)&&delete Y[G];if(O[G]&&!J)return;try{return h(O,G,!J&&U&&_[G]||W)}catch{}}for(Q in V)!(Y=g[Q])||Y[G]&&!J||h(Y,G,W)}},isView:function(G){return G=a(G),G==="DataView"||o(V,G)},isTypedArray:d,TypedArray:O,TypedArrayPrototype:k}},{"../internals/array-buffer-native":11,"../internals/classof":29,"../internals/create-non-enumerable-property":38,"../internals/descriptors":43,"../internals/global":60,"../internals/has":61,"../internals/is-object":75,"../internals/object-define-property":93,"../internals/object-get-prototype-of":98,"../internals/object-set-prototype-of":102,"../internals/redefine":109,"../internals/uid":146,"../internals/well-known-symbol":149}],13:[function(H,j,x){function d(le){return[255&le]}function f(le){return[255&le,le>>8&255]}function s(le){return[255&le,le>>8&255,le>>16&255,le>>24&255]}function c(le){return le[3]<<24|le[2]<<16|le[1]<<8|le[0]}function g(le){return se(le,23,4)}function y(le){return se(le,52,8)}function o(le,he){D(le[z],he,{get:function(){return W(this)[he]}})}function a(Me,he,Te,Ae){if(Te=M(Te),Me=W(Me),Te+he>Me.byteLength)throw ne(ee);var je=W(Me.buffer).bytes,Te=Te+Me.byteOffset,Me=je.slice(Te,Te+he);return Ae?Me:Me.reverse()}function i(le,he,be,Ae,je,Te){if(be=M(be),le=W(le),be+he>le.byteLength)throw ne(ee);for(var Me=W(le.buffer).bytes,qe=be+le.byteOffset,Ne=Ae(+je),ct=0;ct<he;ct++)Me[qe+ct]=Ne[Te?ct:he-ct-1]}var h=H("../internals/global"),p=H("../internals/descriptors"),l=H("../internals/array-buffer-native"),m=H("../internals/create-non-enumerable-property"),_=H("../internals/redefine-all"),b=H("../internals/fails"),T=H("../internals/an-instance"),O=H("../internals/to-integer"),k=H("../internals/to-length"),M=H("../internals/to-index"),I=H("../internals/ieee754"),F=H("../internals/object-get-prototype-of"),A=H("../internals/object-set-prototype-of"),U=H("../internals/object-get-own-property-names").f,D=H("../internals/object-define-property").f,V=H("../internals/array-fill"),G=H("../internals/set-to-string-tag"),H=H("../internals/internal-state"),W=H.get,J=H.set,Q="ArrayBuffer",Y="DataView",z="prototype",ee="Wrong index",ie=h[Q],C=ie,B=h[Y],H=B&&B[z],$=Object.prototype,ne=h.RangeError,se=I.pack,de=I.unpack;if(l){if(!b(function(){ie(1)})||!b(function(){new ie(-1)})||b(function(){return new ie,new ie(1.5),new ie(NaN),ie.name!=Q})){for(var _e,h=(C=function(be){return T(this,C),new ie(M(be))})[z]=ie[z],pe=U(ie),ge=0;pe.length>ge;)(_e=pe[ge++])in C||m(C,_e,ie[_e]);h.constructor=C}A&&F(H)!==$&&A(H,$);var I=new B(new C(2)),ve=H.setInt8;I.setInt8(0,2147483648),I.setInt8(1,2147483649),!I.getInt8(0)&&I.getInt8(1)||_(H,{setInt8:function(he,be){ve.call(this,he,be<<24>>24)},setUint8:function(he,be){ve.call(this,he,be<<24>>24)}},{unsafe:!0})}else C=function(le){T(this,C,Q),le=M(le),J(this,{bytes:V.call(new Array(le),0),byteLength:le}),p||(this.byteLength=le)},B=function(le,je,be){T(this,B,Y),T(le,C,Y);var Ae=W(le).byteLength,je=O(je);if(je<0||Ae<je)throw ne("Wrong offset");if(Ae<je+(be=be===void 0?Ae-je:k(be)))throw ne("Wrong length");J(this,{buffer:le,byteLength:be,byteOffset:je}),p||(this.buffer=le,this.byteLength=be,this.byteOffset=je)},p&&(o(C,"byteLength"),o(B,"buffer"),o(B,"byteLength"),o(B,"byteOffset")),_(B[z],{getInt8:function(le){return a(this,1,le)[0]<<24>>24},getUint8:function(le){return a(this,1,le)[0]},getInt16:function(le){return le=a(this,2,le,1<arguments.length?arguments[1]:void 0),(le[1]<<8|le[0])<<16>>16},getUint16:function(le){return le=a(this,2,le,1<arguments.length?arguments[1]:void 0),le[1]<<8|le[0]},getInt32:function(le){return c(a(this,4,le,1<arguments.length?arguments[1]:void 0))},getUint32:function(le){return c(a(this,4,le,1<arguments.length?arguments[1]:void 0))>>>0},getFloat32:function(le){return de(a(this,4,le,1<arguments.length?arguments[1]:void 0),23)},getFloat64:function(le){return de(a(this,8,le,1<arguments.length?arguments[1]:void 0),52)},setInt8:function(le,he){i(this,1,le,d,he)},setUint8:function(le,he){i(this,1,le,d,he)},setInt16:function(le,he){i(this,2,le,f,he,2<arguments.length?arguments[2]:void 0)},setUint16:function(le,he){i(this,2,le,f,he,2<arguments.length?arguments[2]:void 0)},setInt32:function(le,he){i(this,4,le,s,he,2<arguments.length?arguments[2]:void 0)},setUint32:function(le,he){i(this,4,le,s,he,2<arguments.length?arguments[2]:void 0)},setFloat32:function(le,he){i(this,4,le,g,he,2<arguments.length?arguments[2]:void 0)},setFloat64:function(le,he){i(this,8,le,y,he,2<arguments.length?arguments[2]:void 0)}});G(C,Q),G(B,Y),j.exports={ArrayBuffer:C,DataView:B}},{"../internals/an-instance":9,"../internals/array-buffer-native":11,"../internals/array-fill":15,"../internals/create-non-enumerable-property":38,"../internals/descriptors":43,"../internals/fails":51,"../internals/global":60,"../internals/ieee754":66,"../internals/internal-state":71,"../internals/object-define-property":93,"../internals/object-get-own-property-names":96,"../internals/object-get-prototype-of":98,"../internals/object-set-prototype-of":102,"../internals/redefine-all":108,"../internals/set-to-string-tag":118,"../internals/to-index":134,"../internals/to-integer":136,"../internals/to-length":137}],14:[function(t,j,x){var d=t("../internals/to-object"),f=t("../internals/to-absolute-index"),s=t("../internals/to-length"),c=Math.min;j.exports=[].copyWithin||function(p,y){var o=d(this),a=s(o.length),i=f(p,a),h=f(y,a),p=2<arguments.length?arguments[2]:void 0,l=c((p===void 0?a:f(p,a))-h,a-i),m=1;for(h<i&&i<h+l&&(m=-1,h+=l-1,i+=l-1);0<l--;)h in o?o[i]=o[h]:delete o[i],i+=m,h+=m;return o}},{"../internals/to-absolute-index":133,"../internals/to-length":137,"../internals/to-object":138}],15:[function(t,j,x){var d=t("../internals/to-object"),f=t("../internals/to-absolute-index"),s=t("../internals/to-length");j.exports=function(c){for(var g=d(this),y=s(g.length),a=arguments.length,o=f(1<a?arguments[1]:void 0,y),a=2<a?arguments[2]:void 0,i=a===void 0?y:f(a,y);o<i;)g[o++]=c;return g}},{"../internals/to-absolute-index":133,"../internals/to-length":137,"../internals/to-object":138}],16:[function(s,j,x){var d=s("../internals/array-iteration").forEach,f=s("../internals/array-method-is-strict"),s=s("../internals/array-method-uses-to-length"),f=f("forEach"),s=s("forEach");j.exports=f&&s?[].forEach:function(c){return d(this,c,1<arguments.length?arguments[1]:void 0)}},{"../internals/array-iteration":19,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23}],17:[function(t,j,x){var d=t("../internals/function-bind-context"),f=t("../internals/to-object"),s=t("../internals/call-with-safe-iteration-closing"),c=t("../internals/is-array-iterator-method"),g=t("../internals/to-length"),y=t("../internals/create-property"),o=t("../internals/get-iterator-method");j.exports=function(T){var i,h,p,l,m,_,b=f(T),T=typeof this=="function"?this:Array,O=arguments.length,k=1<O?arguments[1]:void 0,M=k!==void 0,I=o(b),F=0;if(M&&(k=d(k,2<O?arguments[2]:void 0,2)),I==null||T==Array&&c(I))for(h=new T(i=g(b.length));F<i;F++)_=M?k(b[F],F):b[F],y(h,F,_);else for(m=(l=I.call(b)).next,h=new T;!(p=m.call(l)).done;F++)_=M?s(l,k,[p.value,F],!0):p.value,y(h,F,_);return h.length=F,h}},{"../internals/call-with-safe-iteration-closing":26,"../internals/create-property":40,"../internals/function-bind-context":55,"../internals/get-iterator-method":58,"../internals/is-array-iterator-method":72,"../internals/to-length":137,"../internals/to-object":138}],18:[function(t,j,x){function d(g){return function(y,o,a){var i,h=f(y),p=s(h.length),l=c(a,p);if(g&&o!=o){for(;l<p;)if((i=h[l++])!=i)return!0}else for(;l<p;l++)if((g||l in h)&&h[l]===o)return g||l||0;return!g&&-1}}var f=t("../internals/to-indexed-object"),s=t("../internals/to-length"),c=t("../internals/to-absolute-index");j.exports={includes:d(!0),indexOf:d(!1)}},{"../internals/to-absolute-index":133,"../internals/to-indexed-object":135,"../internals/to-length":137}],19:[function(t,j,x){function d(a){var i=a==1,h=a==2,p=a==3,l=a==4,m=a==6,_=a==5||m;return function(b,T,O,k){for(var M,I,F=c(b),A=s(F),U=f(T,O,3),D=g(A.length),V=0,T=k||y,G=i?T(b,D):h?T(b,0):void 0;V<D;V++)if((_||V in A)&&(I=U(M=A[V],V,F),a)){if(i)G[V]=I;else if(I)switch(a){case 3:return!0;case 5:return M;case 6:return V;case 2:o.call(G,M)}else if(l)return!1}return m?-1:p||l?l:G}}var f=t("../internals/function-bind-context"),s=t("../internals/indexed-object"),c=t("../internals/to-object"),g=t("../internals/to-length"),y=t("../internals/array-species-create"),o=[].push;j.exports={forEach:d(0),map:d(1),filter:d(2),some:d(3),every:d(4),find:d(5),findIndex:d(6)}},{"../internals/array-species-create":25,"../internals/function-bind-context":55,"../internals/indexed-object":67,"../internals/to-length":137,"../internals/to-object":138}],20:[function(a,j,x){var d=a("../internals/to-indexed-object"),f=a("../internals/to-integer"),s=a("../internals/to-length"),o=a("../internals/array-method-is-strict"),a=a("../internals/array-method-uses-to-length"),c=Math.min,g=[].lastIndexOf,y=!!g&&1/[1].lastIndexOf(1,-0)<0,o=o("lastIndexOf"),a=a("indexOf",{ACCESSORS:!0,1:0});j.exports=y||!o||!a?function(i){if(y)return g.apply(this,arguments)||0;var h=d(this),p=s(h.length),l=p-1;for((l=1<arguments.length?c(l,f(arguments[1])):l)<0&&(l=p+l);0<=l;l--)if(l in h&&h[l]===i)return l||0;return-1}:g},{"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/to-indexed-object":135,"../internals/to-integer":136,"../internals/to-length":137}],21:[function(t,j,x){var d=t("../internals/fails"),f=t("../internals/well-known-symbol"),s=t("../internals/engine-v8-version"),c=f("species");j.exports=function(g){return 51<=s||!d(function(){var y=[];return(y.constructor={})[c]=function(){return{foo:1}},y[g](Boolean).foo!==1})}},{"../internals/engine-v8-version":48,"../internals/fails":51,"../internals/well-known-symbol":149}],22:[function(t,j,x){var d=t("../internals/fails");j.exports=function(f,s){var c=[][f];return!!c&&d(function(){c.call(null,s||function(){throw 1},1)})}},{"../internals/fails":51}],23:[function(t,j,x){function d(o){throw o}var f=t("../internals/descriptors"),s=t("../internals/fails"),c=t("../internals/has"),g=Object.defineProperty,y={};j.exports=function(o,a){var i,h,p,l;return c(y,o)?y[o]:(i=[][o],h=!!c(a=a||{},"ACCESSORS")&&a.ACCESSORS,p=c(a,0)?a[0]:d,l=c(a,1)?a[1]:void 0,y[o]=!!i&&!s(function(){if(h&&!f)return!0;var m={length:-1};h?g(m,1,{enumerable:!0,get:d}):m[1]=1,i.call(m,p,l)}))}},{"../internals/descriptors":43,"../internals/fails":51,"../internals/has":61}],24:[function(t,j,x){function d(y){return function(o,a,i,h){f(a);var p=s(o),l=c(p),m=g(p.length),_=y?m-1:0,b=y?-1:1;if(i<2)for(;;){if(_ in l){h=l[_],_+=b;break}if(_+=b,y?_<0:m<=_)throw TypeError("Reduce of empty array with no initial value")}for(;y?0<=_:_<m;_+=b)_ in l&&(h=a(h,l[_],_,p));return h}}var f=t("../internals/a-function"),s=t("../internals/to-object"),c=t("../internals/indexed-object"),g=t("../internals/to-length");j.exports={left:d(!1),right:d(!0)}},{"../internals/a-function":5,"../internals/indexed-object":67,"../internals/to-length":137,"../internals/to-object":138}],25:[function(t,j,x){var d=t("../internals/is-object"),f=t("../internals/is-array"),s=t("../internals/well-known-symbol")("species");j.exports=function(c,g){var y;return new((y=f(c)&&(typeof(y=c.constructor)=="function"&&(y===Array||f(y.prototype))||d(y)&&(y=y[s])===null)?void 0:y)===void 0?Array:y)(g===0?0:g)}},{"../internals/is-array":73,"../internals/is-object":75,"../internals/well-known-symbol":149}],26:[function(t,j,x){var d=t("../internals/an-object");j.exports=function(f,s,c,g){try{return g?s(d(c)[0],c[1]):s(c)}catch(y){throw g=f.return,g!==void 0&&d(g.call(f)),y}}},{"../internals/an-object":10}],27:[function(t,j,x){var d=t("../internals/well-known-symbol")("iterator"),f=!1;try{var s=0,c={next:function(){return{done:!!s++}},return:function(){f=!0}};c[d]=function(){return this},Array.from(c,function(){throw 2})}catch{}j.exports=function(g,y){if(!y&&!f)return!1;var o=!1;try{var a={};a[d]=function(){return{next:function(){return{done:o=!0}}}},g(a)}catch{}return o}},{"../internals/well-known-symbol":149}],28:[function(t,j,x){var d={}.toString;j.exports=function(f){return d.call(f).slice(8,-1)}},{}],29:[function(t,j,x){var d=t("../internals/to-string-tag-support"),f=t("../internals/classof-raw"),s=t("../internals/well-known-symbol")("toStringTag"),c=f(function(){return arguments}())=="Arguments";j.exports=d?f:function(g){var y;return g===void 0?"Undefined":g===null?"Null":typeof(y=function(o,a){try{return o[a]}catch{}}(g=Object(g),s))=="string"?y:c?f(g):(y=f(g))=="Object"&&typeof g.callee=="function"?"Arguments":y}},{"../internals/classof-raw":28,"../internals/to-string-tag-support":142,"../internals/well-known-symbol":149}],30:[function(p,j,x){var d=p("../internals/object-define-property").f,f=p("../internals/object-create"),s=p("../internals/redefine-all"),c=p("../internals/function-bind-context"),g=p("../internals/an-instance"),y=p("../internals/iterate"),o=p("../internals/define-iterator"),a=p("../internals/set-species"),i=p("../internals/descriptors"),h=p("../internals/internal-metadata").fastKey,p=p("../internals/internal-state"),l=p.set,m=p.getterFor;j.exports={getConstructor:function(_,b,T,O){function k(A,U,D){var V,G=F(A),W=M(A,U);return W?W.value=D:(G.last=W={index:V=h(U,!0),key:U,value:D,previous:U=G.last,next:void 0,removed:!1},G.first||(G.first=W),U&&(U.next=W),i?G.size++:A.size++,V!=="F"&&(G.index[V]=W)),A}function M(V,U){var D,V=F(V),G=h(U);if(G!=="F")return V.index[G];for(D=V.first;D;D=D.next)if(D.key==U)return D}var I=_(function(A,U){g(A,I,b),l(A,{type:b,index:f(null),first:void 0,last:void 0,size:0}),i||(A.size=0),U!=null&&y(U,A[O],A,T)}),F=m(b);return s(I.prototype,{clear:function(){for(var A=F(this),U=A.index,D=A.first;D;)D.removed=!0,D.previous&&(D.previous=D.previous.next=void 0),delete U[D.index],D=D.next;A.first=A.last=void 0,i?A.size=0:this.size=0},delete:function(G){var U,D,V=F(this),G=M(this,G);return G&&(U=G.next,D=G.previous,delete V.index[G.index],G.removed=!0,D&&(D.next=U),U&&(U.previous=D),V.first==G&&(V.first=U),V.last==G&&(V.last=D),i?V.size--:this.size--),!!G},forEach:function(A){for(var U,D=F(this),V=c(A,1<arguments.length?arguments[1]:void 0,3);U=U?U.next:D.first;)for(V(U.value,U.key,this);U&&U.removed;)U=U.previous},has:function(A){return!!M(this,A)}}),s(I.prototype,T?{get:function(A){return A=M(this,A),A&&A.value},set:function(A,U){return k(this,A===0?0:A,U)}}:{add:function(A){return k(this,A=A===0?0:A,A)}}),i&&d(I.prototype,"size",{get:function(){return F(this).size}}),I},setStrong:function(_,b,T){var O=b+" Iterator",k=m(b),M=m(O);o(_,b,function(I,F){l(this,{type:O,target:I,state:k(I),kind:F,last:void 0})},function(){for(var I=M(this),F=I.kind,A=I.last;A&&A.removed;)A=A.previous;return I.target&&(I.last=A=A?A.next:I.state.first)?F=="keys"?{value:A.key,done:!1}:F=="values"?{value:A.value,done:!1}:{value:[A.key,A.value],done:!1}:{value:I.target=void 0,done:!0}},T?"entries":"values",!T,!0),a(b)}}},{"../internals/an-instance":9,"../internals/define-iterator":41,"../internals/descriptors":43,"../internals/function-bind-context":55,"../internals/internal-metadata":70,"../internals/internal-state":71,"../internals/iterate":78,"../internals/object-create":91,"../internals/object-define-property":93,"../internals/redefine-all":108,"../internals/set-species":117}],31:[function(l,j,x){function d(k){return k.frozen||(k.frozen=new f)}function f(){this.entries=[]}function s(k,M){return b(k.entries,function(I){return I[0]===M})}var c=l("../internals/redefine-all"),g=l("../internals/internal-metadata").getWeakData,y=l("../internals/an-object"),o=l("../internals/is-object"),a=l("../internals/an-instance"),i=l("../internals/iterate"),h=l("../internals/array-iteration"),p=l("../internals/has"),l=l("../internals/internal-state"),m=l.set,_=l.getterFor,b=h.find,T=h.findIndex,O=0;f.prototype={get:function(k){if(k=s(this,k),k)return k[1]},has:function(k){return!!s(this,k)},set:function(k,M){var I=s(this,k);I?I[1]=M:this.entries.push([k,M])},delete:function(k){var M=T(this.entries,function(I){return I[0]===k});return~M&&this.entries.splice(M,1),!!~M}},j.exports={getConstructor:function(k,M,I,F){function A(V,G,W){var J=D(V),Q=g(y(G),!0);return Q===!0?d(J).set(G,W):Q[J.id]=W,V}var U=k(function(V,G){a(V,U,M),m(V,{type:M,id:O++,frozen:void 0}),G!=null&&i(G,V[F],V,I)}),D=_(M);return c(U.prototype,{delete:function(V){var G,W=D(this);return!!o(V)&&((G=g(V))===!0?d(W).delete(V):G&&p(G,W.id)&&delete G[W.id])},has:function(V){var G,W=D(this);return!!o(V)&&((G=g(V))===!0?d(W).has(V):G&&p(G,W.id))}}),c(U.prototype,I?{get:function(V){var G,W=D(this);if(o(V))return(G=g(V))===!0?d(W).get(V):G?G[W.id]:void 0},set:function(V,G){return A(this,V,G)}}:{add:function(V){return A(this,V,!0)}}),U}}},{"../internals/an-instance":9,"../internals/an-object":10,"../internals/array-iteration":19,"../internals/has":61,"../internals/internal-metadata":70,"../internals/internal-state":71,"../internals/is-object":75,"../internals/iterate":78,"../internals/redefine-all":108}],32:[function(t,j,x){var d=t("../internals/export"),f=t("../internals/global"),s=t("../internals/is-forced"),c=t("../internals/redefine"),g=t("../internals/internal-metadata"),y=t("../internals/iterate"),o=t("../internals/an-instance"),a=t("../internals/is-object"),i=t("../internals/fails"),h=t("../internals/check-correctness-of-iteration"),p=t("../internals/set-to-string-tag"),l=t("../internals/inherit-if-required");j.exports=function(m,_,b){function T(Q){var Y=G[Q];c(G,Q,Q=="add"?function(z){return Y.call(this,z===0?0:z),this}:Q=="delete"?function(z){return!(U&&!a(z))&&Y.call(this,z===0?0:z)}:Q=="get"?function(z){return U&&!a(z)?void 0:Y.call(this,z===0?0:z)}:Q=="has"?function(z){return!(U&&!a(z))&&Y.call(this,z===0?0:z)}:function(z,ee){return Y.call(this,z===0?0:z,ee),this})}var O,k,M,I,F,A=m.indexOf("Map")!==-1,U=m.indexOf("Weak")!==-1,D=A?"set":"add",V=f[m],G=V&&V.prototype,W=V,J={};return s(m,typeof V!="function"||!(U||G.forEach&&!i(function(){new V().entries().next()})))?(W=b.getConstructor(_,m,A,D),g.REQUIRED=!0):s(m,!0)&&(k=(O=new W)[D](U?{}:-0,1)!=O,M=i(function(){O.has(1)}),I=h(function(Q){new V(Q)}),F=!U&&i(function(){for(var Q=new V,Y=5;Y--;)Q[D](Y,Y);return!Q.has(-0)}),I||(((W=_(function(Q,Y){return o(Q,W,m),Q=l(new V,Q,W),Y!=null&&y(Y,Q[D],Q,A),Q})).prototype=G).constructor=W),(M||F)&&(T("delete"),T("has"),A&&T("get")),(F||k)&&T(D),U&&G.clear&&delete G.clear),J[m]=W,d({global:!0,forced:W!=V},J),p(W,m),U||b.setStrong(W,m,A),W}},{"../internals/an-instance":9,"../internals/check-correctness-of-iteration":27,"../internals/export":50,"../internals/fails":51,"../internals/global":60,"../internals/inherit-if-required":68,"../internals/internal-metadata":70,"../internals/is-forced":74,"../internals/is-object":75,"../internals/iterate":78,"../internals/redefine":109,"../internals/set-to-string-tag":118}],33:[function(t,j,x){var d=t("../internals/has"),f=t("../internals/own-keys"),s=t("../internals/object-get-own-property-descriptor"),c=t("../internals/object-define-property");j.exports=function(g,y){for(var o=f(y),a=c.f,i=s.f,h=0;h<o.length;h++){var p=o[h];d(g,p)||a(g,p,i(y,p))}}},{"../internals/has":61,"../internals/object-define-property":93,"../internals/object-get-own-property-descriptor":94,"../internals/own-keys":104}],34:[function(t,j,x){var d=t("../internals/well-known-symbol")("match");j.exports=function(f){var s=/./;try{"/./"[f](s)}catch{try{return s[d]=!1,"/./"[f](s)}catch{}}return!1}},{"../internals/well-known-symbol":149}],35:[function(t,j,x){t=t("../internals/fails"),j.exports=!t(function(){function d(){}return d.prototype.constructor=null,Object.getPrototypeOf(new d)!==d.prototype})},{"../internals/fails":51}],36:[function(t,j,x){var d=t("../internals/require-object-coercible"),f=/"/g;j.exports=function(o,c,g,y){var o=String(d(o)),a="<"+c;return g!==""&&(a+=" "+g+'="'+String(y).replace(f,"&quot;")+'"'),a+">"+o+"</"+c+">"}},{"../internals/require-object-coercible":114}],37:[function(t,j,x){function d(){return this}var f=t("../internals/iterators-core").IteratorPrototype,s=t("../internals/object-create"),c=t("../internals/create-property-descriptor"),g=t("../internals/set-to-string-tag"),y=t("../internals/iterators");j.exports=function(o,a,i){return a+=" Iterator",o.prototype=s(f,{next:c(1,i)}),g(o,a,!1,!0),y[a]=d,o}},{"../internals/create-property-descriptor":39,"../internals/iterators":80,"../internals/iterators-core":79,"../internals/object-create":91,"../internals/set-to-string-tag":118}],38:[function(t,j,x){var d=t("../internals/descriptors"),f=t("../internals/object-define-property"),s=t("../internals/create-property-descriptor");j.exports=d?function(c,g,y){return f.f(c,g,s(1,y))}:function(c,g,y){return c[g]=y,c}},{"../internals/create-property-descriptor":39,"../internals/descriptors":43,"../internals/object-define-property":93}],39:[function(t,j,x){j.exports=function(d,f){return{enumerable:!(1&d),configurable:!(2&d),writable:!(4&d),value:f}}},{}],40:[function(t,j,x){var d=t("../internals/to-primitive"),f=t("../internals/object-define-property"),s=t("../internals/create-property-descriptor");j.exports=function(c,g,y){g=d(g),g in c?f.f(c,g,s(0,y)):c[g]=y}},{"../internals/create-property-descriptor":39,"../internals/object-define-property":93,"../internals/to-primitive":141}],41:[function(l,j,x){function d(){return this}var f=l("../internals/export"),s=l("../internals/create-iterator-constructor"),c=l("../internals/object-get-prototype-of"),g=l("../internals/object-set-prototype-of"),y=l("../internals/set-to-string-tag"),o=l("../internals/create-non-enumerable-property"),a=l("../internals/redefine"),i=l("../internals/well-known-symbol"),h=l("../internals/is-pure"),p=l("../internals/iterators"),l=l("../internals/iterators-core"),m=l.IteratorPrototype,_=l.BUGGY_SAFARI_ITERATORS,b=i("iterator"),T="values",O="entries";j.exports=function(k,M,I,J,A,U,D){s(I,M,J);function V(C){if(C===A&&ee)return ee;if(!_&&C in Y)return Y[C];switch(C){case"keys":case T:case O:return function(){return new I(this,C)}}return function(){return new I(this)}}var G,W,J=M+" Iterator",Q=!1,Y=k.prototype,z=Y[b]||Y["@@iterator"]||A&&Y[A],ee=!_&&z||V(A),ie=M=="Array"&&Y.entries||z;if(ie&&(ie=c(ie.call(new k)),m!==Object.prototype&&ie.next&&(h||c(ie)===m||(g?g(ie,m):typeof ie[b]!="function"&&o(ie,b,d)),y(ie,J,!0,!0),h&&(p[J]=d))),A==T&&z&&z.name!==T&&(Q=!0,ee=function(){return z.call(this)}),h&&!D||Y[b]===ee||o(Y,b,ee),p[M]=ee,A)if(G={values:V(T),keys:U?ee:V("keys"),entries:V(O)},D)for(W in G)!_&&!Q&&W in Y||a(Y,W,G[W]);else f({target:M,proto:!0,forced:_||Q},G);return G}},{"../internals/create-iterator-constructor":37,"../internals/create-non-enumerable-property":38,"../internals/export":50,"../internals/is-pure":76,"../internals/iterators":80,"../internals/iterators-core":79,"../internals/object-get-prototype-of":98,"../internals/object-set-prototype-of":102,"../internals/redefine":109,"../internals/set-to-string-tag":118,"../internals/well-known-symbol":149}],42:[function(t,j,x){var d=t("../internals/path"),f=t("../internals/has"),s=t("../internals/well-known-symbol-wrapped"),c=t("../internals/object-define-property").f;j.exports=function(g){var y=d.Symbol||(d.Symbol={});f(y,g)||c(y,g,{value:s.f(g)})}},{"../internals/has":61,"../internals/object-define-property":93,"../internals/path":105,"../internals/well-known-symbol-wrapped":148}],43:[function(t,j,x){t=t("../internals/fails"),j.exports=!t(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})},{"../internals/fails":51}],44:[function(f,j,x){var d=f("../internals/global"),f=f("../internals/is-object"),s=d.document,c=f(s)&&f(s.createElement);j.exports=function(g){return c?s.createElement(g):{}}},{"../internals/global":60,"../internals/is-object":75}],45:[function(t,j,x){j.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},{}],46:[function(t,j,x){t=t("../internals/engine-user-agent"),j.exports=/(iphone|ipod|ipad).*applewebkit/i.test(t)},{"../internals/engine-user-agent":47}],47:[function(t,j,x){t=t("../internals/get-built-in"),j.exports=t("navigator","userAgent")||""},{"../internals/get-built-in":57}],48:[function(s,j,x){var d,f,c=s("../internals/global"),s=s("../internals/engine-user-agent"),c=c.process,c=c&&c.versions,c=c&&c.v8;c?f=(d=c.split("."))[0]+d[1]:s&&(!(d=s.match(/Edge\/(\d+)/))||74<=d[1])&&(d=s.match(/Chrome\/(\d+)/))&&(f=d[1]),j.exports=f&&+f},{"../internals/engine-user-agent":47,"../internals/global":60}],49:[function(t,j,x){j.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},{}],50:[function(t,j,x){var d=t("../internals/global"),f=t("../internals/object-get-own-property-descriptor").f,s=t("../internals/create-non-enumerable-property"),c=t("../internals/redefine"),g=t("../internals/set-global"),y=t("../internals/copy-constructor-properties"),o=t("../internals/is-forced");j.exports=function(a,i){var h,p,l,m=a.target,_=a.global,b=a.stat,T=_?d:b?d[m]||g(m,{}):(d[m]||{}).prototype;if(T)for(h in i){if(p=i[h],l=a.noTargetGet?(l=f(T,h))&&l.value:T[h],!o(_?h:m+(b?".":"#")+h,a.forced)&&l!==void 0){if(typeof p==typeof l)continue;y(p,l)}(a.sham||l&&l.sham)&&s(p,"sham",!0),c(T,h,p,a)}}},{"../internals/copy-constructor-properties":33,"../internals/create-non-enumerable-property":38,"../internals/global":60,"../internals/is-forced":74,"../internals/object-get-own-property-descriptor":94,"../internals/redefine":109,"../internals/set-global":116}],51:[function(t,j,x){j.exports=function(d){try{return!!d()}catch{return!0}}},{}],52:[function(i,j,x){i("../modules/es.regexp.exec");var d=i("../internals/redefine"),f=i("../internals/fails"),s=i("../internals/well-known-symbol"),c=i("../internals/regexp-exec"),g=i("../internals/create-non-enumerable-property"),y=s("species"),o=!f(function(){var l=/./;return l.exec=function(){var m=[];return m.groups={a:"7"},m},"".replace(l,"$<a>")!=="7"}),a="a".replace(/./,"$0")==="$0",i=s("replace"),h=!!/./[i]&&/./[i]("a","$0")==="",p=!f(function(){var m=/(?:)/,l=m.exec,m=(m.exec=function(){return l.apply(this,arguments)},"ab".split(m));return m.length!==2||m[0]!=="a"||m[1]!=="b"});j.exports=function(l,m,_,b){var T,O,k=s(l),M=!f(function(){var F={};return F[k]=function(){return 7},""[l](F)!=7}),I=M&&!f(function(){var F=!1,A=/a/;return l==="split"&&((A={constructor:{}}).constructor[y]=function(){return A},A.flags="",A[k]=/./[k]),A.exec=function(){return F=!0,null},A[k](""),!F});M&&I&&(l!=="replace"||o&&a&&!h)&&(l!=="split"||p)||(T=/./[k],_=(I=_(k,""[l],function(F,A,U,D,V){return A.exec===c?M&&!V?{done:!0,value:T.call(A,U,D)}:{done:!0,value:F.call(U,A,D)}:{done:!1}},{REPLACE_KEEPS_$0:a,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:h}))[0],O=I[1],d(String.prototype,l,_),d(RegExp.prototype,k,m==2?function(F,A){return O.call(F,this,A)}:function(F){return O.call(F,this)})),b&&g(RegExp.prototype[k],"sham",!0)}},{"../internals/create-non-enumerable-property":38,"../internals/fails":51,"../internals/redefine":109,"../internals/regexp-exec":111,"../internals/well-known-symbol":149,"../modules/es.regexp.exec":192}],53:[function(t,j,x){function d(g,y,o,a,i,h,p,l){for(var m,_=i,b=0,T=!!p&&c(p,l,3);b<a;){if(b in o){if(m=T?T(o[b],b,y):o[b],0<h&&f(m))_=d(g,y,m,s(m.length),_,h-1)-1;else{if(9007199254740991<=_)throw TypeError("Exceed the acceptable array length");g[_]=m}_++}b++}return _}var f=t("../internals/is-array"),s=t("../internals/to-length"),c=t("../internals/function-bind-context");j.exports=d},{"../internals/function-bind-context":55,"../internals/is-array":73,"../internals/to-length":137}],54:[function(t,j,x){t=t("../internals/fails"),j.exports=!t(function(){return Object.isExtensible(Object.preventExtensions({}))})},{"../internals/fails":51}],55:[function(t,j,x){var d=t("../internals/a-function");j.exports=function(f,s,c){if(d(f),s===void 0)return f;switch(c){case 0:return function(){return f.call(s)};case 1:return function(g){return f.call(s,g)};case 2:return function(g,y){return f.call(s,g,y)};case 3:return function(g,y,o){return f.call(s,g,y,o)}}return function(){return f.apply(s,arguments)}}},{"../internals/a-function":5}],56:[function(t,j,x){var d=t("../internals/a-function"),f=t("../internals/is-object"),s=[].slice,c={};j.exports=Function.bind||function(g){var y=d(this),o=s.call(arguments,1),a=function(){var i=o.concat(s.call(arguments));if(this instanceof a){var h=y,p=i.length,l=i;if(!(p in c)){for(var m=[],_=0;_<p;_++)m[_]="a["+_+"]";c[p]=Function("C,a","return new C("+m.join(",")+")")}return c[p](h,l)}return y.apply(g,i)};return f(y.prototype)&&(a.prototype=y.prototype),a}},{"../internals/a-function":5,"../internals/is-object":75}],57:[function(t,j,x){function d(c){return typeof c=="function"?c:void 0}var f=t("../internals/path"),s=t("../internals/global");j.exports=function(c,g){return arguments.length<2?d(f[c])||d(s[c]):f[c]&&f[c][g]||s[c]&&s[c][g]}},{"../internals/global":60,"../internals/path":105}],58:[function(t,j,x){var d=t("../internals/classof"),f=t("../internals/iterators"),s=t("../internals/well-known-symbol")("iterator");j.exports=function(c){if(c!=null)return c[s]||c["@@iterator"]||f[d(c)]}},{"../internals/classof":29,"../internals/iterators":80,"../internals/well-known-symbol":149}],59:[function(t,j,x){var d=t("../internals/an-object"),f=t("../internals/get-iterator-method");j.exports=function(s){var c=f(s);if(typeof c!="function")throw TypeError(String(s)+" is not iterable");return d(c.call(s))}},{"../internals/an-object":10,"../internals/get-iterator-method":58}],60:[function(t,j,x){(function(d){function f(s){return s&&s.Math==Math&&s}j.exports=f(typeof globalThis=="object"&&globalThis)||f(typeof window=="object"&&window)||f(typeof self=="object"&&self)||f(typeof d=="object"&&d)||Function("return this")()}).call(this,typeof uu<"u"?uu:typeof self<"u"?self:typeof window<"u"?window:{})},{}],61:[function(t,j,x){var d={}.hasOwnProperty;j.exports=function(f,s){return d.call(f,s)}},{}],62:[function(t,j,x){j.exports={}},{}],63:[function(t,j,x){var d=t("../internals/global");j.exports=function(f,s){var c=d.console;c&&c.error&&(arguments.length===1?c.error(f):c.error(f,s))}},{"../internals/global":60}],64:[function(t,j,x){t=t("../internals/get-built-in"),j.exports=t("document","documentElement")},{"../internals/get-built-in":57}],65:[function(t,j,x){var d=t("../internals/descriptors"),f=t("../internals/fails"),s=t("../internals/document-create-element");j.exports=!d&&!f(function(){return Object.defineProperty(s("div"),"a",{get:function(){return 7}}).a!=7})},{"../internals/descriptors":43,"../internals/document-create-element":44,"../internals/fails":51}],66:[function(t,j,x){var d=Math.abs,f=Math.pow,s=Math.floor,c=Math.log,g=Math.LN2;j.exports={pack:function(y,o,_){var i,h,p,l=new Array(_),m=8*_-o-1,_=(1<<m)-1,b=_>>1,T=o===23?f(2,-24)-f(2,-77):0,O=y<0||y===0&&1/y<0?1:0,k=0;for((y=d(y))!=y||y===1/0?(h=y!=y?1:0,i=_):(i=s(c(y)/g),y*(p=f(2,-i))<1&&(i--,p*=2),2<=(y+=1<=i+b?T/p:T*f(2,1-b))*p&&(i++,p/=2),_<=i+b?(h=0,i=_):1<=i+b?(h=(y*p-1)*f(2,o),i+=b):(h=y*f(2,b-1)*f(2,o),i=0));8<=o;l[k++]=255&h,h/=256,o-=8);for(i=i<<o|h,m+=o;0<m;l[k++]=255&i,i/=256,m-=8);return l[--k]|=128*O,l},unpack:function(y,o){var a,i=y.length,_=8*i-o-1,h=(1<<_)-1,p=h>>1,l=_-7,m=i-1,_=y[m--],b=127&_;for(_>>=7;0<l;b=256*b+y[m],m--,l-=8);for(a=b&(1<<-l)-1,b>>=-l,l+=o;0<l;a=256*a+y[m],m--,l-=8);if(b===0)b=1-p;else{if(b===h)return a?NaN:_?-1/0:1/0;a+=f(2,o),b-=p}return(_?-1:1)*a*f(2,b-o)}}},{}],67:[function(t,j,x){var d=t("../internals/fails"),f=t("../internals/classof-raw"),s="".split;j.exports=d(function(){return!Object("z").propertyIsEnumerable(0)})?function(c){return f(c)=="String"?s.call(c,""):Object(c)}:Object},{"../internals/classof-raw":28,"../internals/fails":51}],68:[function(t,j,x){var d=t("../internals/is-object"),f=t("../internals/object-set-prototype-of");j.exports=function(s,c,g){return f&&typeof(c=c.constructor)=="function"&&c!==g&&d(c=c.prototype)&&c!==g.prototype&&f(s,c),s}},{"../internals/is-object":75,"../internals/object-set-prototype-of":102}],69:[function(d,j,x){var d=d("../internals/shared-store"),f=Function.toString;typeof d.inspectSource!="function"&&(d.inspectSource=function(s){return f.call(s)}),j.exports=d.inspectSource},{"../internals/shared-store":120}],70:[function(t,j,x){function d(l){g(l,a,{value:{objectID:"O"+ ++i,weakData:{}}})}var f=t("../internals/hidden-keys"),s=t("../internals/is-object"),c=t("../internals/has"),g=t("../internals/object-define-property").f,y=t("../internals/uid"),o=t("../internals/freezing"),a=y("meta"),i=0,h=Object.isExtensible||function(){return!0},p=j.exports={REQUIRED:!1,fastKey:function(l,m){if(!s(l))return typeof l=="symbol"?l:(typeof l=="string"?"S":"P")+l;if(!c(l,a)){if(!h(l))return"F";if(!m)return"E";d(l)}return l[a].objectID},getWeakData:function(l,m){if(!c(l,a)){if(!h(l))return!0;if(!m)return!1;d(l)}return l[a].weakData},onFreeze:function(l){return o&&p.REQUIRED&&h(l)&&!c(l,a)&&d(l),l}};f[a]=!0},{"../internals/freezing":54,"../internals/has":61,"../internals/hidden-keys":62,"../internals/is-object":75,"../internals/object-define-property":93,"../internals/uid":146}],71:[function(_,j,x){var d,f,s,c,g,y,o,a,i=_("../internals/native-weak-map"),b=_("../internals/global"),h=_("../internals/is-object"),p=_("../internals/create-non-enumerable-property"),l=_("../internals/has"),m=_("../internals/shared-key"),_=_("../internals/hidden-keys"),b=b.WeakMap;o=i?(d=new b,f=d.get,s=d.has,c=d.set,g=function(T,O){return c.call(d,T,O),O},y=function(T){return f.call(d,T)||{}},function(T){return s.call(d,T)}):(_[a=m("state")]=!0,g=function(T,O){return p(T,a,O),O},y=function(T){return l(T,a)?T[a]:{}},function(T){return l(T,a)}),j.exports={set:g,get:y,has:o,enforce:function(T){return o(T)?y(T):g(T,{})},getterFor:function(T){return function(O){if(h(O)&&(O=y(O)).type===T)return O;throw TypeError("Incompatible receiver, "+T+" required")}}}},{"../internals/create-non-enumerable-property":38,"../internals/global":60,"../internals/has":61,"../internals/hidden-keys":62,"../internals/is-object":75,"../internals/native-weak-map":86,"../internals/shared-key":119}],72:[function(t,j,x){var d=t("../internals/well-known-symbol"),f=t("../internals/iterators"),s=d("iterator"),c=Array.prototype;j.exports=function(g){return g!==void 0&&(f.Array===g||c[s]===g)}},{"../internals/iterators":80,"../internals/well-known-symbol":149}],73:[function(t,j,x){var d=t("../internals/classof-raw");j.exports=Array.isArray||function(f){return d(f)=="Array"}},{"../internals/classof-raw":28}],74:[function(t,j,x){function d(a,i){return(a=g[c(a)])==o||a!=y&&(typeof i=="function"?f(i):!!i)}var f=t("../internals/fails"),s=/#|\.prototype\./,c=d.normalize=function(a){return String(a).replace(s,".").toLowerCase()},g=d.data={},y=d.NATIVE="N",o=d.POLYFILL="P";j.exports=d},{"../internals/fails":51}],75:[function(t,j,x){j.exports=function(d){return typeof d=="object"?d!==null:typeof d=="function"}},{}],76:[function(t,j,x){j.exports=!1},{}],77:[function(t,j,x){var d=t("../internals/is-object"),f=t("../internals/classof-raw"),s=t("../internals/well-known-symbol")("match");j.exports=function(c){var g;return d(c)&&((g=c[s])!==void 0?!!g:f(c)=="RegExp")}},{"../internals/classof-raw":28,"../internals/is-object":75,"../internals/well-known-symbol":149}],78:[function(t,j,x){function d(a,i){this.stopped=a,this.result=i}var f=t("../internals/an-object"),s=t("../internals/is-array-iterator-method"),c=t("../internals/to-length"),g=t("../internals/function-bind-context"),y=t("../internals/get-iterator-method"),o=t("../internals/call-with-safe-iteration-closing");(j.exports=function(a,i,h,p,l){var m,_,b,T,O,k,M=g(i,h,p?2:1);if(l)m=a;else{if(typeof(i=y(a))!="function")throw TypeError("Target is not iterable");if(s(i)){for(_=0,b=c(a.length);_<b;_++)if((T=p?M(f(k=a[_])[0],k[1]):M(a[_]))&&T instanceof d)return T;return new d(!1)}m=i.call(a)}for(O=m.next;!(k=O.call(m)).done;)if(typeof(T=o(m,M,k.value,p))=="object"&&T&&T instanceof d)return T;return new d(!1)}).stop=function(a){return new d(!0,a)}},{"../internals/an-object":10,"../internals/call-with-safe-iteration-closing":26,"../internals/function-bind-context":55,"../internals/get-iterator-method":58,"../internals/is-array-iterator-method":72,"../internals/to-length":137}],79:[function(y,j,x){var d,f,s=y("../internals/object-get-prototype-of"),c=y("../internals/create-non-enumerable-property"),g=y("../internals/has"),o=y("../internals/well-known-symbol"),y=y("../internals/is-pure"),o=o("iterator"),a=!1;[].keys&&("next"in(f=[].keys())?(s=s(s(f)))!==Object.prototype&&(d=s):a=!0),d==null&&(d={}),y||g(d,o)||c(d,o,function(){return this}),j.exports={IteratorPrototype:d,BUGGY_SAFARI_ITERATORS:a}},{"../internals/create-non-enumerable-property":38,"../internals/has":61,"../internals/is-pure":76,"../internals/object-get-prototype-of":98,"../internals/well-known-symbol":149}],80:[function(t,j,x){j.exports={}},{}],81:[function(t,j,x){j.exports=Math.sign||function(d){return(d=+d)==0||d!=d?d:d<0?-1:1}},{}],82:[function(p,j,x){var d,f,s,c,g,y,o,a,i=p("../internals/global"),O=p("../internals/object-get-own-property-descriptor").f,T=p("../internals/classof-raw"),h=p("../internals/task").set,p=p("../internals/engine-is-ios"),l=i.MutationObserver||i.WebKitMutationObserver,m=i.process,_=i.Promise,b=T(m)=="process",T=O(i,"queueMicrotask"),O=T&&T.value;O||(d=function(){var k,M;for(b&&(k=m.domain)&&k.exit();f;){M=f.fn,f=f.next;try{M()}catch(I){throw f?c():s=void 0,I}}s=void 0,k&&k.enter()},c=b?function(){m.nextTick(d)}:l&&!p?(g=!0,y=document.createTextNode(""),new l(d).observe(y,{characterData:!0}),function(){y.data=g=!g}):_&&_.resolve?(o=_.resolve(void 0),a=o.then,function(){a.call(o,d)}):function(){h.call(i,d)}),j.exports=O||function(k){k={fn:k,next:void 0},s&&(s.next=k),f||(f=k,c()),s=k}},{"../internals/classof-raw":28,"../internals/engine-is-ios":46,"../internals/global":60,"../internals/object-get-own-property-descriptor":94,"../internals/task":131}],83:[function(t,j,x){t=t("../internals/global"),j.exports=t.Promise},{"../internals/global":60}],84:[function(t,j,x){t=t("../internals/fails"),j.exports=!!Object.getOwnPropertySymbols&&!t(function(){return!String(Symbol())})},{"../internals/fails":51}],85:[function(t,j,x){var d=t("../internals/fails"),f=t("../internals/well-known-symbol"),s=t("../internals/is-pure"),c=f("iterator");j.exports=!d(function(){var g=new URL("b?a=1&b=2&c=3","http://a"),y=g.searchParams,o="";return g.pathname="c%20d",y.forEach(function(a,i){y.delete("b"),o+=i+a}),s&&!g.toJSON||!y.sort||g.href!=="http://a/c%20d?a=1&c=3"||y.get("c")!=="3"||String(new URLSearchParams("?a=1"))!=="a=1"||!y[c]||new URL("https://a@b").username!=="a"||new URLSearchParams(new URLSearchParams("a=b")).get("a")!=="b"||new URL("http://").host!=="xn--e1aybc"||new URL("http://a#").hash!=="#%D0%B1"||o!=="a1c3"||new URL("http://x",void 0).host!=="x"})},{"../internals/fails":51,"../internals/is-pure":76,"../internals/well-known-symbol":149}],86:[function(d,j,x){var f=d("../internals/global"),d=d("../internals/inspect-source"),f=f.WeakMap;j.exports=typeof f=="function"&&/native code/.test(d(f))},{"../internals/global":60,"../internals/inspect-source":69}],87:[function(t,j,x){function d(s){var c,g;this.promise=new s(function(y,o){if(c!==void 0||g!==void 0)throw TypeError("Bad Promise constructor");c=y,g=o}),this.resolve=f(c),this.reject=f(g)}var f=t("../internals/a-function");j.exports.f=function(s){return new d(s)}},{"../internals/a-function":5}],88:[function(t,j,x){var d=t("../internals/is-regexp");j.exports=function(f){if(d(f))throw TypeError("The method doesn't accept regular expressions");return f}},{"../internals/is-regexp":77}],89:[function(t,j,x){var d=t("../internals/global").isFinite;j.exports=Number.isFinite||function(f){return typeof f=="number"&&d(f)}},{"../internals/global":60}],90:[function(t,j,x){var d=t("../internals/descriptors"),f=t("../internals/fails"),s=t("../internals/object-keys"),c=t("../internals/object-get-own-property-symbols"),g=t("../internals/object-property-is-enumerable"),y=t("../internals/to-object"),o=t("../internals/indexed-object"),a=Object.assign,i=Object.defineProperty;j.exports=!a||f(function(){var h,p,l,m;return!(!d||a({b:1},a(i({},"a",{enumerable:!0,get:function(){i(this,"b",{value:3,enumerable:!1})}}),{b:2})).b===1)||(p={},m="abcdefghijklmnopqrst",(h={})[l=Symbol()]=7,m.split("").forEach(function(_){p[_]=_}),a({},h)[l]!=7||s(a({},p)).join("")!=m)})?function(h,p){for(var l=y(h),m=arguments.length,_=1,b=c.f,T=g.f;_<m;)for(var O,k=o(arguments[_++]),M=b?s(k).concat(b(k)):s(k),I=M.length,F=0;F<I;)O=M[F++],d&&!T.call(k,O)||(l[O]=k[O]);return l}:a},{"../internals/descriptors":43,"../internals/fails":51,"../internals/indexed-object":67,"../internals/object-get-own-property-symbols":97,"../internals/object-keys":100,"../internals/object-property-is-enumerable":101,"../internals/to-object":138}],91:[function(i,j,x){function d(){}var f,s=i("../internals/an-object"),c=i("../internals/object-define-properties"),g=i("../internals/enum-bug-keys"),y=i("../internals/hidden-keys"),o=i("../internals/html"),a=i("../internals/document-create-element"),i=i("../internals/shared-key"),h="prototype",p="script",l=i("IE_PROTO"),m=function(b){return"<"+p+">"+b+"</"+p+">"},_=function(){try{f=document.domain&&new ActiveXObject("htmlfile")}catch{}_=f?((b=f).write(m("")),b.close(),T=b.parentWindow.Object,b=null,T):(b=a("iframe"),T="java"+p+":",b.style.display="none",o.appendChild(b),b.src=String(T),(T=b.contentWindow.document).open(),T.write(m("document.F=Object")),T.close(),T.F);for(var b,T,O=g.length;O--;)delete _[h][g[O]];return _()};y[l]=!0,j.exports=Object.create||function(b,T){var O;return b!==null?(d[h]=s(b),O=new d,d[h]=null,O[l]=b):O=_(),T===void 0?O:c(O,T)}},{"../internals/an-object":10,"../internals/document-create-element":44,"../internals/enum-bug-keys":49,"../internals/hidden-keys":62,"../internals/html":64,"../internals/object-define-properties":92,"../internals/shared-key":119}],92:[function(t,j,x){var d=t("../internals/descriptors"),f=t("../internals/object-define-property"),s=t("../internals/an-object"),c=t("../internals/object-keys");j.exports=d?Object.defineProperties:function(g,y){s(g);for(var o,a=c(y),i=a.length,h=0;h<i;)f.f(g,o=a[h++],y[o]);return g}},{"../internals/an-object":10,"../internals/descriptors":43,"../internals/object-define-property":93,"../internals/object-keys":100}],93:[function(t,j,x){var d=t("../internals/descriptors"),f=t("../internals/ie8-dom-define"),s=t("../internals/an-object"),c=t("../internals/to-primitive"),g=Object.defineProperty;x.f=d?g:function(y,o,a){if(s(y),o=c(o,!0),s(a),f)try{return g(y,o,a)}catch{}if("get"in a||"set"in a)throw TypeError("Accessors not supported");return"value"in a&&(y[o]=a.value),y}},{"../internals/an-object":10,"../internals/descriptors":43,"../internals/ie8-dom-define":65,"../internals/to-primitive":141}],94:[function(t,j,x){var d=t("../internals/descriptors"),f=t("../internals/object-property-is-enumerable"),s=t("../internals/create-property-descriptor"),c=t("../internals/to-indexed-object"),g=t("../internals/to-primitive"),y=t("../internals/has"),o=t("../internals/ie8-dom-define"),a=Object.getOwnPropertyDescriptor;x.f=d?a:function(i,h){if(i=c(i),h=g(h,!0),o)try{return a(i,h)}catch{}if(y(i,h))return s(!f.f.call(i,h),i[h])}},{"../internals/create-property-descriptor":39,"../internals/descriptors":43,"../internals/has":61,"../internals/ie8-dom-define":65,"../internals/object-property-is-enumerable":101,"../internals/to-indexed-object":135,"../internals/to-primitive":141}],95:[function(t,j,x){var d=t("../internals/to-indexed-object"),f=t("../internals/object-get-own-property-names").f,s={}.toString,c=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];j.exports.f=function(g){if(!c||s.call(g)!="[object Window]")return f(d(g));try{return f(g)}catch{return c.slice()}}},{"../internals/object-get-own-property-names":96,"../internals/to-indexed-object":135}],96:[function(t,j,x){var d=t("../internals/object-keys-internal"),f=t("../internals/enum-bug-keys").concat("length","prototype");x.f=Object.getOwnPropertyNames||function(s){return d(s,f)}},{"../internals/enum-bug-keys":49,"../internals/object-keys-internal":99}],97:[function(t,j,x){x.f=Object.getOwnPropertySymbols},{}],98:[function(c,j,x){var d=c("../internals/has"),f=c("../internals/to-object"),s=c("../internals/shared-key"),c=c("../internals/correct-prototype-getter"),g=s("IE_PROTO"),y=Object.prototype;j.exports=c?Object.getPrototypeOf:function(o){return o=f(o),d(o,g)?o[g]:typeof o.constructor=="function"&&o instanceof o.constructor?o.constructor.prototype:o instanceof Object?y:null}},{"../internals/correct-prototype-getter":35,"../internals/has":61,"../internals/shared-key":119,"../internals/to-object":138}],99:[function(t,j,x){var d=t("../internals/has"),f=t("../internals/to-indexed-object"),s=t("../internals/array-includes").indexOf,c=t("../internals/hidden-keys");j.exports=function(g,y){var o,a=f(g),i=0,h=[];for(o in a)!d(c,o)&&d(a,o)&&h.push(o);for(;y.length>i;)!d(a,o=y[i++])||~s(h,o)||h.push(o);return h}},{"../internals/array-includes":18,"../internals/has":61,"../internals/hidden-keys":62,"../internals/to-indexed-object":135}],100:[function(t,j,x){var d=t("../internals/object-keys-internal"),f=t("../internals/enum-bug-keys");j.exports=Object.keys||function(s){return d(s,f)}},{"../internals/enum-bug-keys":49,"../internals/object-keys-internal":99}],101:[function(t,j,x){var d={}.propertyIsEnumerable,f=Object.getOwnPropertyDescriptor,s=f&&!d.call({1:2},1);x.f=s?function(c){return c=f(this,c),!!c&&c.enumerable}:d},{}],102:[function(t,j,x){var d=t("../internals/an-object"),f=t("../internals/a-possible-prototype");j.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var s,c=!1,g={};try{(s=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(g,[]),c=g instanceof Array}catch{}return function(y,o){return d(y),f(o),c?s.call(y,o):y.__proto__=o,y}}():void 0)},{"../internals/a-possible-prototype":6,"../internals/an-object":10}],103:[function(t,j,x){var d=t("../internals/to-string-tag-support"),f=t("../internals/classof");j.exports=d?{}.toString:function(){return"[object "+f(this)+"]"}},{"../internals/classof":29,"../internals/to-string-tag-support":142}],104:[function(t,j,x){var d=t("../internals/get-built-in"),f=t("../internals/object-get-own-property-names"),s=t("../internals/object-get-own-property-symbols"),c=t("../internals/an-object");j.exports=d("Reflect","ownKeys")||function(g){var y=f.f(c(g)),o=s.f;return o?y.concat(o(g)):y}},{"../internals/an-object":10,"../internals/get-built-in":57,"../internals/object-get-own-property-names":96,"../internals/object-get-own-property-symbols":97}],105:[function(t,j,x){t=t("../internals/global"),j.exports=t},{"../internals/global":60}],106:[function(t,j,x){j.exports=function(d){try{return{error:!1,value:d()}}catch(f){return{error:!0,value:f}}}},{}],107:[function(t,j,x){var d=t("../internals/an-object"),f=t("../internals/is-object"),s=t("../internals/new-promise-capability");j.exports=function(c,g){return d(c),f(g)&&g.constructor===c?g:((0,(c=s.f(c)).resolve)(g),c.promise)}},{"../internals/an-object":10,"../internals/is-object":75,"../internals/new-promise-capability":87}],108:[function(t,j,x){var d=t("../internals/redefine");j.exports=function(f,s,c){for(var g in s)d(f,g,s[g],c);return f}},{"../internals/redefine":109}],109:[function(y,j,x){var d=y("../internals/global"),f=y("../internals/create-non-enumerable-property"),s=y("../internals/has"),c=y("../internals/set-global"),g=y("../internals/inspect-source"),y=y("../internals/internal-state"),o=y.get,a=y.enforce,i=String(String).split("String");(j.exports=function(h,p,l,T){var _=!!T&&!!T.unsafe,b=!!T&&!!T.enumerable,T=!!T&&!!T.noTargetGet;typeof l=="function"&&(typeof p!="string"||s(l,"name")||f(l,"name",p),a(l).source=i.join(typeof p=="string"?p:"")),h===d?b?h[p]=l:c(p,l):(_?!T&&h[p]&&(b=!0):delete h[p],b?h[p]=l:f(h,p,l))})(Function.prototype,"toString",function(){return typeof this=="function"&&o(this).source||g(this)})},{"../internals/create-non-enumerable-property":38,"../internals/global":60,"../internals/has":61,"../internals/inspect-source":69,"../internals/internal-state":71,"../internals/set-global":116}],110:[function(t,j,x){var d=t("./classof-raw"),f=t("./regexp-exec");j.exports=function(s,c){var g=s.exec;if(typeof g=="function"){if(g=g.call(s,c),typeof g!="object")throw TypeError("RegExp exec method returned something other than an Object or null");return g}if(d(s)!=="RegExp")throw TypeError("RegExp#exec called on incompatible receiver");return f.call(s,c)}},{"./classof-raw":28,"./regexp-exec":111}],111:[function(c,j,x){var d,f,s=c("./regexp-flags"),c=c("./regexp-sticky-helpers"),g=RegExp.prototype.exec,y=String.prototype.replace,o=g,a=(d=/a/,f=/b*/g,g.call(d,"a"),g.call(f,"a"),d.lastIndex!==0||f.lastIndex!==0),i=c.UNSUPPORTED_Y||c.BROKEN_CARET,h=/()??/.exec("")[1]!==void 0;j.exports=o=a||h||i?function(p){var l,m,_,b,T=this,O=i&&T.sticky,k=s.call(T),M=T.source,I=0,F=p;return O&&((k=k.replace("y","")).indexOf("g")===-1&&(k+="g"),F=String(p).slice(T.lastIndex),0<T.lastIndex&&(!T.multiline||T.multiline&&p[T.lastIndex-1]!==`
`)&&(M="(?: "+M+")",F=" "+F,I++),m=new RegExp("^(?:"+M+")",k)),h&&(m=new RegExp("^"+M+"$(?!\\s)",k)),a&&(l=T.lastIndex),_=g.call(O?m:T,F),O?_?(_.input=_.input.slice(I),_[0]=_[0].slice(I),_.index=T.lastIndex,T.lastIndex+=_[0].length):T.lastIndex=0:a&&_&&(T.lastIndex=T.global?_.index+_[0].length:l),h&&_&&1<_.length&&y.call(_[0],m,function(){for(b=1;b<arguments.length-2;b++)arguments[b]===void 0&&(_[b]=void 0)}),_}:o},{"./regexp-flags":112,"./regexp-sticky-helpers":113}],112:[function(t,j,x){var d=t("../internals/an-object");j.exports=function(){var f=d(this),s="";return f.global&&(s+="g"),f.ignoreCase&&(s+="i"),f.multiline&&(s+="m"),f.dotAll&&(s+="s"),f.unicode&&(s+="u"),f.sticky&&(s+="y"),s}},{"../internals/an-object":10}],113:[function(t,j,x){t=t("./fails");function d(f,s){return RegExp(f,s)}x.UNSUPPORTED_Y=t(function(){var f=d("a","y");return f.lastIndex=2,f.exec("abcd")!=null}),x.BROKEN_CARET=t(function(){var f=d("^r","gy");return f.lastIndex=2,f.exec("str")!=null})},{"./fails":51}],114:[function(t,j,x){j.exports=function(d){if(d==null)throw TypeError("Can't call method on "+d);return d}},{}],115:[function(t,j,x){j.exports=Object.is||function(d,f){return d===f?d!==0||1/d==1/f:d!=d&&f!=f}},{}],116:[function(t,j,x){var d=t("../internals/global"),f=t("../internals/create-non-enumerable-property");j.exports=function(s,c){try{f(d,s,c)}catch{d[s]=c}return c}},{"../internals/create-non-enumerable-property":38,"../internals/global":60}],117:[function(t,j,x){var d=t("../internals/get-built-in"),f=t("../internals/object-define-property"),s=t("../internals/well-known-symbol"),c=t("../internals/descriptors"),g=s("species");j.exports=function(o){var o=d(o),a=f.f;c&&o&&!o[g]&&a(o,g,{configurable:!0,get:function(){return this}})}},{"../internals/descriptors":43,"../internals/get-built-in":57,"../internals/object-define-property":93,"../internals/well-known-symbol":149}],118:[function(t,j,x){var d=t("../internals/object-define-property").f,f=t("../internals/has"),s=t("../internals/well-known-symbol")("toStringTag");j.exports=function(c,g,y){c&&!f(c=y?c:c.prototype,s)&&d(c,s,{configurable:!0,value:g})}},{"../internals/has":61,"../internals/object-define-property":93,"../internals/well-known-symbol":149}],119:[function(t,j,x){var d=t("../internals/shared"),f=t("../internals/uid"),s=d("keys");j.exports=function(c){return s[c]||(s[c]=f(c))}},{"../internals/shared":121,"../internals/uid":146}],120:[function(d,j,x){var s=d("../internals/global"),d=d("../internals/set-global"),f="__core-js_shared__",s=s[f]||d(f,{});j.exports=s},{"../internals/global":60,"../internals/set-global":116}],121:[function(t,j,x){var d=t("../internals/is-pure"),f=t("../internals/shared-store");(j.exports=function(s,c){return f[s]||(f[s]=c!==void 0?c:{})})("versions",[]).push({version:"3.6.5",mode:d?"pure":"global",copyright:" 2020 Denis Pushkarev (zloirock.ru)"})},{"../internals/is-pure":76,"../internals/shared-store":120}],122:[function(t,j,x){var d=t("../internals/an-object"),f=t("../internals/a-function"),s=t("../internals/well-known-symbol")("species");j.exports=function(y,g){var y=d(y).constructor;return y===void 0||(y=d(y)[s])==null?g:f(y)}},{"../internals/a-function":5,"../internals/an-object":10,"../internals/well-known-symbol":149}],123:[function(t,j,x){var d=t("../internals/fails");j.exports=function(f){return d(function(){var s=""[f]('"');return s!==s.toLowerCase()||3<s.split('"').length})}},{"../internals/fails":51}],124:[function(t,j,x){function d(c){return function(a,i){var o,a=String(s(a)),i=f(i),h=a.length;return i<0||h<=i?c?"":void 0:(o=a.charCodeAt(i))<55296||56319<o||i+1===h||(h=a.charCodeAt(i+1))<56320||57343<h?c?a.charAt(i):o:c?a.slice(i,i+2):h-56320+(o-55296<<10)+65536}}var f=t("../internals/to-integer"),s=t("../internals/require-object-coercible");j.exports={codeAt:d(!1),charAt:d(!0)}},{"../internals/require-object-coercible":114,"../internals/to-integer":136}],125:[function(t,j,x){t=t("../internals/engine-user-agent"),j.exports=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(t)},{"../internals/engine-user-agent":47}],126:[function(t,j,x){function d(y){return function(h,m,l){var h=String(c(h)),p=h.length,l=l===void 0?" ":String(l),m=f(m);return m<=p||l==""?h:((p=s.call(l,g((m=m-p)/l.length))).length>m&&(p=p.slice(0,m)),y?h+p:p+h)}}var f=t("../internals/to-length"),s=t("../internals/string-repeat"),c=t("../internals/require-object-coercible"),g=Math.ceil;j.exports={start:d(!1),end:d(!0)}},{"../internals/require-object-coercible":114,"../internals/string-repeat":128,"../internals/to-length":137}],127:[function(t,j,x){function d(_){return _+22+75*(_<26)}function f(_){var b,T=[],O=(_=function(z){for(var ee=[],ie=0,C=z.length;ie<C;){var B,H=z.charCodeAt(ie++);55296<=H&&H<=56319&&ie<C?(64512&(B=z.charCodeAt(ie++)))==56320?ee.push(((1023&H)<<10)+(1023&B)+65536):(ee.push(H),ie--):ee.push(H)}return ee}(_)).length,k=128,M=0,I=72;for(D=0;D<_.length;D++)(b=_[D])<128&&T.push(m(b));var F=T.length,A=F;for(F&&T.push("-");A<O;){for(var U=s,D=0;D<_.length;D++)k<=(b=_[D])&&b<U&&(U=b);var V=A+1;if(U-k>l((s-M)/V))throw RangeError(h);for(M+=(U-k)*V,k=U,D=0;D<_.length;D++){if((b=_[D])<k&&++M>s)throw RangeError(h);if(b==k){for(var G=M,W=c;;W+=c){var J=W<=I?1:I+g<=W?g:W-I;if(G<J)break;var Q=G-J,Y=c-J;T.push(m(d(J+Q%Y))),G=l(Q/Y)}T.push(m(d(G))),I=function(z,ee,ie){var C=0;for(z=ie?l(z/o):z>>1,z+=l(z/ee);p*g>>1<z;C+=c)z=l(z/p);return l(C+(p+1)*z/(z+y))}(M,V,A==F),M=0,++A}}++M,++k}return T.join("")}var s=2147483647,c=36,g=26,y=38,o=700,a=/[^\0-\u007E]/,i=/[.\u3002\uFF0E\uFF61]/g,h="Overflow: input needs wider integers to process",p=c-1,l=Math.floor,m=String.fromCharCode;j.exports=function(_){for(var b,T=[],O=_.toLowerCase().replace(i,".").split("."),k=0;k<O.length;k++)b=O[k],T.push(a.test(b)?"xn--"+f(b):b);return T.join(".")}},{}],128:[function(t,j,x){var d=t("../internals/to-integer"),f=t("../internals/require-object-coercible");j.exports="".repeat||function(s){var c=String(f(this)),g="",y=d(s);if(y<0||y==1/0)throw RangeError("Wrong number of repetitions");for(;0<y;(y>>>=1)&&(c+=c))1&y&&(g+=c);return g}},{"../internals/require-object-coercible":114,"../internals/to-integer":136}],129:[function(t,j,x){var d=t("../internals/fails"),f=t("../internals/whitespaces");j.exports=function(s){return d(function(){return!!f[s]()||""[s]()!=""||f[s].name!==s})}},{"../internals/fails":51,"../internals/whitespaces":150}],130:[function(s,j,x){function d(y){return function(o){return o=String(f(o)),1&y&&(o=o.replace(c,"")),o=2&y?o.replace(g,""):o}}var f=s("../internals/require-object-coercible"),s="["+s("../internals/whitespaces")+"]",c=RegExp("^"+s+s+"*"),g=RegExp(s+s+"*$");j.exports={start:d(1),end:d(2),trim:d(3)}},{"../internals/require-object-coercible":114,"../internals/whitespaces":150}],131:[function(p,j,x){function d(A){return function(){F(A)}}function f(A){F(A.data)}function s(A){g.postMessage(A+"",l.protocol+"//"+l.host)}var c,g=p("../internals/global"),y=p("../internals/fails"),o=p("../internals/classof-raw"),a=p("../internals/function-bind-context"),i=p("../internals/html"),h=p("../internals/document-create-element"),p=p("../internals/engine-is-ios"),l=g.location,m=g.setImmediate,_=g.clearImmediate,b=g.process,T=g.MessageChannel,O=g.Dispatch,k=0,M={},I="onreadystatechange",F=function(A){var U;M.hasOwnProperty(A)&&(U=M[A],delete M[A],U())};m&&_||(m=function(A){for(var U=[],D=1;D<arguments.length;)U.push(arguments[D++]);return M[++k]=function(){(typeof A=="function"?A:Function(A)).apply(void 0,U)},c(k),k},_=function(A){delete M[A]},o(b)=="process"?c=function(A){b.nextTick(d(A))}:O&&O.now?c=function(A){O.now(d(A))}:T&&!p?(p=(o=new T).port2,o.port1.onmessage=f,c=a(p.postMessage,p,1)):!g.addEventListener||typeof postMessage!="function"||g.importScripts||y(s)||l.protocol==="file:"?c=I in h("script")?function(A){i.appendChild(h("script"))[I]=function(){i.removeChild(this),F(A)}}:function(A){setTimeout(d(A),0)}:(c=s,g.addEventListener("message",f,!1))),j.exports={set:m,clear:_}},{"../internals/classof-raw":28,"../internals/document-create-element":44,"../internals/engine-is-ios":46,"../internals/fails":51,"../internals/function-bind-context":55,"../internals/global":60,"../internals/html":64}],132:[function(t,j,x){var d=t("../internals/classof-raw");j.exports=function(f){if(typeof f!="number"&&d(f)!="Number")throw TypeError("Incorrect invocation");return+f}},{"../internals/classof-raw":28}],133:[function(t,j,x){var d=t("../internals/to-integer"),f=Math.max,s=Math.min;j.exports=function(c,g){return c=d(c),c<0?f(c+g,0):s(c,g)}},{"../internals/to-integer":136}],134:[function(t,j,x){var d=t("../internals/to-integer"),f=t("../internals/to-length");j.exports=function(c){if(c===void 0)return 0;var c=d(c),g=f(c);if(c!==g)throw RangeError("Wrong length or index");return g}},{"../internals/to-integer":136,"../internals/to-length":137}],135:[function(t,j,x){var d=t("../internals/indexed-object"),f=t("../internals/require-object-coercible");j.exports=function(s){return d(f(s))}},{"../internals/indexed-object":67,"../internals/require-object-coercible":114}],136:[function(t,j,x){var d=Math.ceil,f=Math.floor;j.exports=function(s){return isNaN(s=+s)?0:(0<s?f:d)(s)}},{}],137:[function(t,j,x){var d=t("../internals/to-integer"),f=Math.min;j.exports=function(s){return 0<s?f(d(s),9007199254740991):0}},{"../internals/to-integer":136}],138:[function(t,j,x){var d=t("../internals/require-object-coercible");j.exports=function(f){return Object(d(f))}},{"../internals/require-object-coercible":114}],139:[function(t,j,x){var d=t("../internals/to-positive-integer");j.exports=function(f,s){if(f=d(f),f%s)throw RangeError("Wrong offset");return f}},{"../internals/to-positive-integer":140}],140:[function(t,j,x){var d=t("../internals/to-integer");j.exports=function(f){if(f=d(f),f<0)throw RangeError("The argument can't be less than 0");return f}},{"../internals/to-integer":136}],141:[function(t,j,x){var d=t("../internals/is-object");j.exports=function(f,s){if(!d(f))return f;var c,g;if(s&&typeof(c=f.toString)=="function"&&!d(g=c.call(f))||typeof(c=f.valueOf)=="function"&&!d(g=c.call(f))||!s&&typeof(c=f.toString)=="function"&&!d(g=c.call(f)))return g;throw TypeError("Can't convert object to primitive value")}},{"../internals/is-object":75}],142:[function(t,j,x){var d={};d[t("../internals/well-known-symbol")("toStringTag")]="z",j.exports=String(d)==="[object z]"},{"../internals/well-known-symbol":149}],143:[function(t,j,x){function d(je,Te){for(var Me=0,qe=Te.length,Ne=new(le(je))(qe);Me<qe;)Ne[Me]=Te[Me++];return Ne}function f(je,Te){B(je,Te,{get:function(){return ie(this)[Te]}})}function s(je){return je instanceof se||(je=F(je))=="ArrayBuffer"||je=="SharedArrayBuffer"}function c(je,Te){return he(je)&&typeof Te!="symbol"&&Te in je&&String(+Te)==String(Te)}function g(je,Te){return c(je,Te=M(Te,!0))?_(2,je[Te]):H(je,Te)}function y(je,Te,Me){return!(c(je,Te=M(Te,!0))&&A(Me)&&I(Me,"value"))||I(Me,"get")||I(Me,"set")||Me.configurable||I(Me,"writable")&&!Me.writable||I(Me,"enumerable")&&!Me.enumerable?B(je,Te,Me):(je[Te]=Me.value,je)}var o=t("../internals/export"),a=t("../internals/global"),i=t("../internals/descriptors"),h=t("../internals/typed-array-constructors-require-wrappers"),p=t("../internals/array-buffer-view-core"),l=t("../internals/array-buffer"),m=t("../internals/an-instance"),_=t("../internals/create-property-descriptor"),b=t("../internals/create-non-enumerable-property"),T=t("../internals/to-length"),O=t("../internals/to-index"),k=t("../internals/to-offset"),M=t("../internals/to-primitive"),I=t("../internals/has"),F=t("../internals/classof"),A=t("../internals/is-object"),U=t("../internals/object-create"),D=t("../internals/object-set-prototype-of"),V=t("../internals/object-get-own-property-names").f,G=t("../internals/typed-array-from"),W=t("../internals/array-iteration").forEach,J=t("../internals/set-species"),Q=t("../internals/object-define-property"),Y=t("../internals/object-get-own-property-descriptor"),z=t("../internals/internal-state"),ee=t("../internals/inherit-if-required"),ie=z.get,C=z.set,B=Q.f,H=Y.f,$=Math.round,ne=a.RangeError,se=l.ArrayBuffer,de=l.DataView,_e=p.NATIVE_ARRAY_BUFFER_VIEWS,pe=p.TYPED_ARRAY_TAG,ge=p.TypedArray,ve=p.TypedArrayPrototype,le=p.aTypedArrayConstructor,he=p.isTypedArray,be="BYTES_PER_ELEMENT",Ae="Wrong length";i?(_e||(Y.f=g,Q.f=y,f(ve,"buffer"),f(ve,"byteOffset"),f(ve,"byteLength"),f(ve,"length")),o({target:"Object",stat:!0,forced:!_e},{getOwnPropertyDescriptor:g,defineProperty:y}),j.exports=function(Oe,Te,Me){function qe(De,oe){B(De,oe,{get:function(){var ce=this,re=oe;return(ce=ie(ce)).view[nt](re*Ne+ce.byteOffset,!0)},set:function(ce){var re=this,fe=oe;re=ie(re),Me&&(ce=(ce=$(ce))<0?0:255<ce?255:255&ce),re.view[ot](fe*Ne+re.byteOffset,ce,!0)},enumerable:!0})}var Ne=Oe.match(/\d+$/)[0]/8,ct=Oe+(Me?"Clamped":"")+"Array",nt="get"+Oe,ot="set"+Oe,ut=a[ct],at=ut,Oe=at&&at.prototype,Xe={};_e?h&&(at=Te(function(De,oe,ce,re){return m(De,at,ct),ee(A(oe)?s(oe)?re!==void 0?new ut(oe,k(ce,Ne),re):ce!==void 0?new ut(oe,k(ce,Ne)):new ut(oe):he(oe)?d(at,oe):G.call(at,oe):new ut(O(oe)),De,at)}),D&&D(at,ge),W(V(ut),function(De){De in at||b(at,De,ut[De])}),at.prototype=Oe):(at=Te(function(De,oe,ce,re){m(De,at,ct);var fe,ke,Ie=0,ze=0;if(A(oe)){if(!s(oe))return he(oe)?d(at,oe):G.call(at,oe);var Je=oe,ze=k(ce,Ne),ce=oe.byteLength;if(re===void 0){if(ce%Ne||(fe=ce-ze)<0)throw ne(Ae)}else if(ce<(fe=T(re)*Ne)+ze)throw ne(Ae);ke=fe/Ne}else ke=O(oe),Je=new se(fe=ke*Ne);for(C(De,{buffer:Je,byteOffset:ze,byteLength:fe,length:ke,view:new de(Je)});Ie<ke;)qe(De,Ie++)}),D&&D(at,ge),Oe=at.prototype=U(ve)),Oe.constructor!==at&&b(Oe,"constructor",at),pe&&b(Oe,pe,ct),Xe[ct]=at,o({global:!0,forced:at!=ut,sham:!_e},Xe),be in at||b(at,be,Ne),be in Oe||b(Oe,be,Ne),J(ct)}):j.exports=function(){}},{"../internals/an-instance":9,"../internals/array-buffer":13,"../internals/array-buffer-view-core":12,"../internals/array-iteration":19,"../internals/classof":29,"../internals/create-non-enumerable-property":38,"../internals/create-property-descriptor":39,"../internals/descriptors":43,"../internals/export":50,"../internals/global":60,"../internals/has":61,"../internals/inherit-if-required":68,"../internals/internal-state":71,"../internals/is-object":75,"../internals/object-create":91,"../internals/object-define-property":93,"../internals/object-get-own-property-descriptor":94,"../internals/object-get-own-property-names":96,"../internals/object-set-prototype-of":102,"../internals/set-species":117,"../internals/to-index":134,"../internals/to-length":137,"../internals/to-offset":139,"../internals/to-primitive":141,"../internals/typed-array-constructors-require-wrappers":144,"../internals/typed-array-from":145}],144:[function(c,j,x){var d=c("../internals/global"),f=c("../internals/fails"),s=c("../internals/check-correctness-of-iteration"),c=c("../internals/array-buffer-view-core").NATIVE_ARRAY_BUFFER_VIEWS,g=d.ArrayBuffer,y=d.Int8Array;j.exports=!c||!f(function(){y(1)})||!f(function(){new y(-1)})||!s(function(o){new y,new y(null),new y(1.5),new y(o)},!0)||f(function(){return new y(new g(2),1,void 0).length!==1})},{"../internals/array-buffer-view-core":12,"../internals/check-correctness-of-iteration":27,"../internals/fails":51,"../internals/global":60}],145:[function(t,j,x){var d=t("../internals/to-object"),f=t("../internals/to-length"),s=t("../internals/get-iterator-method"),c=t("../internals/is-array-iterator-method"),g=t("../internals/function-bind-context"),y=t("../internals/array-buffer-view-core").aTypedArrayConstructor;j.exports=function(o){var a,i,h,p,l,m,_=d(o),b=arguments.length,T=1<b?arguments[1]:void 0,O=T!==void 0,k=s(_);if(k!=null&&!c(k))for(m=(l=k.call(_)).next,_=[];!(p=m.call(l)).done;)_.push(p.value);for(O&&2<b&&(T=g(T,arguments[2],2)),i=f(_.length),h=new(y(this))(i),a=0;a<i;a++)h[a]=O?T(_[a],a):_[a];return h}},{"../internals/array-buffer-view-core":12,"../internals/function-bind-context":55,"../internals/get-iterator-method":58,"../internals/is-array-iterator-method":72,"../internals/to-length":137,"../internals/to-object":138}],146:[function(t,j,x){var d=0,f=Math.random();j.exports=function(s){return"Symbol("+String(s===void 0?"":s)+")_"+(++d+f).toString(36)}},{}],147:[function(t,j,x){t=t("../internals/native-symbol"),j.exports=t&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},{"../internals/native-symbol":84}],148:[function(t,j,x){t=t("../internals/well-known-symbol"),x.f=t},{"../internals/well-known-symbol":149}],149:[function(y,j,x){var d=y("../internals/global"),f=y("../internals/shared"),s=y("../internals/has"),c=y("../internals/uid"),g=y("../internals/native-symbol"),y=y("../internals/use-symbol-as-uid"),o=f("wks"),a=d.Symbol,i=y?a:a&&a.withoutSetter||c;j.exports=function(h){return s(o,h)||(g&&s(a,h)?o[h]=a[h]:o[h]=i("Symbol."+h)),o[h]}},{"../internals/global":60,"../internals/has":61,"../internals/native-symbol":84,"../internals/shared":121,"../internals/uid":146,"../internals/use-symbol-as-uid":147}],150:[function(t,j,x){j.exports=`	
\v\f\r \u2028\u2029\uFEFF`},{}],151:[function(s,j,x){var d=s("../internals/export"),f=s("../internals/global"),g=s("../internals/array-buffer"),s=s("../internals/set-species"),c="ArrayBuffer",g=g[c];d({global:!0,forced:f[c]!==g},{ArrayBuffer:g}),s(c)},{"../internals/array-buffer":13,"../internals/export":50,"../internals/global":60,"../internals/set-species":117}],152:[function(_,j,x){var d=_("../internals/export"),f=_("../internals/fails"),s=_("../internals/is-array"),c=_("../internals/is-object"),g=_("../internals/to-object"),y=_("../internals/to-length"),o=_("../internals/create-property"),a=_("../internals/array-species-create"),i=_("../internals/array-method-has-species-support"),m=_("../internals/well-known-symbol"),_=_("../internals/engine-v8-version"),h=m("isConcatSpreadable"),p=9007199254740991,l="Maximum allowed index exceeded",m=51<=_||!f(function(){var b=[];return b[h]=!1,b.concat()[0]!==b}),_=i("concat");d({target:"Array",proto:!0,forced:!m||!_},{concat:function(b){for(var T,O,k,M,I,F=g(this),A=a(F,0),U=0,D=-1,V=arguments.length;D<V;D++)if(I=void 0,!c(M=k=D===-1?F:arguments[D])||((I=M[h])!==void 0?!I:!s(M))){if(p<=U)throw TypeError(l);o(A,U++,k)}else{if(O=y(k.length),p<U+O)throw TypeError(l);for(T=0;T<O;T++,U++)T in k&&o(A,U,k[T])}return A.length=U,A}})},{"../internals/array-method-has-species-support":21,"../internals/array-species-create":25,"../internals/create-property":40,"../internals/engine-v8-version":48,"../internals/export":50,"../internals/fails":51,"../internals/is-array":73,"../internals/is-object":75,"../internals/to-length":137,"../internals/to-object":138,"../internals/well-known-symbol":149}],153:[function(s,j,x){var d=s("../internals/export"),f=s("../internals/array-copy-within"),s=s("../internals/add-to-unscopables");d({target:"Array",proto:!0},{copyWithin:f}),s("copyWithin")},{"../internals/add-to-unscopables":7,"../internals/array-copy-within":14,"../internals/export":50}],154:[function(c,j,x){var d=c("../internals/export"),f=c("../internals/array-iteration").every,s=c("../internals/array-method-is-strict"),c=c("../internals/array-method-uses-to-length"),s=s("every"),c=c("every");d({target:"Array",proto:!0,forced:!s||!c},{every:function(g){return f(this,g,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/export":50}],155:[function(s,j,x){var d=s("../internals/export"),f=s("../internals/array-fill"),s=s("../internals/add-to-unscopables");d({target:"Array",proto:!0},{fill:f}),s("fill")},{"../internals/add-to-unscopables":7,"../internals/array-fill":15,"../internals/export":50}],156:[function(c,j,x){var d=c("../internals/export"),f=c("../internals/array-iteration").filter,s=c("../internals/array-method-has-species-support"),c=c("../internals/array-method-uses-to-length"),s=s("filter"),c=c("filter");d({target:"Array",proto:!0,forced:!s||!c},{filter:function(g){return f(this,g,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/export":50}],157:[function(y,j,x){var d=y("../internals/export"),f=y("../internals/array-iteration").findIndex,s=y("../internals/add-to-unscopables"),y=y("../internals/array-method-uses-to-length"),c="findIndex",g=!0,y=y(c);c in[]&&Array(1)[c](function(){g=!1}),d({target:"Array",proto:!0,forced:g||!y},{findIndex:function(o){return f(this,o,1<arguments.length?arguments[1]:void 0)}}),s(c)},{"../internals/add-to-unscopables":7,"../internals/array-iteration":19,"../internals/array-method-uses-to-length":23,"../internals/export":50}],158:[function(t,j,x){var d=t("../internals/export"),f=t("../internals/flatten-into-array"),s=t("../internals/to-object"),c=t("../internals/to-length"),g=t("../internals/a-function"),y=t("../internals/array-species-create");d({target:"Array",proto:!0},{flatMap:function(o){var a,i=s(this),h=c(i.length);return g(o),(a=y(i,0)).length=f(a,i,i,h,0,1,o,1<arguments.length?arguments[1]:void 0),a}})},{"../internals/a-function":5,"../internals/array-species-create":25,"../internals/export":50,"../internals/flatten-into-array":53,"../internals/to-length":137,"../internals/to-object":138}],159:[function(t,j,x){var d=t("../internals/export"),f=t("../internals/flatten-into-array"),s=t("../internals/to-object"),c=t("../internals/to-length"),g=t("../internals/to-integer"),y=t("../internals/array-species-create");d({target:"Array",proto:!0},{flat:function(){var o=arguments.length?arguments[0]:void 0,a=s(this),i=c(a.length),h=y(a,0);return h.length=f(h,a,a,i,0,o===void 0?1:g(o)),h}})},{"../internals/array-species-create":25,"../internals/export":50,"../internals/flatten-into-array":53,"../internals/to-integer":136,"../internals/to-length":137,"../internals/to-object":138}],160:[function(f,j,x){var d=f("../internals/export"),f=f("../internals/array-for-each");d({target:"Array",proto:!0,forced:[].forEach!=f},{forEach:f})},{"../internals/array-for-each":16,"../internals/export":50}],161:[function(t,j,x){var d=t("../internals/export"),f=t("../internals/array-from");d({target:"Array",stat:!0,forced:!t("../internals/check-correctness-of-iteration")(function(s){Array.from(s)})},{from:f})},{"../internals/array-from":17,"../internals/check-correctness-of-iteration":27,"../internals/export":50}],162:[function(t,j,x){var d=t("../internals/export"),f=t("../internals/array-includes").includes,s=t("../internals/add-to-unscopables");d({target:"Array",proto:!0,forced:!t("../internals/array-method-uses-to-length")("indexOf",{ACCESSORS:!0,1:0})},{includes:function(c){return f(this,c,1<arguments.length?arguments[1]:void 0)}}),s("includes")},{"../internals/add-to-unscopables":7,"../internals/array-includes":18,"../internals/array-method-uses-to-length":23,"../internals/export":50}],163:[function(y,j,x){var d=y("../internals/export"),f=y("../internals/array-includes").indexOf,g=y("../internals/array-method-is-strict"),y=y("../internals/array-method-uses-to-length"),s=[].indexOf,c=!!s&&1/[1].indexOf(1,-0)<0,g=g("indexOf"),y=y("indexOf",{ACCESSORS:!0,1:0});d({target:"Array",proto:!0,forced:c||!g||!y},{indexOf:function(o){return c?s.apply(this,arguments)||0:f(this,o,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-includes":18,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/export":50}],164:[function(g,j,x){var d=g("../internals/to-indexed-object"),f=g("../internals/add-to-unscopables"),s=g("../internals/iterators"),c=g("../internals/internal-state"),g=g("../internals/define-iterator"),y="Array Iterator",o=c.set,a=c.getterFor(y);j.exports=g(Array,"Array",function(i,h){o(this,{type:y,target:d(i),index:0,kind:h})},function(){var i=a(this),h=i.target,p=i.kind,l=i.index++;return!h||l>=h.length?{value:i.target=void 0,done:!0}:p=="keys"?{value:l,done:!1}:p=="values"?{value:h[l],done:!1}:{value:[l,h[l]],done:!1}},"values"),s.Arguments=s.Array,f("keys"),f("values"),f("entries")},{"../internals/add-to-unscopables":7,"../internals/define-iterator":41,"../internals/internal-state":71,"../internals/iterators":80,"../internals/to-indexed-object":135}],165:[function(g,j,x){var d=g("../internals/export"),c=g("../internals/indexed-object"),f=g("../internals/to-indexed-object"),g=g("../internals/array-method-is-strict"),s=[].join,c=c!=Object,g=g("join",",");d({target:"Array",proto:!0,forced:c||!g},{join:function(y){return s.call(f(this),y===void 0?",":y)}})},{"../internals/array-method-is-strict":22,"../internals/export":50,"../internals/indexed-object":67,"../internals/to-indexed-object":135}],166:[function(f,j,x){var d=f("../internals/export"),f=f("../internals/array-last-index-of");d({target:"Array",proto:!0,forced:f!==[].lastIndexOf},{lastIndexOf:f})},{"../internals/array-last-index-of":20,"../internals/export":50}],167:[function(c,j,x){var d=c("../internals/export"),f=c("../internals/array-iteration").map,s=c("../internals/array-method-has-species-support"),c=c("../internals/array-method-uses-to-length"),s=s("map"),c=c("map");d({target:"Array",proto:!0,forced:!s||!c},{map:function(g){return f(this,g,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/export":50}],168:[function(h,j,x){var d=h("../internals/export"),f=h("../internals/is-object"),s=h("../internals/is-array"),c=h("../internals/to-absolute-index"),g=h("../internals/to-length"),y=h("../internals/to-indexed-object"),o=h("../internals/create-property"),a=h("../internals/well-known-symbol"),i=h("../internals/array-method-has-species-support"),h=h("../internals/array-method-uses-to-length"),i=i("slice"),h=h("slice",{ACCESSORS:!0,0:0,1:2}),p=a("species"),l=[].slice,m=Math.max;d({target:"Array",proto:!0,forced:!i||!h},{slice:function(_,b){var T,O,k,M=y(this),I=g(M.length),F=c(_,I),A=c(b===void 0?I:b,I);if(s(M)&&((T=typeof(T=M.constructor)=="function"&&(T===Array||s(T.prototype))||f(T)&&(T=T[p])===null?void 0:T)===Array||T===void 0))return l.call(M,F,A);for(O=new(T===void 0?Array:T)(m(A-F,0)),k=0;F<A;F++,k++)F in M&&o(O,k,M[F]);return O.length=k,O}})},{"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/create-property":40,"../internals/export":50,"../internals/is-array":73,"../internals/is-object":75,"../internals/to-absolute-index":133,"../internals/to-indexed-object":135,"../internals/to-length":137,"../internals/well-known-symbol":149}],169:[function(c,j,x){var d=c("../internals/export"),f=c("../internals/array-iteration").some,s=c("../internals/array-method-is-strict"),c=c("../internals/array-method-uses-to-length"),s=s("some"),c=c("some");d({target:"Array",proto:!0,forced:!s||!c},{some:function(g){return f(this,g,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/export":50}],170:[function(i,j,x){var d=i("../internals/export"),f=i("../internals/to-absolute-index"),s=i("../internals/to-integer"),c=i("../internals/to-length"),g=i("../internals/to-object"),y=i("../internals/array-species-create"),o=i("../internals/create-property"),a=i("../internals/array-method-has-species-support"),i=i("../internals/array-method-uses-to-length"),a=a("splice"),i=i("splice",{ACCESSORS:!0,0:0,1:2}),h=Math.max,p=Math.min;d({target:"Array",proto:!0,forced:!a||!i},{splice:function(U,m){var _,b,T,O,k,M,I=g(this),F=c(I.length),A=f(U,F),U=arguments.length;if(U===0?_=b=0:b=U===1?(_=0,F-A):(_=U-2,p(h(s(m),0),F-A)),9007199254740991<F+_-b)throw TypeError("Maximum allowed length exceeded");for(T=y(I,b),O=0;O<b;O++)(k=A+O)in I&&o(T,O,I[k]);if(_<(T.length=b)){for(O=A;O<F-b;O++)M=O+_,(k=O+b)in I?I[M]=I[k]:delete I[M];for(O=F;F-b+_<O;O--)delete I[O-1]}else if(b<_)for(O=F-b;A<O;O--)M=O+_-1,(k=O+b-1)in I?I[M]=I[k]:delete I[M];for(O=0;O<_;O++)I[O+A]=arguments[O+2];return I.length=F-b+_,T}})},{"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/array-species-create":25,"../internals/create-property":40,"../internals/export":50,"../internals/to-absolute-index":133,"../internals/to-integer":136,"../internals/to-length":137,"../internals/to-object":138}],171:[function(t,j,x){t("../internals/add-to-unscopables")("flatMap")},{"../internals/add-to-unscopables":7}],172:[function(t,j,x){t("../internals/add-to-unscopables")("flat")},{"../internals/add-to-unscopables":7}],173:[function(f,j,x){var d=f("../internals/descriptors"),f=f("../internals/object-define-property").f,s=Function.prototype,c=s.toString,g=/^\s*function ([^ (]*)/;!d||"name"in s||f(s,"name",{configurable:!0,get:function(){try{return c.call(this).match(g)[1]}catch{return""}}})},{"../internals/descriptors":43,"../internals/object-define-property":93}],174:[function(f,j,x){var d=f("../internals/collection"),f=f("../internals/collection-strong");j.exports=d("Map",function(s){return function(){return s(this,arguments.length?arguments[0]:void 0)}},f)},{"../internals/collection":32,"../internals/collection-strong":30}],175:[function(d,j,x){var d=d("../internals/export"),f=Math.hypot,s=Math.abs,c=Math.sqrt;d({target:"Math",stat:!0,forced:!!f&&f(1/0,NaN)!==1/0},{hypot:function(g,y){for(var o,a,i=0,h=0,p=arguments.length,l=0;h<p;)l<(o=s(arguments[h++]))?(i=i*(a=l/o)*a+1,l=o):i+=0<o?(a=o/l)*a:o;return l===1/0?1/0:l*c(i)}})},{"../internals/export":50}],176:[function(d,j,x){var d=d("../internals/export"),f=Math.log,s=Math.LN2;d({target:"Math",stat:!0},{log2:function(c){return f(c)/s}})},{"../internals/export":50}],177:[function(t,j,x){t("../internals/export")({target:"Math",stat:!0},{sign:t("../internals/math-sign")})},{"../internals/export":50,"../internals/math-sign":81}],178:[function(t,j,x){function d(D){var V,G,W,J,Q,Y,z,ee=i(D,!1);if(typeof ee=="string"&&2<ee.length){if((D=(ee=b(ee)).charCodeAt(0))===43||D===45){if((V=ee.charCodeAt(2))===88||V===120)return NaN}else if(D===48){switch(ee.charCodeAt(1)){case 66:case 98:G=2,W=49;break;case 79:case 111:G=8,W=55;break;default:return+ee}for(Q=(J=ee.slice(2)).length,Y=0;Y<Q;Y++)if((z=J.charCodeAt(Y))<48||W<z)return NaN;return parseInt(J,G)}}return+ee}var f=t("../internals/descriptors"),s=t("../internals/global"),c=t("../internals/is-forced"),g=t("../internals/redefine"),y=t("../internals/has"),o=t("../internals/classof-raw"),a=t("../internals/inherit-if-required"),i=t("../internals/to-primitive"),h=t("../internals/fails"),p=t("../internals/object-create"),l=t("../internals/object-get-own-property-names").f,m=t("../internals/object-get-own-property-descriptor").f,_=t("../internals/object-define-property").f,b=t("../internals/string-trim").trim,T="Number",O=s[T],k=O.prototype,M=o(p(k))==T;if(c(T,!O(" 0o1")||!O("0b1")||O("+0x1"))){for(var I,F=function(V){var V=arguments.length<1?0:V,G=this;return G instanceof F&&(M?h(function(){k.valueOf.call(G)}):o(G)!=T)?a(new O(d(V)),G,F):d(V)},A=f?l(O):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),U=0;A.length>U;U++)y(O,I=A[U])&&!y(F,I)&&_(F,I,m(O,I));(F.prototype=k).constructor=F,g(s,T,F)}},{"../internals/classof-raw":28,"../internals/descriptors":43,"../internals/fails":51,"../internals/global":60,"../internals/has":61,"../internals/inherit-if-required":68,"../internals/is-forced":74,"../internals/object-create":91,"../internals/object-define-property":93,"../internals/object-get-own-property-descriptor":94,"../internals/object-get-own-property-names":96,"../internals/redefine":109,"../internals/string-trim":130,"../internals/to-primitive":141}],179:[function(t,j,x){t("../internals/export")({target:"Number",stat:!0},{isFinite:t("../internals/number-is-finite")})},{"../internals/export":50,"../internals/number-is-finite":89}],180:[function(y,j,x){function d(i,h,p){return h===0?p:h%2==1?d(i,h-1,p*i):d(i*i,h/2,p)}var f=y("../internals/export"),s=y("../internals/to-integer"),c=y("../internals/this-number-value"),g=y("../internals/string-repeat"),y=y("../internals/fails"),o=1 .toFixed,a=Math.floor;f({target:"Number",proto:!0,forced:o&&(8e-5.toFixed(3)!=="0.000"||.9.toFixed(0)!=="1"||1.255.toFixed(2)!=="1.25"||0xde0b6b3a7640080.toFixed(0)!=="1000000000000000128")||!y(function(){o.call({})})},{toFixed:function(T){function h(I,F){for(var A=-1,U=F;++A<6;)U+=I*O[A],O[A]=U%1e7,U=a(U/1e7)}function p(I){for(var F=6,A=0;0<=--F;)A+=O[F],O[F]=a(A/I),A=A%I*1e7}function l(){for(var I,F=6,A="";0<=--F;)A===""&&F!==0&&O[F]===0||(I=String(O[F]),A=A===""?I:A+g.call("0",7-I.length)+I);return A}var m,_,b=c(this),T=s(T),O=[0,0,0,0,0,0],k="",M="0";if(T<0||20<T)throw RangeError("Incorrect fraction digits");if(b!=b)return"NaN";if(b<=-1e21||1e21<=b)return String(b);if(b<0&&(k="-",b=-b),1e-21<b)if(b=(m=function(I){for(var F=0,A=I;4096<=A;)F+=12,A/=4096;for(;2<=A;)F+=1,A/=2;return F}(b*d(2,69,1))-69)<0?b*d(2,-m,1):b/d(2,m,1),b*=4503599627370496,0<(m=52-m)){for(h(0,b),_=T;7<=_;)h(1e7,0),_-=7;for(h(d(10,_,1),0),_=m-1;23<=_;)p(1<<23),_-=23;p(1<<_),h(1,1),p(2),M=l()}else h(0,b),h(1<<-m,0),M=l()+g.call("0",T);return M=0<T?k+((b=M.length)<=T?"0."+g.call("0",T-b)+M:M.slice(0,b-T)+"."+M.slice(b-T)):k+M}})},{"../internals/export":50,"../internals/fails":51,"../internals/string-repeat":128,"../internals/this-number-value":132,"../internals/to-integer":136}],181:[function(f,j,x){var d=f("../internals/export"),f=f("../internals/object-assign");d({target:"Object",stat:!0,forced:Object.assign!==f},{assign:f})},{"../internals/export":50,"../internals/object-assign":90}],182:[function(t,j,x){var d=t("../internals/export"),f=t("../internals/iterate"),s=t("../internals/create-property");d({target:"Object",stat:!0},{fromEntries:function(c){var g={};return f(c,function(y,o){s(g,y,o)},void 0,!0),g}})},{"../internals/create-property":40,"../internals/export":50,"../internals/iterate":78}],183:[function(c,j,x){var d=c("../internals/export"),g=c("../internals/fails"),f=c("../internals/to-indexed-object"),s=c("../internals/object-get-own-property-descriptor").f,c=c("../internals/descriptors"),g=g(function(){s(1)});d({target:"Object",stat:!0,forced:!c||g,sham:!c},{getOwnPropertyDescriptor:function(y,o){return s(f(y),o)}})},{"../internals/descriptors":43,"../internals/export":50,"../internals/fails":51,"../internals/object-get-own-property-descriptor":94,"../internals/to-indexed-object":135}],184:[function(s,j,x){var d=s("../internals/export"),f=s("../internals/fails"),s=s("../internals/object-get-own-property-names-external").f;d({target:"Object",stat:!0,forced:f(function(){return!Object.getOwnPropertyNames(1)})},{getOwnPropertyNames:s})},{"../internals/export":50,"../internals/fails":51,"../internals/object-get-own-property-names-external":95}],185:[function(g,j,x){var d=g("../internals/export"),f=g("../internals/fails"),s=g("../internals/to-object"),c=g("../internals/object-get-prototype-of"),g=g("../internals/correct-prototype-getter");d({target:"Object",stat:!0,forced:f(function(){c(1)}),sham:!g},{getPrototypeOf:function(y){return c(s(y))}})},{"../internals/correct-prototype-getter":35,"../internals/export":50,"../internals/fails":51,"../internals/object-get-prototype-of":98,"../internals/to-object":138}],186:[function(t,j,x){var d=t("../internals/export"),f=t("../internals/to-object"),s=t("../internals/object-keys");d({target:"Object",stat:!0,forced:t("../internals/fails")(function(){s(1)})},{keys:function(c){return s(f(c))}})},{"../internals/export":50,"../internals/fails":51,"../internals/object-keys":100,"../internals/to-object":138}],187:[function(s,j,x){var d=s("../internals/to-string-tag-support"),f=s("../internals/redefine"),s=s("../internals/object-to-string");d||f(Object.prototype,"toString",s,{unsafe:!0})},{"../internals/object-to-string":103,"../internals/redefine":109,"../internals/to-string-tag-support":142}],188:[function(Me,j,x){var d,f,s,c,g=Me("../internals/export"),y=Me("../internals/is-pure"),o=Me("../internals/global"),a=Me("../internals/get-built-in"),i=Me("../internals/native-promise-constructor"),h=Me("../internals/redefine"),p=Me("../internals/redefine-all"),l=Me("../internals/set-to-string-tag"),m=Me("../internals/set-species"),_=Me("../internals/is-object"),b=Me("../internals/a-function"),T=Me("../internals/an-instance"),O=Me("../internals/classof-raw"),k=Me("../internals/inspect-source"),M=Me("../internals/iterate"),I=Me("../internals/check-correctness-of-iteration"),F=Me("../internals/species-constructor"),A=Me("../internals/task").set,U=Me("../internals/microtask"),D=Me("../internals/promise-resolve"),V=Me("../internals/host-report-errors"),G=Me("../internals/new-promise-capability"),W=Me("../internals/perform"),J=Me("../internals/internal-state"),Q=Me("../internals/is-forced"),qe=Me("../internals/well-known-symbol"),Y=Me("../internals/engine-v8-version"),z=qe("species"),ee="Promise",ie=J.get,C=J.set,B=J.getterFor(ee),H=i,$=o.TypeError,ne=o.document,se=o.process,de=a("fetch"),_e=G.f,pe=_e,ge=O(se)=="process",ve=!!(ne&&ne.createEvent&&o.dispatchEvent),le="unhandledrejection",he="rejectionhandled",be=1,Ae=2,je=1,Te=2,Me=Q(ee,function(){var Xe,De;return k(H)===String(H)&&(Y===66||!ge&&typeof PromiseRejectionEvent!="function")?!0:!(!y||H.prototype.finally)||!(51<=Y&&/native code/.test(H))&&(De=function(oe){oe(function(){},function(){})},((Xe=H.resolve(1)).constructor={})[z]=De,!(Xe.then(function(){})instanceof De))}),qe=Me||!I(function(Xe){H.all(Xe).catch(function(){})}),Ne=function(Xe){var De;return!(!_(Xe)||typeof(De=Xe.then)!="function")&&De},ct=function(Xe,De,oe){var ce;De.notified||(De.notified=!0,ce=De.reactions,U(function(){for(var re,fe,ke=De.value,Ie=De.state==be,ze=0;ce.length>ze;){var Je,rt,st,lt=ce[ze++],Ct=Ie?lt.ok:lt.fail,kt=lt.resolve,mt=lt.reject,Mt=lt.domain;try{Ct?(Ie||(De.rejection===Te&&function(St,Zt){A.call(o,function(){ge?se.emit("rejectionHandled",St):nt(he,St,Zt.value)})}(Xe,De),De.rejection=je),Ct===!0?Je=ke:(Mt&&Mt.enter(),Je=Ct(ke),Mt&&(Mt.exit(),st=!0)),Je===lt.promise?mt($("Promise-chain cycle")):(rt=Ne(Je))?rt.call(Je,kt,mt):kt(Je)):mt(ke)}catch(St){Mt&&!st&&Mt.exit(),mt(St)}}De.reactions=[],De.notified=!1,oe&&!De.rejection&&(re=Xe,fe=De,A.call(o,function(){var St=fe.value,Zt=ot(fe);if(Zt&&(Zt=W(function(){ge?se.emit("unhandledRejection",St,re):nt(le,re,St)}),fe.rejection=ge||ot(fe)?Te:je,Zt.error))throw Zt.value}))}))},nt=function(Xe,De,oe){var ce;ve?((ce=ne.createEvent("Event")).promise=De,ce.reason=oe,ce.initEvent(Xe,!1,!0),o.dispatchEvent(ce)):ce={promise:De,reason:oe},(De=o["on"+Xe])?De(ce):Xe===le&&V("Unhandled promise rejection",oe)},ot=function(Xe){return Xe.rejection!==je&&!Xe.parent},ut=function(Xe,De,oe,ce){return function(re){Xe(De,oe,re,ce)}},at=function(Xe,De,oe,ce){De.done||(De.done=!0,(De=ce||De).value=oe,De.state=Ae,ct(Xe,De,!0))},Oe=function(Xe,De,oe,ce){if(!De.done){De.done=!0,ce&&(De=ce);try{if(Xe===oe)throw $("Promise can't be resolved itself");var re=Ne(oe);re?U(function(){var fe={done:!1};try{re.call(oe,ut(Oe,Xe,fe,De),ut(at,Xe,fe,De))}catch(ke){at(Xe,fe,ke,De)}}):(De.value=oe,De.state=be,ct(Xe,De,!1))}catch(fe){at(Xe,{done:!1},fe,De)}}};Me&&(H=function(Xe){T(this,H,ee),b(Xe),d.call(this);var De=ie(this);try{Xe(ut(Oe,this,De),ut(at,this,De))}catch(oe){at(this,De,oe)}},(d=function(Xe){C(this,{type:ee,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=p(H.prototype,{then:function(Xe,De){var oe=B(this),ce=_e(F(this,H));return ce.ok=typeof Xe!="function"||Xe,ce.fail=typeof De=="function"&&De,ce.domain=ge?se.domain:void 0,oe.parent=!0,oe.reactions.push(ce),oe.state!=0&&ct(this,oe,!1),ce.promise},catch:function(Xe){return this.then(void 0,Xe)}}),f=function(){var Xe=new d,De=ie(Xe);this.promise=Xe,this.resolve=ut(Oe,Xe,De),this.reject=ut(at,Xe,De)},G.f=_e=function(Xe){return Xe===H||Xe===s?new f:pe(Xe)},y||typeof i!="function"||(c=i.prototype.then,h(i.prototype,"then",function(Xe,De){var oe=this;return new H(function(ce,re){c.call(oe,ce,re)}).then(Xe,De)},{unsafe:!0}),typeof de=="function"&&g({global:!0,enumerable:!0,forced:!0},{fetch:function(Xe){return D(H,de.apply(o,arguments))}}))),g({global:!0,wrap:!0,forced:Me},{Promise:H}),l(H,ee,!1,!0),m(ee),s=a(ee),g({target:ee,stat:!0,forced:Me},{reject:function(Xe){var De=_e(this);return De.reject.call(void 0,Xe),De.promise}}),g({target:ee,stat:!0,forced:y||Me},{resolve:function(Xe){return D(y&&this===s?H:this,Xe)}}),g({target:ee,stat:!0,forced:qe},{all:function(Xe){var De=this,oe=_e(De),ce=oe.resolve,re=oe.reject,fe=W(function(){var ke=b(De.resolve),Ie=[],ze=0,Je=1;M(Xe,function(rt){var st=ze++,lt=!1;Ie.push(void 0),Je++,ke.call(De,rt).then(function(Ct){lt||(lt=!0,Ie[st]=Ct,--Je||ce(Ie))},re)}),--Je||ce(Ie)});return fe.error&&re(fe.value),oe.promise},race:function(Xe){var De=this,oe=_e(De),ce=oe.reject,re=W(function(){var fe=b(De.resolve);M(Xe,function(ke){fe.call(De,ke).then(oe.resolve,ce)})});return re.error&&ce(re.value),oe.promise}})},{"../internals/a-function":5,"../internals/an-instance":9,"../internals/check-correctness-of-iteration":27,"../internals/classof-raw":28,"../internals/engine-v8-version":48,"../internals/export":50,"../internals/get-built-in":57,"../internals/global":60,"../internals/host-report-errors":63,"../internals/inspect-source":69,"../internals/internal-state":71,"../internals/is-forced":74,"../internals/is-object":75,"../internals/is-pure":76,"../internals/iterate":78,"../internals/microtask":82,"../internals/native-promise-constructor":83,"../internals/new-promise-capability":87,"../internals/perform":106,"../internals/promise-resolve":107,"../internals/redefine":109,"../internals/redefine-all":108,"../internals/set-species":117,"../internals/set-to-string-tag":118,"../internals/species-constructor":122,"../internals/task":131,"../internals/well-known-symbol":149}],189:[function(o,j,x){var d=o("../internals/export"),p=o("../internals/get-built-in"),f=o("../internals/a-function"),s=o("../internals/an-object"),c=o("../internals/is-object"),g=o("../internals/object-create"),y=o("../internals/function-bind"),o=o("../internals/fails"),a=p("Reflect","construct"),i=o(function(){function l(){}return!(a(function(){},[],l)instanceof l)}),h=!o(function(){a(function(){})}),p=i||h;d({target:"Reflect",stat:!0,forced:p,sham:p},{construct:function(l,m){f(l),s(m);var _=arguments.length<3?l:f(arguments[2]);if(h&&!i)return a(l,m,_);if(l==_){switch(m.length){case 0:return new l;case 1:return new l(m[0]);case 2:return new l(m[0],m[1]);case 3:return new l(m[0],m[1],m[2]);case 4:return new l(m[0],m[1],m[2],m[3])}var b=[null];return b.push.apply(b,m),new(y.apply(l,b))}return b=_.prototype,_=g(c(b)?b:Object.prototype),b=Function.apply.call(l,_,m),c(b)?b:_}})},{"../internals/a-function":5,"../internals/an-object":10,"../internals/export":50,"../internals/fails":51,"../internals/function-bind":56,"../internals/get-built-in":57,"../internals/is-object":75,"../internals/object-create":91}],190:[function(t,j,x){var d=t("../internals/export"),f=t("../internals/is-object"),s=t("../internals/an-object"),c=t("../internals/has"),g=t("../internals/object-get-own-property-descriptor"),y=t("../internals/object-get-prototype-of");d({target:"Reflect",stat:!0},{get:function o(a,i){var h,p=arguments.length<3?a:arguments[2];return s(a)===p?a[i]:(h=g.f(a,i))?c(h,"value")?h.value:h.get===void 0?void 0:h.get.call(p):f(h=y(a))?o(h,i,p):void 0}})},{"../internals/an-object":10,"../internals/export":50,"../internals/has":61,"../internals/is-object":75,"../internals/object-get-own-property-descriptor":94,"../internals/object-get-prototype-of":98}],191:[function(t,j,x){var d=t("../internals/descriptors"),f=t("../internals/global"),s=t("../internals/is-forced"),c=t("../internals/inherit-if-required"),g=t("../internals/object-define-property").f,y=t("../internals/object-get-own-property-names").f,o=t("../internals/is-regexp"),a=t("../internals/regexp-flags"),i=t("../internals/regexp-sticky-helpers"),h=t("../internals/redefine"),p=t("../internals/fails"),l=t("../internals/internal-state").set,m=t("../internals/set-species"),_=t("../internals/well-known-symbol")("match"),b=f.RegExp,T=b.prototype,O=/a/g,k=/a/g,M=new b(O)!==O,I=i.UNSUPPORTED_Y;if(d&&s("RegExp",!M||I||p(function(){return k[_]=!1,b(O)!=O||b(k)==k||b(O,"i")!="/a/i"}))){for(var F=function(D,V){var G,W=this instanceof F,J=o(D),Q=V===void 0;return!W&&J&&D.constructor===F&&Q?D:(M?J&&!Q&&(D=D.source):D instanceof F&&(Q&&(V=a.call(D)),D=D.source),I&&(G=!!V&&-1<V.indexOf("y"))&&(V=V.replace(/y/g,"")),J=c(M?new b(D,V):b(D,V),W?this:T,F),I&&G&&l(J,{sticky:G}),J)},A=y(b),U=0;A.length>U;)(function(D){D in F||g(F,D,{configurable:!0,get:function(){return b[D]},set:function(V){b[D]=V}})})(A[U++]);(T.constructor=F).prototype=T,h(f,"RegExp",F)}m("RegExp")},{"../internals/descriptors":43,"../internals/fails":51,"../internals/global":60,"../internals/inherit-if-required":68,"../internals/internal-state":71,"../internals/is-forced":74,"../internals/is-regexp":77,"../internals/object-define-property":93,"../internals/object-get-own-property-names":96,"../internals/redefine":109,"../internals/regexp-flags":112,"../internals/regexp-sticky-helpers":113,"../internals/set-species":117,"../internals/well-known-symbol":149}],192:[function(f,j,x){var d=f("../internals/export"),f=f("../internals/regexp-exec");d({target:"RegExp",proto:!0,forced:/./.exec!==f},{exec:f})},{"../internals/export":50,"../internals/regexp-exec":111}],193:[function(c,j,x){var d=c("../internals/redefine"),f=c("../internals/an-object"),o=c("../internals/fails"),s=c("../internals/regexp-flags"),c="toString",g=RegExp.prototype,y=g[c],o=o(function(){return y.call({source:"a",flags:"b"})!="/a/b"}),a=y.name!=c;(o||a)&&d(RegExp.prototype,c,function(){var i=f(this),h=String(i.source),p=i.flags;return"/"+h+"/"+String(p===void 0&&i instanceof RegExp&&!("flags"in g)?s.call(i):p)},{unsafe:!0})},{"../internals/an-object":10,"../internals/fails":51,"../internals/redefine":109,"../internals/regexp-flags":112}],194:[function(f,j,x){var d=f("../internals/collection"),f=f("../internals/collection-strong");j.exports=d("Set",function(s){return function(){return s(this,arguments.length?arguments[0]:void 0)}},f)},{"../internals/collection":32,"../internals/collection-strong":30}],195:[function(y,j,x){var d=y("../internals/export"),f=y("../internals/object-get-own-property-descriptor").f,s=y("../internals/to-length"),c=y("../internals/not-a-regexp"),g=y("../internals/require-object-coercible"),i=y("../internals/correct-is-regexp-logic"),y=y("../internals/is-pure"),o="".endsWith,a=Math.min,i=i("endsWith");d({target:"String",proto:!0,forced:!!(y||i||!(d=f(String.prototype,"endsWith"))||d.writable)&&!i},{endsWith:function(h){var p=String(g(this)),l=(c(h),1<arguments.length?arguments[1]:void 0),m=s(p.length),l=l===void 0?m:a(s(l),m),m=String(h);return o?o.call(p,m,l):p.slice(l-m.length,l)===m}})},{"../internals/correct-is-regexp-logic":34,"../internals/export":50,"../internals/is-pure":76,"../internals/not-a-regexp":88,"../internals/object-get-own-property-descriptor":94,"../internals/require-object-coercible":114,"../internals/to-length":137}],196:[function(t,j,x){var d=t("../internals/export"),f=t("../internals/not-a-regexp"),s=t("../internals/require-object-coercible");d({target:"String",proto:!0,forced:!t("../internals/correct-is-regexp-logic")("includes")},{includes:function(c){return!!~String(s(this)).indexOf(f(c),1<arguments.length?arguments[1]:void 0)}})},{"../internals/correct-is-regexp-logic":34,"../internals/export":50,"../internals/not-a-regexp":88,"../internals/require-object-coercible":114}],197:[function(s,j,x){var d=s("../internals/string-multibyte").charAt,f=s("../internals/internal-state"),s=s("../internals/define-iterator"),c="String Iterator",g=f.set,y=f.getterFor(c);s(String,"String",function(o){g(this,{type:c,string:String(o),index:0})},function(){var o=y(this),a=o.string,i=o.index;return i>=a.length?{value:void 0,done:!0}:(a=d(a,i),o.index+=a.length,{value:a,done:!1})})},{"../internals/define-iterator":41,"../internals/internal-state":71,"../internals/string-multibyte":124}],198:[function(t,j,x){var d=t("../internals/fix-regexp-well-known-symbol-logic"),f=t("../internals/an-object"),s=t("../internals/to-length"),c=t("../internals/require-object-coercible"),g=t("../internals/advance-string-index"),y=t("../internals/regexp-exec-abstract");d("match",1,function(o,a,i){return[function(h){var p=c(this),l=h==null?void 0:h[o];return l!==void 0?l.call(h,p):new RegExp(h)[o](String(p))},function(h){var p=i(a,h,this);if(p.done)return p.value;var l=f(h),m=String(this);if(!l.global)return y(l,m);for(var _=l.unicode,b=[],T=l.lastIndex=0;(O=y(l,m))!==null;){var O=String(O[0]);(b[T]=O)===""&&(l.lastIndex=g(m,s(l.lastIndex),_)),T++}return T===0?null:b}]})},{"../internals/advance-string-index":8,"../internals/an-object":10,"../internals/fix-regexp-well-known-symbol-logic":52,"../internals/regexp-exec-abstract":110,"../internals/require-object-coercible":114,"../internals/to-length":137}],199:[function(t,j,x){var d=t("../internals/export"),f=t("../internals/string-pad").start;d({target:"String",proto:!0,forced:t("../internals/string-pad-webkit-bug")},{padStart:function(s){return f(this,s,1<arguments.length?arguments[1]:void 0)}})},{"../internals/export":50,"../internals/string-pad":126,"../internals/string-pad-webkit-bug":125}],200:[function(t,j,x){t("../internals/export")({target:"String",proto:!0},{repeat:t("../internals/string-repeat")})},{"../internals/export":50,"../internals/string-repeat":128}],201:[function(t,j,x){var d=t("../internals/fix-regexp-well-known-symbol-logic"),f=t("../internals/an-object"),s=t("../internals/to-object"),c=t("../internals/to-length"),g=t("../internals/to-integer"),y=t("../internals/require-object-coercible"),o=t("../internals/advance-string-index"),a=t("../internals/regexp-exec-abstract"),i=Math.max,h=Math.min,p=Math.floor,l=/\$([$&'`]|\d\d?|<[^>]*>)/g,m=/\$([$&'`]|\d\d?)/g;d("replace",2,function(_,b,T,O){var k=O.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,M=O.REPLACE_KEEPS_$0,I=k?"$":"$0";return[function(F,A){var U=y(this),D=F==null?void 0:F[_];return D!==void 0?D.call(F,U,A):b.call(String(U),F,A)},function(F,A){if(!k&&M||typeof A=="string"&&A.indexOf(I)===-1){var U=T(b,F,this,A);if(U.done)return U.value}for(var D,V=f(F),G=String(this),W=typeof A=="function",J=(W||(A=String(A)),V.global),Q=(J&&(D=V.unicode,V.lastIndex=0),[]);(C=a(V,G))!==null&&(Q.push(C),J);)String(C[0])===""&&(V.lastIndex=o(G,c(V.lastIndex),D));for(var Y,z="",ee=0,ie=0;ie<Q.length;ie++){for(var C=Q[ie],B=String(C[0]),H=i(h(g(C.index),G.length),0),$=[],ne=1;ne<C.length;ne++)$.push((Y=C[ne])===void 0?Y:String(Y));var se=C.groups,de=W?(de=[B].concat($,H,G),se!==void 0&&de.push(se),String(A.apply(void 0,de))):function(_e,pe,ge,ve,le,he){var be=ge+_e.length,Ae=ve.length,je=m;return le!==void 0&&(le=s(le),je=l),b.call(he,je,function(Te,Me){var qe;switch(Me.charAt(0)){case"$":return"$";case"&":return _e;case"`":return pe.slice(0,ge);case"'":return pe.slice(be);case"<":qe=le[Me.slice(1,-1)];break;default:var Ne,ct=+Me;if(ct==0)return Te;if(Ae<ct)return(Ne=p(ct/10))!==0&&Ne<=Ae?ve[Ne-1]===void 0?Me.charAt(1):ve[Ne-1]+Me.charAt(1):Te;qe=ve[ct-1]}return qe===void 0?"":qe})}(B,G,H,$,se,A);ee<=H&&(z+=G.slice(ee,H)+de,ee=H+B.length)}return z+G.slice(ee)}]})},{"../internals/advance-string-index":8,"../internals/an-object":10,"../internals/fix-regexp-well-known-symbol-logic":52,"../internals/regexp-exec-abstract":110,"../internals/require-object-coercible":114,"../internals/to-integer":136,"../internals/to-length":137,"../internals/to-object":138}],202:[function(t,j,x){var d=t("../internals/fix-regexp-well-known-symbol-logic"),f=t("../internals/an-object"),s=t("../internals/require-object-coercible"),c=t("../internals/same-value"),g=t("../internals/regexp-exec-abstract");d("search",1,function(y,o,a){return[function(i){var h=s(this),p=i==null?void 0:i[y];return p!==void 0?p.call(i,h):new RegExp(i)[y](String(h))},function(i){var h,p=a(o,i,this);return p.done?p.value:(p=f(i),i=String(this),h=p.lastIndex,c(h,0)||(p.lastIndex=0),i=g(p,i),c(p.lastIndex,h)||(p.lastIndex=h),i===null?-1:i.index)}]})},{"../internals/an-object":10,"../internals/fix-regexp-well-known-symbol-logic":52,"../internals/regexp-exec-abstract":110,"../internals/require-object-coercible":114,"../internals/same-value":115}],203:[function(h,j,x){var d=h("../internals/fix-regexp-well-known-symbol-logic"),f=h("../internals/is-regexp"),s=h("../internals/an-object"),c=h("../internals/require-object-coercible"),g=h("../internals/species-constructor"),y=h("../internals/advance-string-index"),o=h("../internals/to-length"),a=h("../internals/regexp-exec-abstract"),i=h("../internals/regexp-exec"),h=h("../internals/fails"),p=[].push,l=Math.min,m=4294967295,_=!h(function(){return!RegExp(m,"y")});d("split",2,function(b,T,O){var k="abbc".split(/(b)*/)[1]=="c"||"test".split(/(?:)/,-1).length!=4||"ab".split(/(?:ab)*/).length!=2||".".split(/(.?)(.?)/).length!=4||1<".".split(/()()/).length||"".split(/.?/).length?function(M,I){var F=String(c(this)),A=I===void 0?m:I>>>0;if(A==0)return[];if(M===void 0)return[F];if(!f(M))return T.call(F,M,A);for(var U,D,V,G=[],I=(M.ignoreCase?"i":"")+(M.multiline?"m":"")+(M.unicode?"u":"")+(M.sticky?"y":""),W=0,J=new RegExp(M.source,I+"g");(U=i.call(J,F))&&!(W<(D=J.lastIndex)&&(G.push(F.slice(W,U.index)),1<U.length&&U.index<F.length&&p.apply(G,U.slice(1)),V=U[0].length,W=D,G.length>=A));)J.lastIndex===U.index&&J.lastIndex++;return W===F.length?!V&&J.test("")||G.push(""):G.push(F.slice(W)),G.length>A?G.slice(0,A):G}:"0".split(void 0,0).length?function(M,I){return M===void 0&&I===0?[]:T.call(this,M,I)}:T;return[function(M,I){var F=c(this),A=M==null?void 0:M[b];return A!==void 0?A.call(M,F,I):k.call(String(F),M,I)},function(U,I){var F=O(k,U,this,I,k!==T);if(F.done)return F.value;var F=s(U),A=String(this),U=g(F,RegExp),D=F.unicode,V=(F.ignoreCase?"i":"")+(F.multiline?"m":"")+(F.unicode?"u":"")+(_?"y":"g"),G=new U(_?F:"^(?:"+F.source+")",V),W=I===void 0?m:I>>>0;if(W==0)return[];if(A.length===0)return a(G,A)===null?[A]:[];for(var J=0,Q=0,Y=[];Q<A.length;){G.lastIndex=_?Q:0;var z,ee=a(G,_?A:A.slice(Q));if(ee===null||(z=l(o(G.lastIndex+(_?0:Q)),A.length))===J)Q=y(A,Q,D);else{if(Y.push(A.slice(J,Q)),Y.length===W)return Y;for(var ie=1;ie<=ee.length-1;ie++)if(Y.push(ee[ie]),Y.length===W)return Y;Q=J=z}}return Y.push(A.slice(J)),Y}]},!_)},{"../internals/advance-string-index":8,"../internals/an-object":10,"../internals/fails":51,"../internals/fix-regexp-well-known-symbol-logic":52,"../internals/is-regexp":77,"../internals/regexp-exec":111,"../internals/regexp-exec-abstract":110,"../internals/require-object-coercible":114,"../internals/species-constructor":122,"../internals/to-length":137}],204:[function(y,j,x){var d=y("../internals/export"),f=y("../internals/object-get-own-property-descriptor").f,s=y("../internals/to-length"),c=y("../internals/not-a-regexp"),g=y("../internals/require-object-coercible"),i=y("../internals/correct-is-regexp-logic"),y=y("../internals/is-pure"),o="".startsWith,a=Math.min,i=i("startsWith");d({target:"String",proto:!0,forced:!!(y||i||!(d=f(String.prototype,"startsWith"))||d.writable)&&!i},{startsWith:function(m){var p=String(g(this)),l=(c(m),s(a(1<arguments.length?arguments[1]:void 0,p.length))),m=String(m);return o?o.call(p,m,l):p.slice(l,l+m.length)===m}})},{"../internals/correct-is-regexp-logic":34,"../internals/export":50,"../internals/is-pure":76,"../internals/not-a-regexp":88,"../internals/object-get-own-property-descriptor":94,"../internals/require-object-coercible":114,"../internals/to-length":137}],205:[function(t,j,x){var d=t("../internals/export"),f=t("../internals/create-html");d({target:"String",proto:!0,forced:t("../internals/string-html-forced")("sub")},{sub:function(){return f(this,"sub","","")}})},{"../internals/create-html":36,"../internals/export":50,"../internals/string-html-forced":123}],206:[function(t,j,x){var d=t("../internals/export"),f=t("../internals/string-trim").trim;d({target:"String",proto:!0,forced:t("../internals/string-trim-forced")("trim")},{trim:function(){return f(this)}})},{"../internals/export":50,"../internals/string-trim":130,"../internals/string-trim-forced":129}],207:[function(l,j,x){var d,f,s,c,g,y=l("../internals/export"),o=l("../internals/descriptors"),a=l("../internals/global"),i=l("../internals/has"),h=l("../internals/is-object"),p=l("../internals/object-define-property").f,l=l("../internals/copy-constructor-properties"),m=a.Symbol;!o||typeof m!="function"||"description"in m.prototype&&m().description===void 0||(d={},l(f=function(){var _=arguments.length<1||arguments[0]===void 0?void 0:String(arguments[0]),b=this instanceof f?new m(_):_===void 0?m():m(_);return _===""&&(d[b]=!0),b},m),(a=f.prototype=m.prototype).constructor=f,s=a.toString,c=String(m("test"))=="Symbol(test)",g=/^Symbol\((.*)\)[^)]+$/,p(a,"description",{configurable:!0,get:function(){var _=h(this)?this.valueOf():this,b=s.call(_);return i(d,_)?"":(_=c?b.slice(7,-1):b.replace(g,"$1"))===""?void 0:_}}),y({global:!0,forced:!0},{Symbol:f}))},{"../internals/copy-constructor-properties":33,"../internals/descriptors":43,"../internals/export":50,"../internals/global":60,"../internals/has":61,"../internals/is-object":75,"../internals/object-define-property":93}],208:[function(t,j,x){t("../internals/define-well-known-symbol")("iterator")},{"../internals/define-well-known-symbol":42}],209:[function(pe,j,x){function d(re,fe){var ke=qe[re]=F(he[_e]);return ge(ke,{type:de,tag:re,description:fe}),i||(ke.description=fe),ke}function f(re,Ie){T(re);var ke=k(Ie),Ie=A(ke).concat(ce(ke));return ne(Ie,function(ze){i&&!oe.call(ke,ze)||De(re,ze,ke[ze])}),re}function s(Ie,ze){var ke,Ie=k(Ie),ze=M(ze,!0);if(Ie!==le||!m(qe,ze)||m(Ne,ze))return!(ke=Ae(Ie,ze))||!m(qe,ze)||m(Ie,se)&&Ie[se][ze]||(ke.enumerable=!0),ke}function c(fe){var fe=Te(k(fe)),ke=[];return ne(fe,function(Ie){m(qe,Ie)||m(ee,Ie)||ke.push(Ie)}),ke}var g=pe("../internals/export"),y=pe("../internals/global"),o=pe("../internals/get-built-in"),a=pe("../internals/is-pure"),i=pe("../internals/descriptors"),h=pe("../internals/native-symbol"),p=pe("../internals/use-symbol-as-uid"),l=pe("../internals/fails"),m=pe("../internals/has"),_=pe("../internals/is-array"),b=pe("../internals/is-object"),T=pe("../internals/an-object"),O=pe("../internals/to-object"),k=pe("../internals/to-indexed-object"),M=pe("../internals/to-primitive"),I=pe("../internals/create-property-descriptor"),F=pe("../internals/object-create"),A=pe("../internals/object-keys"),U=pe("../internals/object-get-own-property-names"),D=pe("../internals/object-get-own-property-names-external"),V=pe("../internals/object-get-own-property-symbols"),G=pe("../internals/object-get-own-property-descriptor"),W=pe("../internals/object-define-property"),J=pe("../internals/object-property-is-enumerable"),Q=pe("../internals/create-non-enumerable-property"),Y=pe("../internals/redefine"),z=pe("../internals/shared"),ot=pe("../internals/shared-key"),ee=pe("../internals/hidden-keys"),ie=pe("../internals/uid"),C=pe("../internals/well-known-symbol"),B=pe("../internals/well-known-symbol-wrapped"),H=pe("../internals/define-well-known-symbol"),$=pe("../internals/set-to-string-tag"),ut=pe("../internals/internal-state"),ne=pe("../internals/array-iteration").forEach,se=ot("hidden"),de="Symbol",_e="prototype",pe=C("toPrimitive"),ge=ut.set,ve=ut.getterFor(de),le=Object[_e],he=y.Symbol,be=o("JSON","stringify"),Ae=G.f,je=W.f,Te=D.f,Me=J.f,qe=z("symbols"),Ne=z("op-symbols"),ct=z("string-to-symbol-registry"),nt=z("symbol-to-string-registry"),ot=z("wks"),ut=y.QObject,at=!ut||!ut[_e]||!ut[_e].findChild,Oe=i&&l(function(){return F(je({},"a",{get:function(){return je(this,"a",{value:7}).a}})).a!=7})?function(re,fe,ke){var Ie=Ae(le,fe);Ie&&delete le[fe],je(re,fe,ke),Ie&&re!==le&&je(le,fe,Ie)}:je,Xe=p?function(re){return typeof re=="symbol"}:function(re){return Object(re)instanceof he},De=function(re,fe,ke){return re===le&&De(Ne,fe,ke),T(re),fe=M(fe,!0),T(ke),(m(qe,fe)?(ke.enumerable?(m(re,se)&&re[se][fe]&&(re[se][fe]=!1),ke=F(ke,{enumerable:I(0,!1)})):(m(re,se)||je(re,se,I(1,{})),re[se][fe]=!0),Oe):je)(re,fe,ke)},oe=function(fe){var fe=M(fe,!0),ke=Me.call(this,fe);return!(this===le&&m(qe,fe)&&!m(Ne,fe))&&(!(ke||!m(this,fe)||!m(qe,fe)||m(this,se)&&this[se][fe])||ke)},ce=function(ke){var fe=ke===le,ke=Te(fe?Ne:k(ke)),Ie=[];return ne(ke,function(ze){!m(qe,ze)||fe&&!m(le,ze)||Ie.push(qe[ze])}),Ie};h||(Y((he=function(){if(this instanceof he)throw TypeError("Symbol is not a constructor");var re=arguments.length&&arguments[0]!==void 0?String(arguments[0]):void 0,fe=ie(re),ke=function(Ie){this===le&&ke.call(Ne,Ie),m(this,se)&&m(this[se],fe)&&(this[se][fe]=!1),Oe(this,fe,I(1,Ie))};return i&&at&&Oe(le,fe,{configurable:!0,set:ke}),d(fe,re)})[_e],"toString",function(){return ve(this).tag}),Y(he,"withoutSetter",function(re){return d(ie(re),re)}),J.f=oe,W.f=De,G.f=s,U.f=D.f=c,V.f=ce,B.f=function(re){return d(C(re),re)},i&&(je(he[_e],"description",{configurable:!0,get:function(){return ve(this).description}}),a||Y(le,"propertyIsEnumerable",oe,{unsafe:!0}))),g({global:!0,wrap:!0,forced:!h,sham:!h},{Symbol:he}),ne(A(ot),function(re){H(re)}),g({target:de,stat:!0,forced:!h},{for:function(ke){var fe,ke=String(ke);return m(ct,ke)?ct[ke]:(fe=he(ke),ct[ke]=fe,nt[fe]=ke,fe)},keyFor:function(re){if(!Xe(re))throw TypeError(re+" is not a symbol");if(m(nt,re))return nt[re]},useSetter:function(){at=!0},useSimple:function(){at=!1}}),g({target:"Object",stat:!0,forced:!h,sham:!i},{create:function(re,fe){return fe===void 0?F(re):f(F(re),fe)},defineProperty:De,defineProperties:f,getOwnPropertyDescriptor:s}),g({target:"Object",stat:!0,forced:!h},{getOwnPropertyNames:c,getOwnPropertySymbols:ce}),g({target:"Object",stat:!0,forced:l(function(){V.f(1)})},{getOwnPropertySymbols:function(re){return V.f(O(re))}}),be&&g({target:"JSON",stat:!0,forced:!h||l(function(){var re=he();return be([re])!="[null]"||be({a:re})!="{}"||be(Object(re))!="{}"})},{stringify:function(re,fe,ke){for(var Ie,ze=[re],Je=1;Je<arguments.length;)ze.push(arguments[Je++]);if((b(Ie=fe)||re!==void 0)&&!Xe(re))return _(fe)||(fe=function(rt,st){if(typeof Ie=="function"&&(st=Ie.call(this,rt,st)),!Xe(st))return st}),ze[1]=fe,be.apply(null,ze)}}),he[_e][pe]||Q(he[_e],pe,he[_e].valueOf),$(he,de),ee[se]=!0},{"../internals/an-object":10,"../internals/array-iteration":19,"../internals/create-non-enumerable-property":38,"../internals/create-property-descriptor":39,"../internals/define-well-known-symbol":42,"../internals/descriptors":43,"../internals/export":50,"../internals/fails":51,"../internals/get-built-in":57,"../internals/global":60,"../internals/has":61,"../internals/hidden-keys":62,"../internals/internal-state":71,"../internals/is-array":73,"../internals/is-object":75,"../internals/is-pure":76,"../internals/native-symbol":84,"../internals/object-create":91,"../internals/object-define-property":93,"../internals/object-get-own-property-descriptor":94,"../internals/object-get-own-property-names":96,"../internals/object-get-own-property-names-external":95,"../internals/object-get-own-property-symbols":97,"../internals/object-keys":100,"../internals/object-property-is-enumerable":101,"../internals/redefine":109,"../internals/set-to-string-tag":118,"../internals/shared":121,"../internals/shared-key":119,"../internals/to-indexed-object":135,"../internals/to-object":138,"../internals/to-primitive":141,"../internals/uid":146,"../internals/use-symbol-as-uid":147,"../internals/well-known-symbol":149,"../internals/well-known-symbol-wrapped":148}],210:[function(t,j,x){var d=t("../internals/array-buffer-view-core"),f=t("../internals/array-copy-within"),s=d.aTypedArray;(0,d.exportTypedArrayMethod)("copyWithin",function(c,g){return f.call(s(this),c,g,2<arguments.length?arguments[2]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-copy-within":14}],211:[function(t,j,x){var d=t("../internals/array-buffer-view-core"),f=t("../internals/array-iteration").every,s=d.aTypedArray;(0,d.exportTypedArrayMethod)("every",function(c){return f(s(this),c,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],212:[function(t,j,x){var d=t("../internals/array-buffer-view-core"),f=t("../internals/array-fill"),s=d.aTypedArray;(0,d.exportTypedArrayMethod)("fill",function(c){return f.apply(s(this),arguments)})},{"../internals/array-buffer-view-core":12,"../internals/array-fill":15}],213:[function(t,j,x){var d=t("../internals/array-buffer-view-core"),f=t("../internals/array-iteration").filter,s=t("../internals/species-constructor"),c=d.aTypedArray,g=d.aTypedArrayConstructor;(0,d.exportTypedArrayMethod)("filter",function(y){for(var o=f(c(this),y,1<arguments.length?arguments[1]:void 0),y=s(this,this.constructor),a=0,i=o.length,h=new(g(y))(i);a<i;)h[a]=o[a++];return h})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19,"../internals/species-constructor":122}],214:[function(t,j,x){var d=t("../internals/array-buffer-view-core"),f=t("../internals/array-iteration").findIndex,s=d.aTypedArray;(0,d.exportTypedArrayMethod)("findIndex",function(c){return f(s(this),c,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],215:[function(t,j,x){var d=t("../internals/array-buffer-view-core"),f=t("../internals/array-iteration").find,s=d.aTypedArray;(0,d.exportTypedArrayMethod)("find",function(c){return f(s(this),c,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],216:[function(t,j,x){t("../internals/typed-array-constructor")("Float32",function(d){return function(f,s,c){return d(this,f,s,c)}})},{"../internals/typed-array-constructor":143}],217:[function(t,j,x){t("../internals/typed-array-constructor")("Float64",function(d){return function(f,s,c){return d(this,f,s,c)}})},{"../internals/typed-array-constructor":143}],218:[function(t,j,x){var d=t("../internals/array-buffer-view-core"),f=t("../internals/array-iteration").forEach,s=d.aTypedArray;(0,d.exportTypedArrayMethod)("forEach",function(c){f(s(this),c,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],219:[function(t,j,x){var d=t("../internals/array-buffer-view-core"),f=t("../internals/array-includes").includes,s=d.aTypedArray;(0,d.exportTypedArrayMethod)("includes",function(c){return f(s(this),c,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-includes":18}],220:[function(t,j,x){var d=t("../internals/array-buffer-view-core"),f=t("../internals/array-includes").indexOf,s=d.aTypedArray;(0,d.exportTypedArrayMethod)("indexOf",function(c){return f(s(this),c,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-includes":18}],221:[function(t,j,x){t("../internals/typed-array-constructor")("Int16",function(d){return function(f,s,c){return d(this,f,s,c)}})},{"../internals/typed-array-constructor":143}],222:[function(t,j,x){t("../internals/typed-array-constructor")("Int32",function(d){return function(f,s,c){return d(this,f,s,c)}})},{"../internals/typed-array-constructor":143}],223:[function(f,j,x){function d(){return s.call(y(this))}var i=f("../internals/global"),a=f("../internals/array-buffer-view-core"),o=f("../modules/es.array.iterator"),f=f("../internals/well-known-symbol")("iterator"),i=i.Uint8Array,s=o.values,c=o.keys,g=o.entries,y=a.aTypedArray,o=a.exportTypedArrayMethod,a=i&&i.prototype[f],i=!!a&&(a.name=="values"||a.name==null);o("entries",function(){return g.call(y(this))}),o("keys",function(){return c.call(y(this))}),o("values",d,!i),o(f,d,!i)},{"../internals/array-buffer-view-core":12,"../internals/global":60,"../internals/well-known-symbol":149,"../modules/es.array.iterator":164}],224:[function(f,j,x){var f=f("../internals/array-buffer-view-core"),d=f.aTypedArray,f=f.exportTypedArrayMethod,s=[].join;f("join",function(c){return s.apply(d(this),arguments)})},{"../internals/array-buffer-view-core":12}],225:[function(t,j,x){var d=t("../internals/array-buffer-view-core"),f=t("../internals/array-last-index-of"),s=d.aTypedArray;(0,d.exportTypedArrayMethod)("lastIndexOf",function(c){return f.apply(s(this),arguments)})},{"../internals/array-buffer-view-core":12,"../internals/array-last-index-of":20}],226:[function(t,j,x){var d=t("../internals/array-buffer-view-core"),f=t("../internals/array-iteration").map,s=t("../internals/species-constructor"),c=d.aTypedArray,g=d.aTypedArrayConstructor;(0,d.exportTypedArrayMethod)("map",function(y){return f(c(this),y,1<arguments.length?arguments[1]:void 0,function(o,a){return new(g(s(o,o.constructor)))(a)})})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19,"../internals/species-constructor":122}],227:[function(t,j,x){var d=t("../internals/array-buffer-view-core"),f=t("../internals/array-reduce").right,s=d.aTypedArray;(0,d.exportTypedArrayMethod)("reduceRight",function(c){return f(s(this),c,arguments.length,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-reduce":24}],228:[function(t,j,x){var d=t("../internals/array-buffer-view-core"),f=t("../internals/array-reduce").left,s=d.aTypedArray;(0,d.exportTypedArrayMethod)("reduce",function(c){return f(s(this),c,arguments.length,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-reduce":24}],229:[function(f,j,x){var f=f("../internals/array-buffer-view-core"),d=f.aTypedArray,f=f.exportTypedArrayMethod,s=Math.floor;f("reverse",function(){for(var c,g=d(this).length,y=s(g/2),o=0;o<y;)c=this[o],this[o++]=this[--g],this[g]=c;return this})},{"../internals/array-buffer-view-core":12}],230:[function(g,j,x){var d=g("../internals/array-buffer-view-core"),f=g("../internals/to-length"),s=g("../internals/to-offset"),c=g("../internals/to-object"),g=g("../internals/fails"),y=d.aTypedArray;(0,d.exportTypedArrayMethod)("set",function(o){y(this);var a=s(1<arguments.length?arguments[1]:void 0,1),i=this.length,h=c(o),p=f(h.length),l=0;if(i<p+a)throw RangeError("Wrong length");for(;l<p;)this[a+l]=h[l++]},g(function(){new Int8Array(1).set({})}))},{"../internals/array-buffer-view-core":12,"../internals/fails":51,"../internals/to-length":137,"../internals/to-object":138,"../internals/to-offset":139}],231:[function(f,j,x){var g=f("../internals/array-buffer-view-core"),d=f("../internals/species-constructor"),f=f("../internals/fails"),s=g.aTypedArray,c=g.aTypedArrayConstructor,g=g.exportTypedArrayMethod,y=[].slice;g("slice",function(o,a){for(var i=y.call(s(this),o,a),o=d(this,this.constructor),h=0,p=i.length,l=new(c(o))(p);h<p;)l[h]=i[h++];return l},f(function(){new Int8Array(1).slice()}))},{"../internals/array-buffer-view-core":12,"../internals/fails":51,"../internals/species-constructor":122}],232:[function(t,j,x){var d=t("../internals/array-buffer-view-core"),f=t("../internals/array-iteration").some,s=d.aTypedArray;(0,d.exportTypedArrayMethod)("some",function(c){return f(s(this),c,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],233:[function(f,j,x){var f=f("../internals/array-buffer-view-core"),d=f.aTypedArray,f=f.exportTypedArrayMethod,s=[].sort;f("sort",function(c){return s.call(d(this),c)})},{"../internals/array-buffer-view-core":12}],234:[function(t,j,x){var d=t("../internals/array-buffer-view-core"),f=t("../internals/to-length"),s=t("../internals/to-absolute-index"),c=t("../internals/species-constructor"),g=d.aTypedArray;(0,d.exportTypedArrayMethod)("subarray",function(h,o){var a=g(this),i=a.length,h=s(h,i);return new(c(a,a.constructor))(a.buffer,a.byteOffset+h*a.BYTES_PER_ELEMENT,f((o===void 0?i:s(o,i))-h))})},{"../internals/array-buffer-view-core":12,"../internals/species-constructor":122,"../internals/to-absolute-index":133,"../internals/to-length":137}],235:[function(f,j,x){var g=f("../internals/global"),d=f("../internals/array-buffer-view-core"),f=f("../internals/fails"),s=g.Int8Array,c=d.aTypedArray,g=d.exportTypedArrayMethod,y=[].toLocaleString,o=[].slice,a=!!s&&f(function(){y.call(new s(1))});g("toLocaleString",function(){return y.apply(a?o.call(c(this)):c(this),arguments)},f(function(){return[1,2].toLocaleString()!=new s([1,2]).toLocaleString()})||!f(function(){s.prototype.toLocaleString.call([1,2])}))},{"../internals/array-buffer-view-core":12,"../internals/fails":51,"../internals/global":60}],236:[function(f,j,x){var d=f("../internals/array-buffer-view-core").exportTypedArrayMethod,g=f("../internals/fails"),f=f("../internals/global").Uint8Array,f=f&&f.prototype||{},s=[].toString,c=[].join,g=(g(function(){s.call({})})&&(s=function(){return c.call(this)}),f.toString!=s);d("toString",s,g)},{"../internals/array-buffer-view-core":12,"../internals/fails":51,"../internals/global":60}],237:[function(t,j,x){t("../internals/typed-array-constructor")("Uint16",function(d){return function(f,s,c){return d(this,f,s,c)}})},{"../internals/typed-array-constructor":143}],238:[function(t,j,x){t("../internals/typed-array-constructor")("Uint32",function(d){return function(f,s,c){return d(this,f,s,c)}})},{"../internals/typed-array-constructor":143}],239:[function(t,j,x){t("../internals/typed-array-constructor")("Uint8",function(d){return function(f,s,c){return d(this,f,s,c)}})},{"../internals/typed-array-constructor":143}],240:[function(t,j,x){t("../internals/typed-array-constructor")("Uint8",function(d){return function(f,s,c){return d(this,f,s,c)}},!0)},{"../internals/typed-array-constructor":143}],241:[function(m,T,x){function d(O){return function(){return O(this,arguments.length?arguments[0]:void 0)}}var f,s,c,g,y,_=m("../internals/global"),o=m("../internals/redefine-all"),a=m("../internals/internal-metadata"),i=m("../internals/collection"),h=m("../internals/collection-weak"),p=m("../internals/is-object"),l=m("../internals/internal-state").enforce,m=m("../internals/native-weak-map"),_=!_.ActiveXObject&&"ActiveXObject"in _,b=Object.isExtensible,T=T.exports=i("WeakMap",d,h);m&&_&&(f=h.getConstructor(d,"WeakMap",!0),a.REQUIRED=!0,i=T.prototype,s=i.delete,c=i.has,g=i.get,y=i.set,o(i,{delete:function(O){var k;return p(O)&&!b(O)?((k=l(this)).frozen||(k.frozen=new f),s.call(this,O)||k.frozen.delete(O)):s.call(this,O)},has:function(O){var k;return p(O)&&!b(O)?((k=l(this)).frozen||(k.frozen=new f),c.call(this,O)||k.frozen.has(O)):c.call(this,O)},get:function(O){var k;return!p(O)||b(O)||((k=l(this)).frozen||(k.frozen=new f),c.call(this,O))?g.call(this,O):k.frozen.get(O)},set:function(O,k){var M;return!p(O)||b(O)||((M=l(this)).frozen||(M.frozen=new f),c.call(this,O))?y.call(this,O,k):M.frozen.set(O,k),this}}))},{"../internals/collection":32,"../internals/collection-weak":31,"../internals/global":60,"../internals/internal-metadata":70,"../internals/internal-state":71,"../internals/is-object":75,"../internals/native-weak-map":86,"../internals/redefine-all":108}],242:[function(t,j,x){var d,f=t("../internals/global"),s=t("../internals/dom-iterables"),c=t("../internals/array-for-each"),g=t("../internals/create-non-enumerable-property");for(d in s){var y=f[d],y=y&&y.prototype;if(y&&y.forEach!==c)try{g(y,"forEach",c)}catch{y.forEach=c}}},{"../internals/array-for-each":16,"../internals/create-non-enumerable-property":38,"../internals/dom-iterables":45,"../internals/global":60}],243:[function(y,j,x){var d,f=y("../internals/global"),s=y("../internals/dom-iterables"),c=y("../modules/es.array.iterator"),g=y("../internals/create-non-enumerable-property"),y=y("../internals/well-known-symbol"),o=y("iterator"),a=y("toStringTag"),i=c.values;for(d in s){var h=f[d],p=h&&h.prototype;if(p){if(p[o]!==i)try{g(p,o,i)}catch{p[o]=i}if(p[a]||g(p,a,d),s[d]){for(var l in c)if(p[l]!==c[l])try{g(p,l,c[l])}catch{p[l]=c[l]}}}}},{"../internals/create-non-enumerable-property":38,"../internals/dom-iterables":45,"../internals/global":60,"../internals/well-known-symbol":149,"../modules/es.array.iterator":164}],244:[function(se,j,x){se("../modules/es.array.iterator");function d(de){try{return decodeURIComponent(de)}catch{return de}}function f(de){return H[de]}function s(de){return encodeURIComponent(de).replace(B,f)}function c(de){this.entries.length=0,$(this.entries,de)}function g(de,_e){if(de<_e)throw TypeError("Not enough arguments")}function y(){_(this,y,W);var de,_e,pe,ge,ve,le,he,be,Ae=0<arguments.length?arguments[0]:void 0,je=[];if(Q(this,{type:W,entries:je,updateURL:function(){},updateSearchParams:c}),Ae!==void 0)if(M(Ae))if(typeof(de=U(Ae))=="function")for(pe=(_e=de.call(Ae)).next;!(ge=pe.call(_e)).done;){if((le=(ve=(ge=A(k(ge.value))).next).call(ge)).done||(he=ve.call(ge)).done||!ve.call(ge).done)throw TypeError("Expected sequence with length 2");je.push({key:le.value+"",value:he.value+""})}else for(be in Ae)b(Ae,be)&&je.push({key:be,value:Ae[be]+""});else $(je,typeof Ae=="string"?Ae.charAt(0)==="?"?Ae.slice(1):Ae:Ae+"")}var o=se("../internals/export"),G=se("../internals/get-built-in"),a=se("../internals/native-url"),i=se("../internals/redefine"),h=se("../internals/redefine-all"),p=se("../internals/set-to-string-tag"),l=se("../internals/create-iterator-constructor"),m=se("../internals/internal-state"),_=se("../internals/an-instance"),b=se("../internals/has"),T=se("../internals/function-bind-context"),O=se("../internals/classof"),k=se("../internals/an-object"),M=se("../internals/is-object"),I=se("../internals/object-create"),F=se("../internals/create-property-descriptor"),A=se("../internals/get-iterator"),U=se("../internals/get-iterator-method"),se=se("../internals/well-known-symbol"),D=G("fetch"),V=G("Headers"),G=se("iterator"),W="URLSearchParams",J=W+"Iterator",Q=m.set,Y=m.getterFor(W),z=m.getterFor(J),ee=/\+/g,ie=Array(4),C=function(de){var _e,pe=de.replace(ee," "),ge=4;try{return decodeURIComponent(pe)}catch{for(;ge;)pe=pe.replace((_e=ge--,ie[_e-1]||(ie[_e-1]=RegExp("((?:%[\\da-f]{2}){"+_e+"})","gi"))),d);return pe}},B=/[!'()~]|%20/g,H={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},$=function(de,_e){if(_e)for(var pe,ge=_e.split("&"),ve=0;ve<ge.length;)(pe=ge[ve++]).length&&(pe=pe.split("="),de.push({key:C(pe.shift()),value:C(pe.join("="))}))},ne=l(function(de,_e){Q(this,{type:J,iterator:A(Y(de).entries),kind:_e})},"Iterator",function(){var _e=z(this),de=_e.kind,_e=_e.iterator.next(),pe=_e.value;return _e.done||(_e.value=de==="keys"?pe.key:de==="values"?pe.value:[pe.key,pe.value]),_e}),se=y.prototype;h(se,{append:function(de,_e){g(arguments.length,2);var pe=Y(this);pe.entries.push({key:de+"",value:_e+""}),pe.updateURL()},delete:function(de){g(arguments.length,1);for(var _e=Y(this),pe=_e.entries,ge=de+"",ve=0;ve<pe.length;)pe[ve].key===ge?pe.splice(ve,1):ve++;_e.updateURL()},get:function(de){g(arguments.length,1);for(var _e=Y(this).entries,pe=de+"",ge=0;ge<_e.length;ge++)if(_e[ge].key===pe)return _e[ge].value;return null},getAll:function(de){g(arguments.length,1);for(var _e=Y(this).entries,pe=de+"",ge=[],ve=0;ve<_e.length;ve++)_e[ve].key===pe&&ge.push(_e[ve].value);return ge},has:function(de){g(arguments.length,1);for(var _e=Y(this).entries,pe=de+"",ge=0;ge<_e.length;)if(_e[ge++].key===pe)return!0;return!1},set:function(de,_e){g(arguments.length,1);for(var pe,ge=Y(this),ve=ge.entries,le=!1,he=de+"",be=_e+"",Ae=0;Ae<ve.length;Ae++)(pe=ve[Ae]).key===he&&(le?ve.splice(Ae--,1):(le=!0,pe.value=be));le||ve.push({key:he,value:be}),ge.updateURL()},sort:function(){for(var de,_e,pe=Y(this),ge=pe.entries,ve=ge.slice(),le=ge.length=0;le<ve.length;le++){for(de=ve[le],_e=0;_e<le;_e++)if(ge[_e].key>de.key){ge.splice(_e,0,de);break}_e===le&&ge.push(de)}pe.updateURL()},forEach:function(de){for(var _e,pe=Y(this).entries,ge=T(de,1<arguments.length?arguments[1]:void 0,3),ve=0;ve<pe.length;)ge((_e=pe[ve++]).value,_e.key,this)},keys:function(){return new ne(this,"keys")},values:function(){return new ne(this,"values")},entries:function(){return new ne(this,"entries")}},{enumerable:!0}),i(se,G,se.entries),i(se,"toString",function(){for(var de,_e=Y(this).entries,pe=[],ge=0;ge<_e.length;)de=_e[ge++],pe.push(s(de.key)+"="+s(de.value));return pe.join("&")},{enumerable:!0}),p(y,W),o({global:!0,forced:!a},{URLSearchParams:y}),a||typeof D!="function"||typeof V!="function"||o({global:!0,enumerable:!0,forced:!0},{fetch:function(ve){var _e,pe,ge,ve=[ve];return 1<arguments.length&&(M(_e=arguments[1])&&(pe=_e.body,O(pe)===W&&((ge=_e.headers?new V(_e.headers):new V).has("content-type")||ge.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"),_e=I(_e,{body:F(0,String(pe)),headers:F(0,ge)}))),ve.push(_e)),D.apply(this,ve)}}),j.exports={URLSearchParams:y,getState:Y}},{"../internals/an-instance":9,"../internals/an-object":10,"../internals/classof":29,"../internals/create-iterator-constructor":37,"../internals/create-property-descriptor":39,"../internals/export":50,"../internals/function-bind-context":55,"../internals/get-built-in":57,"../internals/get-iterator":59,"../internals/get-iterator-method":58,"../internals/has":61,"../internals/internal-state":71,"../internals/is-object":75,"../internals/native-url":85,"../internals/object-create":91,"../internals/redefine":109,"../internals/redefine-all":108,"../internals/set-to-string-tag":118,"../internals/well-known-symbol":149,"../modules/es.array.iterator":164}],245:[function(A,j,x){A("../modules/es.string.iterator");function d(xe){var Ze,dt,$e,Nt;if(typeof xe=="number"){for(Ze=[],dt=0;dt<4;dt++)Ze.unshift(xe%256),xe=J(xe/256);return Ze.join(".")}if(typeof xe!="object")return xe;for(Ze="",$e=he(xe),dt=0;dt<8;dt++)Nt&&xe[dt]===0||(Nt=Nt&&!1,$e===dt?(Ze+=dt?":":"::",Nt=!0):(Ze+=xe[dt].toString(16),dt<7&&(Ze+=":")));return"["+Ze+"]"}function f(xe){return!xe.host||xe.cannotBeABaseURL||xe.scheme=="file"}function s(xe,Ze,dt,$e){var Nt,Qe,Gt,ht=dt||Xe,Tt=0,ft="",hr=!1,kr=!1,or=!1;for(dt||(xe.scheme="",xe.username="",xe.password="",xe.host=null,xe.port=null,xe.path=[],xe.query=null,xe.fragment=null,xe.cannotBeABaseURL=!1,Ze=Ze.replace(ge,"")),Ze=Ze.replace(ve,""),Nt=O(Ze);Tt<=Nt.length;){switch(Qe=Nt[Tt],ht){case Xe:if(!Qe||!C.test(Qe)){if(dt)return z;ht=oe;continue}ft+=Qe.toLowerCase(),ht=De;break;case De:if(Qe&&(B.test(Qe)||Qe=="+"||Qe=="-"||Qe=="."))ft+=Qe.toLowerCase();else{if(Qe!=":"){if(dt)return z;ft="",ht=oe,Tt=0;continue}if(dt&&(Ne(xe)!=b(qe,ft)||ft=="file"&&(ct(xe)||xe.port!==null)||xe.scheme=="file"&&!xe.host))return;if(xe.scheme=ft,dt)return void(Ne(xe)&&qe[xe.scheme]==xe.port&&(xe.port=null));ft="",xe.scheme=="file"?ht=Ct:Ne(xe)&&$e&&$e.scheme==xe.scheme?ht=ce:Ne(xe)?ht=Ie:Nt[Tt+1]=="/"?(ht=re,Tt++):(xe.cannotBeABaseURL=!0,xe.path.push(""),ht=Zt)}break;case oe:if(!$e||$e.cannotBeABaseURL&&Qe!="#")return z;if($e.cannotBeABaseURL&&Qe=="#"){xe.scheme=$e.scheme,xe.path=$e.path.slice(),xe.query=$e.query,xe.fragment="",xe.cannotBeABaseURL=!0,ht=wr;break}ht=$e.scheme=="file"?Ct:fe;continue;case ce:if(Qe!="/"||Nt[Tt+1]!="/"){ht=fe;continue}ht=ze,Tt++;break;case re:if(Qe=="/"){ht=Je;break}ht=St;continue;case fe:if(xe.scheme=$e.scheme,Qe==y)xe.username=$e.username,xe.password=$e.password,xe.host=$e.host,xe.port=$e.port,xe.path=$e.path.slice(),xe.query=$e.query;else if(Qe=="/"||Qe=="\\"&&Ne(xe))ht=ke;else if(Qe=="?")xe.username=$e.username,xe.password=$e.password,xe.host=$e.host,xe.port=$e.port,xe.path=$e.path.slice(),xe.query="",ht=Rr;else{if(Qe!="#"){xe.username=$e.username,xe.password=$e.password,xe.host=$e.host,xe.port=$e.port,xe.path=$e.path.slice(),xe.path.pop(),ht=St;continue}xe.username=$e.username,xe.password=$e.password,xe.host=$e.host,xe.port=$e.port,xe.path=$e.path.slice(),xe.query=$e.query,xe.fragment="",ht=wr}break;case ke:if(!Ne(xe)||Qe!="/"&&Qe!="\\"){if(Qe!="/"){xe.username=$e.username,xe.password=$e.password,xe.host=$e.host,xe.port=$e.port,ht=St;continue}ht=Je}else ht=ze;break;case Ie:if(ht=ze,Qe!="/"||ft.charAt(Tt+1)!="/")continue;Tt++;break;case ze:if(Qe=="/"||Qe=="\\")break;ht=Je;continue;case Je:if(Qe=="@"){hr&&(ft="%40"+ft);for(var hr=!0,Ir=O(ft),Mn=0;Mn<Ir.length;Mn++){var Xr=Ir[Mn];Xr!=":"||or?(Xr=Me(Xr,Te),or?xe.password+=Xr:xe.username+=Xr):or=!0}ft=""}else if(Qe==y||Qe=="/"||Qe=="?"||Qe=="#"||Qe=="\\"&&Ne(xe)){if(hr&&ft=="")return Y;Tt-=O(ft).length+1,ft="",ht=rt}else ft+=Qe;break;case rt:case st:if(dt&&xe.scheme=="file"){ht=mt;continue}if(Qe!=":"||kr){if(Qe==y||Qe=="/"||Qe=="?"||Qe=="#"||Qe=="\\"&&Ne(xe)){if(Ne(xe)&&ft=="")return ee;if(dt&&ft==""&&(ct(xe)||xe.port!==null))return;if(Gt=le(xe,ft))return Gt;if(ft="",ht=Mt,dt)return;continue}Qe=="["?kr=!0:Qe=="]"&&(kr=!1),ft+=Qe}else{if(ft=="")return ee;if(Gt=le(xe,ft))return Gt;if(ft="",ht=lt,dt==st)return}break;case lt:if(!H.test(Qe)){if(Qe==y||Qe=="/"||Qe=="?"||Qe=="#"||Qe=="\\"&&Ne(xe)||dt){if(ft!=""){var Or=parseInt(ft,10);if(65535<Or)return ie;xe.port=Ne(xe)&&Or===qe[xe.scheme]?null:Or,ft=""}if(dt)return;ht=Mt;continue}return ie}ft+=Qe;break;case Ct:if(xe.scheme="file",Qe=="/"||Qe=="\\")ht=kt;else{if(!$e||$e.scheme!="file"){ht=St;continue}if(Qe==y)xe.host=$e.host,xe.path=$e.path.slice(),xe.query=$e.query;else if(Qe=="?")xe.host=$e.host,xe.path=$e.path.slice(),xe.query="",ht=Rr;else{if(Qe!="#"){ot(Nt.slice(Tt).join(""))||(xe.host=$e.host,xe.path=$e.path.slice(),ut(xe)),ht=St;continue}xe.host=$e.host,xe.path=$e.path.slice(),xe.query=$e.query,xe.fragment="",ht=wr}}break;case kt:if(Qe=="/"||Qe=="\\"){ht=mt;break}$e&&$e.scheme=="file"&&!ot(Nt.slice(Tt).join(""))&&(nt($e.path[0],!0)?xe.path.push($e.path[0]):xe.host=$e.host),ht=St;continue;case mt:if(Qe==y||Qe=="/"||Qe=="\\"||Qe=="?"||Qe=="#"){if(!dt&&nt(ft))ht=St;else{if(ft==""){if(xe.host="",dt)return}else{if(Gt=le(xe,ft))return Gt;if(xe.host=="localhost"&&(xe.host=""),dt)return;ft=""}ht=Mt}continue}ft+=Qe;break;case Mt:if(Ne(xe)){if(ht=St,Qe!="/"&&Qe!="\\")continue}else if(dt||Qe!="?")if(dt||Qe!="#"){if(Qe!=y&&(ht=St,Qe!="/"))continue}else xe.fragment="",ht=wr;else xe.query="",ht=Rr;break;case St:if(Qe==y||Qe=="/"||Qe=="\\"&&Ne(xe)||!dt&&(Qe=="?"||Qe=="#")){if(Oe(ft)?(ut(xe),Qe=="/"||Qe=="\\"&&Ne(xe)||xe.path.push("")):at(ft)?Qe=="/"||Qe=="\\"&&Ne(xe)||xe.path.push(""):(xe.scheme=="file"&&!xe.path.length&&nt(ft)&&(xe.host&&(xe.host=""),ft=ft.charAt(0)+":"),xe.path.push(ft)),ft="",xe.scheme=="file"&&(Qe==y||Qe=="?"||Qe=="#"))for(;1<xe.path.length&&xe.path[0]==="";)xe.path.shift();Qe=="?"?(xe.query="",ht=Rr):Qe=="#"&&(xe.fragment="",ht=wr)}else ft+=Me(Qe,je);break;case Zt:Qe=="?"?(xe.query="",ht=Rr):Qe=="#"?(xe.fragment="",ht=wr):Qe!=y&&(xe.path[0]+=Me(Qe,be));break;case Rr:dt||Qe!="#"?Qe!=y&&(Qe=="'"&&Ne(xe)?xe.query+="%27":xe.query+=Qe=="#"?"%23":Me(Qe,be)):(xe.fragment="",ht=wr);break;case wr:Qe!=y&&(xe.fragment+=Me(Qe,Ae))}Tt++}}function c(Qe){var Ze,dt,$e=_(this,c,"URL"),Nt=1<arguments.length?arguments[1]:void 0,Qe=String(Qe),Gt=G($e,{type:"URL"});if(Nt!==void 0){if(Nt instanceof c)Ze=W(Nt);else if(dt=s(Ze={},String(Nt)))throw TypeError(dt)}if(dt=s(Gt,Qe,null,Ze))throw TypeError(dt);var ht=Gt.searchParams=new D;(Nt=V(ht)).updateSearchParams(Gt.query),Nt.updateURL=function(){Gt.query=String(ht)||null},h||($e.href=Kt.call($e),$e.origin=Ft.call($e),$e.protocol=Gr.call($e),$e.username=gr.call($e),$e.password=Ht.call($e),$e.host=Tr.call($e),$e.hostname=Os.call($e),$e.port=Ro.call($e),$e.pathname=Io.call($e),$e.search=yi.call($e),$e.searchParams=Cn.call($e),$e.hash=Qs.call($e))}function g(xe,Ze){return{get:xe,set:Ze,configurable:!0,enumerable:!0}}var y,o,a,i=A("../internals/export"),h=A("../internals/descriptors"),p=A("../internals/native-url"),Bt=A("../internals/global"),l=A("../internals/object-define-properties"),m=A("../internals/redefine"),_=A("../internals/an-instance"),b=A("../internals/has"),T=A("../internals/object-assign"),O=A("../internals/array-from"),k=A("../internals/string-multibyte").codeAt,M=A("../internals/string-punycode-to-ascii"),I=A("../internals/set-to-string-tag"),F=A("../modules/web.url-search-params"),A=A("../internals/internal-state"),U=Bt.URL,D=F.URLSearchParams,V=F.getState,G=A.set,W=A.getterFor("URL"),J=Math.floor,Q=Math.pow,Y="Invalid authority",z="Invalid scheme",ee="Invalid host",ie="Invalid port",C=/[A-Za-z]/,B=/[\d+-.A-Za-z]/,H=/\d/,$=/^(0x|0X)/,ne=/^[0-7]+$/,se=/^\d+$/,de=/^[\dA-Fa-f]+$/,_e=/[\u0000\u0009\u000A\u000D #%/:?@[\\]]/,pe=/[\u0000\u0009\u000A\u000D #/:?@[\\]]/,ge=/^[\u0000-\u001F ]+|[\u0000-\u001F ]+$/g,ve=/[\u0009\u000A\u000D]/g,le=function(xe,Ze){var dt,$e,Nt;if(Ze.charAt(0)=="[")return Ze.charAt(Ze.length-1)=="]"&&(dt=function(Qe){var Gt=[0,0,0,0,0,0,0,0],ht=0,Tt=null,ft=0,hr,kr,or,Ir,Mn,Xr,Or,Dr=function(){return Qe.charAt(ft)};if(Dr()==":"){if(Qe.charAt(1)!=":")return;ft+=2,ht++,Tt=ht}for(;Dr();){if(ht==8)return;if(Dr()==":"){if(Tt!==null)return;ft++,ht++,Tt=ht;continue}for(hr=kr=0;kr<4&&de.test(Dr());)hr=hr*16+parseInt(Dr(),16),ft++,kr++;if(Dr()=="."){if(kr==0||(ft-=kr,ht>6))return;for(or=0;Dr();){if(Ir=null,or>0)if(Dr()=="."&&or<4)ft++;else return;if(!H.test(Dr()))return;for(;H.test(Dr());){if(Mn=parseInt(Dr(),10),Ir===null)Ir=Mn;else{if(Ir==0)return;Ir=Ir*10+Mn}if(Ir>255)return;ft++}Gt[ht]=Gt[ht]*256+Ir,or++,(or==2||or==4)&&ht++}if(or!=4)return;break}else if(Dr()==":"){if(ft++,!Dr())return}else if(Dr())return;Gt[ht++]=hr}if(Tt!==null)for(Xr=ht-Tt,ht=7;ht!=0&&Xr>0;)Or=Gt[ht],Gt[ht--]=Gt[Tt+Xr-1],Gt[Tt+--Xr]=Or;else if(ht!=8)return;return Gt}(Ze.slice(1,-1)))?void(xe.host=dt):ee;if(Ne(xe))return Ze=M(Ze),_e.test(Ze)||(dt=function(Qe){var Gt=Qe.split("."),ht,Tt,ft,hr,kr,or,Ir;if(Gt.length&&Gt[Gt.length-1]==""&&Gt.pop(),(ht=Gt.length)>4)return Qe;for(Tt=[],ft=0;ft<ht;ft++){if(hr=Gt[ft],hr=="")return Qe;if(kr=10,hr.length>1&&hr.charAt(0)=="0"&&(kr=$.test(hr)?16:8,hr=hr.slice(kr==8?1:2)),hr==="")or=0;else{if(!(kr==10?se:kr==8?ne:de).test(hr))return Qe;or=parseInt(hr,kr)}Tt.push(or)}for(ft=0;ft<ht;ft++)if(or=Tt[ft],ft==ht-1){if(or>=Q(256,5-ht))return null}else if(or>255)return null;for(Ir=Tt.pop(),ft=0;ft<Tt.length;ft++)Ir+=Tt[ft]*Q(256,3-ft);return Ir}(Ze))===null?ee:void(xe.host=dt);if(pe.test(Ze))return ee;for(dt="",$e=O(Ze),Nt=0;Nt<$e.length;Nt++)dt+=Me($e[Nt],be);xe.host=dt},he=function(xe){for(var Ze=null,dt=1,$e=null,Nt=0,Qe=0;Qe<8;Qe++)xe[Qe]!==0?(dt<Nt&&(Ze=$e,dt=Nt),$e=null,Nt=0):($e===null&&($e=Qe),++Nt);return dt<Nt&&(Ze=$e,dt=Nt),Ze},be={},Ae=T({},be,{" ":1,'"':1,"<":1,">":1,"`":1}),je=T({},Ae,{"#":1,"?":1,"{":1,"}":1}),Te=T({},je,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),Me=function(xe,Ze){var dt=k(xe,0);return 32<dt&&dt<127&&!b(Ze,xe)?xe:encodeURIComponent(xe)},qe={ftp:21,file:null,http:80,https:443,ws:80,wss:443},Ne=function(xe){return b(qe,xe.scheme)},ct=function(xe){return xe.username!=""||xe.password!=""},nt=function(xe,Ze){return xe.length==2&&C.test(xe.charAt(0))&&((xe=xe.charAt(1))==":"||!Ze&&xe=="|")},ot=function(xe){return 1<xe.length&&nt(xe.slice(0,2))&&(xe.length==2||(xe=xe.charAt(2))==="/"||xe==="\\"||xe==="?"||xe==="#")},ut=function(xe){var Ze=xe.path,dt=Ze.length;!dt||xe.scheme=="file"&&dt==1&&nt(Ze[0],!0)||Ze.pop()},at=function(xe){return xe==="."||xe.toLowerCase()==="%2e"},Oe=function(xe){return(xe=xe.toLowerCase())===".."||xe==="%2e."||xe===".%2e"||xe==="%2e%2e"},Xe={},De={},oe={},ce={},re={},fe={},ke={},Ie={},ze={},Je={},rt={},st={},lt={},Ct={},kt={},mt={},Mt={},St={},Zt={},Rr={},wr={},Bt=c.prototype,Kt=function(){var xe=W(this),Ze=xe.scheme,dt=xe.username,$e=xe.password,Nt=xe.host,Qe=xe.port,Gt=xe.path,ht=xe.query,Tt=xe.fragment,ft=Ze+":";return Nt!==null?(ft+="//",ct(xe)&&(ft+=dt+($e?":"+$e:"")+"@"),ft+=d(Nt),Qe!==null&&(ft+=":"+Qe)):Ze=="file"&&(ft+="//"),ft+=xe.cannotBeABaseURL?Gt[0]:Gt.length?"/"+Gt.join("/"):"",ht!==null&&(ft+="?"+ht),Tt!==null&&(ft+="#"+Tt),ft},Ft=function(){var xe=W(this),Ze=xe.scheme,dt=xe.port;if(Ze=="blob")try{return new URL(Ze.path[0]).origin}catch{return"null"}return Ze!="file"&&Ne(xe)?Ze+"://"+d(xe.host)+(dt!==null?":"+dt:""):"null"},Gr=function(){return W(this).scheme+":"},gr=function(){return W(this).username},Ht=function(){return W(this).password},Tr=function(){var Ze=W(this),xe=Ze.host,Ze=Ze.port;return xe===null?"":Ze===null?d(xe):d(xe)+":"+Ze},Os=function(){var xe=W(this).host;return xe===null?"":d(xe)},Ro=function(){var xe=W(this).port;return xe===null?"":String(xe)},Io=function(){var xe=W(this),Ze=xe.path;return xe.cannotBeABaseURL?Ze[0]:Ze.length?"/"+Ze.join("/"):""},yi=function(){var xe=W(this).query;return xe?"?"+xe:""},Cn=function(){return W(this).searchParams},Qs=function(){var xe=W(this).fragment;return xe?"#"+xe:""};h&&l(Bt,{href:g(Kt,function(dt){var Ze=W(this),dt=String(dt),dt=s(Ze,dt);if(dt)throw TypeError(dt);V(Ze.searchParams).updateSearchParams(Ze.query)}),origin:g(Ft),protocol:g(Gr,function(xe){var Ze=W(this);s(Ze,String(xe)+":",Xe)}),username:g(gr,function(xe){var Ze=W(this),dt=O(String(xe));if(!f(Ze)){Ze.username="";for(var $e=0;$e<dt.length;$e++)Ze.username+=Me(dt[$e],Te)}}),password:g(Ht,function(xe){var Ze=W(this),dt=O(String(xe));if(!f(Ze)){Ze.password="";for(var $e=0;$e<dt.length;$e++)Ze.password+=Me(dt[$e],Te)}}),host:g(Tr,function(xe){var Ze=W(this);Ze.cannotBeABaseURL||s(Ze,String(xe),rt)}),hostname:g(Os,function(xe){var Ze=W(this);Ze.cannotBeABaseURL||s(Ze,String(xe),st)}),port:g(Ro,function(xe){var Ze=W(this);f(Ze)||((xe=String(xe))==""?Ze.port=null:s(Ze,xe,lt))}),pathname:g(Io,function(xe){var Ze=W(this);Ze.cannotBeABaseURL||(Ze.path=[],s(Ze,xe+"",Mt))}),search:g(yi,function(xe){var Ze=W(this);(xe=String(xe))==""?Ze.query=null:(xe.charAt(0)=="?"&&(xe=xe.slice(1)),Ze.query="",s(Ze,xe,Rr)),V(Ze.searchParams).updateSearchParams(Ze.query)}),searchParams:g(Cn),hash:g(Qs,function(xe){var Ze=W(this);(xe=String(xe))==""?Ze.fragment=null:(xe.charAt(0)=="#"&&(xe=xe.slice(1)),Ze.fragment="",s(Ze,xe,wr))})}),m(Bt,"toJSON",function(){return Kt.call(this)},{enumerable:!0}),m(Bt,"toString",function(){return Kt.call(this)},{enumerable:!0}),U&&(o=U.createObjectURL,a=U.revokeObjectURL,o&&m(c,"createObjectURL",function(xe){return o.apply(U,arguments)}),a&&m(c,"revokeObjectURL",function(xe){return a.apply(U,arguments)})),I(c,"URL"),i({global:!0,forced:!p,sham:!h},{URL:c})},{"../internals/an-instance":9,"../internals/array-from":17,"../internals/descriptors":43,"../internals/export":50,"../internals/global":60,"../internals/has":61,"../internals/internal-state":71,"../internals/native-url":85,"../internals/object-assign":90,"../internals/object-define-properties":92,"../internals/redefine":109,"../internals/set-to-string-tag":118,"../internals/string-multibyte":124,"../internals/string-punycode-to-ascii":127,"../modules/es.string.iterator":197,"../modules/web.url-search-params":244}],246:[function(t,j,x){j.exports=t("./").polyfill()},{"./":247}],247:[function(t,j,x){(function(d,f){var s,c;s=this,c=function(){function g(le){return typeof le=="function"}var y=Array.isArray||function(le){return Object.prototype.toString.call(le)==="[object Array]"},o=0,a=void 0,i=void 0,h=function(le,he){T[o]=le,T[o+1]=he,(o+=2)===2&&(i?i(O):D())},p=typeof window<"u"?window:void 0,l=p||{},l=l.MutationObserver||l.WebKitMutationObserver,m=typeof self>"u"&&d!==void 0&&{}.toString.call(d)==="[object process]",_=typeof Uint8ClampedArray<"u"&&typeof importScripts<"u"&&typeof MessageChannel<"u";function b(){var le=setTimeout;return function(){return le(O,1)}}var T=new Array(1e3);function O(){for(var le=0;le<o;le+=2)(0,T[le])(T[le+1]),T[le]=void 0,T[le+1]=void 0;o=0}function k(){try{var le=Function("return this")().require("vertx");return(a=le.runOnLoop||le.runOnContext)!==void 0?function(){a(O)}:b()}catch{return b()}}var M,I,F,D=void 0;function A(le,he){var be,Ae=this,je=new this.constructor(G),Te=(je[V]===void 0&&de(je),Ae._state);return Te?(be=arguments[Te-1],h(function(){return ne(Te,je,be,Ae._result)})):H(Ae,je,le,he),je}function U(le){var he;return le&&typeof le=="object"&&le.constructor===this?le:(ee(he=new this(G),le),he)}var D=m?function(){return d.nextTick(O)}:l?(I=0,m=new l(O),F=document.createTextNode(""),m.observe(F,{characterData:!0}),function(){F.data=I=++I%2}):_?((M=new MessageChannel).port1.onmessage=O,function(){return M.port2.postMessage(0)}):(p===void 0&&typeof t=="function"?k:b)(),V=Math.random().toString(36).substring(2);function G(){}var W=void 0,J=1,Q=2;function Y(le,he,be){h(function(Ae){var je=!1,Te=function(Me,qe,Ne,ct){try{Me.call(qe,Ne,ct)}catch(nt){return nt}}(be,he,function(Me){je||(je=!0,(he!==Me?ee:C)(Ae,Me))},function(Me){je||(je=!0,B(Ae,Me))},Ae._label);!je&&Te&&(je=!0,B(Ae,Te))},le)}function z(le,he,be){var Ae,je;he.constructor===le.constructor&&be===A&&he.constructor.resolve===U?(Ae=le,(je=he)._state===J?C(Ae,je._result):je._state===Q?B(Ae,je._result):H(je,void 0,function(Te){return ee(Ae,Te)},function(Te){return B(Ae,Te)})):be!==void 0&&g(be)?Y(le,he,be):C(le,he)}function ee(le,he){if(le===he)B(le,new TypeError("You cannot resolve a promise with itself"));else if(be=typeof he,he===null||be!="object"&&be!="function")C(le,he);else{be=void 0;try{be=he.then}catch(Ae){return void B(le,Ae)}z(le,he,be)}var be}function ie(le){le._onerror&&le._onerror(le._result),$(le)}function C(le,he){le._state===W&&(le._result=he,le._state=J,le._subscribers.length!==0&&h($,le))}function B(le,he){le._state===W&&(le._state=Q,le._result=he,h(ie,le))}function H(le,he,be,Ae){var je=le._subscribers,Te=je.length;le._onerror=null,je[Te]=he,je[Te+J]=be,je[Te+Q]=Ae,Te===0&&le._state&&h($,le)}function $(le){var he=le._subscribers,be=le._state;if(he.length!==0){for(var Ae,je=void 0,Te=le._result,Me=0;Me<he.length;Me+=3)Ae=he[Me],je=he[Me+be],Ae?ne(be,Ae,je,Te):je(Te);le._subscribers.length=0}}function ne(le,he,be,Ae){var je=g(be),Te=void 0,Me=void 0,qe=!0;if(je){try{Te=be(Ae)}catch(Ne){qe=!1,Me=Ne}if(he===Te)return void B(he,new TypeError("A promises callback cannot return that same promise."))}else Te=Ae;he._state===W&&(je&&qe?ee(he,Te):qe===!1?B(he,Me):le===J?C(he,Te):le===Q&&B(he,Te))}var se=0;function de(le){le[V]=se++,le._state=void 0,le._result=void 0,le._subscribers=[]}pe.prototype._enumerate=function(le){for(var he=0;this._state===W&&he<le.length;he++)this._eachEntry(le[he],he)},pe.prototype._eachEntry=function(le,he){var be=this._instanceConstructor,Ae=be.resolve;if(Ae===U){var je,Te=void 0,Me=void 0,qe=!1;try{Te=le.then}catch(Ne){qe=!0,Me=Ne}Te===A&&le._state!==W?this._settledAt(le._state,he,le._result):typeof Te!="function"?(this._remaining--,this._result[he]=le):be===ge?(je=new be(G),qe?B(je,Me):z(je,le,Te),this._willSettleAt(je,he)):this._willSettleAt(new be(function(Ne){return Ne(le)}),he)}else this._willSettleAt(Ae(le),he)},pe.prototype._settledAt=function(le,he,be){var Ae=this.promise;Ae._state===W&&(this._remaining--,le===Q?B(Ae,be):this._result[he]=be),this._remaining===0&&C(Ae,this._result)},pe.prototype._willSettleAt=function(le,he){var be=this;H(le,void 0,function(Ae){return be._settledAt(J,he,Ae)},function(Ae){return be._settledAt(Q,he,Ae)})};var _e=pe;function pe(le,he){this._instanceConstructor=le,this.promise=new le(G),this.promise[V]||de(this.promise),y(he)?(this.length=he.length,this._remaining=he.length,this._result=new Array(this.length),this.length!==0&&(this.length=this.length||0,this._enumerate(he),this._remaining!==0)||C(this.promise,this._result)):B(this.promise,new Error("Array Methods must be provided an Array"))}ve.prototype.catch=function(le){return this.then(null,le)},ve.prototype.finally=function(le){var he=this.constructor;return g(le)?this.then(function(be){return he.resolve(le()).then(function(){return be})},function(be){return he.resolve(le()).then(function(){throw be})}):this.then(le,le)};var ge=ve;function ve(le){if(this[V]=se++,this._result=this._state=void 0,this._subscribers=[],G!==le){if(typeof le!="function")throw new TypeError("You must pass a resolver function as the first argument to the promise constructor");if(!(this instanceof ve))throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");var he=this;try{le(function(be){ee(he,be)},function(be){B(he,be)})}catch(be){B(he,be)}}}return ge.prototype.then=A,ge.all=function(le){return new _e(this,le).promise},ge.race=function(le){var he=this;return y(le)?new he(function(be,Ae){for(var je=le.length,Te=0;Te<je;Te++)he.resolve(le[Te]).then(be,Ae)}):new he(function(be,Ae){return Ae(new TypeError("You must pass an array to race."))})},ge.resolve=U,ge.reject=function(le){var he=new this(G);return B(he,le),he},ge._setScheduler=function(le){i=le},ge._setAsap=function(le){h=le},ge._asap=h,ge.polyfill=function(){var le=void 0;if(f!==void 0)le=f;else if(typeof self<"u")le=self;else try{le=Function("return this")()}catch{throw new Error("polyfill failed because global object is unavailable in this environment")}var he=le.Promise;if(he){var be=null;try{be=Object.prototype.toString.call(he.resolve())}catch{}if(be==="[object Promise]"&&!he.cast)return}le.Promise=ge},ge.Promise=ge},typeof x=="object"&&j!==void 0?j.exports=c():s.ES6Promise=c()}).call(this,t("_process"),typeof uu<"u"?uu:typeof self<"u"?self:typeof window<"u"?window:{})},{_process:256}],248:[function(t,j,x){var d,f;d=this,f=function(s,c){var g=5e3,y="callback";function o(i){try{delete window[i]}catch{window[i]=void 0}}function a(i){i=document.getElementById(i),i&&document.getElementsByTagName("head")[0].removeChild(i)}c.exports=function(i){var h=arguments.length<=1||arguments[1]===void 0?{}:arguments[1],p=i,l=h.timeout||g,m=h.jsonpCallback||y,_=void 0;return new Promise(function(b,T){var O=h.jsonpCallbackFunction||"jsonp_"+Date.now()+"_"+Math.ceil(1e5*Math.random()),k=m+"_"+O,M=(window[O]=function(I){b({ok:!0,json:function(){return Promise.resolve(I)}}),_&&clearTimeout(_),a(k),o(O)},p+=p.indexOf("?")===-1?"?":"&",document.createElement("script"));M.setAttribute("src",""+p+m+"="+O),h.charset&&M.setAttribute("charset",h.charset),M.id=k,document.getElementsByTagName("head")[0].appendChild(M),_=setTimeout(function(){T(new Error("JSONP request to "+i+" timed out")),o(O),a(k),window[O]=function(){o(O)}},l),M.onerror=function(){T(new Error("JSONP request to "+i+" failed")),o(O),a(k),_&&clearTimeout(_)}})}},x!==void 0&&j!==void 0?f(0,j):(f(f={exports:{}},f),d.fetchJsonp=f.exports)},{}],249:[function(t,j,x){var d=function(f){var s,c,g,y,o,a,i,h,p,l,m;if(!(f===void 0||typeof navigator<"u"&&/MSIE [1-9]\./.test(navigator.userAgent)))return m=f.document,s=function(){return f.URL||f.webkitURL||f},c=m.createElementNS("http://www.w3.org/1999/xhtml","a"),g="download"in c,y=/constructor/i.test(f.HTMLElement)||f.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent),a=function(_){(f.setImmediate||f.setTimeout)(function(){throw _},0)},i=4e4,h=function(_){setTimeout(function(){typeof _=="string"?s().revokeObjectURL(_):_.remove()},i)},p=function(_){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(_.type)?new Blob(["\uFEFF",_],{type:_.type}):_},m=(l=function(_,b,I){I||(_=p(_));var O,k,M=this,I=_.type==="application/octet-stream",F=function(){for(var A=M,U="writestart progress write writeend".split(" "),D=void 0,V=(U=[].concat(U)).length;V--;){var G=A["on"+U[V]];if(typeof G=="function")try{G.call(A,D||A)}catch(W){a(W)}}};M.readyState=M.INIT,g?(O=s().createObjectURL(_),setTimeout(function(){var A,U;c.href=O,c.download=b,A=c,U=new MouseEvent("click"),A.dispatchEvent(U),F(),h(O),M.readyState=M.DONE})):(o||I&&y)&&f.FileReader?((k=new FileReader).onloadend=function(){var A=o?k.result:k.result.replace(/^data:[^;]*;/,"data:attachment/file;");f.open(A,"_blank")||(f.location.href=A),A=void 0,M.readyState=M.DONE,F()},k.readAsDataURL(_),M.readyState=M.INIT):(O=O||s().createObjectURL(_),!I&&f.open(O,"_blank")||(f.location.href=O),M.readyState=M.DONE,F(),h(O))}).prototype,typeof navigator<"u"&&navigator.msSaveOrOpenBlob?function(_,b,T){return b=b||_.name||"download",T||(_=p(_)),navigator.msSaveOrOpenBlob(_,b)}:(m.abort=function(){},m.readyState=m.INIT=0,m.WRITING=1,m.DONE=2,m.error=m.onwritestart=m.onprogress=m.onwrite=m.onabort=m.onerror=m.onwriteend=null,function(_,b,T){return new l(_,b||_.name||"download",T)})}(typeof self<"u"&&self||typeof window<"u"&&window||this.content);j!==void 0&&j.exports?j.exports.saveAs=d:v!=null},{}],250:[function(t,j,x){var d,f=Object.defineProperty,s=(f(x,"__esModule",{value:!0}),x),c={GIFEncoder:()=>F,applyPalette:()=>function(W,J,Q="rgb565"){if(!W||!W.buffer)throw new Error("quantize() expected RGBA Uint8Array data");if(!(W instanceof Uint8Array||W instanceof Uint8ClampedArray))throw new Error("quantize() expected RGBA Uint8Array data");if(256<J.length)throw new Error("applyPalette() only works with 256 colors or less");const Y=new Uint32Array(W.buffer),z=Y.length,ee=Q==="rgb444"?4096:65536,ie=new Uint8Array(z),C=new Array(ee);if(Q==="rgba4444")for(let ve=0;ve<z;ve++){var ne=Y[ve],B=ne>>24&255,H=ne>>16&255,$=ne>>8&255,ne=255&ne,se=h(ne,$,H,B),se=se in C?C[se]:C[se]=function(le,he,be,Ae,je){let Te=0,Me=1e100;for(let nt=0;nt<je.length;nt++){var qe,Ne=je[nt],ct=k(Ne[3]-Ae);ct>Me||(qe=Ne[0],(ct+=k(qe-le))>Me||(qe=Ne[1],(ct+=k(qe-he))>Me||(qe=Ne[2],(ct+=k(qe-be))>Me||(Me=ct,Te=nt))))}return Te}(ne,$,H,B,J);ie[ve]=se}else{const ve=Q==="rgb444"?p:i;for(let le=0;le<z;le++){var pe=Y[le],de=pe>>16&255,_e=pe>>8&255,pe=255&pe,ge=ve(pe,_e,de),ge=ge in C?C[ge]:C[ge]=function(he,be,Ae,je){let Te=0,Me=1e100;for(let nt=0;nt<je.length;nt++){var qe,Ne=je[nt],ct=k(Ne[0]-he);ct>Me||(qe=Ne[1],(ct+=k(qe-be))>Me||(qe=Ne[2],(ct+=k(qe-Ae))>Me||(Me=ct,Te=nt)))}return Te}(pe,_e,de,J);ie[le]=ge}}return ie},default:()=>G,nearestColor:()=>function(W,J,Q=T){return W[M(W,J,Q)]},nearestColorIndex:()=>M,nearestColorIndexWithDistance:()=>I,prequantize:()=>function(W,{roundRGB:J=5,roundAlpha:Q=10,oneBitAlpha:Y=null}={}){const z=new Uint32Array(W.buffer);for(let H=0;H<z.length;H++){var B=z[H];let $=B>>24&255;var ee,ie=B>>16&255,C=B>>8&255,B=255&B;$=O($,Q),Y&&(ee=typeof Y=="number"?Y:127,$=$<=ee?0:255),B=O(B,J),C=O(C,J),ie=O(ie,J),z[H]=$<<24|ie<<16|C<<8|B<<0}},quantize:()=>function(W,J,Q={}){var{format:Y="rgb565",clearAlpha:z=!0,clearAlphaColor:ee=0,clearAlphaThreshold:ie=0,oneBitAlpha:C=!1}=Q;if(!W||!W.buffer)throw new Error("quantize() expected RGBA Uint8Array data");if(!(W instanceof Uint8Array||W instanceof Uint8ClampedArray))throw new Error("quantize() expected RGBA Uint8Array data");W=new Uint32Array(W.buffer);let B=Q.useSqrt!==!1;const H=Y==="rgba4444",$=function(ot,ut){const at=ut==="rgb444"?4096:65536,Oe=new Array(at),Xe=ot.length;if(ut==="rgba4444")for(let kt=0;kt<Xe;++kt){var re=ot[kt],De=re>>24&255,oe=re>>16&255,ce=re>>8&255,re=255&re,fe=h(re,ce,oe,De);let mt=fe in Oe?Oe[fe]:Oe[fe]=b();mt.rc+=re,mt.gc+=ce,mt.bc+=oe,mt.ac+=De,mt.cnt++}else if(ut==="rgb444")for(let kt=0;kt<Xe;++kt){var ze=ot[kt],ke=ze>>16&255,Ie=ze>>8&255,ze=255&ze,Je=p(ze,Ie,ke);let mt=Je in Oe?Oe[Je]:Oe[Je]=b();mt.rc+=ze,mt.gc+=Ie,mt.bc+=ke,mt.cnt++}else for(let kt=0;kt<Xe;++kt){var lt=ot[kt],rt=lt>>16&255,st=lt>>8&255,lt=255&lt,Ct=i(lt,st,rt);let mt=Ct in Oe?Oe[Ct]:Oe[Ct]=b();mt.rc+=lt,mt.gc+=st,mt.bc+=rt,mt.cnt++}return Oe}(W,Y),ne=$.length,se=ne-1,de=new Uint32Array(ne+1);for(var _e=0,pe=0;pe<ne;++pe){const ot=$[pe];ot!=null&&(Ne=1/ot.cnt,H&&(ot.ac*=Ne),ot.rc*=Ne,ot.gc*=Ne,ot.bc*=Ne,$[_e++]=ot)}m(J)/_e<.022&&(B=!1);for(var ge,ve,le,pe=0;pe<_e-1;++pe)$[pe].fw=pe+1,$[pe+1].bk=pe,B&&($[pe].cnt=Math.sqrt($[pe].cnt));for(B&&($[pe].cnt=Math.sqrt($[pe].cnt)),pe=0;pe<_e;++pe){_($,pe);var he=$[pe].err;for(ve=++de[0];1<ve&&(le=ve>>1,!($[ge=de[le]].err<=he));ve=le)de[ve]=ge;de[ve]=pe}var be,Ae=_e-J;for(pe=0;pe<Ae;){for(;;){var je=de[1];if((be=$[je]).tm>=be.mtm&&$[be.nn].mtm<=be.tm)break;for(be.mtm==se?je=de[1]=de[de[0]--]:(_($,je),be.tm=pe),he=$[je].err,ve=1;(le=ve+ve)<=de[0]&&(le<de[0]&&$[de[le]].err>$[de[le+1]].err&&le++,!(he<=$[ge=de[le]].err));ve=le)de[ve]=ge;de[ve]=je}var Te=$[be.nn],Me=be.cnt,qe=Te.cnt,Ne=1/(Me+qe);H&&(be.ac=Ne*(Me*be.ac+qe*Te.ac)),be.rc=Ne*(Me*be.rc+qe*Te.rc),be.gc=Ne*(Me*be.gc+qe*Te.gc),be.bc=Ne*(Me*be.bc+qe*Te.bc),be.cnt+=Te.cnt,be.mtm=++pe,$[Te.bk].fw=Te.fw,$[Te.fw].bk=Te.bk,Te.mtm=se}let ct=[];for(pe=0;;0){let ot=l(Math.round($[pe].rc),0,255),ut=l(Math.round($[pe].gc),0,255),at=l(Math.round($[pe].bc),0,255),Oe=255;H&&(Oe=l(Math.round($[pe].ac),0,255),C&&(nt=typeof C=="number"?C:127,Oe=Oe<=nt?0:255),z&&Oe<=ie&&(ot=ut=at=ee,Oe=0));var nt=H?[ot,ut,at,Oe]:[ot,ut,at];if(function(Xe,De){for(let re=0;re<Xe.length;re++){var ce=Xe[re],oe=ce[0]===De[0]&&ce[1]===De[1]&&ce[2]===De[2],ce=!(4<=ce.length&&4<=De.length)||ce[3]===De[3];if(oe&&ce)return!0}return!1}(ct,nt)||ct.push(nt),(pe=$[pe].fw)==0)break}return ct},snapColorsToPalette:()=>function(W,J,Q=5){if(W.length&&J.length){var Y=W.map(B=>B.slice(0,3)),z=Q*Q,ee=W[0].length;for(let B=0;B<J.length;B++){let H=J[B];H=H.length<ee?[H[0],H[1],H[2],255]:H.length>ee?H.slice(0,3):H.slice();var C=I(Y,H.slice(0,3),T),ie=C[0],C=C[1];0<C&&C<=z&&(W[ie]=H)}}}};for(d in c)f(s,d,{get:c[d],enumerable:!0});var g={trailer:59};function y(W=256){let J=0,Q=new Uint8Array(W);return{get buffer(){return Q.buffer},reset(){J=0},bytesView(){return Q.subarray(0,J)},bytes(){return Q.slice(0,J)},writeByte(z){Y(J+1),Q[J]=z,J++},writeBytes(z,ee=0,ie=z.length){Y(J+ie);for(let C=0;C<ie;C++)Q[J++]=z[C+ee]},writeBytesView(z,ee=0,ie=z.byteLength){Y(J+ie),Q.set(z.subarray(ee,ee+ie),J),J+=ie}};function Y(z){var ee=Q.length;if(!(z<=ee)){z=Math.max(z,ee*(ee<1048576?2:1.125)>>>0),ee!=0&&(z=Math.max(z,256));const ie=Q;Q=new Uint8Array(z),0<J&&Q.set(ie.subarray(0,J),0)}}}var o=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535],a=function(W,J,Q,H,z=y(512),ee=new Uint8Array(256),ie=new Int32Array(5003),C=new Int32Array(5003)){var B=ie.length,H=Math.max(2,H);ee.fill(0),C.fill(0),ie.fill(-1);let $=0,ne=0;var se=H+1;const de=se;let _e=!1,pe=de,ge=(1<<pe)-1;var ve=1<<se-1;const le=1+ve;let he=2+ve,be=0,Ae=Q[0],je=0;for(let nt=B;nt<65536;nt*=2)++je;je=8-je,z.writeByte(H),ct(ve);var Te=Q.length;for(let nt=1;nt<Te;nt++)e:{var Me=Q[nt],qe=(Me<<12)+Ae;let ot=Me<<je^Ae;if(ie[ot]===qe)Ae=C[ot];else{for(var Ne=ot===0?1:B-ot;0<=ie[ot];)if((ot-=Ne)<0&&(ot+=B),ie[ot]===qe){Ae=C[ot];break e}ct(Ae),Ae=Me,he<4096?(C[ot]=he++,ie[ot]=qe):(ie.fill(-1),he=2+ve,_e=!0,ct(ve))}}return ct(Ae),ct(le),z.writeByte(0),z.bytesView();function ct(nt){for($&=o[ne],0<ne?$|=nt<<ne:$=nt,ne+=pe;8<=ne;)ee[be++]=255&$,254<=be&&(z.writeByte(be),z.writeBytesView(ee,0,be),be=0),$>>=8,ne-=8;if((he>ge||_e)&&(_e?(pe=de,ge=(1<<pe)-1,_e=!1):(++pe,ge=pe===12?1<<pe:(1<<pe)-1)),nt==le){for(;0<ne;)ee[be++]=255&$,254<=be&&(z.writeByte(be),z.writeBytesView(ee,0,be),be=0),$>>=8,ne-=8;0<be&&(z.writeByte(be),z.writeBytesView(ee,0,be),be=0)}}};function i(W,J,Q){return W<<8&63488|J<<2&992|Q>>3}function h(W,J,Q,Y){return W>>4|240&J|(240&Q)<<4|(240&Y)<<8}function p(W,J,Q){return W>>4<<8|240&J|Q>>4}function l(W,J,Q){return W<J?J:Q<W?Q:W}function m(W){return W*W}function _(W,J,Q){var Y=0,z=1e100;const ee=W[J];for(var ie=ee.cnt,C=ee.ac,B=ee.rc,H=ee.gc,$=ee.bc,ne=ee.fw;ne!=0;ne=W[ne].fw){var se,de=W[ne],_e=de.cnt,_e=ie*_e/(ie+_e);z<=_e||(se=0,z<=(se+=_e*m(de.rc-B))||z<=(se+=_e*m(de.gc-H))||z<=(se+=_e*m(de.bc-$))||(z=se,Y=ne))}ee.err=z,ee.nn=Y}function b(){return{ac:0,rc:0,gc:0,bc:0,cnt:0,nn:0,fw:0,bk:0,tm:0,mtm:0,err:0}}function T(W,J){for(var Q=0,Y=0;Y<W.length;Y++){var z=W[Y]-J[Y];Q+=z*z}return Q}function O(W,J){return 1<J?Math.round(W/J)*J:W}function k(W){return W*W}function M(W,J,Q=T){let Y=1/0,z=-1;for(let ie=0;ie<W.length;ie++){var ee=Q(J,W[ie]);ee<Y&&(Y=ee,z=ie)}return z}function I(W,J,Q=T){let Y=1/0,z=-1;for(let ie=0;ie<W.length;ie++){var ee=Q(J,W[ie]);ee<Y&&(Y=ee,z=ie)}return[z,Y]}function F(W={}){const{initialCapacity:J=4096,auto:Q=!0}=W,Y=y(J),z=new Uint8Array(256),ee=new Int32Array(5003),ie=new Int32Array(5003);let C=!1;return{reset(){Y.reset(),C=!1},finish(){Y.writeByte(g.trailer)},bytes(){return Y.bytes()},bytesView(){return Y.bytesView()},get buffer(){return Y.buffer},get stream(){return Y},writeHeader:B,writeFrame(H,$,ne,Ae={}){var{transparent:de=!1,transparentIndex:_e=0,delay:Ne=0,palette:pe=null,repeat:Te=0,colorDepth:ge=8,dispose:ve=-1}=Ae;let le=!1;if(Q?C||(le=!0,B(),C=!0):le=!!Ae.first,$=Math.max(0,Math.floor($)),ne=Math.max(0,Math.floor(ne)),le){if(!pe)throw new Error("First frame must include a { palette } option");var[Ae,Me,be,qe,je=8]=[Y,$,ne,pe,ge];qe=V(qe.length)-1,je=128|je-1<<4|qe,U(Ae,Me),U(Ae,be),Ae.writeBytes([je,0,0]),A(Y,pe),0<=Te&&(qe=Y,Me=Te,qe.writeByte(33),qe.writeByte(255),qe.writeByte(11),D(qe,"NETSCAPE2.0"),qe.writeByte(3),qe.writeByte(1),U(qe,Me),qe.writeByte(0))}var he,be=Math.round(Ne/10),Ae=Y,je=ve,Te=be,Me=de,qe=_e,Ne=(Ae.writeByte(33),Ae.writeByte(249),Ae.writeByte(4),qe<0&&(qe=0,Me=!1),Me=Me?(he=1,2):he=0,0<=je&&(Me=7&je),Me<<=2,Ae.writeByte(0|Me|he),U(Ae,Te),Ae.writeByte(qe||0),Ae.writeByte(0),!!pe&&!le);ve=Y,de=$,_e=ne,he=Ne?pe:null,ve.writeByte(44),U(ve,0),U(ve,0),U(ve,de),U(ve,_e),he?(de=V(he.length)-1,ve.writeByte(128|de)):ve.writeByte(0),Ne&&A(Y,pe),[Te,Ae,_e,de,ve=8,Ne,pe,H]=[Y,H,$,ne,ge,z,ee,ie],a(_e,de,Ae,ve,Te,Ne,pe,H)}};function B(){D(Y,"GIF89a")}}function A(W,J){var Q=1<<V(J.length);for(let Y=0;Y<Q;Y++){let z=[0,0,0];Y<J.length&&(z=J[Y]),W.writeByte(z[0]),W.writeByte(z[1]),W.writeByte(z[2])}}function U(W,J){W.writeByte(255&J),W.writeByte(J>>8&255)}function D(W,J){for(var Q=0;Q<J.length;Q++)W.writeByte(J.charCodeAt(Q))}function V(W){return Math.max(Math.ceil(Math.log2(W)),1)}var G=F},{}],251:[function(t,j,x){x.read=function(d,f,s,c,_){var y,o,a=8*_-c-1,i=(1<<a)-1,h=i>>1,p=-7,l=s?_-1:0,m=s?-1:1,_=d[f+l];for(l+=m,y=_&(1<<-p)-1,_>>=-p,p+=a;0<p;y=256*y+d[f+l],l+=m,p-=8);for(o=y&(1<<-p)-1,y>>=-p,p+=c;0<p;o=256*o+d[f+l],l+=m,p-=8);if(y===0)y=1-h;else{if(y===i)return o?NaN:1/0*(_?-1:1);o+=Math.pow(2,c),y-=h}return(_?-1:1)*o*Math.pow(2,y-c)},x.write=function(d,f,s,c,g,b){var o,a,i=8*b-g-1,h=(1<<i)-1,p=h>>1,l=g===23?Math.pow(2,-24)-Math.pow(2,-77):0,m=c?0:b-1,_=c?1:-1,b=f<0||f===0&&1/f<0?1:0;for(f=Math.abs(f),isNaN(f)||f===1/0?(a=isNaN(f)?1:0,o=h):(o=Math.floor(Math.log(f)/Math.LN2),f*(c=Math.pow(2,-o))<1&&(o--,c*=2),2<=(f+=1<=o+p?l/c:l*Math.pow(2,1-p))*c&&(o++,c/=2),h<=o+p?(a=0,o=h):1<=o+p?(a=(f*c-1)*Math.pow(2,g),o+=p):(a=f*Math.pow(2,p-1)*Math.pow(2,g),o=0));8<=g;d[s+m]=255&a,m+=_,a/=256,g-=8);for(o=o<<g|a,i+=g;0<i;d[s+m]=255&o,m+=_,o/=256,i-=8);d[s+m-_]|=128*b}},{}],252:[function(t,j,x){var d;function f(oe,ce){return oe.b===ce.b&&oe.a===ce.a}function s(oe,ce){return oe.b<ce.b||oe.b===ce.b&&oe.a<=ce.a}function c(oe,ce,re){var fe=ce.b-oe.b,ke=re.b-ce.b;return 0<fe+ke?fe<ke?ce.a-oe.a+fe/(fe+ke)*(oe.a-re.a):ce.a-re.a+ke/(fe+ke)*(re.a-oe.a):0}function g(oe,ce,re){var fe=ce.b-oe.b,ke=re.b-ce.b;return 0<fe+ke?(ce.a-re.a)*fe+(ce.a-oe.a)*ke:0}function y(oe,ce){return oe.a<ce.a||oe.a===ce.a&&oe.b<=ce.b}function o(oe,ce,re){var fe=ce.a-oe.a,ke=re.a-ce.a;return 0<fe+ke?fe<ke?ce.b-oe.b+fe/(fe+ke)*(oe.b-re.b):ce.b-re.b+ke/(fe+ke)*(re.b-oe.b):0}function a(oe,ce,re){var fe=ce.a-oe.a,ke=re.a-ce.a;return 0<fe+ke?(ce.b-re.b)*fe+(ce.b-oe.b)*ke:0}function i(oe,ce,re,fe){return(oe=oe<0?0:oe)<=(re=re<0?0:re)?re===0?(ce+fe)/2:ce+oe/(oe+re)*(fe-ce):fe+re/(oe+re)*(ce-fe)}function h(oe){var ce=b(oe.b);return O(ce,oe.c),O(ce.b,oe.c),k(ce,oe.a),ce}function p(oe,ce){var re=!1,fe=!1;oe!==ce&&(ce.a!==oe.a&&(fe=!0,I(ce.a,oe.a)),ce.d!==oe.d&&(re=!0,F(ce.d,oe.d)),T(ce,oe),fe||(O(ce,oe.a),oe.a.c=oe),re||(k(ce,oe.d),oe.d.a=oe))}function l(oe){var ce=oe.b,re=!1;oe.d!==oe.b.d&&(re=!0,F(oe.d,oe.b.d)),oe.c===oe?I(oe.a,null):(oe.b.d.a=oe.b.e,oe.a.c=oe.c,T(oe,oe.b.e),re||k(oe,oe.d)),ce.c===ce?(I(ce.a,null),F(ce.d,null)):(oe.d.a=ce.b.e,ce.a.c=ce.c,T(ce,ce.b.e)),M(oe)}function m(oe){var ce=b(oe),re=ce.b;return T(ce,oe.e),ce.a=oe.b.a,O(re,ce.a),ce.d=re.d=oe.d,ce=ce.b,T(oe.b,oe.b.b.e),T(oe.b,ce),oe.b.a=ce.a,ce.b.a.c=ce.b,ce.b.d=oe.b.d,ce.f=oe.f,ce.b.f=oe.b.f,ce}function _(oe,ce){var re=!1,fe=b(oe),ke=fe.b;return ce.d!==oe.d&&(re=!0,F(ce.d,oe.d)),T(fe,oe.e),T(ke,ce),fe.a=oe.b.a,ke.a=ce.a,fe.d=ke.d=oe.d,oe.d.a=ke,re||k(fe,oe.d),fe}function b(oe){var ce=new be,re=new be,fe=oe.b.h;return(((re.h=fe).b.h=ce).h=oe).b.h=re,ce.b=re,((ce.c=ce).e=re).b=ce,(re.c=re).e=ce}function T(oe,ce){var re=oe.c,fe=ce.c;re.b.e=ce,(fe.b.e=oe).c=fe,ce.c=re}function O(oe,ce){var re=ce.f,fe=new je(ce,re);for(re.e=fe,re=(ce.f=fe).c=oe;re.a=fe,(re=re.c)!==oe;);}function k(oe,ce){var re=ce.d,fe=new he(ce,re);for(re.b=fe,(ce.d=fe).a=oe,fe.c=ce.c,re=oe;re.d=fe,(re=re.e)!==oe;);}function M(oe){var ce=oe.h;oe=oe.b.h,(ce.b.h=oe).b.h=ce}function I(oe,ce){for(var re=oe.c,fe=re;fe.a=ce,(fe=fe.c)!==re;);re=oe.f,((fe=oe.e).f=re).e=fe}function F(oe,ce){for(var re=oe.a,fe=re;fe.d=ce,(fe=fe.e)!==re;);re=oe.d,((fe=oe.b).d=re).b=fe}function A(oe){var ce=0;return Math.abs(oe[1])>Math.abs(oe[0])&&(ce=1),ce=Math.abs(oe[2])>Math.abs(oe[ce])?2:ce}function U(oe,ce){oe.f+=ce.f,oe.b.f+=ce.b.f}function D(oe,ce,re){return oe=oe.a,ce=ce.a,re=re.a,ce.b.a===oe?re.b.a===oe?s(ce.a,re.a)?g(re.b.a,ce.a,re.a)<=0:0<=g(ce.b.a,re.a,ce.a):g(re.b.a,oe,re.a)<=0:re.b.a===oe?0<=g(ce.b.a,oe,ce.a):(ce=c(ce.b.a,oe,ce.a),(oe=c(re.b.a,oe,re.a))<=ce)}function V(oe){oe.a.i=null;var ce=oe.e;ce.a.c=ce.c,ce.c.a=ce.a,oe.e=null}function G(oe,ce){l(oe.a),oe.c=!1,(oe.a=ce).i=oe}function W(oe){for(var ce=oe.a.a;(oe=De(oe)).a.a===ce;);return oe.c&&(G(oe,ce=_(Xe(oe).a.b,oe.a.e)),oe=De(oe)),oe}function J(oe,ce,re){var fe=new Oe;return fe.a=re,fe.e=_e(oe.f,ce.e,fe),re.i=fe}function Q(oe,ce){switch(oe.s){case 100130:return(1&ce)!=0;case 100131:return ce!==0;case 100132:return 0<ce;case 100133:return ce<0;case 100134:return 2<=ce||ce<=-2}return!1}function Y(oe){var ce=oe.a,re=ce.d;re.c=oe.d,re.a=ce,V(oe)}function z(oe,ce,re){for(ce=(oe=ce).a;oe!==re;){oe.c=!1;var fe=Xe(oe),ke=fe.a;if(ke.a!==ce.a){if(!fe.c){Y(oe);break}G(fe,ke=_(ce.c.b,ke.b))}ce.c!==ke&&(p(ke.b.e,ke),p(ce,ke)),Y(oe),ce=fe.a,oe=fe}return ce}function ee(oe,ce,re,fe,ke,Ie){for(var ze=!0;J(oe,ce,re.b),(re=re.c)!==fe;);for(ke===null&&(ke=Xe(ce).a.b.c);(re=(fe=Xe(ce)).a.b).a===ke.a;)re.c!==ke&&(p(re.b.e,re),p(ke.b.e,re)),fe.f=ce.f-re.f,fe.d=Q(oe,fe.f),ce.b=!0,!ze&&H(oe,ce)&&(U(re,ke),V(ce),l(ke)),ze=!1,ce=fe,ke=re;ce.b=!0,Ie&&ne(oe,ce)}function ie(oe,ce,re,fe,ke){var Ie=[ce.g[0],ce.g[1],ce.g[2]];ce.d=null,ce.d=oe.o&&oe.o(Ie,re,fe,oe.c)||null,ce.d===null&&(ke?oe.n||(le(oe,100156),oe.n=!0):ce.d=re[0])}function C(oe,ce,re){var fe=[null,null,null,null];fe[0]=ce.a.d,fe[1]=re.a.d,ie(oe,ce.a,fe,[.5,.5,0,0],!1),p(ce,re)}function B(oe,ce,re,fe,ke){var Ie=Math.abs(ce.b-oe.b)+Math.abs(ce.a-oe.a),ze=Math.abs(re.b-oe.b)+Math.abs(re.a-oe.a),Je=ke+1;fe[ke]=.5*ze/(Ie+ze),fe[Je]=.5*Ie/(Ie+ze),oe.g[0]+=fe[ke]*ce.g[0]+fe[Je]*re.g[0],oe.g[1]+=fe[ke]*ce.g[1]+fe[Je]*re.g[1],oe.g[2]+=fe[ke]*ce.g[2]+fe[Je]*re.g[2]}function H(oe,ce){var re=Xe(ce),fe=ce.a,ke=re.a;if(s(fe.a,ke.a)){if(0<g(ke.b.a,fe.a,ke.a))return;if(f(fe.a,ke.a)){if(fe.a!==ke.a){var re=oe.e,Ie=fe.a.h;if(0<=Ie){var ze=(re=re.b).d,Je=re.e,rt=re.c,st=rt[Ie];ze[st]=ze[re.a],(rt[ze[st]]=st)<=--re.a&&(st<=1||s(Je[ze[st>>1]],Je[ze[st]])?ut:at)(re,st),Je[Ie]=null,rt[Ie]=re.b,re.b=Ie}else for(re.c[-(Ie+1)]=null;0<re.a&&re.c[re.d[re.a-1]]===null;)--re.a;C(oe,ke.b.e,fe)}}else m(ke.b),p(fe,ke.b.e),ce.b=re.b=!0}else{if(g(fe.b.a,ke.a,fe.a)<0)return;De(ce).b=ce.b=!0,m(fe.b),p(ke.b.e,fe)}return 1}function $(oe,ce){var re=Xe(ce),fe=ce.a,ke=re.a,Ie=fe.a,ze=ke.a,Je=fe.b.a,rt=ke.b.a,st=new je;if(g(Je,oe.a,Ie),g(rt,oe.a,ze),!(Ie===ze||Math.min(Ie.a,Je.a)>Math.max(ze.a,rt.a))){if(s(Ie,ze)){if(0<g(rt,Ie,ze))return}else if(g(Je,ze,Ie)<0)return;var lt,Ct,kt=Je,mt=Ie,Mt=rt,St=ze;if(s(kt,mt)||(lt=kt,kt=mt,mt=lt),s(Mt,St)||(lt=Mt,Mt=St,St=lt),s(kt,Mt)||(lt=kt,kt=Mt,Mt=lt,lt=mt,mt=St,St=lt),s(Mt,mt)?s(mt,St)?((lt=c(kt,Mt,mt))+(Ct=c(Mt,mt,St))<0&&(lt=-lt,Ct=-Ct),st.b=i(lt,Mt.b,Ct,mt.b)):((lt=g(kt,Mt,mt))+(Ct=-g(kt,St,mt))<0&&(lt=-lt,Ct=-Ct),st.b=i(lt,Mt.b,Ct,St.b)):st.b=(Mt.b+mt.b)/2,y(kt,mt)||(lt=kt,kt=mt,mt=lt),y(Mt,St)||(lt=Mt,Mt=St,St=lt),y(kt,Mt)||(lt=kt,kt=Mt,Mt=lt,lt=mt,mt=St,St=lt),y(Mt,mt)?y(mt,St)?((lt=o(kt,Mt,mt))+(Ct=o(Mt,mt,St))<0&&(lt=-lt,Ct=-Ct),st.a=i(lt,Mt.a,Ct,mt.a)):((lt=a(kt,Mt,mt))+(Ct=-a(kt,St,mt))<0&&(lt=-lt,Ct=-Ct),st.a=i(lt,Mt.a,Ct,St.a)):st.a=(Mt.a+mt.a)/2,s(st,oe.a)&&(st.b=oe.a.b,st.a=oe.a.a),kt=s(Ie,ze)?Ie:ze,s(kt,st)&&(st.b=kt.b,st.a=kt.a),f(st,Ie)||f(st,ze))return H(oe,ce),0;if(!f(Je,oe.a)&&0<=g(Je,oe.a,st)||!f(rt,oe.a)&&g(rt,oe.a,st)<=0){if(rt===oe.a)m(fe.b),p(ke.b,fe),fe=Xe(ce=W(ce)).a,z(oe,Xe(ce),re),ee(oe,ce,fe.b.e,fe,fe,!0);else{if(Je!==oe.a)return 0<=g(Je,oe.a,st)&&(De(ce).b=ce.b=!0,m(fe.b),fe.a.b=oe.a.b,fe.a.a=oe.a.a),void(g(rt,oe.a,st)<=0&&(ce.b=re.b=!0,m(ke.b),ke.a.b=oe.a.b,ke.a.a=oe.a.a));for(m(ke.b),p(fe.e,ke.b.e),ze=(Ie=re=ce).a.b.a;(Ie=De(Ie)).a.b.a===ze;);Ie=Xe(ce=Ie).a.b.c,re.a=ke.b.e,ee(oe,ce,(ke=z(oe,re,null)).c,fe.b.c,Ie,!0)}return 1}m(fe.b),m(ke.b),p(ke.b.e,fe),fe.a.b=st.b,fe.a.a=st.a,fe.a.h=Me(oe.e,fe.a),fe=fe.a,ke=[0,0,0,0],st=[Ie.d,Je.d,ze.d,rt.d],fe.g[0]=fe.g[1]=fe.g[2]=0,B(fe,Ie,Je,ke,0),B(fe,ze,rt,ke,2),ie(oe,fe,st,ke,!0),De(ce).b=ce.b=re.b=!0}}function ne(oe,ce){for(var re=Xe(ce);;){for(;re.b;)re=Xe(ce=re);if(!ce.b&&((ce=De(re=ce))===null||!ce.b))break;ce.b=!1;var fe=ce.a,ke=re.a;if(Ie=fe.b.a!==ke.b.a)e:{var Ie,ze=Xe(Ie=ce),Je=Ie.a,rt=ze.a,st=void 0;if(s(Je.b.a,rt.b.a)){if(g(Je.b.a,rt.b.a,Je.a)<0){Ie=!1;break e}De(Ie).b=Ie.b=!0,st=m(Je),p(rt.b,st),st.d.c=Ie.d}else{if(0<g(rt.b.a,Je.b.a,rt.a)){Ie=!1;break e}Ie.b=ze.b=!0,st=m(rt),p(Je.e,rt.b),st.b.d.c=Ie.d}Ie=!0}if(Ie&&(re.c?(V(re),l(ke),ke=(re=Xe(ce)).a):ce.c&&(V(ce),l(fe),fe=(ce=De(re)).a)),fe.a!==ke.a){if(fe.b.a===ke.b.a||ce.c||re.c||fe.b.a!==oe.a&&ke.b.a!==oe.a)H(oe,ce);else if($(oe,ce))break}fe.a===ke.a&&fe.b.a===ke.b.a&&(U(ke,fe),V(ce),l(fe),ce=De(re))}}function se(oe,ce){var re=new Oe,fe=h(oe.b);fe.a.b=4e150,fe.a.a=ce,fe.b.a.b=-4e150,fe.b.a.a=ce,oe.a=fe.b.a,re.a=fe,re.f=0,re.d=!1,re.c=!1,re.h=!0,re.b=!1,fe=_e(fe=oe.f,fe.a,re),re.e=fe}function de(oe){this.a=new pe,this.b=oe,this.c=D}function _e(oe,ce,re){for(;(ce=ce.c).b!==null&&!oe.c(oe.b,ce.b,re););return oe=new pe(re,ce.a,ce),ce.a.c=oe,ce.a=oe}function pe(oe,ce,re){this.b=oe||null,this.a=ce||this,this.c=re||this}function ge(){this.d=0,this.p=this.b=this.q=null,this.j=[0,0,0],this.s=100130,this.n=!1,this.o=this.a=this.e=this.f=null,this.m=!1,this.c=this.r=this.i=this.k=this.l=this.h=null}function ve(oe,ce){if(oe.d!==ce)for(;oe.d!==ce;)if(oe.d<ce)switch(oe.d){case 0:le(oe,100151),oe.u(null);break;case 1:le(oe,100152),oe.t()}else switch(oe.d){case 2:le(oe,100154),oe.v();break;case 1:le(oe,100153),oe.w()}}function le(oe,ce){oe.p&&oe.p(ce,oe.c)}function he(oe,ce){this.b=oe||this,this.d=ce||this,this.a=null,this.c=!1}function be(){(this.h=this).i=this.d=this.a=this.e=this.c=this.b=null,this.f=0}function Ae(){this.c=new je,this.a=new he,this.b=new be,this.d=new be,this.b.b=this.d,this.d.b=this.b}function je(oe,ce){this.e=oe||this,this.f=ce||this,this.d=this.c=null,this.g=[0,0,0],this.h=this.a=this.b=0}function Te(){this.c=[],this.d=null,this.a=0,this.e=!1,this.b=new Ne}function Me(oe,ce){var re,fe,ke;return oe.e?(2*(fe=++(re=oe.b).a)>re.f&&(re.f*=2,re.c=ct(re.c,re.f+1)),re.b===0?ke=fe:(ke=re.b,re.b=re.c[re.b]),re.e[ke]=ce,re.c[ke]=fe,re.d[fe]=ke,re.h&&at(re,fe),ke):(re=oe.a++,oe.c[re]=ce,-(re+1))}function qe(oe){if(oe.a===0)return ot(oe.b);var ce=oe.c[oe.d[oe.a-1]];if(oe.b.a!==0&&s(nt(oe.b),ce))return ot(oe.b);for(;--oe.a,0<oe.a&&oe.c[oe.d[oe.a-1]]===null;);return ce}function Ne(){this.d=ct([0],33),this.e=[null,null],this.c=[0,0],this.a=0,this.f=32,this.b=0,this.h=!1,this.d[1]=1}function ct(oe,ce){for(var re=Array(ce),fe=0;fe<oe.length;fe++)re[fe]=oe[fe];for(;fe<ce;fe++)re[fe]=0;return re}function nt(oe){return oe.e[oe.d[1]]}function ot(oe){var ce=oe.d,re=oe.e,fe=oe.c,ke=ce[1],Ie=re[ke];return 0<oe.a&&(ce[1]=ce[oe.a],fe[ce[1]]=1,re[ke]=null,fe[ke]=oe.b,oe.b=ke,0<--oe.a&&ut(oe,1)),Ie}function ut(oe,ce){for(var re=oe.d,fe=oe.e,ke=oe.c,Ie=ce,ze=re[Ie];;){var Je=Ie<<1,rt=(Je<oe.a&&s(fe[re[Je+1]],fe[re[Je]])&&(Je+=1),re[Je]);if(Je>oe.a||s(fe[ze],fe[rt])){ke[re[Ie]=ze]=Ie;break}ke[re[Ie]=rt]=Ie,Ie=Je}}function at(oe,ce){for(var re=oe.d,fe=oe.e,ke=oe.c,Ie=ce,ze=re[Ie];;){var Je=Ie>>1,rt=re[Je];if(Je==0||s(fe[rt],fe[ze])){ke[re[Ie]=ze]=Ie;break}ke[re[Ie]=rt]=Ie,Ie=Je}}function Oe(){this.e=this.a=null,this.f=0,this.c=this.b=this.h=this.d=!1}function Xe(oe){return oe.e.c.b}function De(oe){return oe.e.a.b}(d=ge.prototype).x=function(){ve(this,0)},d.B=function(oe,ce){switch(oe){case 100142:return;case 100140:switch(ce){case 100130:case 100131:case 100132:case 100133:case 100134:return void(this.s=ce)}break;case 100141:return void(this.m=!!ce);default:return void le(this,100900)}le(this,100901)},d.y=function(oe){switch(oe){case 100142:return 0;case 100140:return this.s;case 100141:return this.m;default:le(this,100900)}return!1},d.A=function(oe,ce,re){this.j[0]=oe,this.j[1]=ce,this.j[2]=re},d.z=function(oe,ce){var re=ce||null;switch(oe){case 100100:case 100106:this.h=re;break;case 100104:case 100110:this.l=re;break;case 100101:case 100107:this.k=re;break;case 100102:case 100108:this.i=re;break;case 100103:case 100109:this.p=re;break;case 100105:case 100111:this.o=re;break;case 100112:this.r=re;break;default:le(this,100900)}},d.C=function(oe,ce){var re=!1,fe=[0,0,0];ve(this,2);for(var ke=0;ke<3;++ke){var Ie=oe[ke];Ie<-1e150&&(Ie=-1e150,re=!0),1e150<Ie&&(Ie=1e150,re=!0),fe[ke]=Ie}re&&le(this,100155),(re=this.q)===null?p(re=h(this.b),re.b):(m(re),re=re.e),re.a.d=ce,re.a.g[0]=fe[0],re.a.g[1]=fe[1],re.a.g[2]=fe[2],re.f=1,re.b.f=-1,this.q=re},d.u=function(oe){ve(this,0),this.d=1,this.b=new Ae,this.c=oe},d.t=function(){ve(this,1),this.d=2,this.q=null},d.v=function(){ve(this,2),this.d=1},d.w=function(){ve(this,1),this.d=0;var oe,ce,re=this.j[0],fe=this.j[1],ke=this.j[2],Ie=!1,ze=[re,fe,ke];if(re===0&&fe===0&&ke===0){for(var fe=[-2e150,-2e150,-2e150],Je=[2e150,2e150,2e150],ke=[],rt=[],re=(Ie=this.b.c).e;re!==Ie;re=re.e)for(var st=0;st<3;++st){var lt=re.g[st];lt<Je[st]&&(Je[st]=lt,rt[st]=re),lt>fe[st]&&(fe[st]=lt,ke[st]=re)}if(fe[1]-Je[1]>fe[re=0]-Je[0]&&(re=1),Je[re=fe[2]-Je[2]>fe[re]-Je[re]?2:re]>=fe[re])ze[0]=0,ze[1]=0,ze[2]=1;else{for(Je=rt[re],ke=ke[re],rt=[fe=0,0,0],Je=[Je.g[0]-ke.g[0],Je.g[1]-ke.g[1],Je.g[2]-ke.g[2]],st=[0,0,0],re=Ie.e;re!==Ie;re=re.e)st[0]=re.g[0]-ke.g[0],st[1]=re.g[1]-ke.g[1],st[2]=re.g[2]-ke.g[2],rt[0]=Je[1]*st[2]-Je[2]*st[1],rt[1]=Je[2]*st[0]-Je[0]*st[2],rt[2]=Je[0]*st[1]-Je[1]*st[0],fe<(lt=rt[0]*rt[0]+rt[1]*rt[1]+rt[2]*rt[2])&&(fe=lt,ze[0]=rt[0],ze[1]=rt[1],ze[2]=rt[2]);fe<=0&&(ze[0]=ze[1]=ze[2]=0,ze[A(Je)]=1)}Ie=!0}for(rt=A(ze),re=this.b.c,fe=(rt+1)%3,ke=(rt+2)%3,rt=0<ze[rt]?1:-1,ze=re.e;ze!==re;ze=ze.e)ze.b=ze.g[fe],ze.a=rt*ze.g[ke];if(Ie){for(ze=0,re=(Ie=this.b.a).b;re!==Ie;re=re.b)if(!((fe=re.a).f<=0))for(;ze+=(fe.a.b-fe.b.a.b)*(fe.a.a+fe.b.a.a),(fe=fe.e)!==re.a;);if(ze<0)for(Ie=(ze=this.b.c).e;Ie!==ze;Ie=Ie.e)Ie.a=-Ie.a}for(this.n=!1,ze=this.b.b,re=ze.h;re!==ze;re=Ie)Ie=re.h,fe=re.e,f(re.a,re.b.a)&&re.e.e!==re&&(C(this,fe,re),l(re),fe=(re=fe).e),fe.e===re&&(fe!==re&&(fe!==Ie&&fe!==Ie.b||(Ie=Ie.h),l(fe)),re!==Ie&&re!==Ie.b||(Ie=Ie.h),l(re));for(this.e=ze=new Te,Ie=this.b.c,re=Ie.e;re!==Ie;re=re.e)re.h=Me(ze,re);var Ct=ze;Ct.d=[];for(var kt=0;kt<Ct.a;kt++)Ct.d[kt]=kt;Ct.d.sort(function(St){return function(Zt,Rr){return s(St[Zt],St[Rr])?1:-1}}(Ct.c)),Ct.e=!0;for(var mt=Ct.b,Mt=mt.a;1<=Mt;--Mt)ut(mt,Mt);for(mt.h=!0,this.f=new de(this),se(this,-4e150),se(this,4e150);(ze=qe(this.e))!==null;){for(;;){e:if((re=this.e).a===0)Ie=nt(re.b);else if(Ie=re.c[re.d[re.a-1]],re.b.a!==0&&s(re=nt(re.b),Ie)){Ie=re;break e}if(Ie===null||!f(Ie,ze))break;Ie=qe(this.e),C(this,ze.c,Ie.c)}(function St(Zt,Rr){for(var wr,Bt=(Zt.a=Rr).c;Bt.i===null;)if((Bt=Bt.c)===Rr.c){var Bt=Zt,Kt=Rr;(Ht=new Oe).a=Kt.c.b;for(var Tr=(Ft=Bt.f).a;(Tr=Tr.a).b!==null&&!Ft.c(Ft.b,Ht,Tr.b););var Ft,Gr,gr=Xe(Ft=Tr.b),Ht=Ft.a,Tr=gr.a;return void(g(Ht.b.a,Kt,Ht.a)===0?f((Ht=Ft.a).a,Kt)||f(Ht.b.a,Kt)||(m(Ht.b),Ft.c&&(l(Ht.c),Ft.c=!1),p(Kt.c,Ht),St(Bt,Kt)):(Gr=s(Tr.b.a,Ht.b.a)?Ft:gr,gr=void 0,Ft.d||Gr.c?(gr=Gr===Ft?_(Kt.c.b,Ht.e):_(Tr.b.c.b,Kt.c).b,Gr.c?G(Gr,gr):((Ft=J(Ht=Bt,Ft,gr)).f=De(Ft).f+Ft.a.f,Ft.d=Q(Ht,Ft.f)),St(Bt,Kt)):ee(Bt,Ft,Kt.c,Kt.c,null,!0)))}Ft=(Ht=Xe(Bt=W(Bt.i))).a,(Ht=z(Zt,Ht,null)).c===Ft?(Ht=(Ft=Ht).c,Tr=Xe(Bt),gr=Bt.a,Gr=Tr.a,wr=!1,gr.b.a!==Gr.b.a&&$(Zt,Bt),f(gr.a,Zt.a)&&(p(Ht.b.e,gr),Ht=Xe(Bt=W(Bt)).a,z(Zt,Xe(Bt),Tr),wr=!0),f(Gr.a,Zt.a)&&(p(Ft,Gr.b.e),Ft=z(Zt,Tr,null),wr=!0),wr?ee(Zt,Bt,Ft.c,Ht,Ht,!0):(Kt=s(Gr.a,gr.a)?Gr.b.e:gr,ee(Zt,Bt,Kt=_(Ft.c.b,Kt),Kt.c,Kt.c,!1),Kt.b.i.c=!0,ne(Zt,Bt))):ee(Zt,Bt,Ht.c,Ft,Ft,!0)})(this,ze)}for(this.a=this.f.a.a.b.a.a,ze=0;(Ie=this.f.a.a.b)!==null;)Ie.h||++ze,V(Ie);for(this.f=null,(ze=this.e).b=null,ze.d=null,this.e=ze.c=null,ze=this.b,re=ze.a.b;re!==ze.a;re=Ie)Ie=re.b,(re=re.a).e.e===re&&(U(re.c,re),l(re));if(!this.n){if(ze=this.b,this.m)for(re=ze.b.h;re!==ze.b;re=Ie)Ie=re.h,re.b.d.c!==re.d.c?re.f=re.d.c?1:-1:l(re);else for(re=ze.a.b;re!==ze.a;re=Ie)if(Ie=re.b,re.c){for(re=re.a;s(re.b.a,re.a);re=re.c.b);for(;s(re.a,re.b.a);re=re.e);for(fe=re.c.b,ke=void 0;re.e!==fe;)if(s(re.b.a,fe.a)){for(;fe.e!==re&&(s((ce=fe.e).b.a,ce.a)||g(fe.a,fe.b.a,fe.e.b.a)<=0);)fe=(ke=_(fe.e,fe)).b;fe=fe.c.b}else{for(;fe.e!==re&&(s((oe=re.c.b).a,oe.b.a)||0<=g(re.b.a,re.a,re.c.b.a));)re=(ke=_(re,re.c.b)).b;re=re.e}for(;fe.e.e!==re;)ke=_(fe.e,fe),fe=ke.b}if(this.h||this.i||this.k||this.l)if(this.m){for(Ie=(ze=this.b).a.b;Ie!==ze.a;Ie=Ie.b)if(Ie.c){for(this.h&&this.h(2,this.c),re=Ie.a;this.k&&this.k(re.a.d,this.c),(re=re.e)!==Ie.a;);this.i&&this.i(this.c)}}else{for(ze=this.b,Ie=!!this.l,re=!1,fe=-1,ke=ze.a.d;ke!==ze.a;ke=ke.d)if(ke.c)for(re||(this.h&&this.h(4,this.c),re=!0),rt=ke.a;Ie&&(Je=rt.b.d.c?0:1,fe!==Je&&(fe=Je,this.l&&this.l(!!fe,this.c))),this.k&&this.k(rt.a.d,this.c),(rt=rt.e)!==ke.a;);re&&this.i&&this.i(this.c)}if(this.r){for(ze=this.b,re=ze.a.b;re!==ze.a;re=Ie)if(Ie=re.b,!re.c){for(ke=(fe=re.a).e,rt=void 0;ke=(rt=ke).e,(rt.d=null)===rt.b.d&&(rt.c===rt?I(rt.a,null):(rt.a.c=rt.c,T(rt,rt.b.e)),(Je=rt.b).c===Je?I(Je.a,null):(Je.a.c=Je.c,T(Je,Je.b.e)),M(rt)),rt!==fe;);fe=re.d,((re=re.b).d=fe).b=re}return this.r(this.b),void(this.c=this.b=null)}}this.b=this.c=null},this.libtess={GluTesselator:ge,windingRule:{GLU_TESS_WINDING_ODD:100130,GLU_TESS_WINDING_NONZERO:100131,GLU_TESS_WINDING_POSITIVE:100132,GLU_TESS_WINDING_NEGATIVE:100133,GLU_TESS_WINDING_ABS_GEQ_TWO:100134},primitiveType:{GL_LINE_LOOP:2,GL_TRIANGLES:4,GL_TRIANGLE_STRIP:5,GL_TRIANGLE_FAN:6},errorType:{GLU_TESS_MISSING_BEGIN_POLYGON:100151,GLU_TESS_MISSING_END_POLYGON:100153,GLU_TESS_MISSING_BEGIN_CONTOUR:100152,GLU_TESS_MISSING_END_CONTOUR:100154,GLU_TESS_COORD_TOO_LARGE:100155,GLU_TESS_NEED_COMBINE_CALLBACK:100156},gluEnum:{GLU_TESS_MESH:100112,GLU_TESS_TOLERANCE:100142,GLU_TESS_WINDING_RULE:100140,GLU_TESS_BOUNDARY_ONLY:100141,GLU_INVALID_ENUM:100900,GLU_INVALID_VALUE:100901,GLU_TESS_BEGIN:100100,GLU_TESS_VERTEX:100101,GLU_TESS_END:100102,GLU_TESS_ERROR:100103,GLU_TESS_EDGE_FLAG:100104,GLU_TESS_COMBINE:100105,GLU_TESS_BEGIN_DATA:100106,GLU_TESS_VERTEX_DATA:100107,GLU_TESS_END_DATA:100108,GLU_TESS_ERROR_DATA:100109,GLU_TESS_EDGE_FLAG_DATA:100110,GLU_TESS_COMBINE_DATA:100111}},ge.prototype.gluDeleteTess=ge.prototype.x,ge.prototype.gluTessProperty=ge.prototype.B,ge.prototype.gluGetTessProperty=ge.prototype.y,ge.prototype.gluTessNormal=ge.prototype.A,ge.prototype.gluTessCallback=ge.prototype.z,ge.prototype.gluTessVertex=ge.prototype.C,ge.prototype.gluTessBeginPolygon=ge.prototype.u,ge.prototype.gluTessBeginContour=ge.prototype.t,ge.prototype.gluTessEndContour=ge.prototype.v,ge.prototype.gluTessEndPolygon=ge.prototype.w,j!==void 0&&(j.exports=this.libtess)},{}],253:[function(t,j,x){function d(s,c,g,y){var o=0,a=(y=y===void 0?{}:y).loop===void 0?null:y.loop,i=y.palette===void 0?null:y.palette;if(c<=0||g<=0||65535<c||65535<g)throw new Error("Width/Height invalid.");function h(k){if(k=k.length,k<2||256<k||k&k-1)throw new Error("Invalid code/color length, must be power of 2 and 2 .. 256.");return k}s[o++]=71,s[o++]=73,s[o++]=70,s[o++]=56,s[o++]=57,s[o++]=97;var p=0,l=0;if(i!==null){for(var m=h(i);m>>=1;)++p;if(m=1<<p,--p,y.background!==void 0){if(m<=(l=y.background))throw new Error("Background index out of range.");if(l===0)throw new Error("Background index explicitly passed as 0.")}}if(s[o++]=255&c,s[o++]=c>>8&255,s[o++]=255&g,s[o++]=g>>8&255,s[o++]=(i!==null?128:0)|p,s[o++]=l,s[o++]=0,i!==null)for(var _=0,b=i.length;_<b;++_){var T=i[_];s[o++]=T>>16&255,s[o++]=T>>8&255,s[o++]=255&T}if(a!==null){if(a<0||65535<a)throw new Error("Loop count invalid.");s[o++]=33,s[o++]=255,s[o++]=11,s[o++]=78,s[o++]=69,s[o++]=84,s[o++]=83,s[o++]=67,s[o++]=65,s[o++]=80,s[o++]=69,s[o++]=50,s[o++]=46,s[o++]=48,s[o++]=3,s[o++]=1,s[o++]=255&a,s[o++]=a>>8&255,s[o++]=0}var O=!1;this.addFrame=function(k,M,I,F,A,U){if(O===!0&&(--o,O=!1),U=U===void 0?{}:U,k<0||M<0||65535<k||65535<M)throw new Error("x/y invalid.");if(I<=0||F<=0||65535<I||65535<F)throw new Error("Width/Height invalid.");if(A.length<I*F)throw new Error("Not enough pixels for the frame size.");var D=!0,V=U.palette;if(V==null&&(D=!1,V=i),V==null)throw new Error("Must supply either a local or global palette.");for(var W=h(V),G=0;W>>=1;)++G;var W=1<<G,J=U.delay===void 0?0:U.delay,Q=U.disposal===void 0?0:U.disposal;if(Q<0||3<Q)throw new Error("Disposal out of range.");var Y=!1,z=0;if(U.transparent!==void 0&&U.transparent!==null&&(Y=!0,(z=U.transparent)<0||W<=z))throw new Error("Transparent color index.");if(Q===0&&!Y&&J===0||(s[o++]=33,s[o++]=249,s[o++]=4,s[o++]=Q<<2|(Y===!0?1:0),s[o++]=255&J,s[o++]=J>>8&255,s[o++]=z,s[o++]=0),s[o++]=44,s[o++]=255&k,s[o++]=k>>8&255,s[o++]=255&M,s[o++]=M>>8&255,s[o++]=255&I,s[o++]=I>>8&255,s[o++]=255&F,s[o++]=F>>8&255,s[o++]=D===!0?128|G-1:0,D===!0)for(var ee=0,ie=V.length;ee<ie;++ee){var C=V[ee];s[o++]=C>>16&255,s[o++]=C>>8&255,s[o++]=255&C}return o=function(B,H,$,ne){B[H++]=$;var se=H++,de=1<<$,_e=de-1,pe=1+de,ge=1+pe,ve=$+1,le=0,he=0;function be(ot){for(;ot<=le;)B[H++]=255&he,he>>=8,le-=8,H===se+256&&(B[se]=255,se=H++)}function Ae(ot){he|=ot<<le,le+=ve,be(8)}var je=ne[0]&_e,Te={};Ae(de);for(var Me=1,qe=ne.length;Me<qe;++Me){var Ne=ne[Me]&_e,ct=je<<8|Ne,nt=Te[ct];if(nt===void 0){for(he|=je<<le,le+=ve;8<=le;)B[H++]=255&he,he>>=8,le-=8,H===se+256&&(B[se]=255,se=H++);ge===4096?(Ae(de),ge=1+pe,ve=$+1,Te={}):(1<<ve<=ge&&++ve,Te[ct]=ge++),je=Ne}else je=nt}return Ae(je),Ae(pe),be(1),se+1===H?B[se]=0:(B[se]=H-se-1,B[H++]=0),H}(s,o,G<2?2:G,A)},this.end=function(){return O===!1&&(s[o++]=59,O=!0),o},this.getOutputBuffer=function(){return s},this.setOutputBuffer=function(k){s=k},this.getOutputBufferPosition=function(){return o},this.setOutputBufferPosition=function(k){o=k}}function f(s,c,g,y){for(var o=s[c++],a=1<<o,i=1+a,h=1+i,p=o+1,l=(1<<p)-1,m=0,_=0,b=0,T=s[c++],O=new Int32Array(4096),k=null;;){for(;m<16&&T!==0;)_|=s[c++]<<m,m+=8,T===1?T=s[c++]:--T;if(m<p)break;var M=_&l;if(_>>=p,m-=p,M==a)h=1+i,l=(1<<(p=o+1))-1,k=null;else{if(M==i)break;for(var I=M<h?M:k,F=0,A=I;a<A;)A=O[A]>>8,++F;var U=A;if(y<b+F+(I!==M?1:0))return void console.log("Warning, gif stream longer than expected.");g[b++]=U;var D=b+=F;for(I!==M&&(g[b++]=U),A=I;F--;)A=O[A],g[--D]=255&A,A>>=8;k!==null&&h<4096&&(O[h++]=k<<8|U,l+1<=h&&p<12&&(++p,l=l<<1|1)),k=M}}b!==y&&console.log("Warning, gif stream shorter than expected.")}try{x.GifWriter=d,x.GifReader=function(s){var c=0;if(s[c++]!==71||s[c++]!==73||s[c++]!==70||s[c++]!==56||(s[c++]+1&253)!=56||s[c++]!==97)throw new Error("Invalid GIF 87a/89a header.");var g=s[c++]|s[c++]<<8,y=s[c++]|s[c++]<<8,o=s[c++],a=1<<1+(7&o),i=(s[c++],s[c++],null),h=null,p=(o>>7&&(i=c,c+=3*(h=a)),!0),l=[],m=0,_=null,b=0,T=null;for(this.width=g,this.height=y;p&&c<s.length;)switch(s[c++]){case 33:switch(s[c++]){case 255:if(s[c]!==11||s[c+1]==78&&s[c+2]==69&&s[c+3]==84&&s[c+4]==83&&s[c+5]==67&&s[c+6]==65&&s[c+7]==80&&s[c+8]==69&&s[c+9]==50&&s[c+10]==46&&s[c+11]==48&&s[c+12]==3&&s[c+13]==1&&s[c+16]==0)c+=14,T=s[c++]|s[c++]<<8,c++;else for(c+=12;;){if(!(0<=(k=s[c++])))throw Error("Invalid block size");if(k===0)break;c+=k}break;case 249:if(s[c++]!==4||s[c+4]!==0)throw new Error("Invalid graphics extension block.");var O=s[c++],m=s[c++]|s[c++]<<8,_=s[c++];!(1&O)&&(_=null),b=O>>2&7,c++;break;case 254:for(;;){if(!(0<=(k=s[c++])))throw Error("Invalid block size");if(k===0)break;c+=k}break;default:throw new Error("Unknown graphic control label: 0x"+s[c-1].toString(16))}break;case 44:var k,M=s[c++]|s[c++]<<8,I=s[c++]|s[c++]<<8,F=s[c++]|s[c++]<<8,A=s[c++]|s[c++]<<8,J=s[c++],U=J>>6&1,D=1<<1+(7&J),V=i,G=h,W=!1,J=(J>>7&&(W=!0,V=c,c+=3*(G=D)),c);for(c++;;){if(!(0<=(k=s[c++])))throw Error("Invalid block size");if(k===0)break;c+=k}l.push({x:M,y:I,width:F,height:A,has_local_palette:W,palette_offset:V,palette_size:G,data_offset:J,data_length:c-J,transparent_index:_,interlaced:!!U,delay:m,disposal:b});break;case 59:p=!1;break;default:throw new Error("Unknown gif block: 0x"+s[c-1].toString(16))}this.numFrames=function(){return l.length},this.loopCount=function(){return T},this.frameInfo=function(Q){if(Q<0||Q>=l.length)throw new Error("Frame index out of range.");return l[Q]},this.decodeAndBlitFrameBGRA=function(Q,Y){for(var Q=this.frameInfo(Q),z=Q.width*Q.height,ee=new Uint8Array(z),ie=(f(s,Q.data_offset,ee,z),Q.palette_offset),C=Q.transparent_index,B=(C===null&&(C=256),Q.width),H=g-B,$=B,ne=4*(Q.y*g+Q.x),se=4*((Q.y+Q.height)*g+Q.x),de=ne,_e=4*H,pe=(Q.interlaced===!0&&(_e+=4*g*7),8),ge=0,ve=ee.length;ge<ve;++ge){var le,he,be=ee[ge];$===0&&($=B,se<=(de+=_e)&&(_e=4*H+4*g*(pe-1),de=ne+(B+H)*(pe<<1),pe>>=1)),be===C?de+=4:(le=s[ie+3*be],he=s[ie+3*be+1],be=s[ie+3*be+2],Y[de++]=be,Y[de++]=he,Y[de++]=le,Y[de++]=255),--$}},this.decodeAndBlitFrameRGBA=function(Q,Y){for(var Q=this.frameInfo(Q),z=Q.width*Q.height,ee=new Uint8Array(z),ie=(f(s,Q.data_offset,ee,z),Q.palette_offset),C=Q.transparent_index,B=(C===null&&(C=256),Q.width),H=g-B,$=B,ne=4*(Q.y*g+Q.x),se=4*((Q.y+Q.height)*g+Q.x),de=ne,_e=4*H,pe=(Q.interlaced===!0&&(_e+=4*g*7),8),ge=0,ve=ee.length;ge<ve;++ge){var le,he,be=ee[ge];$===0&&($=B,se<=(de+=_e)&&(_e=4*H+4*g*(pe-1),de=ne+(B+H)*(pe<<1),pe>>=1)),be===C?de+=4:(le=s[ie+3*be],he=s[ie+3*be+1],be=s[ie+3*be+2],Y[de++]=le,Y[de++]=he,Y[de++]=be,Y[de++]=255),--$}}}}catch{}},{}],254:[function(t,j,x){(function(d){var f,s;f=this,s=function(c){function g(q){if(this==null)throw TypeError();var E,R=String(this),N=R.length,q=q?Number(q):0;if(!((q=q!=q?0:q)<0||N<=q))return 55296<=(E=R.charCodeAt(q))&&E<=56319&&q+1<N&&56320<=(N=R.charCodeAt(q+1))&&N<=57343?1024*(E-55296)+N-56320+65536:E}String.prototype.codePointAt||((y=function(){try{var w={},E=Object.defineProperty,R=E(w,w,w)&&E}catch{}return R}())?y(String.prototype,"codePointAt",{value:g,configurable:!0,writable:!0}):String.prototype.codePointAt=g);var y,o=0,a=-3;function i(){this.table=new Uint16Array(16),this.trans=new Uint16Array(288)}function h(w,E){this.source=w,this.sourceIndex=0,this.tag=0,this.bitcount=0,this.dest=E,this.destLen=0,this.ltree=new i,this.dtree=new i}var p=new i,l=new i,m=new Uint8Array(30),_=new Uint16Array(30),b=new Uint8Array(30),T=new Uint16Array(30),O=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),k=new i,M=new Uint8Array(320);function I(w,E,R,N){for(var q,K=0;K<R;++K)w[K]=0;for(K=0;K<30-R;++K)w[K+R]=K/R|0;for(q=N,K=0;K<30;++K)E[K]=q,q+=1<<w[K]}var F=new Uint16Array(16);function A(w,E,R,N){for(var q,K=0;K<16;++K)w.table[K]=0;for(K=0;K<N;++K)w.table[E[R+K]]++;for(K=q=w.table[0]=0;K<16;++K)F[K]=q,q+=w.table[K];for(K=0;K<N;++K)E[R+K]&&(w.trans[F[E[R+K]]++]=K)}function U(w,E,R){if(!E)return R;for(;w.bitcount<24;)w.tag|=w.source[w.sourceIndex++]<<w.bitcount,w.bitcount+=8;var N=w.tag&65535>>>16-E;return w.tag>>>=E,w.bitcount-=E,N+R}function D(w,E){for(;w.bitcount<24;)w.tag|=w.source[w.sourceIndex++]<<w.bitcount,w.bitcount+=8;for(var R=0,N=0,q=0,K=w.tag;N=2*N+(1&K),K>>>=1,R+=E.table[++q],0<=(N-=E.table[q]););return w.tag=K,w.bitcount-=q,E.trans[R+N]}function V(w,E,R){for(;;){var N=D(w,E);if(N===256)return o;if(N<256)w.dest[w.destLen++]=N;else for(var q,K=U(w,m[N-=257],_[N]),N=D(w,R),te=q=w.destLen-U(w,b[N],T[N]);te<q+K;++te)w.dest[w.destLen++]=w.dest[te]}}for(var G=p,W=l,J=0;J<7;++J)G.table[J]=0;for(G.table[7]=24,G.table[8]=152,G.table[9]=112,J=0;J<24;++J)G.trans[J]=256+J;for(J=0;J<144;++J)G.trans[24+J]=J;for(J=0;J<8;++J)G.trans[168+J]=280+J;for(J=0;J<112;++J)G.trans[176+J]=144+J;for(J=0;J<5;++J)W.table[J]=0;for(W.table[5]=32,J=0;J<32;++J)W.trans[J]=J;I(m,_,4,3),I(b,T,2,1),m[28]=0,_[28]=258;var Q=function(w,E){var R,N,q,K=new h(w,E);do{switch(q=void 0,(N=K).bitcount--||(N.tag=N.source[N.sourceIndex++],N.bitcount=7),q=1&N.tag,N.tag>>>=1,N=q,U(K,2,0)){case 0:R=function(Ue){for(var bt,Rt;8<Ue.bitcount;)Ue.sourceIndex--,Ue.bitcount-=8;if((bt=256*Ue.source[Ue.sourceIndex+1]+Ue.source[Ue.sourceIndex])!==(65535&~(256*Ue.source[Ue.sourceIndex+3]+Ue.source[Ue.sourceIndex+2])))return a;for(Ue.sourceIndex+=4,Rt=bt;Rt;--Rt)Ue.dest[Ue.destLen++]=Ue.source[Ue.sourceIndex++];return Ue.bitcount=0,o}(K);break;case 1:R=V(K,p,l);break;case 2:We=Be=Ye=Fe=te=we=Pe=Le=Ee=ye=me=ae=void 0;for(var te,ae=K,me=K.ltree,ye=K.dtree,Ee=U(ae,5,257),Le=U(ae,5,1),Pe=U(ae,4,4),we=0;we<19;++we)M[we]=0;for(we=0;we<Pe;++we){var Ye=U(ae,3,0);M[O[we]]=Ye}for(A(k,M,0,19),te=0;te<Ee+Le;){var Be=D(ae,k);switch(Be){case 16:for(var We=M[te-1],Fe=U(ae,2,3);Fe;--Fe)M[te++]=We;break;case 17:for(Fe=U(ae,3,3);Fe;--Fe)M[te++]=0;break;case 18:for(Fe=U(ae,7,11);Fe;--Fe)M[te++]=0;break;default:M[te++]=Be}}A(me,M,0,Ee),A(ye,M,Ee,Le),R=V(K,K.ltree,K.dtree);break;default:R=a}if(R!==o)throw new Error("Data error")}while(!N);return K.destLen<K.dest.length?typeof K.dest.slice=="function"?K.dest.slice(0,K.destLen):K.dest.subarray(0,K.destLen):K.dest};function Y(w,E,R,N,q){return Math.pow(1-q,3)*w+3*Math.pow(1-q,2)*q*E+3*(1-q)*Math.pow(q,2)*R+Math.pow(q,3)*N}function z(){this.x1=Number.NaN,this.y1=Number.NaN,this.x2=Number.NaN,this.y2=Number.NaN}function ee(){this.commands=[],this.fill="black",this.stroke=null,this.strokeWidth=1}function ie(w){throw new Error(w)}function C(w,E){w||ie(E)}z.prototype.isEmpty=function(){return isNaN(this.x1)||isNaN(this.y1)||isNaN(this.x2)||isNaN(this.y2)},z.prototype.addPoint=function(w,E){typeof w=="number"&&((isNaN(this.x1)||isNaN(this.x2))&&(this.x1=w,this.x2=w),w<this.x1&&(this.x1=w),w>this.x2&&(this.x2=w)),typeof E=="number"&&((isNaN(this.y1)||isNaN(this.y2))&&(this.y1=E,this.y2=E),E<this.y1&&(this.y1=E),E>this.y2&&(this.y2=E))},z.prototype.addX=function(w){this.addPoint(w,null)},z.prototype.addY=function(w){this.addPoint(null,w)},z.prototype.addBezier=function(w,E,R,N,q,K,te,ae){var me=[w,E],ye=[R,N],Ee=[q,K],Le=[te,ae];this.addPoint(w,E),this.addPoint(te,ae);for(var Pe=0;Pe<=1;Pe++){var we,Ye=6*me[Pe]-12*ye[Pe]+6*Ee[Pe],Be=-3*me[Pe]+9*ye[Pe]-9*Ee[Pe]+3*Le[Pe],We=3*ye[Pe]-3*me[Pe];Be==0?Ye==0||0<(we=-We/Ye)&&we<1&&(Pe===0&&this.addX(Y(me[Pe],ye[Pe],Ee[Pe],Le[Pe],we)),Pe===1&&this.addY(Y(me[Pe],ye[Pe],Ee[Pe],Le[Pe],we))):(we=Math.pow(Ye,2)-4*We*Be)<0||(0<(We=(-Ye+Math.sqrt(we))/(2*Be))&&We<1&&(Pe===0&&this.addX(Y(me[Pe],ye[Pe],Ee[Pe],Le[Pe],We)),Pe===1&&this.addY(Y(me[Pe],ye[Pe],Ee[Pe],Le[Pe],We))),0<(We=(-Ye-Math.sqrt(we))/(2*Be))&&We<1&&(Pe===0&&this.addX(Y(me[Pe],ye[Pe],Ee[Pe],Le[Pe],We)),Pe===1&&this.addY(Y(me[Pe],ye[Pe],Ee[Pe],Le[Pe],We))))}},z.prototype.addQuad=function(w,E,R,N,q,K){R=w+2/3*(R-w),N=E+2/3*(N-E),this.addBezier(w,E,R,N,R+1/3*(q-w),N+1/3*(K-E),q,K)},ee.prototype.moveTo=function(w,E){this.commands.push({type:"M",x:w,y:E})},ee.prototype.lineTo=function(w,E){this.commands.push({type:"L",x:w,y:E})},ee.prototype.curveTo=ee.prototype.bezierCurveTo=function(w,E,R,N,q,K){this.commands.push({type:"C",x1:w,y1:E,x2:R,y2:N,x:q,y:K})},ee.prototype.quadTo=ee.prototype.quadraticCurveTo=function(w,E,R,N){this.commands.push({type:"Q",x1:w,y1:E,x:R,y:N})},ee.prototype.close=ee.prototype.closePath=function(){this.commands.push({type:"Z"})},ee.prototype.extend=function(w){var E;if(w.commands)w=w.commands;else if(w instanceof z)return E=w,this.moveTo(E.x1,E.y1),this.lineTo(E.x2,E.y1),this.lineTo(E.x2,E.y2),this.lineTo(E.x1,E.y2),void this.close();Array.prototype.push.apply(this.commands,w)},ee.prototype.getBoundingBox=function(){for(var w=new z,E=0,R=0,N=0,q=0,K=0;K<this.commands.length;K++){var te=this.commands[K];switch(te.type){case"M":w.addPoint(te.x,te.y),E=N=te.x,R=q=te.y;break;case"L":w.addPoint(te.x,te.y),N=te.x,q=te.y;break;case"Q":w.addQuad(N,q,te.x1,te.y1,te.x,te.y),N=te.x,q=te.y;break;case"C":w.addBezier(N,q,te.x1,te.y1,te.x2,te.y2,te.x,te.y),N=te.x,q=te.y;break;case"Z":N=E,q=R;break;default:throw new Error("Unexpected path command "+te.type)}}return w.isEmpty()&&w.addPoint(0,0),w},ee.prototype.draw=function(w){w.beginPath();for(var E=0;E<this.commands.length;E+=1){var R=this.commands[E];R.type==="M"?w.moveTo(R.x,R.y):R.type==="L"?w.lineTo(R.x,R.y):R.type==="C"?w.bezierCurveTo(R.x1,R.y1,R.x2,R.y2,R.x,R.y):R.type==="Q"?w.quadraticCurveTo(R.x1,R.y1,R.x,R.y):R.type==="Z"&&w.closePath()}this.fill&&(w.fillStyle=this.fill,w.fill()),this.stroke&&(w.strokeStyle=this.stroke,w.lineWidth=this.strokeWidth,w.stroke())},ee.prototype.toPathData=function(w){function E(){for(var K=arguments,te="",ae=0;ae<arguments.length;ae+=1){var me=K[ae];0<=me&&0<ae&&(te+=" "),te+=(me=me,Math.round(me)===me?""+Math.round(me):me.toFixed(w))}return te}w=w!==void 0?w:2;for(var R="",N=0;N<this.commands.length;N+=1){var q=this.commands[N];q.type==="M"?R+="M"+E(q.x,q.y):q.type==="L"?R+="L"+E(q.x,q.y):q.type==="C"?R+="C"+E(q.x1,q.y1,q.x2,q.y2,q.x,q.y):q.type==="Q"?R+="Q"+E(q.x1,q.y1,q.x,q.y):q.type==="Z"&&(R+="Z")}return R},ee.prototype.toSVG=function(w){var E=(E='<path d="')+this.toPathData(w)+'"';return this.fill&&this.fill!=="black"&&(this.fill===null?E+=' fill="none"':E+=' fill="'+this.fill+'"'),this.stroke&&(E+=' stroke="'+this.stroke+'" stroke-width="'+this.strokeWidth+'"'),E+="/>"},ee.prototype.toDOMElement=function(E){var E=this.toPathData(E),R=document.createElementNS("http://www.w3.org/2000/svg","path");return R.setAttribute("d",E),R};var B={fail:ie,argument:C,assert:C},H={},$={},ne={};function se(w){return function(){return w}}$.BYTE=function(w){return B.argument(0<=w&&w<=255,"Byte value should be between 0 and 255."),[w]},ne.BYTE=se(1),$.CHAR=function(w){return[w.charCodeAt(0)]},ne.CHAR=se(1),$.CHARARRAY=function(w){for(var E=[],R=0;R<w.length;R+=1)E[R]=w.charCodeAt(R);return E},ne.CHARARRAY=function(w){return w.length},$.USHORT=function(w){return[w>>8&255,255&w]},ne.USHORT=se(2),$.SHORT=function(w){return[(w=32768<=w?-(65536-w):w)>>8&255,255&w]},ne.SHORT=se(2),$.UINT24=function(w){return[w>>16&255,w>>8&255,255&w]},ne.UINT24=se(3),$.ULONG=function(w){return[w>>24&255,w>>16&255,w>>8&255,255&w]},ne.ULONG=se(4),$.LONG=function(w){return[(w=2147483648<=w?-(4294967296-w):w)>>24&255,w>>16&255,w>>8&255,255&w]},ne.LONG=se(4),$.FIXED=$.ULONG,ne.FIXED=ne.ULONG,$.FWORD=$.SHORT,ne.FWORD=ne.SHORT,$.UFWORD=$.USHORT,ne.UFWORD=ne.USHORT,$.LONGDATETIME=function(w){return[0,0,0,0,w>>24&255,w>>16&255,w>>8&255,255&w]},ne.LONGDATETIME=se(8),$.TAG=function(w){return B.argument(w.length===4,"Tag should be exactly 4 ASCII characters."),[w.charCodeAt(0),w.charCodeAt(1),w.charCodeAt(2),w.charCodeAt(3)]},ne.TAG=se(4),$.Card8=$.BYTE,ne.Card8=ne.BYTE,$.Card16=$.USHORT,ne.Card16=ne.USHORT,$.OffSize=$.BYTE,ne.OffSize=ne.BYTE,$.SID=$.USHORT,ne.SID=ne.USHORT,$.NUMBER=function(w){return-107<=w&&w<=107?[w+139]:108<=w&&w<=1131?[247+((w-=108)>>8),255&w]:-1131<=w&&w<=-108?[251+((w=-w-108)>>8),255&w]:-32768<=w&&w<=32767?$.NUMBER16(w):$.NUMBER32(w)},ne.NUMBER=function(w){return $.NUMBER(w).length},$.NUMBER16=function(w){return[28,w>>8&255,255&w]},ne.NUMBER16=se(3),$.NUMBER32=function(w){return[29,w>>24&255,w>>16&255,w>>8&255,255&w]},ne.NUMBER32=se(5),$.REAL=function(w){for(var E=w.toString(),R=/\.(\d*?)(?:9{5,20}|0{5,20})\d{0,2}(?:e(.+)|$)/.exec(E),N=(R&&(R=parseFloat("1e"+((R[2]?+R[2]:0)+R[1].length)),E=(Math.round(w*R)/R).toString()),""),q=0,K=E.length;q<K;q+=1){var te=E[q];N+=te==="e"?E[++q]==="-"?"c":"b":te==="."?"a":te==="-"?"e":te}for(var ae=[30],me=0,ye=(N+=1&N.length?"f":"ff").length;me<ye;me+=2)ae.push(parseInt(N.substr(me,2),16));return ae},ne.REAL=function(w){return $.REAL(w).length},$.NAME=$.CHARARRAY,ne.NAME=ne.CHARARRAY,$.STRING=$.CHARARRAY,ne.STRING=ne.CHARARRAY,H.UTF8=function(w,E,R){for(var N=[],q=R,K=0;K<q;K++,E+=1)N[K]=w.getUint8(E);return String.fromCharCode.apply(null,N)},H.UTF16=function(w,E,R){for(var N=[],q=R/2,K=0;K<q;K++,E+=2)N[K]=w.getUint16(E);return String.fromCharCode.apply(null,N)},$.UTF16=function(w){for(var E=[],R=0;R<w.length;R+=1){var N=w.charCodeAt(R);E[E.length]=N>>8&255,E[E.length]=255&N}return E},ne.UTF16=function(w){return 2*w.length};var de,_e={"x-mac-croatian":"","x-mac-cyrillic":"","x-mac-gaelic":"","x-mac-greek":"","x-mac-icelandic":"","x-mac-inuit":"","x-mac-ce":"",macintosh:"","x-mac-romanian":"","x-mac-turkish":""},pe=(H.MACSTRING=function(w,E,R,N){var q=_e[N];if(q!==void 0){for(var K="",te=0;te<R;te++){var ae=w.getUint8(E+te);K+=ae<=127?String.fromCharCode(ae):q[127&ae]}return K}},typeof WeakMap=="function"&&new WeakMap);function ge(w){return-128<=w&&w<=127}$.MACSTRING=function(w,E){var R=function(te){if(!de)for(var ae in de={},_e)de[ae]=new String(ae);var me=de[te];if(me!==void 0){if(pe){var ye=pe.get(me);if(ye!==void 0)return ye}var Ee=_e[te];if(Ee!==void 0){for(var Le={},Pe=0;Pe<Ee.length;Pe++)Le[Ee.charCodeAt(Pe)]=Pe+128;return pe&&pe.set(me,Le),Le}}}(E);if(R!==void 0){for(var N=[],q=0;q<w.length;q++){var K=w.charCodeAt(q);if(128<=K&&(K=R[K])===void 0)return;N[q]=K}return N}},ne.MACSTRING=function(w,E){return w=$.MACSTRING(w,E),w!==void 0?w.length:0},$.VARDELTAS=function(w){for(var N=0,E=[];N<w.length;)var R=w[N],N=(R===0?function(q,K,te){for(var ae=0,me=q.length;K<me&&ae<64&&q[K]===0;)++K,++ae;return te.push(128|ae-1),K}:-128<=R&&R<=127?function(q,K,te){for(var ae=0,me=q.length,ye=K;ye<me&&ae<64;){var Ee=q[ye];if(!ge(Ee)||Ee===0&&ye+1<me&&q[ye+1]===0)break;++ye,++ae}te.push(ae-1);for(var Le=K;Le<ye;++Le)te.push(q[Le]+256&255);return ye}:function(q,K,te){for(var ae=0,me=q.length,ye=K;ye<me&&ae<64;){var Ee=q[ye];if(Ee===0||ge(Ee)&&ye+1<me&&ge(q[ye+1]))break;++ye,++ae}te.push(64|ae-1);for(var Le=K;Le<ye;++Le){var Pe=q[Le];te.push(Pe+65536>>8&255,Pe+256&255)}return ye})(w,N,E);return E},$.INDEX=function(w){for(var E=1,R=[E],N=[],q=0;q<w.length;q+=1){var K=$.OBJECT(w[q]);Array.prototype.push.apply(N,K),E+=K.length,R.push(E)}if(N.length===0)return[0,0];for(var te=[],ae=1+Math.floor(Math.log(E)/Math.log(2))/8|0,me=[void 0,$.BYTE,$.USHORT,$.UINT24,$.ULONG][ae],ye=0;ye<R.length;ye+=1){var Ee=me(R[ye]);Array.prototype.push.apply(te,Ee)}return Array.prototype.concat($.Card16(w.length),$.OffSize(ae),te,N)},ne.INDEX=function(w){return $.INDEX(w).length},$.DICT=function(w){for(var E=[],R=Object.keys(w),N=R.length,q=0;q<N;q+=1){var K=parseInt(R[q],0),te=w[K];E=(E=E.concat($.OPERAND(te.value,te.type))).concat($.OPERATOR(K))}return E},ne.DICT=function(w){return $.DICT(w).length},$.OPERATOR=function(w){return w<1200?[w]:[12,w-1200]},$.OPERAND=function(w,E){var R=[];if(Array.isArray(E))for(var N=0;N<E.length;N+=1)B.argument(w.length===E.length,"Not enough arguments given for type"+E),R=R.concat($.OPERAND(w[N],E[N]));else if(E==="SID")R=R.concat($.NUMBER(w));else if(E==="offset")R=R.concat($.NUMBER32(w));else if(E==="number")R=R.concat($.NUMBER(w));else{if(E!=="real")throw new Error("Unknown operand type "+E);R=R.concat($.REAL(w))}return R},$.OP=$.BYTE,ne.OP=ne.BYTE;var ve=typeof WeakMap=="function"&&new WeakMap;function le(w,E,R){for(var N=0;N<E.length;N+=1){var q=E[N];this[q.name]=q.value}if(this.tableName=w,this.fields=E,R)for(var K=Object.keys(R),te=0;te<K.length;te+=1){var ae=K[te],me=R[ae];this[ae]!==void 0&&(this[ae]=me)}}function he(w,E,R){R===void 0&&(R=E.length);var N=new Array(E.length+1);N[0]={name:w+"Count",type:"USHORT",value:R};for(var q=0;q<E.length;q++)N[q+1]={name:w+q,type:"USHORT",value:E[q]};return N}function be(w,E,R){var N=E.length,q=new Array(N+1);q[0]={name:w+"Count",type:"USHORT",value:N};for(var K=0;K<N;K++)q[K+1]={name:w+K,type:"TABLE",value:R(E[K],K)};return q}function Ae(w,E,R){var N=E.length,q=[];q[0]={name:w+"Count",type:"USHORT",value:N};for(var K=0;K<N;K++)q=q.concat(R(E[K],K));return q}function je(w){w.format===1?le.call(this,"coverageTable",[{name:"coverageFormat",type:"USHORT",value:1}].concat(he("glyph",w.glyphs))):B.assert(!1,"Can't create coverage table format 2 yet.")}function Te(w){le.call(this,"scriptListTable",Ae("scriptRecord",w,function(E,R){var N=E.script,q=N.defaultLangSys;return B.assert(!!q,"Unable to write GSUB: script "+E.tag+" has no default language system."),[{name:"scriptTag"+R,type:"TAG",value:E.tag},{name:"script"+R,type:"TABLE",value:new le("scriptTable",[{name:"defaultLangSys",type:"TABLE",value:new le("defaultLangSys",[{name:"lookupOrder",type:"USHORT",value:0},{name:"reqFeatureIndex",type:"USHORT",value:q.reqFeatureIndex}].concat(he("featureIndex",q.featureIndexes)))}].concat(Ae("langSys",N.langSysRecords,function(K,te){var ae=K.langSys;return[{name:"langSysTag"+te,type:"TAG",value:K.tag},{name:"langSys"+te,type:"TABLE",value:new le("langSys",[{name:"lookupOrder",type:"USHORT",value:0},{name:"reqFeatureIndex",type:"USHORT",value:ae.reqFeatureIndex}].concat(he("featureIndex",ae.featureIndexes)))}]})))}]}))}function Me(w){le.call(this,"featureListTable",Ae("featureRecord",w,function(E,R){var N=E.feature;return[{name:"featureTag"+R,type:"TAG",value:E.tag},{name:"feature"+R,type:"TABLE",value:new le("featureTable",[{name:"featureParams",type:"USHORT",value:N.featureParams}].concat(he("lookupListIndex",N.lookupListIndexes)))}]}))}function qe(w,E){le.call(this,"lookupListTable",be("lookup",w,function(R){var N=E[R.lookupType];return B.assert(!!N,"Unable to write GSUB lookup type "+R.lookupType+" tables."),new le("lookupTable",[{name:"lookupType",type:"USHORT",value:R.lookupType},{name:"lookupFlag",type:"USHORT",value:R.lookupFlag}].concat(be("subtable",R.subtables,N)))}))}$.CHARSTRING=function(w){if(ve){var E=ve.get(w);if(E!==void 0)return E}for(var K=[],R=w.length,N=0;N<R;N+=1)var q=w[N],K=K.concat($[q.type](q.value));return ve&&ve.set(w,K),K},ne.CHARSTRING=function(w){return $.CHARSTRING(w).length},$.OBJECT=function(w){var E=$[w.type];return B.argument(E!==void 0,"No encoding function for type "+w.type),E(w.value)},ne.OBJECT=function(w){var E=ne[w.type];return B.argument(E!==void 0,"No sizeOf function for type "+w.type),E(w.value)},$.TABLE=function(w){for(var E=[],R=w.fields.length,N=[],q=[],K=0;K<R;K+=1){var te=w.fields[K],me=$[te.type],ae=(B.argument(me!==void 0,"No encoding function for field type "+te.type+" ("+te.name+")"),w[te.name]),me=me(ae=ae===void 0?te.value:ae);te.type==="TABLE"?(q.push(E.length),E=E.concat([0,0]),N.push(me)):E=E.concat(me)}for(var ye=0;ye<N.length;ye+=1){var Ee=q[ye],Le=E.length;B.argument(Le<65536,"Table "+w.tableName+" too big."),E[Ee]=Le>>8,E[Ee+1]=255&Le,E=E.concat(N[ye])}return E},ne.TABLE=function(w){for(var E=0,R=w.fields.length,N=0;N<R;N+=1){var q=w.fields[N],K=ne[q.type],te=(B.argument(K!==void 0,"No sizeOf function for field type "+q.type+" ("+q.name+")"),w[q.name]);E+=K(te=te===void 0?q.value:te),q.type==="TABLE"&&(E+=2)}return E},$.RECORD=$.TABLE,ne.RECORD=ne.TABLE,$.LITERAL=function(w){return w},ne.LITERAL=function(w){return w.length},le.prototype.encode=function(){return $.TABLE(this)},le.prototype.sizeOf=function(){return ne.TABLE(this)};var Ne={Table:le,Record:le,Coverage:(je.prototype=Object.create(le.prototype)).constructor=je,ScriptList:(Te.prototype=Object.create(le.prototype)).constructor=Te,FeatureList:(Me.prototype=Object.create(le.prototype)).constructor=Me,LookupList:(qe.prototype=Object.create(le.prototype)).constructor=qe,ushortList:he,tableList:be,recordList:Ae};function ct(w,E){return w.getUint8(E)}function nt(w,E){return w.getUint16(E,!1)}function ot(w,E){return w.getUint32(E,!1)}function ut(w,E){return w.getInt16(E,!1)+w.getUint16(E+2,!1)/65535}var at={byte:1,uShort:2,short:2,uLong:4,fixed:4,longDateTime:8,tag:4};function Oe(w,E){this.data=w,this.offset=E,this.relativeOffset=0}Oe.prototype.parseByte=function(){var w=this.data.getUint8(this.offset+this.relativeOffset);return this.relativeOffset+=1,w},Oe.prototype.parseChar=function(){var w=this.data.getInt8(this.offset+this.relativeOffset);return this.relativeOffset+=1,w},Oe.prototype.parseCard8=Oe.prototype.parseByte,Oe.prototype.parseCard16=Oe.prototype.parseUShort=function(){var w=this.data.getUint16(this.offset+this.relativeOffset);return this.relativeOffset+=2,w},Oe.prototype.parseSID=Oe.prototype.parseUShort,Oe.prototype.parseOffset16=Oe.prototype.parseUShort,Oe.prototype.parseShort=function(){var w=this.data.getInt16(this.offset+this.relativeOffset);return this.relativeOffset+=2,w},Oe.prototype.parseF2Dot14=function(){var w=this.data.getInt16(this.offset+this.relativeOffset)/16384;return this.relativeOffset+=2,w},Oe.prototype.parseOffset32=Oe.prototype.parseULong=function(){var w=ot(this.data,this.offset+this.relativeOffset);return this.relativeOffset+=4,w},Oe.prototype.parseFixed=function(){var w=ut(this.data,this.offset+this.relativeOffset);return this.relativeOffset+=4,w},Oe.prototype.parseString=function(w){var E=this.data,R=this.offset+this.relativeOffset,N="";this.relativeOffset+=w;for(var q=0;q<w;q++)N+=String.fromCharCode(E.getUint8(R+q));return N},Oe.prototype.parseTag=function(){return this.parseString(4)},Oe.prototype.parseLongDateTime=function(){var w=ot(this.data,this.offset+this.relativeOffset+4);return w-=2082844800,this.relativeOffset+=8,w},Oe.prototype.parseVersion=function(w){var E=nt(this.data,this.offset+this.relativeOffset),R=nt(this.data,this.offset+this.relativeOffset+2);return this.relativeOffset+=4,E+R/(w=w===void 0?4096:w)/10},Oe.prototype.skip=function(w,E){this.relativeOffset+=at[w]*(E=E===void 0?1:E)},Oe.prototype.parseULongList=function(w){w===void 0&&(w=this.parseULong());for(var E=new Array(w),R=this.data,N=this.offset+this.relativeOffset,q=0;q<w;q++)E[q]=R.getUint32(N),N+=4;return this.relativeOffset+=4*w,E},Oe.prototype.parseOffset16List=Oe.prototype.parseUShortList=function(w){w===void 0&&(w=this.parseUShort());for(var E=new Array(w),R=this.data,N=this.offset+this.relativeOffset,q=0;q<w;q++)E[q]=R.getUint16(N),N+=2;return this.relativeOffset+=2*w,E},Oe.prototype.parseShortList=function(w){for(var E=new Array(w),R=this.data,N=this.offset+this.relativeOffset,q=0;q<w;q++)E[q]=R.getInt16(N),N+=2;return this.relativeOffset+=2*w,E},Oe.prototype.parseByteList=function(w){for(var E=new Array(w),R=this.data,N=this.offset+this.relativeOffset,q=0;q<w;q++)E[q]=R.getUint8(N++);return this.relativeOffset+=w,E},Oe.prototype.parseList=function(w,E){E||(E=w,w=this.parseUShort());for(var R=new Array(w),N=0;N<w;N++)R[N]=E.call(this);return R},Oe.prototype.parseList32=function(w,E){E||(E=w,w=this.parseULong());for(var R=new Array(w),N=0;N<w;N++)R[N]=E.call(this);return R},Oe.prototype.parseRecordList=function(w,E){E||(E=w,w=this.parseUShort());for(var R=new Array(w),N=Object.keys(E),q=0;q<w;q++){for(var K={},te=0;te<N.length;te++){var ae=N[te],me=E[ae];K[ae]=me.call(this)}R[q]=K}return R},Oe.prototype.parseRecordList32=function(w,E){E||(E=w,w=this.parseULong());for(var R=new Array(w),N=Object.keys(E),q=0;q<w;q++){for(var K={},te=0;te<N.length;te++){var ae=N[te],me=E[ae];K[ae]=me.call(this)}R[q]=K}return R},Oe.prototype.parseStruct=function(w){if(typeof w=="function")return w.call(this);for(var E=Object.keys(w),R={},N=0;N<E.length;N++){var q=E[N],K=w[q];R[q]=K.call(this)}return R},Oe.prototype.parseValueRecord=function(w){var E;if((w=w===void 0?this.parseUShort():w)!==0)return E={},1&w&&(E.xPlacement=this.parseShort()),2&w&&(E.yPlacement=this.parseShort()),4&w&&(E.xAdvance=this.parseShort()),8&w&&(E.yAdvance=this.parseShort()),16&w&&(E.xPlaDevice=void 0,this.parseShort()),32&w&&(E.yPlaDevice=void 0,this.parseShort()),64&w&&(E.xAdvDevice=void 0,this.parseShort()),128&w&&(E.yAdvDevice=void 0,this.parseShort()),E},Oe.prototype.parseValueRecordList=function(){for(var w=this.parseUShort(),E=this.parseUShort(),R=new Array(E),N=0;N<E;N++)R[N]=this.parseValueRecord(w);return R},Oe.prototype.parsePointer=function(w){var E=this.parseOffset16();if(0<E)return new Oe(this.data,this.offset+E).parseStruct(w)},Oe.prototype.parsePointer32=function(w){var E=this.parseOffset32();if(0<E)return new Oe(this.data,this.offset+E).parseStruct(w)},Oe.prototype.parseListOfLists=function(w){for(var E=this.parseOffset16List(),R=E.length,N=this.relativeOffset,q=new Array(R),K=0;K<R;K++){var te=E[K];if(te===0)q[K]=void 0;else if(this.relativeOffset=te,w){for(var ae=this.parseOffset16List(),me=new Array(ae.length),ye=0;ye<ae.length;ye++)this.relativeOffset=te+ae[ye],me[ye]=w.call(this);q[K]=me}else q[K]=this.parseUShortList()}return this.relativeOffset=N,q},Oe.prototype.parseCoverage=function(){var w=this.offset+this.relativeOffset,E=this.parseUShort(),R=this.parseUShort();if(E===1)return{format:1,glyphs:this.parseUShortList(R)};if(E!==2)throw new Error("0x"+w.toString(16)+": Coverage format must be 1 or 2.");for(var N=new Array(R),q=0;q<R;q++)N[q]={start:this.parseUShort(),end:this.parseUShort(),index:this.parseUShort()};return{format:2,ranges:N}},Oe.prototype.parseClassDef=function(){var w=this.offset+this.relativeOffset,E=this.parseUShort();if(E===1)return{format:1,startGlyph:this.parseUShort(),classes:this.parseUShortList()};if(E===2)return{format:2,ranges:this.parseRecordList({start:Oe.uShort,end:Oe.uShort,classId:Oe.uShort})};throw new Error("0x"+w.toString(16)+": ClassDef format must be 1 or 2.")},Oe.list=function(w,E){return function(){return this.parseList(w,E)}},Oe.list32=function(w,E){return function(){return this.parseList32(w,E)}},Oe.recordList=function(w,E){return function(){return this.parseRecordList(w,E)}},Oe.recordList32=function(w,E){return function(){return this.parseRecordList32(w,E)}},Oe.pointer=function(w){return function(){return this.parsePointer(w)}},Oe.pointer32=function(w){return function(){return this.parsePointer32(w)}},Oe.tag=Oe.prototype.parseTag,Oe.byte=Oe.prototype.parseByte,Oe.uShort=Oe.offset16=Oe.prototype.parseUShort,Oe.uShortList=Oe.prototype.parseUShortList,Oe.uLong=Oe.offset32=Oe.prototype.parseULong,Oe.uLongList=Oe.prototype.parseULongList,Oe.struct=Oe.prototype.parseStruct,Oe.coverage=Oe.prototype.parseCoverage,Oe.classDef=Oe.prototype.parseClassDef;var Xe={reserved:Oe.uShort,reqFeatureIndex:Oe.uShort,featureIndexes:Oe.uShortList},De=(Oe.prototype.parseScriptList=function(){return this.parsePointer(Oe.recordList({tag:Oe.tag,script:Oe.pointer({defaultLangSys:Oe.pointer(Xe),langSysRecords:Oe.recordList({tag:Oe.tag,langSys:Oe.pointer(Xe)})})}))||[]},Oe.prototype.parseFeatureList=function(){return this.parsePointer(Oe.recordList({tag:Oe.tag,feature:Oe.pointer({featureParams:Oe.offset16,lookupListIndexes:Oe.uShortList})}))||[]},Oe.prototype.parseLookupList=function(w){return this.parsePointer(Oe.list(Oe.pointer(function(){var E=this.parseUShort(),R=(B.argument(1<=E&&E<=9,"GPOS/GSUB lookup type "+E+" unknown."),this.parseUShort()),N=16&R;return{lookupType:E,lookupFlag:R,subtables:this.parseList(Oe.pointer(w[E])),markFilteringSet:N?this.parseUShort():void 0}})))||[]},Oe.prototype.parseFeatureVariationsList=function(){return this.parsePointer32(function(){var w=this.parseUShort(),E=this.parseUShort();return B.argument(w===1&&E<1,"GPOS/GSUB feature variations table unknown."),this.parseRecordList32({conditionSetOffset:Oe.offset32,featureTableSubstitutionOffset:Oe.offset32})})||[]},{getByte:ct,getCard8:ct,getUShort:nt,getCard16:nt,getShort:function(w,E){return w.getInt16(E,!1)},getULong:ot,getFixed:ut,getTag:function(w,E){for(var R="",N=E;N<E+4;N+=1)R+=String.fromCharCode(w.getInt8(N));return R},getOffset:function(w,E,R){for(var N=0,q=0;q<R;q+=1)N=(N<<=8)+w.getUint8(E+q);return N},getBytes:function(w,E,R){for(var N=[],q=E;q<R;q+=1)N.push(w.getUint8(q));return N},bytesToString:function(w){for(var E="",R=0;R<w.length;R+=1)E+=String.fromCharCode(w[R]);return E},Parser:Oe}),oe={parse:function(w,E){for(var R={},N=(R.version=De.getUShort(w,E),B.argument(R.version===0,"cmap table version should be 0."),R.numTables=De.getUShort(w,E+2),-1),q=R.numTables-1;0<=q;--q){var K=De.getUShort(w,E+4+8*q),te=De.getUShort(w,E+4+8*q+2);if(K===3&&(te===0||te===1||te===10)||K===0&&(te===0||te===1||te===2||te===3||te===4)){N=De.getULong(w,E+4+8*q+4);break}}if(N===-1)throw new Error("No valid cmap sub-tables found.");var ae=new De.Parser(w,E+N);if(R.format=ae.parseUShort(),R.format===12){var me,ye=R,Ee=ae;Ee.parseUShort(),ye.length=Ee.parseULong(),ye.language=Ee.parseULong(),ye.groupCount=me=Ee.parseULong(),ye.glyphIndexMap={};for(var Le=0;Le<me;Le+=1)for(var Pe=Ee.parseULong(),we=Ee.parseULong(),Ye=Ee.parseULong(),Be=Pe;Be<=we;Be+=1)ye.glyphIndexMap[Be]=Ye,Ye++}else{if(R.format!==4)throw new Error("Only format 4 and 12 cmap tables are supported (found format "+R.format+").");var We=R,Fe=w,Ue=E,bt=N;We.length=ae.parseUShort(),We.language=ae.parseUShort(),We.segCount=Rt=ae.parseUShort()>>1,ae.skip("uShort",3),We.glyphIndexMap={};for(var Rt,gt=new De.Parser(Fe,Ue+bt+14),_t=new De.Parser(Fe,Ue+bt+16+2*Rt),Lt=new De.Parser(Fe,Ue+bt+16+4*Rt),Yt=new De.Parser(Fe,Ue+bt+16+6*Rt),vr=Ue+bt+16+8*Rt,xr=0;xr<Rt-1;xr+=1)for(var Lr=void 0,Nr=gt.parseUShort(),bn=_t.parseUShort(),$t=Lt.parseShort(),rr=Yt.parseUShort(),Qt=bn;Qt<=Nr;Qt+=1)rr!==0?(vr=(vr=Yt.offset+Yt.relativeOffset-2)+rr+2*(Qt-bn),(Lr=De.getUShort(Fe,vr))!==0&&(Lr=Lr+$t&65535)):Lr=Qt+$t&65535,We.glyphIndexMap[Qt]=Lr}return R},make:function(w){for(var E=!0,R=w.length-1;0<R;--R)if(65535<w.get(R).unicode){console.log("Adding CMAP format 12 (needed!)"),E=!1;break}var N,q,K=[{name:"version",type:"USHORT",value:0},{name:"numTables",type:"USHORT",value:E?1:2},{name:"platformID",type:"USHORT",value:3},{name:"encodingID",type:"USHORT",value:1},{name:"offset",type:"ULONG",value:E?12:20}],te=(K=(K=E?K:K.concat([{name:"cmap12PlatformID",type:"USHORT",value:3},{name:"cmap12EncodingID",type:"USHORT",value:10},{name:"cmap12Offset",type:"ULONG",value:0}])).concat([{name:"format",type:"USHORT",value:4},{name:"cmap4Length",type:"USHORT",value:0},{name:"language",type:"USHORT",value:0},{name:"segCountX2",type:"USHORT",value:0},{name:"searchRange",type:"USHORT",value:0},{name:"entrySelector",type:"USHORT",value:0},{name:"rangeShift",type:"USHORT",value:0}]),new Ne.Table("cmap",K));for(te.segments=[],R=0;R<w.length;R+=1){for(var ae=w.get(R),me=0;me<ae.unicodes.length;me+=1)N=ae.unicodes[me],q=R,te.segments.push({end:N,start:N,delta:-(N-q),offset:0,glyphIndex:q});te.segments=te.segments.sort(function(Ue,bt){return Ue.start-bt.start})}te.segments.push({end:65535,start:65535,delta:1,offset:0});var ye=te.segments.length,Ee=0,Le=[],Pe=[],we=[],Ye=[],Be=[],We=[];for(R=0;R<ye;R+=1){var Fe=te.segments[R];Fe.end<=65535&&Fe.start<=65535?(Le=Le.concat({name:"end_"+R,type:"USHORT",value:Fe.end}),Pe=Pe.concat({name:"start_"+R,type:"USHORT",value:Fe.start}),we=we.concat({name:"idDelta_"+R,type:"SHORT",value:Fe.delta}),Ye=Ye.concat({name:"idRangeOffset_"+R,type:"USHORT",value:Fe.offset}),Fe.glyphId!==void 0&&(Be=Be.concat({name:"glyph_"+R,type:"USHORT",value:Fe.glyphId}))):Ee+=1,E||Fe.glyphIndex===void 0||(We=(We=(We=We.concat({name:"cmap12Start_"+R,type:"ULONG",value:Fe.start})).concat({name:"cmap12End_"+R,type:"ULONG",value:Fe.end})).concat({name:"cmap12Glyph_"+R,type:"ULONG",value:Fe.glyphIndex}))}return te.segCountX2=2*(ye-Ee),te.searchRange=2*Math.pow(2,Math.floor(Math.log(ye-Ee)/Math.log(2))),te.entrySelector=Math.log(te.searchRange/2)/Math.log(2),te.rangeShift=te.segCountX2-te.searchRange,te.fields=te.fields.concat(Le),te.fields.push({name:"reservedPad",type:"USHORT",value:0}),te.fields=te.fields.concat(Pe),te.fields=te.fields.concat(we),te.fields=te.fields.concat(Ye),te.fields=te.fields.concat(Be),te.cmap4Length=14+2*Le.length+2+2*Pe.length+2*we.length+2*Ye.length+2*Be.length,E||(K=16+4*We.length,te.cmap12Offset=20+te.cmap4Length,te.fields=te.fields.concat([{name:"cmap12Format",type:"USHORT",value:12},{name:"cmap12Reserved",type:"USHORT",value:0},{name:"cmap12Length",type:"ULONG",value:K},{name:"cmap12Language",type:"ULONG",value:0},{name:"cmap12nGroups",type:"ULONG",value:We.length/3}]),te.fields=te.fields.concat(We)),te}},ce=[".notdef","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","endash","dagger","daggerdbl","periodcentered","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","questiondown","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","ring","cedilla","hungarumlaut","ogonek","caron","emdash","AE","ordfeminine","Lslash","Oslash","OE","ordmasculine","ae","dotlessi","lslash","oslash","oe","germandbls","onesuperior","logicalnot","mu","trademark","Eth","onehalf","plusminus","Thorn","onequarter","divide","brokenbar","degree","thorn","threequarters","twosuperior","registered","minus","eth","multiply","threesuperior","copyright","Aacute","Acircumflex","Adieresis","Agrave","Aring","Atilde","Ccedilla","Eacute","Ecircumflex","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Ntilde","Oacute","Ocircumflex","Odieresis","Ograve","Otilde","Scaron","Uacute","Ucircumflex","Udieresis","Ugrave","Yacute","Ydieresis","Zcaron","aacute","acircumflex","adieresis","agrave","aring","atilde","ccedilla","eacute","ecircumflex","edieresis","egrave","iacute","icircumflex","idieresis","igrave","ntilde","oacute","ocircumflex","odieresis","ograve","otilde","scaron","uacute","ucircumflex","udieresis","ugrave","yacute","ydieresis","zcaron","exclamsmall","Hungarumlautsmall","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","266 ff","onedotenleader","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","commasuperior","threequartersemdash","periodsuperior","questionsmall","asuperior","bsuperior","centsuperior","dsuperior","esuperior","isuperior","lsuperior","msuperior","nsuperior","osuperior","rsuperior","ssuperior","tsuperior","ff","ffi","ffl","parenleftinferior","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","exclamdownsmall","centoldstyle","Lslashsmall","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","Dotaccentsmall","Macronsmall","figuredash","hypheninferior","Ogoneksmall","Ringsmall","Cedillasmall","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","zerosuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall","001.000","001.001","001.002","001.003","Black","Bold","Book","Light","Medium","Regular","Roman","Semibold"],re=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","","endash","dagger","daggerdbl","periodcentered","","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","","questiondown","","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","","ring","cedilla","","hungarumlaut","ogonek","caron","emdash","","","","","","","","","","","","","","","","","AE","","ordfeminine","","","","","Lslash","Oslash","OE","ordmasculine","","","","","","ae","","","","dotlessi","","","lslash","oslash","oe","germandbls"],fe=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclamsmall","Hungarumlautsmall","","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","comma","hyphen","period","fraction","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","colon","semicolon","commasuperior","threequartersemdash","periodsuperior","questionsmall","","asuperior","bsuperior","centsuperior","dsuperior","esuperior","","","isuperior","","","lsuperior","msuperior","nsuperior","osuperior","","","rsuperior","ssuperior","tsuperior","","ff","fi","fl","ffi","ffl","parenleftinferior","","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdownsmall","centoldstyle","Lslashsmall","","","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","","Dotaccentsmall","","","Macronsmall","","","figuredash","hypheninferior","","","Ogoneksmall","Ringsmall","Cedillasmall","","","","onequarter","onehalf","threequarters","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","","","zerosuperior","onesuperior","twosuperior","threesuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall"],ke=[".notdef",".null","nonmarkingreturn","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quotesingle","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","grave","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","Adieresis","Aring","Ccedilla","Eacute","Ntilde","Odieresis","Udieresis","aacute","agrave","acircumflex","adieresis","atilde","aring","ccedilla","eacute","egrave","ecircumflex","edieresis","iacute","igrave","icircumflex","idieresis","ntilde","oacute","ograve","ocircumflex","odieresis","otilde","uacute","ugrave","ucircumflex","udieresis","dagger","degree","cent","sterling","section","bullet","paragraph","germandbls","registered","copyright","trademark","acute","dieresis","notequal","AE","Oslash","infinity","plusminus","lessequal","greaterequal","yen","mu","partialdiff","summation","product","pi","integral","ordfeminine","ordmasculine","Omega","ae","oslash","questiondown","exclamdown","logicalnot","radical","florin","approxequal","Delta","guillemotleft","guillemotright","ellipsis","nonbreakingspace","Agrave","Atilde","Otilde","OE","oe","endash","emdash","quotedblleft","quotedblright","quoteleft","quoteright","divide","lozenge","ydieresis","Ydieresis","fraction","currency","guilsinglleft","guilsinglright","fi","fl","daggerdbl","periodcentered","quotesinglbase","quotedblbase","perthousand","Acircumflex","Ecircumflex","Aacute","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Oacute","Ocircumflex","apple","Ograve","Uacute","Ucircumflex","Ugrave","dotlessi","circumflex","tilde","macron","breve","dotaccent","ring","cedilla","hungarumlaut","ogonek","caron","Lslash","lslash","Scaron","scaron","Zcaron","zcaron","brokenbar","Eth","eth","Yacute","yacute","Thorn","thorn","minus","multiply","onesuperior","twosuperior","threesuperior","onehalf","onequarter","threequarters","franc","Gbreve","gbreve","Idotaccent","Scedilla","scedilla","Cacute","cacute","Ccaron","ccaron","dcroat"];function Ie(w){this.font=w}function ze(w){this.cmap=w}function Je(w,E){this.encoding=w,this.charset=E}function rt(w){switch(w.version){case 1:this.names=ke.slice();break;case 2:this.names=new Array(w.numberOfGlyphs);for(var E=0;E<w.numberOfGlyphs;E++)w.glyphNameIndex[E]<ke.length?this.names[E]=ke[w.glyphNameIndex[E]]:this.names[E]=w.names[w.glyphNameIndex[E]-ke.length];break;case 2.5:this.names=new Array(w.numberOfGlyphs);for(var R=0;R<w.numberOfGlyphs;R++)this.names[R]=ke[R+w.glyphNameIndex[R]];break;default:this.names=[]}}Ie.prototype.charToGlyphIndex=function(w){var E=w.codePointAt(0),R=this.font.glyphs;if(R){for(var N=0;N<R.length;N+=1)for(var q=R.get(N),K=0;K<q.unicodes.length;K+=1)if(q.unicodes[K]===E)return N}return null},ze.prototype.charToGlyphIndex=function(w){return this.cmap.glyphIndexMap[w.codePointAt(0)]||0},Je.prototype.charToGlyphIndex=function(w){return w=w.codePointAt(0),w=this.encoding[w],this.charset.indexOf(w)},rt.prototype.nameToGlyphIndex=function(w){return this.names.indexOf(w)},rt.prototype.glyphIndexToName=function(w){return this.names[w]};var st={line:function(w,E,R,N,q){w.beginPath(),w.moveTo(E,R),w.lineTo(N,q),w.stroke()}};function lt(w){this.bindConstructorValues(w)}function Ct(w,E,R){Object.defineProperty(w,E,{get:function(){return w.path,w[R]},set:function(N){w[R]=N},enumerable:!0,configurable:!0})}function kt(w,E){if(this.font=w,this.glyphs={},Array.isArray(E))for(var R=0;R<E.length;R++)this.glyphs[R]=E[R];this.length=E&&E.length||0}lt.prototype.bindConstructorValues=function(w){var E;this.index=w.index||0,this.name=w.name||null,this.unicode=w.unicode||void 0,this.unicodes=w.unicodes||w.unicode!==void 0?[w.unicode]:[],w.xMin&&(this.xMin=w.xMin),w.yMin&&(this.yMin=w.yMin),w.xMax&&(this.xMax=w.xMax),w.yMax&&(this.yMax=w.yMax),w.advanceWidth&&(this.advanceWidth=w.advanceWidth),Object.defineProperty(this,"path",(w=w.path,E=w||new ee,{configurable:!0,get:function(){return E=typeof E=="function"?E():E},set:function(R){E=R}}))},lt.prototype.addUnicode=function(w){this.unicodes.length===0&&(this.unicode=w),this.unicodes.push(w)},lt.prototype.getBoundingBox=function(){return this.path.getBoundingBox()},lt.prototype.getPath=function(w,E,R,N,q){w=w!==void 0?w:0,E=E!==void 0?E:0,R=R!==void 0?R:72;for(var K,te,ae=(N=N||{}).xScale,me=N.yScale,ye=((K=N.hinting&&q&&q.hinting?this.path&&q.hinting.exec(this,R):K)?(te=q.hinting.getCommands(K),w=Math.round(w),E=Math.round(E),ae=me=1):(te=this.path.commands,N=1/this.path.unitsPerEm*R,ae===void 0&&(ae=N),me===void 0&&(me=N)),new ee),Ee=0;Ee<te.length;Ee+=1){var Le=te[Ee];Le.type==="M"?ye.moveTo(w+Le.x*ae,E+-Le.y*me):Le.type==="L"?ye.lineTo(w+Le.x*ae,E+-Le.y*me):Le.type==="Q"?ye.quadraticCurveTo(w+Le.x1*ae,E+-Le.y1*me,w+Le.x*ae,E+-Le.y*me):Le.type==="C"?ye.curveTo(w+Le.x1*ae,E+-Le.y1*me,w+Le.x2*ae,E+-Le.y2*me,w+Le.x*ae,E+-Le.y*me):Le.type==="Z"&&ye.closePath()}return ye},lt.prototype.getContours=function(){if(this.points===void 0)return[];for(var w=[],E=[],R=0;R<this.points.length;R+=1){var N=this.points[R];E.push(N),N.lastPointOfContour&&(w.push(E),E=[])}return B.argument(E.length===0,"There are still points left in the current contour."),w},lt.prototype.getMetrics=function(){for(var w=this.path.commands,E=[],R=[],N=0;N<w.length;N+=1){var q=w[N];q.type!=="Z"&&(E.push(q.x),R.push(q.y)),q.type!=="Q"&&q.type!=="C"||(E.push(q.x1),R.push(q.y1)),q.type==="C"&&(E.push(q.x2),R.push(q.y2))}var K={xMin:Math.min.apply(null,E),yMin:Math.min.apply(null,R),xMax:Math.max.apply(null,E),yMax:Math.max.apply(null,R),leftSideBearing:this.leftSideBearing};return isFinite(K.xMin)||(K.xMin=0),isFinite(K.xMax)||(K.xMax=this.advanceWidth),isFinite(K.yMin)||(K.yMin=0),isFinite(K.yMax)||(K.yMax=0),K.rightSideBearing=this.advanceWidth-K.leftSideBearing-(K.xMax-K.xMin),K},lt.prototype.draw=function(w,E,R,N,q){this.getPath(E,R,N,q).draw(w)},lt.prototype.drawPoints=function(w,E,R,N){function q(Ee,Le,Pe,we){var Ye=2*Math.PI;w.beginPath();for(var Be=0;Be<Ee.length;Be+=1)w.moveTo(Le+Ee[Be].x*we,Pe+Ee[Be].y*we),w.arc(Le+Ee[Be].x*we,Pe+Ee[Be].y*we,2,0,Ye,!1);w.closePath(),w.fill()}E=E!==void 0?E:0,R=R!==void 0?R:0;for(var N=1/this.path.unitsPerEm*(N=N!==void 0?N:24),K=[],te=[],ae=this.path,me=0;me<ae.commands.length;me+=1){var ye=ae.commands[me];ye.x!==void 0&&K.push({x:ye.x,y:-ye.y}),ye.x1!==void 0&&te.push({x:ye.x1,y:-ye.y1}),ye.x2!==void 0&&te.push({x:ye.x2,y:-ye.y2})}w.fillStyle="blue",q(K,E,R,N),w.fillStyle="red",q(te,E,R,N)},lt.prototype.drawMetrics=function(w,E,R,N){E=E!==void 0?E:0,R=R!==void 0?R:0,N=1/this.path.unitsPerEm*(N=N!==void 0?N:24),w.lineWidth=1,w.strokeStyle="black",st.line(w,E,-1e4,E,1e4),st.line(w,-1e4,R,1e4,R);var q=this.xMin||0,K=this.yMin||0,te=this.xMax||0,ae=this.yMax||0,me=this.advanceWidth||0;w.strokeStyle="blue",st.line(w,E+q*N,-1e4,E+q*N,1e4),st.line(w,E+te*N,-1e4,E+te*N,1e4),st.line(w,-1e4,R+-K*N,1e4,R+-K*N),st.line(w,-1e4,R+-ae*N,1e4,R+-ae*N),w.strokeStyle="green",st.line(w,E+me*N,-1e4,E+me*N,1e4)},kt.prototype.get=function(w){return typeof this.glyphs[w]=="function"&&(this.glyphs[w]=this.glyphs[w]()),this.glyphs[w]},kt.prototype.push=function(w,E){this.glyphs[w]=E,this.length++};var mt={GlyphSet:kt,glyphLoader:function(w,E){return new lt({index:E,font:w})},ttfGlyphLoader:function(w,E,R,N,q,K){return function(){var te=new lt({index:E,font:w});return te.path=function(){R(te,N,q);var ae=K(w.glyphs,te);return ae.unitsPerEm=w.unitsPerEm,ae},Ct(te,"xMin","_xMin"),Ct(te,"xMax","_xMax"),Ct(te,"yMin","_yMin"),Ct(te,"yMax","_yMax"),te}},cffGlyphLoader:function(w,E,R,N){return function(){var q=new lt({index:E,font:w});return q.path=function(){var K=R(w,q,N);return K.unitsPerEm=w.unitsPerEm,K},q}}};function Mt(w){return w=w.length<1240?107:w.length<33900?1131:32768,w}function St(w,E,R){var N,q=[],K=[],te=De.getCard16(w,E);if(te!==0){for(var ae=De.getByte(w,E+2),me=E+(te+1)*ae+2,ye=E+3,Ee=0;Ee<te+1;Ee+=1)q.push(De.getOffset(w,ye,ae)),ye+=ae;N=me+q[te]}else N=E+2;for(var Le=0;Le<q.length-1;Le+=1){var Pe=De.getBytes(w,me+q[Le],me+q[Le+1]);R&&(Pe=R(Pe)),K.push(Pe)}return{objects:K,startOffset:E,endOffset:N}}function Zt(w,E){if(E===28)return w.parseByte()<<8|w.parseByte();if(E===29)return w.parseByte()<<24|w.parseByte()<<16|w.parseByte()<<8|w.parseByte();if(E===30){for(var R=w,N="",q=["0","1","2","3","4","5","6","7","8","9",".","E","E-",null,"-"];;){var te=R.parseByte(),K=te>>4,te=15&te;if(K==15||(N+=q[K],te==15))break;N+=q[te]}return parseFloat(N)}if(32<=E&&E<=246)return E-139;if(247<=E&&E<=250)return 256*(E-247)+w.parseByte()+108;if(251<=E&&E<=254)return 256*-(E-251)-w.parseByte()-108;throw new Error("Invalid b0 "+E)}function Rr(w,E,R){var N=new De.Parser(w,E=E!==void 0?E:0),q=[],K=[];for(R=R!==void 0?R:w.length;N.relativeOffset<R;){var te=N.parseByte();te<=21?(te===12&&(te=1200+N.parseByte()),q.push([te,K]),K=[]):K.push(Zt(N,te))}for(var ae=q,me={},ye=0;ye<ae.length;ye+=1){var Ee=ae[ye][0],Le=ae[ye][1],Pe=void 0,Pe=Le.length===1?Le[0]:Le;if(me.hasOwnProperty(Ee)&&!isNaN(me[Ee]))throw new Error("Object "+me+" already has key "+Ee);me[Ee]=Pe}return me}function wr(w,E){return E=E<=390?ce[E]:w[E-391]}function Bt(w,E,R){for(var N,q={},K=0;K<E.length;K+=1){var te=E[K];if(Array.isArray(te.type)){var ae=[];ae.length=te.type.length;for(var me=0;me<te.type.length;me++)(N=w[te.op]!==void 0?w[te.op][me]:void 0)===void 0&&(N=te.value!==void 0&&te.value[me]!==void 0?te.value[me]:null),te.type[me]==="SID"&&(N=wr(R,N)),ae[me]=N;q[te.name]=ae}else(N=w[te.op])===void 0&&(N=te.value!==void 0?te.value:null),te.type==="SID"&&(N=wr(R,N)),q[te.name]=N}return q}var Kt=[{name:"version",op:0,type:"SID"},{name:"notice",op:1,type:"SID"},{name:"copyright",op:1200,type:"SID"},{name:"fullName",op:2,type:"SID"},{name:"familyName",op:3,type:"SID"},{name:"weight",op:4,type:"SID"},{name:"isFixedPitch",op:1201,type:"number",value:0},{name:"italicAngle",op:1202,type:"number",value:0},{name:"underlinePosition",op:1203,type:"number",value:-100},{name:"underlineThickness",op:1204,type:"number",value:50},{name:"paintType",op:1205,type:"number",value:0},{name:"charstringType",op:1206,type:"number",value:2},{name:"fontMatrix",op:1207,type:["real","real","real","real","real","real"],value:[.001,0,0,.001,0,0]},{name:"uniqueId",op:13,type:"number"},{name:"fontBBox",op:5,type:["number","number","number","number"],value:[0,0,0,0]},{name:"strokeWidth",op:1208,type:"number",value:0},{name:"xuid",op:14,type:[],value:null},{name:"charset",op:15,type:"offset",value:0},{name:"encoding",op:16,type:"offset",value:0},{name:"charStrings",op:17,type:"offset",value:0},{name:"private",op:18,type:["number","offset"],value:[0,0]},{name:"ros",op:1230,type:["SID","SID","number"]},{name:"cidFontVersion",op:1231,type:"number",value:0},{name:"cidFontRevision",op:1232,type:"number",value:0},{name:"cidFontType",op:1233,type:"number",value:0},{name:"cidCount",op:1234,type:"number",value:8720},{name:"uidBase",op:1235,type:"number"},{name:"fdArray",op:1236,type:"offset"},{name:"fdSelect",op:1237,type:"offset"},{name:"fontName",op:1238,type:"SID"}],Ft=[{name:"subrs",op:19,type:"offset",value:0},{name:"defaultWidthX",op:20,type:"number",value:0},{name:"nominalWidthX",op:21,type:"number",value:0}];function Gr(w,E,R,N){return Bt(Rr(w,E,R),Ft,N)}function gr(w,E,R,N){for(var q=[],K=0;K<R.length;K+=1){var te=new DataView(new Uint8Array(R[K]).buffer),te=(ae=N,Bt(Rr(te,0,te.byteLength),Kt,ae)),ae=(te._subrs=[],te._subrsBias=0,te.private[0]),me=te.private[1];ae!==0&&me!==0&&(ae=Gr(w,me+E,ae,N),te._defaultWidthX=ae.defaultWidthX,te._nominalWidthX=ae.nominalWidthX,ae.subrs!==0&&(me=St(w,me+ae.subrs+E),te._subrs=me.objects,te._subrsBias=Mt(te._subrs)),te._privateDict=ae),q.push(te)}return q}function Ht(w,E,R){var N,q,K,te,ae,me,ye,Ee,Le,Pe=new ee,we=[],Ye=0,Be=!1,We=!1,Fe=0,Ue=0,bt=(Le=(w.isCIDFont?(ae=w.tables.cff.topDict._fdSelect[E.index],ae=w.tables.cff.topDict._fdArray[ae],me=ae._subrs,ye=ae._subrsBias,Ee=ae._defaultWidthX,ae):(me=w.tables.cff.topDict._subrs,ye=w.tables.cff.topDict._subrsBias,Ee=w.tables.cff.topDict._defaultWidthX,w.tables.cff.topDict))._nominalWidthX,Ee);function Rt(_t,Lt){We&&Pe.closePath(),Pe.moveTo(_t,Lt),We=!0}function gt(){we.length%2==0||Be||(bt=we.shift()+Le),Ye+=we.length>>1,we.length=0,Be=!0}return function _t(Lt){for(var Yt,vr,xr,Lr,Nr,bn,$t,rr,Qt,Yr,dr,zr,ir=0;ir<Lt.length;){var Jt=Lt[ir];switch(ir+=1,Jt){case 1:case 3:gt();break;case 4:1<we.length&&!Be&&(bt=we.shift()+Le,Be=!0),Ue+=we.pop(),Rt(Fe,Ue);break;case 5:for(;0<we.length;)Fe+=we.shift(),Ue+=we.shift(),Pe.lineTo(Fe,Ue);break;case 6:for(;0<we.length&&(Fe+=we.shift(),Pe.lineTo(Fe,Ue),we.length!==0);)Ue+=we.shift(),Pe.lineTo(Fe,Ue);break;case 7:for(;0<we.length&&(Ue+=we.shift(),Pe.lineTo(Fe,Ue),we.length!==0);)Fe+=we.shift(),Pe.lineTo(Fe,Ue);break;case 8:for(;0<we.length;)N=Fe+we.shift(),q=Ue+we.shift(),K=N+we.shift(),te=q+we.shift(),Fe=K+we.shift(),Ue=te+we.shift(),Pe.curveTo(N,q,K,te,Fe,Ue);break;case 10:Nr=we.pop()+ye,(bn=me[Nr])&&_t(bn);break;case 11:return;case 12:switch(Jt=Lt[ir],ir+=1,Jt){case 35:N=Fe+we.shift(),q=Ue+we.shift(),K=N+we.shift(),te=q+we.shift(),$t=K+we.shift(),rr=te+we.shift(),Qt=$t+we.shift(),Yr=rr+we.shift(),dr=Qt+we.shift(),zr=Yr+we.shift(),Fe=dr+we.shift(),Ue=zr+we.shift(),we.shift(),Pe.curveTo(N,q,K,te,$t,rr),Pe.curveTo(Qt,Yr,dr,zr,Fe,Ue);break;case 34:N=Fe+we.shift(),q=Ue,K=N+we.shift(),te=q+we.shift(),$t=K+we.shift(),rr=te,Qt=$t+we.shift(),Yr=te,dr=Qt+we.shift(),zr=Ue,Fe=dr+we.shift(),Pe.curveTo(N,q,K,te,$t,rr),Pe.curveTo(Qt,Yr,dr,zr,Fe,Ue);break;case 36:N=Fe+we.shift(),q=Ue+we.shift(),K=N+we.shift(),te=q+we.shift(),$t=K+we.shift(),rr=te,Qt=$t+we.shift(),Yr=te,dr=Qt+we.shift(),zr=Yr+we.shift(),Fe=dr+we.shift(),Pe.curveTo(N,q,K,te,$t,rr),Pe.curveTo(Qt,Yr,dr,zr,Fe,Ue);break;case 37:N=Fe+we.shift(),q=Ue+we.shift(),K=N+we.shift(),te=q+we.shift(),$t=K+we.shift(),rr=te+we.shift(),Qt=$t+we.shift(),Yr=rr+we.shift(),dr=Qt+we.shift(),zr=Yr+we.shift(),Math.abs(dr-Fe)>Math.abs(zr-Ue)?Fe=dr+we.shift():Ue=zr+we.shift(),Pe.curveTo(N,q,K,te,$t,rr),Pe.curveTo(Qt,Yr,dr,zr,Fe,Ue);break;default:console.log("Glyph "+E.index+": unknown operator 1200"+Jt),we.length=0}break;case 14:0<we.length&&!Be&&(bt=we.shift()+Le,Be=!0),We&&(Pe.closePath(),We=!1);break;case 18:gt();break;case 19:case 20:gt(),ir+=Ye+7>>3;break;case 21:2<we.length&&!Be&&(bt=we.shift()+Le,Be=!0),Ue+=we.pop(),Rt(Fe+=we.pop(),Ue);break;case 22:1<we.length&&!Be&&(bt=we.shift()+Le,Be=!0),Rt(Fe+=we.pop(),Ue);break;case 23:gt();break;case 24:for(;2<we.length;)N=Fe+we.shift(),q=Ue+we.shift(),K=N+we.shift(),te=q+we.shift(),Fe=K+we.shift(),Ue=te+we.shift(),Pe.curveTo(N,q,K,te,Fe,Ue);Fe+=we.shift(),Ue+=we.shift(),Pe.lineTo(Fe,Ue);break;case 25:for(;6<we.length;)Fe+=we.shift(),Ue+=we.shift(),Pe.lineTo(Fe,Ue);N=Fe+we.shift(),q=Ue+we.shift(),K=N+we.shift(),te=q+we.shift(),Fe=K+we.shift(),Ue=te+we.shift(),Pe.curveTo(N,q,K,te,Fe,Ue);break;case 26:for(we.length%2&&(Fe+=we.shift());0<we.length;)N=Fe,q=Ue+we.shift(),K=N+we.shift(),te=q+we.shift(),Fe=K,Ue=te+we.shift(),Pe.curveTo(N,q,K,te,Fe,Ue);break;case 27:for(we.length%2&&(Ue+=we.shift());0<we.length;)N=Fe+we.shift(),q=Ue,K=N+we.shift(),te=q+we.shift(),Fe=K+we.shift(),Ue=te,Pe.curveTo(N,q,K,te,Fe,Ue);break;case 28:Yt=Lt[ir],vr=Lt[ir+1],we.push((Yt<<24|vr<<16)>>16),ir+=2;break;case 29:Nr=we.pop()+w.gsubrsBias,(bn=w.gsubrs[Nr])&&_t(bn);break;case 30:for(;0<we.length&&(N=Fe,q=Ue+we.shift(),K=N+we.shift(),te=q+we.shift(),Fe=K+we.shift(),Ue=te+(we.length===1?we.shift():0),Pe.curveTo(N,q,K,te,Fe,Ue),we.length!==0);)N=Fe+we.shift(),q=Ue,K=N+we.shift(),te=q+we.shift(),Ue=te+we.shift(),Fe=K+(we.length===1?we.shift():0),Pe.curveTo(N,q,K,te,Fe,Ue);break;case 31:for(;0<we.length&&(N=Fe+we.shift(),q=Ue,K=N+we.shift(),te=q+we.shift(),Ue=te+we.shift(),Fe=K+(we.length===1?we.shift():0),Pe.curveTo(N,q,K,te,Fe,Ue),we.length!==0);)N=Fe,q=Ue+we.shift(),K=N+we.shift(),te=q+we.shift(),Fe=K+we.shift(),Ue=te+(we.length===1?we.shift():0),Pe.curveTo(N,q,K,te,Fe,Ue);break;default:Jt<32?console.log("Glyph "+E.index+": unknown operator "+Jt):Jt<247?we.push(Jt-139):Jt<251?(Yt=Lt[ir],ir+=1,we.push(256*(Jt-247)+Yt+108)):Jt<255?(Yt=Lt[ir],ir+=1,we.push(256*-(Jt-251)-Yt-108)):(Yt=Lt[ir],vr=Lt[ir+1],xr=Lt[ir+2],Lr=Lt[ir+3],ir+=4,we.push((Yt<<24|vr<<16|xr<<8|Lr)/65536))}}}(R),E.advanceWidth=bt,Pe}function Tr(w,E){var R,N=ce.indexOf(w);return 0<=N&&(R=N),0<=(N=E.indexOf(w))?R=N+ce.length:(R=ce.length+E.length,E.push(w)),R}function Os(w,E,R){for(var N={},q=0;q<w.length;q+=1){var K=w[q],te=E[K.name];te===void 0||function ae(me,ye){if(me===ye)return 1;if(Array.isArray(me)&&Array.isArray(ye)&&me.length===ye.length){for(var Ee=0;Ee<me.length;Ee+=1)if(!ae(me[Ee],ye[Ee]))return;return 1}}(te,K.value)||(K.type==="SID"&&(te=Tr(te,R)),N[K.op]={name:K.name,type:K.type,value:te})}return N}function Ro(w,E){var R=new Ne.Record("Top DICT",[{name:"dict",type:"DICT",value:{}}]);return R.dict=Os(Kt,w,E),R}function Io(w){var E=new Ne.Record("Top DICT INDEX",[{name:"topDicts",type:"INDEX",value:[]}]);return E.topDicts=[{name:"topDict_0",type:"TABLE",value:w}],E}function yi(w){for(var E=new Ne.Record("CharStrings INDEX",[{name:"charStrings",type:"INDEX",value:[]}]),R=0;R<w.length;R+=1){var N=w.get(R),q=function(K){for(var te=[],ae=K.path,me=(te.push({name:"width",type:"NUMBER",value:K.advanceWidth}),0),ye=0,Ee=0;Ee<ae.commands.length;Ee+=1){var Le,Pe,we,Ye,Be=void 0,We=void 0,Fe=ae.commands[Ee];(Fe=Fe.type==="Q"?{type:"C",x:Fe.x,y:Fe.y,x1:1/3*me+2/3*Fe.x1,y1:1/3*ye+2/3*Fe.y1,x2:1/3*Fe.x+2/3*Fe.x1,y2:1/3*Fe.y+2/3*Fe.y1}:Fe).type==="M"?(Be=Math.round(Fe.x-me),We=Math.round(Fe.y-ye),te.push({name:"dx",type:"NUMBER",value:Be}),te.push({name:"dy",type:"NUMBER",value:We}),te.push({name:"rmoveto",type:"OP",value:21}),me=Math.round(Fe.x),ye=Math.round(Fe.y)):Fe.type==="L"?(Be=Math.round(Fe.x-me),We=Math.round(Fe.y-ye),te.push({name:"dx",type:"NUMBER",value:Be}),te.push({name:"dy",type:"NUMBER",value:We}),te.push({name:"rlineto",type:"OP",value:5}),me=Math.round(Fe.x),ye=Math.round(Fe.y)):Fe.type==="C"&&(Le=Math.round(Fe.x1-me),Pe=Math.round(Fe.y1-ye),we=Math.round(Fe.x2-Fe.x1),Ye=Math.round(Fe.y2-Fe.y1),Be=Math.round(Fe.x-Fe.x2),We=Math.round(Fe.y-Fe.y2),te.push({name:"dx1",type:"NUMBER",value:Le}),te.push({name:"dy1",type:"NUMBER",value:Pe}),te.push({name:"dx2",type:"NUMBER",value:we}),te.push({name:"dy2",type:"NUMBER",value:Ye}),te.push({name:"dx",type:"NUMBER",value:Be}),te.push({name:"dy",type:"NUMBER",value:We}),te.push({name:"rrcurveto",type:"OP",value:8}),me=Math.round(Fe.x),ye=Math.round(Fe.y))}return te.push({name:"endchar",type:"OP",value:14}),te}(N);E.charStrings.push({name:N.name,type:"CHARSTRING",value:q})}return E}var Cn={parse:function(w,E,R){R.tables.cff={},ae=w,N=E,(q={}).formatMajor=De.getCard8(ae,N),q.formatMinor=De.getCard8(ae,N+1),q.size=De.getCard8(ae,N+2),q.offsetSize=De.getCard8(ae,N+3),q.startOffset=N,q.endOffset=N+4;var ae=St(w,q.endOffset,De.bytesToString),N=St(w,ae.endOffset),q=St(w,N.endOffset,De.bytesToString),ae=St(w,q.endOffset);if(R.gsubrs=ae.objects,R.gsubrsBias=Mt(R.gsubrs),(ae=gr(w,E,N.objects,q.objects)).length!==1)throw new Error("CFF table has too many fonts in 'FontSet' - count of fonts NameIndex.length = "+ae.length);if(N=ae[0],(R.tables.cff.topDict=N)._privateDict&&(R.defaultWidthX=N._privateDict.defaultWidthX,R.nominalWidthX=N._privateDict.nominalWidthX),N.ros[0]!==void 0&&N.ros[1]!==void 0&&(R.isCIDFont=!0),R.isCIDFont){var ae=N.fdArray,K=N.fdSelect;if(ae===0||K===0)throw new Error("Font is marked as a CID font, but FDArray and/or FDSelect information is missing");ae=gr(w,E,St(w,ae+=E).objects,q.objects),N._fdArray=ae,N._fdSelect=function(Pe,we,Ye,Be){var We,Fe=[],Ue=new De.Parser(Pe,we);if((Pe=Ue.parseCard8())===0)for(var bt=0;bt<Ye;bt++){if(Be<=(We=Ue.parseCard8()))throw new Error("CFF table CID Font FDSelect has bad FD index value "+We+" (FD count "+Be+")");Fe.push(We)}else{if(Pe!==3)throw new Error("CFF Table CID Font FDSelect table has unsupported format "+Pe);var Rt,gt=Ue.parseCard16(),_t=Ue.parseCard16();if(_t!==0)throw new Error("CFF Table CID Font FDSelect format 3 range has bad initial GID "+_t);for(var Lt=0;Lt<gt;Lt++){if(We=Ue.parseCard8(),Rt=Ue.parseCard16(),Be<=We)throw new Error("CFF table CID Font FDSelect has bad FD index value "+We+" (FD count "+Be+")");if(Ye<Rt)throw new Error("CFF Table CID Font FDSelect format 3 range has bad GID "+Rt);for(;_t<Rt;_t++)Fe.push(We);_t=Rt}if(Rt!==Ye)throw new Error("CFF Table CID Font FDSelect format 3 range has bad final GID "+Rt)}return Fe}(w,K+=E,R.numGlyphs,ae.length)}var K=E+N.private[1],ae=Gr(w,K,N.private[0],q.objects),te=(R.defaultWidthX=ae.defaultWidthX,R.nominalWidthX=ae.nominalWidthX,ae.subrs!==0?(K=St(w,K+ae.subrs),R.subrs=K.objects,R.subrsBias=Mt(R.subrs)):(R.subrs=[],R.subrsBias=0),St(w,E+N.charStrings)),ae=(R.nGlyphs=te.objects.length,function(Ee,Le,Pe,we){var Ye=new De.Parser(Ee,Le),Be=(--Pe,[".notdef"]);if((Ee=Ye.parseCard8())===0)for(var We=0;We<Pe;We+=1)Fe=Ye.parseSID(),Be.push(wr(we,Fe));else if(Ee===1)for(;Be.length<=Pe;)for(var Fe=Ye.parseSID(),Ue=Ye.parseCard8(),bt=0;bt<=Ue;bt+=1)Be.push(wr(we,Fe)),Fe+=1;else{if(Ee!==2)throw new Error("Unknown charset format "+Ee);for(;Be.length<=Pe;){Fe=Ye.parseSID(),Ue=Ye.parseCard16();for(var Rt=0;Rt<=Ue;Rt+=1)Be.push(wr(we,Fe)),Fe+=1}}return Be}(w,E+N.charset,R.nGlyphs,q.objects));N.encoding===0?R.cffEncoding=new Je(re,ae):N.encoding===1?R.cffEncoding=new Je(fe,ae):R.cffEncoding=function(Ee,Le,Pe){var we={},Ye=new De.Parser(Ee,Le);if((Ee=Ye.parseCard8())===0)for(var Be=Ye.parseCard8(),We=0;We<Be;We+=1)we[Ue=Ye.parseCard8()]=We;else{if(Ee!==1)throw new Error("Unknown encoding format "+Ee);for(var Fe=Ye.parseCard8(),Ue=1,bt=0;bt<Fe;bt+=1)for(var Rt=Ye.parseCard8(),gt=Ye.parseCard8(),_t=Rt;_t<=Rt+gt;_t+=1)we[_t]=Ue,Ue+=1}return new Je(we,Pe)}(w,E+N.encoding,ae),R.encoding=R.encoding||R.cffEncoding,R.glyphs=new mt.GlyphSet(R);for(var me=0;me<R.nGlyphs;me+=1){var ye=te.objects[me];R.glyphs.push(me,mt.cffGlyphLoader(R,me,Ht,ye))}},make:function(w,Ee){for(var R,N=new Ne.Table("CFF ",[{name:"header",type:"RECORD"},{name:"nameIndex",type:"RECORD"},{name:"topDictIndex",type:"RECORD"},{name:"stringIndex",type:"RECORD"},{name:"globalSubrIndex",type:"RECORD"},{name:"charsets",type:"RECORD"},{name:"charStringsIndex",type:"RECORD"},{name:"privateDict",type:"RECORD"}]),q=1/Ee.unitsPerEm,q={version:Ee.version,fullName:Ee.fullName,familyName:Ee.familyName,weight:Ee.weightName,fontBBox:Ee.fontBBox||[0,0,0,0],fontMatrix:[q,0,0,q,0,0],charset:999,encoding:0,charStrings:999,private:[0,999]},K=[],te=1;te<w.length;te+=1)R=w.get(te),K.push(R.name);var ae,me,ye=[],Ee=(N.header=new Ne.Record("Header",[{name:"major",type:"Card8",value:1},{name:"minor",type:"Card8",value:0},{name:"hdrSize",type:"Card8",value:4},{name:"major",type:"Card8",value:1}]),N.nameIndex=function(Pe){var we=new Ne.Record("Name INDEX",[{name:"names",type:"INDEX",value:[]}]);we.names=[];for(var Ye=0;Ye<Pe.length;Ye+=1)we.names.push({name:"name_"+Ye,type:"NAME",value:Pe[Ye]});return we}([Ee.postScriptName]),Ro(q,ye)),Le=(N.topDictIndex=Io(Ee),N.globalSubrIndex=new Ne.Record("Global Subr INDEX",[{name:"subrs",type:"INDEX",value:[]}]),N.charsets=function(Pe,we){for(var Ye=new Ne.Record("Charsets",[{name:"format",type:"Card8",value:0}]),Be=0;Be<Pe.length;Be+=1){var We=Tr(Pe[Be],we);Ye.fields.push({name:"glyph_"+Be,type:"SID",value:We})}return Ye}(K,ye),N.charStringsIndex=yi(w),N.privateDict=(Le={},ae=ye,(me=new Ne.Record("Private DICT",[{name:"dict",type:"DICT",value:{}}])).dict=Os(Ft,Le,ae),me),N.stringIndex=function(Pe){var we=new Ne.Record("String INDEX",[{name:"strings",type:"INDEX",value:[]}]);we.strings=[];for(var Ye=0;Ye<Pe.length;Ye+=1)we.strings.push({name:"string_"+Ye,type:"STRING",value:Pe[Ye]});return we}(ye),N.header.sizeOf()+N.nameIndex.sizeOf()+N.topDictIndex.sizeOf()+N.stringIndex.sizeOf()+N.globalSubrIndex.sizeOf());return q.charset=Le,q.encoding=0,q.charStrings=q.charset+N.charsets.sizeOf(),q.private[1]=q.charStrings+N.charStringsIndex.sizeOf(),Ee=Ro(q,ye),N.topDictIndex=Io(Ee),N}},Qs={parse:function(N,E){var R={},N=new De.Parser(N,E);return R.version=N.parseVersion(),R.fontRevision=Math.round(1e3*N.parseFixed())/1e3,R.checkSumAdjustment=N.parseULong(),R.magicNumber=N.parseULong(),B.argument(R.magicNumber===1594834165,"Font header has wrong magic number."),R.flags=N.parseUShort(),R.unitsPerEm=N.parseUShort(),R.created=N.parseLongDateTime(),R.modified=N.parseLongDateTime(),R.xMin=N.parseShort(),R.yMin=N.parseShort(),R.xMax=N.parseShort(),R.yMax=N.parseShort(),R.macStyle=N.parseUShort(),R.lowestRecPPEM=N.parseUShort(),R.fontDirectionHint=N.parseShort(),R.indexToLocFormat=N.parseShort(),R.glyphDataFormat=N.parseShort(),R},make:function(w){var E=Math.round(new Date().getTime()/1e3)+2082844800,R=E;return w.createdTimestamp&&(R=w.createdTimestamp+2082844800),new Ne.Table("head",[{name:"version",type:"FIXED",value:65536},{name:"fontRevision",type:"FIXED",value:65536},{name:"checkSumAdjustment",type:"ULONG",value:0},{name:"magicNumber",type:"ULONG",value:1594834165},{name:"flags",type:"USHORT",value:0},{name:"unitsPerEm",type:"USHORT",value:1e3},{name:"created",type:"LONGDATETIME",value:R},{name:"modified",type:"LONGDATETIME",value:E},{name:"xMin",type:"SHORT",value:0},{name:"yMin",type:"SHORT",value:0},{name:"xMax",type:"SHORT",value:0},{name:"yMax",type:"SHORT",value:0},{name:"macStyle",type:"USHORT",value:0},{name:"lowestRecPPEM",type:"USHORT",value:0},{name:"fontDirectionHint",type:"SHORT",value:2},{name:"indexToLocFormat",type:"SHORT",value:0},{name:"glyphDataFormat",type:"SHORT",value:0}],w)}},xe={parse:function(N,E){var R={},N=new De.Parser(N,E);return R.version=N.parseVersion(),R.ascender=N.parseShort(),R.descender=N.parseShort(),R.lineGap=N.parseShort(),R.advanceWidthMax=N.parseUShort(),R.minLeftSideBearing=N.parseShort(),R.minRightSideBearing=N.parseShort(),R.xMaxExtent=N.parseShort(),R.caretSlopeRise=N.parseShort(),R.caretSlopeRun=N.parseShort(),R.caretOffset=N.parseShort(),N.relativeOffset+=8,R.metricDataFormat=N.parseShort(),R.numberOfHMetrics=N.parseUShort(),R},make:function(w){return new Ne.Table("hhea",[{name:"version",type:"FIXED",value:65536},{name:"ascender",type:"FWORD",value:0},{name:"descender",type:"FWORD",value:0},{name:"lineGap",type:"FWORD",value:0},{name:"advanceWidthMax",type:"UFWORD",value:0},{name:"minLeftSideBearing",type:"FWORD",value:0},{name:"minRightSideBearing",type:"FWORD",value:0},{name:"xMaxExtent",type:"FWORD",value:0},{name:"caretSlopeRise",type:"SHORT",value:1},{name:"caretSlopeRun",type:"SHORT",value:0},{name:"caretOffset",type:"SHORT",value:0},{name:"reserved1",type:"SHORT",value:0},{name:"reserved2",type:"SHORT",value:0},{name:"reserved3",type:"SHORT",value:0},{name:"reserved4",type:"SHORT",value:0},{name:"metricDataFormat",type:"SHORT",value:0},{name:"numberOfHMetrics",type:"USHORT",value:0}],w)}},Ze={parse:function(w,E,R,N,q){for(var K,te,ae=new De.Parser(w,E),me=0;me<N;me+=1){me<R&&(K=ae.parseUShort(),te=ae.parseShort());var ye=q.get(me);ye.advanceWidth=K,ye.leftSideBearing=te}},make:function(w){for(var E=new Ne.Table("hmtx",[]),R=0;R<w.length;R+=1){var q=w.get(R),N=q.advanceWidth||0,q=q.leftSideBearing||0;E.fields.push({name:"advanceWidth_"+R,type:"USHORT",value:N}),E.fields.push({name:"leftSideBearing_"+R,type:"SHORT",value:q})}return E}},dt={make:function(w){for(var E=new Ne.Table("ltag",[{name:"version",type:"ULONG",value:1},{name:"flags",type:"ULONG",value:0},{name:"numTags",type:"ULONG",value:w.length}]),R="",N=12+4*w.length,q=0;q<w.length;++q){var K=R.indexOf(w[q]);K<0&&(K=R.length,R+=w[q]),E.fields.push({name:"offset "+q,type:"USHORT",value:N+K}),E.fields.push({name:"length "+q,type:"USHORT",value:w[q].length})}return E.fields.push({name:"stringPool",type:"CHARARRAY",value:R}),E},parse:function(w,E){for(var R=new De.Parser(w,E),N=R.parseULong(),q=(B.argument(N===1,"Unsupported ltag table version."),R.skip("uLong",1),R.parseULong()),K=[],te=0;te<q;te++){for(var ae="",me=E+R.parseUShort(),ye=R.parseUShort(),Ee=me;Ee<me+ye;++Ee)ae+=String.fromCharCode(w.getInt8(Ee));K.push(ae)}return K}},$e={parse:function(N,E){var R={},N=new De.Parser(N,E);return R.version=N.parseVersion(),R.numGlyphs=N.parseUShort(),R.version===1&&(R.maxPoints=N.parseUShort(),R.maxContours=N.parseUShort(),R.maxCompositePoints=N.parseUShort(),R.maxCompositeContours=N.parseUShort(),R.maxZones=N.parseUShort(),R.maxTwilightPoints=N.parseUShort(),R.maxStorage=N.parseUShort(),R.maxFunctionDefs=N.parseUShort(),R.maxInstructionDefs=N.parseUShort(),R.maxStackElements=N.parseUShort(),R.maxSizeOfInstructions=N.parseUShort(),R.maxComponentElements=N.parseUShort(),R.maxComponentDepth=N.parseUShort()),R},make:function(w){return new Ne.Table("maxp",[{name:"version",type:"FIXED",value:20480},{name:"numGlyphs",type:"USHORT",value:w}])}},Nt=["copyright","fontFamily","fontSubfamily","uniqueID","fullName","version","postScriptName","trademark","manufacturer","designer","description","manufacturerURL","designerURL","license","licenseURL","reserved","preferredFamily","preferredSubfamily","compatibleFullName","sampleText","postScriptFindFontName","wwsFamily","wwsSubfamily"],Qe={0:"en",1:"fr",2:"de",3:"it",4:"nl",5:"sv",6:"es",7:"da",8:"pt",9:"no",10:"he",11:"ja",12:"ar",13:"fi",14:"el",15:"is",16:"mt",17:"tr",18:"hr",19:"zh-Hant",20:"ur",21:"hi",22:"th",23:"ko",24:"lt",25:"pl",26:"hu",27:"es",28:"lv",29:"se",30:"fo",31:"fa",32:"ru",33:"zh",34:"nl-BE",35:"ga",36:"sq",37:"ro",38:"cz",39:"sk",40:"si",41:"yi",42:"sr",43:"mk",44:"bg",45:"uk",46:"be",47:"uz",48:"kk",49:"az-Cyrl",50:"az-Arab",51:"hy",52:"ka",53:"mo",54:"ky",55:"tg",56:"tk",57:"mn-CN",58:"mn",59:"ps",60:"ks",61:"ku",62:"sd",63:"bo",64:"ne",65:"sa",66:"mr",67:"bn",68:"as",69:"gu",70:"pa",71:"or",72:"ml",73:"kn",74:"ta",75:"te",76:"si",77:"my",78:"km",79:"lo",80:"vi",81:"id",82:"tl",83:"ms",84:"ms-Arab",85:"am",86:"ti",87:"om",88:"so",89:"sw",90:"rw",91:"rn",92:"ny",93:"mg",94:"eo",128:"cy",129:"eu",130:"ca",131:"la",132:"qu",133:"gn",134:"ay",135:"tt",136:"ug",137:"dz",138:"jv",139:"su",140:"gl",141:"af",142:"br",143:"iu",144:"gd",145:"gv",146:"ga",147:"to",148:"el-polyton",149:"kl",150:"az",151:"nn"},Gt={0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:5,11:1,12:4,13:0,14:6,15:0,16:0,17:0,18:0,19:2,20:4,21:9,22:21,23:3,24:29,25:29,26:29,27:29,28:29,29:0,30:0,31:4,32:7,33:25,34:0,35:0,36:0,37:0,38:29,39:29,40:0,41:5,42:7,43:7,44:7,45:7,46:7,47:7,48:7,49:7,50:4,51:24,52:23,53:7,54:7,55:7,56:7,57:27,58:7,59:4,60:4,61:4,62:4,63:26,64:9,65:9,66:9,67:13,68:13,69:11,70:10,71:12,72:17,73:16,74:14,75:15,76:18,77:19,78:20,79:22,80:30,81:0,82:0,83:0,84:4,85:28,86:28,87:28,88:0,89:0,90:0,91:0,92:0,93:0,94:0,128:0,129:0,130:0,131:0,132:0,133:0,134:0,135:7,136:4,137:26,138:0,139:0,140:0,141:0,142:0,143:28,144:0,145:0,146:0,147:0,148:6,149:0,150:0,151:0},ht={1078:"af",1052:"sq",1156:"gsw",1118:"am",5121:"ar-DZ",15361:"ar-BH",3073:"ar",2049:"ar-IQ",11265:"ar-JO",13313:"ar-KW",12289:"ar-LB",4097:"ar-LY",6145:"ary",8193:"ar-OM",16385:"ar-QA",1025:"ar-SA",10241:"ar-SY",7169:"aeb",14337:"ar-AE",9217:"ar-YE",1067:"hy",1101:"as",2092:"az-Cyrl",1068:"az",1133:"ba",1069:"eu",1059:"be",2117:"bn",1093:"bn-IN",8218:"bs-Cyrl",5146:"bs",1150:"br",1026:"bg",1027:"ca",3076:"zh-HK",5124:"zh-MO",2052:"zh",4100:"zh-SG",1028:"zh-TW",1155:"co",1050:"hr",4122:"hr-BA",1029:"cs",1030:"da",1164:"prs",1125:"dv",2067:"nl-BE",1043:"nl",3081:"en-AU",10249:"en-BZ",4105:"en-CA",9225:"en-029",16393:"en-IN",6153:"en-IE",8201:"en-JM",17417:"en-MY",5129:"en-NZ",13321:"en-PH",18441:"en-SG",7177:"en-ZA",11273:"en-TT",2057:"en-GB",1033:"en",12297:"en-ZW",1061:"et",1080:"fo",1124:"fil",1035:"fi",2060:"fr-BE",3084:"fr-CA",1036:"fr",5132:"fr-LU",6156:"fr-MC",4108:"fr-CH",1122:"fy",1110:"gl",1079:"ka",3079:"de-AT",1031:"de",5127:"de-LI",4103:"de-LU",2055:"de-CH",1032:"el",1135:"kl",1095:"gu",1128:"ha",1037:"he",1081:"hi",1038:"hu",1039:"is",1136:"ig",1057:"id",1117:"iu",2141:"iu-Latn",2108:"ga",1076:"xh",1077:"zu",1040:"it",2064:"it-CH",1041:"ja",1099:"kn",1087:"kk",1107:"km",1158:"quc",1159:"rw",1089:"sw",1111:"kok",1042:"ko",1088:"ky",1108:"lo",1062:"lv",1063:"lt",2094:"dsb",1134:"lb",1071:"mk",2110:"ms-BN",1086:"ms",1100:"ml",1082:"mt",1153:"mi",1146:"arn",1102:"mr",1148:"moh",1104:"mn",2128:"mn-CN",1121:"ne",1044:"nb",2068:"nn",1154:"oc",1096:"or",1123:"ps",1045:"pl",1046:"pt",2070:"pt-PT",1094:"pa",1131:"qu-BO",2155:"qu-EC",3179:"qu",1048:"ro",1047:"rm",1049:"ru",9275:"smn",4155:"smj-NO",5179:"smj",3131:"se-FI",1083:"se",2107:"se-SE",8251:"sms",6203:"sma-NO",7227:"sms",1103:"sa",7194:"sr-Cyrl-BA",3098:"sr",6170:"sr-Latn-BA",2074:"sr-Latn",1132:"nso",1074:"tn",1115:"si",1051:"sk",1060:"sl",11274:"es-AR",16394:"es-BO",13322:"es-CL",9226:"es-CO",5130:"es-CR",7178:"es-DO",12298:"es-EC",17418:"es-SV",4106:"es-GT",18442:"es-HN",2058:"es-MX",19466:"es-NI",6154:"es-PA",15370:"es-PY",10250:"es-PE",20490:"es-PR",3082:"es",1034:"es",21514:"es-US",14346:"es-UY",8202:"es-VE",2077:"sv-FI",1053:"sv",1114:"syr",1064:"tg",2143:"tzm",1097:"ta",1092:"tt",1098:"te",1054:"th",1105:"bo",1055:"tr",1090:"tk",1152:"ug",1058:"uk",1070:"hsb",1056:"ur",2115:"uz-Cyrl",1091:"uz",1066:"vi",1106:"cy",1160:"wo",1157:"sah",1144:"ii",1130:"yo"},Tt="utf-16",ft={0:"macintosh",1:"x-mac-japanese",2:"x-mac-chinesetrad",3:"x-mac-korean",6:"x-mac-greek",7:"x-mac-cyrillic",9:"x-mac-devanagai",10:"x-mac-gurmukhi",11:"x-mac-gujarati",12:"x-mac-oriya",13:"x-mac-bengali",14:"x-mac-tamil",15:"x-mac-telugu",16:"x-mac-kannada",17:"x-mac-malayalam",18:"x-mac-sinhalese",19:"x-mac-burmese",20:"x-mac-khmer",21:"x-mac-thai",22:"x-mac-lao",23:"x-mac-georgian",24:"x-mac-armenian",25:"x-mac-chinesesimp",26:"x-mac-tibetan",27:"x-mac-mongolian",28:"x-mac-ethiopic",29:"x-mac-ce",30:"x-mac-vietnamese",31:"x-mac-extarabic"},hr={15:"x-mac-icelandic",17:"x-mac-turkish",18:"x-mac-croatian",24:"x-mac-ce",25:"x-mac-ce",26:"x-mac-ce",27:"x-mac-ce",28:"x-mac-ce",30:"x-mac-icelandic",37:"x-mac-romanian",38:"x-mac-ce",39:"x-mac-ce",40:"x-mac-ce",143:"x-mac-inuit",146:"x-mac-gaelic"};function kr(w,E,R){switch(w){case 0:return Tt;case 1:return hr[R]||ft[E];case 3:if(E===1||E===10)return Tt}}function or(w){var E,R={};for(E in w)R[w[E]]=parseInt(E);return R}function Ir(w,E,R,N,q,K){return new Ne.Record("NameRecord",[{name:"platformID",type:"USHORT",value:w},{name:"encodingID",type:"USHORT",value:E},{name:"languageID",type:"USHORT",value:R},{name:"nameID",type:"USHORT",value:N},{name:"length",type:"USHORT",value:q},{name:"offset",type:"USHORT",value:K}])}function Mn(w,E){if((R=function(K,te){var ae=K.length,me=te.length-ae+1;e:for(var ye=0;ye<me;ye++)for(;ye<me;ye++){for(var Ee=0;Ee<ae;Ee++)if(te[ye+Ee]!==K[Ee])continue e;return ye}return-1}(w,E))<0)for(var R=E.length,N=0,q=w.length;N<q;++N)E.push(w[N]);return R}var Xr={parse:function(w,E,R){for(var N={},q=new De.Parser(w,E),E=q.parseUShort(),K=q.parseUShort(),te=q.offset+q.parseUShort(),ae=0;ae<K;ae++){var Ye=q.parseUShort(),me=q.parseUShort(),ye=q.parseUShort(),Ee=q.parseUShort(),Ee=Nt[Ee]||Ee,Le=q.parseUShort(),Pe=q.parseUShort(),we=function(We,Fe,Ue){switch(We){case 0:if(Fe===65535)return"und";if(Ue)return Ue[Fe];break;case 1:return Qe[Fe];case 3:return ht[Fe]}}(Ye,ye,R),Ye=kr(Ye,me,ye);Ye!==void 0&&we!==void 0&&(me=void 0,(me=Ye===Tt?H.UTF16(w,te+Pe,Le):H.MACSTRING(w,te+Pe,Le,Ye))&&((ye=(ye=N[Ee])===void 0?N[Ee]={}:ye)[we]=me))}return E===1&&q.parseUShort(),N},make:function(w,E){var R,N=[],q={},K=or(Nt);for(R in w){var te=K[R];if(te===void 0&&(te=R),Pe=parseInt(te),isNaN(Pe))throw new Error('Name table entry "'+R+'" does not exist, see nameTableNames for complete list.');q[Pe]=w[R],N.push(Pe)}for(var ae=or(Qe),me=or(ht),ye=[],Ee=[],Le=0;Le<N.length;Le++){var Pe,we,Ye=q[Pe=N[Le]];for(we in Ye){var Be=Ye[we],Rt=1,We=ae[we],Fe=Gt[We],Ue=kr(Rt,Fe,We),Ue=$.MACSTRING(Be,Ue),bt=(Ue===void 0&&(Rt=0,(We=E.indexOf(we))<0&&(We=E.length,E.push(we)),Fe=4,Ue=$.UTF16(Be)),Mn(Ue,Ee)),Rt=(ye.push(Ir(Rt,Fe,We,Pe,Ue.length,bt)),me[we]);Rt!==void 0&&(We=Mn(Fe=$.UTF16(Be),Ee),ye.push(Ir(3,1,Rt,Pe,Fe.length,We)))}}ye.sort(function(Lt,Yt){return Lt.platformID-Yt.platformID||Lt.encodingID-Yt.encodingID||Lt.languageID-Yt.languageID||Lt.nameID-Yt.nameID});for(var gt=new Ne.Table("name",[{name:"format",type:"USHORT",value:0},{name:"count",type:"USHORT",value:ye.length},{name:"stringOffset",type:"USHORT",value:6+12*ye.length}]),_t=0;_t<ye.length;_t++)gt.fields.push({name:"record_"+_t,type:"RECORD",value:ye[_t]});return gt.fields.push({name:"strings",type:"LITERAL",value:Ee}),gt}},Or=[{begin:0,end:127},{begin:128,end:255},{begin:256,end:383},{begin:384,end:591},{begin:592,end:687},{begin:688,end:767},{begin:768,end:879},{begin:880,end:1023},{begin:11392,end:11519},{begin:1024,end:1279},{begin:1328,end:1423},{begin:1424,end:1535},{begin:42240,end:42559},{begin:1536,end:1791},{begin:1984,end:2047},{begin:2304,end:2431},{begin:2432,end:2559},{begin:2560,end:2687},{begin:2688,end:2815},{begin:2816,end:2943},{begin:2944,end:3071},{begin:3072,end:3199},{begin:3200,end:3327},{begin:3328,end:3455},{begin:3584,end:3711},{begin:3712,end:3839},{begin:4256,end:4351},{begin:6912,end:7039},{begin:4352,end:4607},{begin:7680,end:7935},{begin:7936,end:8191},{begin:8192,end:8303},{begin:8304,end:8351},{begin:8352,end:8399},{begin:8400,end:8447},{begin:8448,end:8527},{begin:8528,end:8591},{begin:8592,end:8703},{begin:8704,end:8959},{begin:8960,end:9215},{begin:9216,end:9279},{begin:9280,end:9311},{begin:9312,end:9471},{begin:9472,end:9599},{begin:9600,end:9631},{begin:9632,end:9727},{begin:9728,end:9983},{begin:9984,end:10175},{begin:12288,end:12351},{begin:12352,end:12447},{begin:12448,end:12543},{begin:12544,end:12591},{begin:12592,end:12687},{begin:43072,end:43135},{begin:12800,end:13055},{begin:13056,end:13311},{begin:44032,end:55215},{begin:55296,end:57343},{begin:67840,end:67871},{begin:19968,end:40959},{begin:57344,end:63743},{begin:12736,end:12783},{begin:64256,end:64335},{begin:64336,end:65023},{begin:65056,end:65071},{begin:65040,end:65055},{begin:65104,end:65135},{begin:65136,end:65279},{begin:65280,end:65519},{begin:65520,end:65535},{begin:3840,end:4095},{begin:1792,end:1871},{begin:1920,end:1983},{begin:3456,end:3583},{begin:4096,end:4255},{begin:4608,end:4991},{begin:5024,end:5119},{begin:5120,end:5759},{begin:5760,end:5791},{begin:5792,end:5887},{begin:6016,end:6143},{begin:6144,end:6319},{begin:10240,end:10495},{begin:40960,end:42127},{begin:5888,end:5919},{begin:66304,end:66351},{begin:66352,end:66383},{begin:66560,end:66639},{begin:118784,end:119039},{begin:119808,end:120831},{begin:1044480,end:1048573},{begin:65024,end:65039},{begin:917504,end:917631},{begin:6400,end:6479},{begin:6480,end:6527},{begin:6528,end:6623},{begin:6656,end:6687},{begin:11264,end:11359},{begin:11568,end:11647},{begin:19904,end:19967},{begin:43008,end:43055},{begin:65536,end:65663},{begin:65856,end:65935},{begin:66432,end:66463},{begin:66464,end:66527},{begin:66640,end:66687},{begin:66688,end:66735},{begin:67584,end:67647},{begin:68096,end:68191},{begin:119552,end:119647},{begin:73728,end:74751},{begin:119648,end:119679},{begin:7040,end:7103},{begin:7168,end:7247},{begin:7248,end:7295},{begin:43136,end:43231},{begin:43264,end:43311},{begin:43312,end:43359},{begin:43520,end:43615},{begin:65936,end:65999},{begin:66e3,end:66047},{begin:66208,end:66271},{begin:127024,end:127135}],Dr={parse:function(w,E){var R={},N=new De.Parser(w,E);R.version=N.parseUShort(),R.xAvgCharWidth=N.parseShort(),R.usWeightClass=N.parseUShort(),R.usWidthClass=N.parseUShort(),R.fsType=N.parseUShort(),R.ySubscriptXSize=N.parseShort(),R.ySubscriptYSize=N.parseShort(),R.ySubscriptXOffset=N.parseShort(),R.ySubscriptYOffset=N.parseShort(),R.ySuperscriptXSize=N.parseShort(),R.ySuperscriptYSize=N.parseShort(),R.ySuperscriptXOffset=N.parseShort(),R.ySuperscriptYOffset=N.parseShort(),R.yStrikeoutSize=N.parseShort(),R.yStrikeoutPosition=N.parseShort(),R.sFamilyClass=N.parseShort(),R.panose=[];for(var q=0;q<10;q++)R.panose[q]=N.parseByte();return R.ulUnicodeRange1=N.parseULong(),R.ulUnicodeRange2=N.parseULong(),R.ulUnicodeRange3=N.parseULong(),R.ulUnicodeRange4=N.parseULong(),R.achVendID=String.fromCharCode(N.parseByte(),N.parseByte(),N.parseByte(),N.parseByte()),R.fsSelection=N.parseUShort(),R.usFirstCharIndex=N.parseUShort(),R.usLastCharIndex=N.parseUShort(),R.sTypoAscender=N.parseShort(),R.sTypoDescender=N.parseShort(),R.sTypoLineGap=N.parseShort(),R.usWinAscent=N.parseUShort(),R.usWinDescent=N.parseUShort(),1<=R.version&&(R.ulCodePageRange1=N.parseULong(),R.ulCodePageRange2=N.parseULong()),2<=R.version&&(R.sxHeight=N.parseShort(),R.sCapHeight=N.parseShort(),R.usDefaultChar=N.parseUShort(),R.usBreakChar=N.parseUShort(),R.usMaxContent=N.parseUShort()),R},make:function(w){return new Ne.Table("OS/2",[{name:"version",type:"USHORT",value:3},{name:"xAvgCharWidth",type:"SHORT",value:0},{name:"usWeightClass",type:"USHORT",value:0},{name:"usWidthClass",type:"USHORT",value:0},{name:"fsType",type:"USHORT",value:0},{name:"ySubscriptXSize",type:"SHORT",value:650},{name:"ySubscriptYSize",type:"SHORT",value:699},{name:"ySubscriptXOffset",type:"SHORT",value:0},{name:"ySubscriptYOffset",type:"SHORT",value:140},{name:"ySuperscriptXSize",type:"SHORT",value:650},{name:"ySuperscriptYSize",type:"SHORT",value:699},{name:"ySuperscriptXOffset",type:"SHORT",value:0},{name:"ySuperscriptYOffset",type:"SHORT",value:479},{name:"yStrikeoutSize",type:"SHORT",value:49},{name:"yStrikeoutPosition",type:"SHORT",value:258},{name:"sFamilyClass",type:"SHORT",value:0},{name:"bFamilyType",type:"BYTE",value:0},{name:"bSerifStyle",type:"BYTE",value:0},{name:"bWeight",type:"BYTE",value:0},{name:"bProportion",type:"BYTE",value:0},{name:"bContrast",type:"BYTE",value:0},{name:"bStrokeVariation",type:"BYTE",value:0},{name:"bArmStyle",type:"BYTE",value:0},{name:"bLetterform",type:"BYTE",value:0},{name:"bMidline",type:"BYTE",value:0},{name:"bXHeight",type:"BYTE",value:0},{name:"ulUnicodeRange1",type:"ULONG",value:0},{name:"ulUnicodeRange2",type:"ULONG",value:0},{name:"ulUnicodeRange3",type:"ULONG",value:0},{name:"ulUnicodeRange4",type:"ULONG",value:0},{name:"achVendID",type:"CHARARRAY",value:"XXXX"},{name:"fsSelection",type:"USHORT",value:0},{name:"usFirstCharIndex",type:"USHORT",value:0},{name:"usLastCharIndex",type:"USHORT",value:0},{name:"sTypoAscender",type:"SHORT",value:0},{name:"sTypoDescender",type:"SHORT",value:0},{name:"sTypoLineGap",type:"SHORT",value:0},{name:"usWinAscent",type:"USHORT",value:0},{name:"usWinDescent",type:"USHORT",value:0},{name:"ulCodePageRange1",type:"ULONG",value:0},{name:"ulCodePageRange2",type:"ULONG",value:0},{name:"sxHeight",type:"SHORT",value:0},{name:"sCapHeight",type:"SHORT",value:0},{name:"usDefaultChar",type:"USHORT",value:0},{name:"usBreakChar",type:"USHORT",value:0},{name:"usMaxContext",type:"USHORT",value:0}],w)},unicodeRanges:Or,getUnicodeRange:function(w){for(var E=0;E<Or.length;E+=1){var R=Or[E];if(w>=R.begin&&w<R.end)return E}return-1}},gn={parse:function(w,E){var R={},N=new De.Parser(w,E);switch(R.version=N.parseVersion(),R.italicAngle=N.parseFixed(),R.underlinePosition=N.parseShort(),R.underlineThickness=N.parseShort(),R.isFixedPitch=N.parseULong(),R.minMemType42=N.parseULong(),R.maxMemType42=N.parseULong(),R.minMemType1=N.parseULong(),R.maxMemType1=N.parseULong(),R.version){case 1:R.names=ke.slice();break;case 2:R.numberOfGlyphs=N.parseUShort(),R.glyphNameIndex=new Array(R.numberOfGlyphs);for(var q=0;q<R.numberOfGlyphs;q++)R.glyphNameIndex[q]=N.parseUShort();R.names=[];for(var K,te=0;te<R.numberOfGlyphs;te++)R.glyphNameIndex[te]>=ke.length&&(K=N.parseChar(),R.names.push(N.parseString(K)));break;case 2.5:R.numberOfGlyphs=N.parseUShort(),R.offset=new Array(R.numberOfGlyphs);for(var ae=0;ae<R.numberOfGlyphs;ae++)R.offset[ae]=N.parseChar()}return R},make:function(){return new Ne.Table("post",[{name:"version",type:"FIXED",value:196608},{name:"italicAngle",type:"FIXED",value:0},{name:"underlinePosition",type:"FWORD",value:0},{name:"underlineThickness",type:"FWORD",value:0},{name:"isFixedPitch",type:"ULONG",value:0},{name:"minMemType42",type:"ULONG",value:0},{name:"maxMemType42",type:"ULONG",value:0},{name:"minMemType1",type:"ULONG",value:0},{name:"maxMemType1",type:"ULONG",value:0}])}},On=new Array(9),$s=(On[1]=function(){var w=this.offset+this.relativeOffset,E=this.parseUShort();return E===1?{substFormat:1,coverage:this.parsePointer(Oe.coverage),deltaGlyphId:this.parseUShort()}:E===2?{substFormat:2,coverage:this.parsePointer(Oe.coverage),substitute:this.parseOffset16List()}:void B.assert(!1,"0x"+w.toString(16)+": lookup type 1 format must be 1 or 2.")},On[2]=function(){var w=this.parseUShort();return B.argument(w===1,"GSUB Multiple Substitution Subtable identifier-format must be 1"),{substFormat:w,coverage:this.parsePointer(Oe.coverage),sequences:this.parseListOfLists()}},On[3]=function(){var w=this.parseUShort();return B.argument(w===1,"GSUB Alternate Substitution Subtable identifier-format must be 1"),{substFormat:w,coverage:this.parsePointer(Oe.coverage),alternateSets:this.parseListOfLists()}},On[4]=function(){var w=this.parseUShort();return B.argument(w===1,"GSUB ligature table identifier-format must be 1"),{substFormat:w,coverage:this.parsePointer(Oe.coverage),ligatureSets:this.parseListOfLists(function(){return{ligGlyph:this.parseUShort(),components:this.parseUShortList(this.parseUShort()-1)}})}},{sequenceIndex:Oe.uShort,lookupListIndex:Oe.uShort});On[5]=function(){var w,E,R=this.offset+this.relativeOffset,N=this.parseUShort();return N===1?{substFormat:N,coverage:this.parsePointer(Oe.coverage),ruleSets:this.parseListOfLists(function(){var q=this.parseUShort(),K=this.parseUShort();return{input:this.parseUShortList(q-1),lookupRecords:this.parseRecordList(K,$s)}})}:N===2?{substFormat:N,coverage:this.parsePointer(Oe.coverage),classDef:this.parsePointer(Oe.classDef),classSets:this.parseListOfLists(function(){var q=this.parseUShort(),K=this.parseUShort();return{classes:this.parseUShortList(q-1),lookupRecords:this.parseRecordList(K,$s)}})}:N===3?(w=this.parseUShort(),E=this.parseUShort(),{substFormat:N,coverages:this.parseList(w,Oe.pointer(Oe.coverage)),lookupRecords:this.parseRecordList(E,$s)}):void B.assert(!1,"0x"+R.toString(16)+": lookup type 5 format must be 1, 2 or 3.")},On[6]=function(){var w=this.offset+this.relativeOffset,E=this.parseUShort();return E===1?{substFormat:1,coverage:this.parsePointer(Oe.coverage),chainRuleSets:this.parseListOfLists(function(){return{backtrack:this.parseUShortList(),input:this.parseUShortList(this.parseShort()-1),lookahead:this.parseUShortList(),lookupRecords:this.parseRecordList($s)}})}:E===2?{substFormat:2,coverage:this.parsePointer(Oe.coverage),backtrackClassDef:this.parsePointer(Oe.classDef),inputClassDef:this.parsePointer(Oe.classDef),lookaheadClassDef:this.parsePointer(Oe.classDef),chainClassSet:this.parseListOfLists(function(){return{backtrack:this.parseUShortList(),input:this.parseUShortList(this.parseShort()-1),lookahead:this.parseUShortList(),lookupRecords:this.parseRecordList($s)}})}:E===3?{substFormat:3,backtrackCoverage:this.parseList(Oe.pointer(Oe.coverage)),inputCoverage:this.parseList(Oe.pointer(Oe.coverage)),lookaheadCoverage:this.parseList(Oe.pointer(Oe.coverage)),lookupRecords:this.parseRecordList($s)}:void B.assert(!1,"0x"+w.toString(16)+": lookup type 6 format must be 1, 2 or 3.")},On[7]=function(){var w=this.parseUShort(),w=(B.argument(w===1,"GSUB Extension Substitution subtable identifier-format must be 1"),this.parseUShort()),E=new Oe(this.data,this.offset+this.parseULong());return{substFormat:1,lookupType:w,extension:On[w].call(E)}},On[8]=function(){var w=this.parseUShort();return B.argument(w===1,"GSUB Reverse Chaining Contextual Single Substitution Subtable identifier-format must be 1"),{substFormat:w,coverage:this.parsePointer(Oe.coverage),backtrackCoverage:this.parseList(Oe.pointer(Oe.coverage)),lookaheadCoverage:this.parseList(Oe.pointer(Oe.coverage)),substitutes:this.parseUShortList()}};var gi=new Array(9);gi[1]=function(w){return w.substFormat===1?new Ne.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new Ne.Coverage(w.coverage)},{name:"deltaGlyphID",type:"USHORT",value:w.deltaGlyphId}]):new Ne.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:2},{name:"coverage",type:"TABLE",value:new Ne.Coverage(w.coverage)}].concat(Ne.ushortList("substitute",w.substitute)))},gi[3]=function(w){return B.assert(w.substFormat===1,"Lookup type 3 substFormat must be 1."),new Ne.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new Ne.Coverage(w.coverage)}].concat(Ne.tableList("altSet",w.alternateSets,function(E){return new Ne.Table("alternateSetTable",Ne.ushortList("alternate",E))})))},gi[4]=function(w){return B.assert(w.substFormat===1,"Lookup type 4 substFormat must be 1."),new Ne.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new Ne.Coverage(w.coverage)}].concat(Ne.tableList("ligSet",w.ligatureSets,function(E){return new Ne.Table("ligatureSetTable",Ne.tableList("ligature",E,function(R){return new Ne.Table("ligatureTable",[{name:"ligGlyph",type:"USHORT",value:R.ligGlyph}].concat(Ne.ushortList("component",R.components,R.components.length+1)))}))})))};var Do={parse:function(w,E){return E=(w=new Oe(w,E=E||0)).parseVersion(1),B.argument(E===1||E===1.1,"Unsupported GSUB table version."),E===1?{version:E,scripts:w.parseScriptList(),features:w.parseFeatureList(),lookups:w.parseLookupList(On)}:{version:E,scripts:w.parseScriptList(),features:w.parseFeatureList(),lookups:w.parseLookupList(On),variations:w.parseFeatureVariationsList()}},make:function(w){return new Ne.Table("GSUB",[{name:"version",type:"ULONG",value:65536},{name:"scripts",type:"TABLE",value:new Ne.ScriptList(w.scripts)},{name:"features",type:"TABLE",value:new Ne.FeatureList(w.features)},{name:"lookups",type:"TABLE",value:new Ne.LookupList(w.lookups,gi)}])}},Lo={parse:function(w,E){for(var R=new De.Parser(w,E),N=R.parseULong(),q=(B.argument(N===1,"Unsupported META table version."),R.parseULong(),R.parseULong(),R.parseULong()),K={},te=0;te<q;te++){var ae=R.parseTag(),ye=R.parseULong(),me=R.parseULong(),ye=H.UTF8(w,E+ye,me);K[ae]=ye}return K},make:function(w){var E,R=Object.keys(w).length,N="",q=16+12*R,K=new Ne.Table("meta",[{name:"version",type:"ULONG",value:1},{name:"flags",type:"ULONG",value:0},{name:"offset",type:"ULONG",value:q},{name:"numTags",type:"ULONG",value:R}]);for(E in w){var te=N.length;N+=w[E],K.fields.push({name:"tag "+E,type:"TAG",value:E}),K.fields.push({name:"offset "+E,type:"ULONG",value:q+te}),K.fields.push({name:"length "+E,type:"ULONG",value:w[E].length})}return K.fields.push({name:"stringPool",type:"CHARARRAY",value:N}),K}};function Js(w){return Math.log(w)/Math.log(2)|0}function Zs(w){for(;w.length%4!=0;)w.push(0);for(var E=0,R=0;R<w.length;R+=4)E+=(w[R]<<24)+(w[R+1]<<16)+(w[R+2]<<8)+w[R+3];return E%=Math.pow(2,32)}function il(w,E,R,N){return new Ne.Record("Table Record",[{name:"tag",type:"TAG",value:w!==void 0?w:""},{name:"checkSum",type:"ULONG",value:E!==void 0?E:0},{name:"offset",type:"ULONG",value:R!==void 0?R:0},{name:"length",type:"ULONG",value:N!==void 0?N:0}])}function al(w){for(var E=new Ne.Table("sfnt",[{name:"version",type:"TAG",value:"OTTO"},{name:"numTables",type:"USHORT",value:0},{name:"searchRange",type:"USHORT",value:0},{name:"entrySelector",type:"USHORT",value:0},{name:"rangeShift",type:"USHORT",value:0}]),R=(E.tables=w,E.numTables=w.length,Math.pow(2,Js(E.numTables))),N=(E.searchRange=16*R,E.entrySelector=Js(R),E.rangeShift=16*E.numTables-E.searchRange,[]),q=[],K=E.sizeOf()+il().sizeOf()*E.numTables;K%4!=0;)K+=1,q.push({name:"padding",type:"BYTE",value:0});for(var te=0;te<w.length;te+=1){var ae=w[te],me=(B.argument(ae.tableName.length===4,"Table name"+ae.tableName+" is invalid."),ae.sizeOf()),ye=il(ae.tableName,Zs(ae.encode()),K,me);for(N.push({name:ye.tag+" Table Record",type:"RECORD",value:ye}),q.push({name:ae.tableName+" table",type:"RECORD",value:ae}),K+=me,B.argument(!isNaN(K),"Something went wrong calculating the offset.");K%4!=0;)K+=1,q.push({name:"padding",type:"BYTE",value:0})}return N.sort(function(Ee,Le){return Ee.value.tag>Le.value.tag?1:-1}),E.fields=E.fields.concat(N),E.fields=E.fields.concat(q),E}function vi(w,E,R){for(var N=0;N<E.length;N+=1){var q=w.charToGlyphIndex(E[N]);if(0<q)return w.glyphs.get(q).getMetrics()}return R}var ll={make:al,fontToTable:function(w){for(var E,R=[],N=[],q=[],K=[],te=[],ae=[],me=[],ye=0,Ee=0,Le=0,Pe=0,we=0,Ye=0;Ye<w.glyphs.length;Ye+=1){var Be=w.glyphs.get(Ye),We=0|Be.unicode;if(isNaN(Be.advanceWidth))throw new Error("Glyph "+Be.name+" ("+Ye+"): advanceWidth is not a number.");(We<E||E===void 0)&&0<We&&(E=We),ye<We&&(ye=We);var We=Dr.getUnicodeRange(We);if(We<32)Ee|=1<<We;else if(We<64)Le|=1<<We-32;else if(We<96)Pe|=1<<We-64;else{if(!(We<123))throw new Error("Unicode ranges bits > 123 are reserved for internal usage");we|=1<<We-96}Be.name!==".notdef"&&(We=Be.getMetrics(),R.push(We.xMin),N.push(We.yMin),q.push(We.xMax),K.push(We.yMax),ae.push(We.leftSideBearing),me.push(We.rightSideBearing),te.push(Be.advanceWidth))}var Fe,Ue={xMin:Math.min.apply(null,R),yMin:Math.min.apply(null,N),xMax:Math.max.apply(null,q),yMax:Math.max.apply(null,K),advanceWidthMax:Math.max.apply(null,te),advanceWidthAvg:function(Jt){for(var ns=0,Rs=0;Rs<Jt.length;Rs+=1)ns+=Jt[Rs];return ns/Jt.length}(te),minLeftSideBearing:Math.min.apply(null,ae),maxLeftSideBearing:Math.max.apply(null,ae),minRightSideBearing:Math.min.apply(null,me)},bt=(Ue.ascender=w.ascender,Ue.descender=w.descender,Qs.make({flags:3,unitsPerEm:w.unitsPerEm,xMin:Ue.xMin,yMin:Ue.yMin,xMax:Ue.xMax,yMax:Ue.yMax,lowestRecPPEM:3,createdTimestamp:w.createdTimestamp})),Rt=xe.make({ascender:Ue.ascender,descender:Ue.descender,advanceWidthMax:Ue.advanceWidthMax,minLeftSideBearing:Ue.minLeftSideBearing,minRightSideBearing:Ue.minRightSideBearing,xMaxExtent:Ue.maxLeftSideBearing+(Ue.xMax-Ue.xMin),numberOfHMetrics:w.glyphs.length}),gt=$e.make(w.glyphs.length),_t=Dr.make({xAvgCharWidth:Math.round(Ue.advanceWidthAvg),usWeightClass:w.tables.os2.usWeightClass,usWidthClass:w.tables.os2.usWidthClass,usFirstCharIndex:E,usLastCharIndex:ye,ulUnicodeRange1:Ee,ulUnicodeRange2:Le,ulUnicodeRange3:Pe,ulUnicodeRange4:we,fsSelection:w.tables.os2.fsSelection,sTypoAscender:Ue.ascender,sTypoDescender:Ue.descender,sTypoLineGap:0,usWinAscent:Ue.yMax,usWinDescent:Math.abs(Ue.yMin),ulCodePageRange1:1,sxHeight:vi(w,"xyvw",{yMax:Math.round(Ue.ascender/2)}).yMax,sCapHeight:vi(w,"HIKLEFJMNTZBDPRAGOQSUVWXY",Ue).yMax,usDefaultChar:w.hasChar(" ")?32:0,usBreakChar:w.hasChar(" ")?32:0}),Lt=Ze.make(w.glyphs),Yt=oe.make(w.glyphs),rr=w.getEnglishName("fontFamily"),Qt=w.getEnglishName("fontSubfamily"),$t=rr+" "+Qt,vr=(vr=w.getEnglishName("postScriptName"))||rr.replace(/\s/g,"")+"-"+Qt,xr={};for(Fe in w.names)xr[Fe]=w.names[Fe];xr.uniqueID||(xr.uniqueID={en:w.getEnglishName("manufacturer")+":"+$t}),xr.postScriptName||(xr.postScriptName={en:vr}),xr.preferredFamily||(xr.preferredFamily=w.names.fontFamily),xr.preferredSubfamily||(xr.preferredSubfamily=w.names.fontSubfamily);var Nr=[],Lr=Xr.make(xr,Nr),Nr=0<Nr.length?dt.make(Nr):void 0,bn=gn.make(),$t=Cn.make(w.glyphs,{version:w.getEnglishName("version"),fullName:$t,familyName:rr,weightName:Qt,postScriptName:vr,unitsPerEm:w.unitsPerEm,fontBBox:[0,Ue.yMin,Ue.ascender,Ue.advanceWidthMax]}),rr=w.metas&&0<Object.keys(w.metas).length?Lo.make(w.metas):void 0,Qt=[bt,Rt,gt,_t,Lr,Yt,bn,$t,Lt];Nr&&Qt.push(Nr),w.tables.gsub&&Qt.push(Do.make(w.tables.gsub)),rr&&Qt.push(rr);for(var Yr=Zs((vr=al(Qt)).encode()),dr=vr.fields,zr=!1,ir=0;ir<dr.length;ir+=1)if(dr[ir].name==="head table"){dr[ir].value.checkSumAdjustment=2981146554-Yr,zr=!0;break}if(zr)return vr;throw new Error("Could not find head table with checkSum to adjust.")},computeCheckSum:Zs};function No(w,E){for(var R=0,N=w.length-1;R<=N;){var q=R+N>>>1,K=w[q].tag;if(K===E)return q;K<E?R=1+q:N=q-1}return-R-1}function Ks(w,E){for(var R=0,N=w.length-1;R<=N;){var q=R+N>>>1,K=w[q];if(K===E)return q;K<E?R=1+q:N=q-1}return-R-1}function ul(w,E){for(var R=0,N=w.length-1;R<=N;){var q,K=R+N>>>1,te=(q=w[K]).start;if(te===E)return q;te<E?R=1+K:N=K-1}if(0<R)return E>(q=w[R-1]).end?0:q}function eo(w,E){this.font=w,this.tableName=E}function zt(w){eo.call(this,w,"gpos")}function An(w){eo.call(this,w,"gsub")}function la(w,E,R){for(var N=w.subtables,q=0;q<N.length;q++){var K=N[q];if(K.substFormat===E)return K}if(R)return N.push(R),R}function _i(w){for(var E=new ArrayBuffer(w.length),R=new Uint8Array(E),N=0;N<w.length;++N)R[N]=w[N];return E}function As(w,E){if(!w)throw E}function ua(w,E,R,N,q){var K=0<(E&N)?(K=w.parseByte(),R+(K=E&q?K:-K)):0<(E&q)?R:R+w.parseShort();return K}function cl(w,E,R){var N,q=new De.Parser(E,R);if(w.numberOfContours=q.parseShort(),w._xMin=q.parseShort(),w._yMin=q.parseShort(),w._xMax=q.parseShort(),w._yMax=q.parseShort(),0<w.numberOfContours){for(var K=w.endPointIndices=[],te=0;te<w.numberOfContours;te+=1)K.push(q.parseUShort());w.instructionLength=q.parseUShort(),w.instructions=[];for(var ae=0;ae<w.instructionLength;ae+=1)w.instructions.push(q.parseByte());for(var me=K[K.length-1]+1,ye=[],Ee=0;Ee<me;Ee+=1)if(N=q.parseByte(),ye.push(N),0<(8&N))for(var Le=q.parseByte(),Pe=0;Pe<Le;Pe+=1)ye.push(N),Ee+=1;if(B.argument(ye.length===me,"Bad flags."),0<K.length){var we,Ye=[];if(0<me){for(var Be=0;Be<me;Be+=1)N=ye[Be],(we={}).onCurve=!!(1&N),we.lastPointOfContour=0<=K.indexOf(Be),Ye.push(we);for(var We=0,Fe=0;Fe<me;Fe+=1)N=ye[Fe],(we=Ye[Fe]).x=ua(q,N,We,2,16),We=we.x;for(var Ue=0,bt=0;bt<me;bt+=1)N=ye[bt],(we=Ye[bt]).y=ua(q,N,Ue,4,32),Ue=we.y}w.points=Ye}else w.points=[]}else if(w.numberOfContours===0)w.points=[];else{w.isComposite=!0,w.points=[],w.components=[];for(var Rt=!0;Rt;){ye=q.parseUShort();var gt={glyphIndex:q.parseUShort(),xScale:1,scale01:0,scale10:0,yScale:1,dx:0,dy:0};0<(1&ye)?0<(2&ye)?(gt.dx=q.parseShort(),gt.dy=q.parseShort()):gt.matchedPoints=[q.parseUShort(),q.parseUShort()]:0<(2&ye)?(gt.dx=q.parseChar(),gt.dy=q.parseChar()):gt.matchedPoints=[q.parseByte(),q.parseByte()],0<(8&ye)?gt.xScale=gt.yScale=q.parseF2Dot14():0<(64&ye)?(gt.xScale=q.parseF2Dot14(),gt.yScale=q.parseF2Dot14()):0<(128&ye)&&(gt.xScale=q.parseF2Dot14(),gt.scale01=q.parseF2Dot14(),gt.scale10=q.parseF2Dot14(),gt.yScale=q.parseF2Dot14()),w.components.push(gt),Rt=!!(32&ye)}if(256&ye){w.instructionLength=q.parseUShort(),w.instructions=[];for(var _t=0;_t<w.instructionLength;_t+=1)w.instructions.push(q.parseByte())}}}function Fo(w,E){for(var R=[],N=0;N<w.length;N+=1){var q=w[N],q={x:E.xScale*q.x+E.scale01*q.y+E.dx,y:E.scale10*q.x+E.yScale*q.y+E.dy,onCurve:q.onCurve,lastPointOfContour:q.lastPointOfContour};R.push(q)}return R}function Uo(w){var E=new ee;if(w)for(var R=function(Le){for(var Pe=[],we=[],Ye=0;Ye<Le.length;Ye+=1){var Be=Le[Ye];we.push(Be),Be.lastPointOfContour&&(Pe.push(we),we=[])}return B.argument(we.length===0,"There are still points left in the current contour."),Pe}(w),N=0;N<R.length;++N){var q,K=R[N],te=K[K.length-1],ae=K[0];te.onCurve?E.moveTo(te.x,te.y):ae.onCurve?E.moveTo(ae.x,ae.y):(q={x:.5*(te.x+ae.x),y:.5*(te.y+ae.y)},E.moveTo(q.x,q.y));for(var me=0;me<K.length;++me){var ye,Ee=te,te=ae,ae=K[(me+1)%K.length];te.onCurve?E.lineTo(te.x,te.y):(ye=ae,Ee.onCurve||(te.x,Ee.x,te.y,Ee.y),ae.onCurve||(ye={x:.5*(te.x+ae.x),y:.5*(te.y+ae.y)}),E.quadraticCurveTo(te.x,te.y,ye.x,ye.y))}E.closePath()}return E}function ys(w,E){if(E.isComposite)for(var R=0;R<E.components.length;R+=1){var N=E.components[R],q=w.get(N.glyphIndex);if(q.getPath(),q.points){var K=void 0;if(N.matchedPoints===void 0)K=Fo(q.points,N);else{if(N.matchedPoints[0]>E.points.length-1||N.matchedPoints[1]>q.points.length-1)throw Error("Matched points out of range in "+E.name);var te=E.points[N.matchedPoints[0]],ae=q.points[N.matchedPoints[1]],N={xScale:N.xScale,scale01:N.scale01,scale10:N.scale10,yScale:N.yScale,dx:0,dy:0},ae=Fo([ae],N)[0];N.dx=te.x-ae.x,N.dy=te.y-ae.y,K=Fo(q.points,N)}E.points=E.points.concat(K)}}return Uo(E.points)}(zt.prototype=eo.prototype={searchTag:No,binSearch:Ks,getTable:function(w){var E=this.font.tables[this.tableName];return E=!E&&w?this.font.tables[this.tableName]=this.createDefaultTable():E},getScriptNames:function(){var w=this.getTable();return w?w.scripts.map(function(E){return E.tag}):[]},getDefaultScriptName:function(){var w=this.getTable();if(w){for(var E=!1,R=0;R<w.scripts.length;R++){var N=w.scripts[R].tag;if(N==="DFLT")return N;N==="latn"&&(E=!0)}return E?"latn":void 0}},getScriptTable:function(w,E){var R,N=this.getTable(E);if(N)return R=N.scripts,0<=(N=No(N.scripts,w=w||"DFLT"))?R[N].script:E?(R.splice(-1-N,0,E={tag:w,script:{defaultLangSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]},langSysRecords:[]}}),E.script):void 0},getLangSysTable:function(q,E,R){var N,q=this.getScriptTable(q,R);if(q)return E&&E!=="dflt"&&E!=="DFLT"?0<=(N=No(q.langSysRecords,E))?q.langSysRecords[N].langSys:R?(q.langSysRecords.splice(-1-N,0,R={tag:E,langSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]}}),R.langSys):void 0:q.defaultLangSys},getFeatureTable:function(w,E,R,N){if(w=this.getLangSysTable(w,E,N),w){for(var q,K=w.featureIndexes,te=this.font.tables[this.tableName].features,ae=0;ae<K.length;ae++)if((q=te[K[ae]]).tag===R)return q.feature;if(N)return E=te.length,B.assert(E===0||R>=te[E-1].tag,"Features must be added in alphabetical order."),te.push(q={tag:R,feature:{params:0,lookupListIndexes:[]}}),K.push(E),q.feature}},getLookupTables:function(K,E,R,N,q){var K=this.getFeatureTable(K,E,R,q),te=[];if(K){for(var ae,me=K.lookupListIndexes,ye=this.font.tables[this.tableName].lookups,Ee=0;Ee<me.length;Ee++)(ae=ye[me[Ee]]).lookupType===N&&te.push(ae);if(te.length===0&&q)return E=ye.length,ye.push(ae={lookupType:N,lookupFlag:0,subtables:[],markFilteringSet:void 0}),me.push(E),[ae]}return te},getGlyphClass:function(w,E){switch(w.format){case 1:return w.startGlyph<=E&&E<w.startGlyph+w.classes.length?w.classes[E-w.startGlyph]:0;case 2:var R=ul(w.ranges,E);return R?R.classId:0}},getCoverageIndex:function(w,E){switch(w.format){case 1:var R=Ks(w.glyphs,E);return 0<=R?R:-1;case 2:return R=ul(w.ranges,E),R?R.index+E-R.start:-1}},expandCoverage:function(w){if(w.format===1)return w.glyphs;for(var E=[],R=w.ranges,N=0;N<R.length;N++)for(var q=R[N],K=q.start,te=q.end,ae=K;ae<=te;ae++)E.push(ae);return E}}).init=function(){var w=this.getDefaultScriptName();this.defaultKerningTables=this.getKerningTables(w)},zt.prototype.getKerningValue=function(w,E,R){for(var N=0;N<w.length;N++)for(var q=w[N].subtables,K=0;K<q.length;K++){var te=q[K],ae=this.getCoverageIndex(te.coverage,E);if(!(ae<0))switch(te.posFormat){case 1:for(var me=te.pairSets[ae],ye=0;ye<me.length;ye++){var Ee=me[ye];if(Ee.secondGlyph===R)return Ee.value1&&Ee.value1.xAdvance||0}break;case 2:var Pe=this.getGlyphClass(te.classDef1,E),Le=this.getGlyphClass(te.classDef2,R),Pe=te.classRecords[Pe][Le];return Pe.value1&&Pe.value1.xAdvance||0}}return 0},zt.prototype.getKerningTables=function(w,E){if(this.font.tables.gpos)return this.getLookupTables(w,E,"kern",2)},(An.prototype=eo.prototype).createDefaultTable=function(){return{version:1,scripts:[{tag:"DFLT",script:{defaultLangSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]},langSysRecords:[]}}],features:[],lookups:[]}},An.prototype.getSingle=function(w,E,R){for(var N=[],q=this.getLookupTables(E,R,w,1),K=0;K<q.length;K++)for(var te=q[K].subtables,ae=0;ae<te.length;ae++){var me=te[ae],ye=this.expandCoverage(me.coverage),Ee=void 0;if(me.substFormat===1)for(var Le=me.deltaGlyphId,Ee=0;Ee<ye.length;Ee++){var Pe=ye[Ee];N.push({sub:Pe,by:Pe+Le})}else{var we=me.substitute;for(Ee=0;Ee<ye.length;Ee++)N.push({sub:ye[Ee],by:we[Ee]})}}return N},An.prototype.getAlternates=function(w,E,R){for(var N=[],q=this.getLookupTables(E,R,w,3),K=0;K<q.length;K++)for(var te=q[K].subtables,ae=0;ae<te.length;ae++)for(var me=te[ae],ye=this.expandCoverage(me.coverage),Ee=me.alternateSets,Le=0;Le<ye.length;Le++)N.push({sub:ye[Le],by:Ee[Le]});return N},An.prototype.getLigatures=function(w,E,R){for(var N=[],q=this.getLookupTables(E,R,w,4),K=0;K<q.length;K++)for(var te=q[K].subtables,ae=0;ae<te.length;ae++)for(var me=te[ae],ye=this.expandCoverage(me.coverage),Ee=me.ligatureSets,Le=0;Le<ye.length;Le++)for(var Pe=ye[Le],we=Ee[Le],Ye=0;Ye<we.length;Ye++){var Be=we[Ye];N.push({sub:[Pe].concat(Be.components),by:Be.ligGlyph})}return N},An.prototype.addSingle=function(w,E,R,N){R=la(this.getLookupTables(R,N,w,1,!0)[0],2,{substFormat:2,coverage:{format:1,glyphs:[]},substitute:[]}),B.assert(R.coverage.format===1,"Ligature: unable to modify coverage table format "+R.coverage.format),N=E.sub,w=this.binSearch(R.coverage.glyphs,N),w<0&&(R.coverage.glyphs.splice(w=-1-w,0,N),R.substitute.splice(w,0,0)),R.substitute[w]=E.by},An.prototype.addAlternate=function(w,E,R,N){R=la(this.getLookupTables(R,N,w,3,!0)[0],1,{substFormat:1,coverage:{format:1,glyphs:[]},alternateSets:[]}),B.assert(R.coverage.format===1,"Ligature: unable to modify coverage table format "+R.coverage.format),N=E.sub,w=this.binSearch(R.coverage.glyphs,N),w<0&&(R.coverage.glyphs.splice(w=-1-w,0,N),R.alternateSets.splice(w,0,0)),R.alternateSets[w]=E.by},An.prototype.addLigature=function(K,me,ae,q){var ae=this.getLookupTables(ae,q,K,4,!0)[0],q=ae.subtables[0],K=(q||(ae.subtables[0]=q={substFormat:1,coverage:{format:1,glyphs:[]},ligatureSets:[]}),B.assert(q.coverage.format===1,"Ligature: unable to modify coverage table format "+q.coverage.format),me.sub[0]),te=me.sub.slice(1),ae={ligGlyph:me.by,components:te},me=this.binSearch(q.coverage.glyphs,K);if(0<=me){for(var ye=q.ligatureSets[me],Ee=0;Ee<ye.length;Ee++)if(function(Le,Pe){var we=Le.length;if(we===Pe.length){for(var Ye=0;Ye<we;Ye++)if(Le[Ye]!==Pe[Ye])return;return 1}}(ye[Ee].components,te))return;ye.push(ae)}else q.coverage.glyphs.splice(me=-1-me,0,K),q.ligatureSets.splice(me,0,[ae])},An.prototype.getFeature=function(w,E,R){if(/ss\d\d/.test(w))return this.getSingle(w,E,R);switch(w){case"aalt":case"salt":return this.getSingle(w,E,R).concat(this.getAlternates(w,E,R));case"dlig":case"liga":case"rlig":return this.getLigatures(w,E,R)}},An.prototype.add=function(w,E,R,N){if(/ss\d\d/.test(w))return this.addSingle(w,E,R,N);switch(w){case"aalt":case"salt":return typeof E.by=="number"?this.addSingle(w,E,R,N):this.addAlternate(w,E,R,N);case"dlig":case"liga":case"rlig":return this.addLigature(w,E,R,N)}};var Zn={getPath:Uo,parse:function(w,E,R,N){for(var q=new mt.GlyphSet(N),K=0;K<R.length-1;K+=1){var te=R[K];te!==R[K+1]?q.push(K,mt.ttfGlyphLoader(N,K,cl,w,E+te,ys)):q.push(K,mt.glyphLoader(N,K))}return q}};function Kn(w){this.font=w,this.getCommands=function(E){return Zn.getPath(E).commands},this._fpgmState=this._prepState=void 0,this._errorState=0}function Bo(w){return w}function to(w){return Math.sign(w)*Math.round(Math.abs(w))}function gs(w){return Math.sign(w)*Math.round(Math.abs(2*w))/2}function Wu(w){return Math.sign(w)*(Math.round(Math.abs(w)+.5)-.5)}function hl(w){return Math.sign(w)*Math.ceil(Math.abs(w))}function Vo(w){return Math.sign(w)*Math.floor(Math.abs(w))}function dl(w){var E=this.srPeriod,R=this.srPhase,N=1;return w<0&&(w=-w,N=-1),w+=this.srThreshold-R,w=Math.trunc(w/E)*E,(w+=R)<0?R*N:w*N}var Pn={x:1,y:0,axis:"x",distance:function(w,E,R,N){return(R?w.xo:w.x)-(N?E.xo:E.x)},interpolate:function(w,E,R,N){var q,K,te,ae,me,ye,Ee;if(!N||N===this)return q=w.xo-E.xo,K=w.xo-R.xo,me=E.x-E.xo,ye=R.x-R.xo,(Ee=(te=Math.abs(q))+(ae=Math.abs(K)))===0?void(w.x=w.xo+(me+ye)/2):void(w.x=w.xo+(me*ae+ye*te)/Ee);q=N.distance(w,E,!0,!0),K=N.distance(w,R,!0,!0),me=N.distance(E,E,!1,!0),ye=N.distance(R,R,!1,!0),(Ee=(te=Math.abs(q))+(ae=Math.abs(K)))===0?Pn.setRelative(w,w,(me+ye)/2,N,!0):Pn.setRelative(w,w,(me*ae+ye*te)/Ee,N,!0)},normalSlope:Number.NEGATIVE_INFINITY,setRelative:function(w,E,R,N,q){var K,te;N&&N!==this?(K=q?E.xo:E.x,te=q?E.yo:E.y,K+=R*N.x,te+=R*N.y,w.x=K+(w.y-te)/N.normalSlope):w.x=(q?E.xo:E.x)+R},slope:0,touch:function(w){w.xTouched=!0},touched:function(w){return w.xTouched},untouch:function(w){w.xTouched=!1}},vn={x:0,y:1,axis:"y",distance:function(w,E,R,N){return(R?w.yo:w.y)-(N?E.yo:E.y)},interpolate:function(w,E,R,N){var q,K,te,ae,me,ye,Ee;if(!N||N===this)return q=w.yo-E.yo,K=w.yo-R.yo,me=E.y-E.yo,ye=R.y-R.yo,(Ee=(te=Math.abs(q))+(ae=Math.abs(K)))===0?void(w.y=w.yo+(me+ye)/2):void(w.y=w.yo+(me*ae+ye*te)/Ee);q=N.distance(w,E,!0,!0),K=N.distance(w,R,!0,!0),me=N.distance(E,E,!1,!0),ye=N.distance(R,R,!1,!0),(Ee=(te=Math.abs(q))+(ae=Math.abs(K)))===0?vn.setRelative(w,w,(me+ye)/2,N,!0):vn.setRelative(w,w,(me*ae+ye*te)/Ee,N,!0)},normalSlope:0,setRelative:function(w,E,R,N,q){var K,te;N&&N!==this?(K=q?E.xo:E.x,te=q?E.yo:E.y,K+=R*N.x,te+=R*N.y,w.y=te+N.normalSlope*(w.x-K)):w.y=(q?E.yo:E.y)+R},slope:Number.POSITIVE_INFINITY,touch:function(w){w.yTouched=!0},touched:function(w){return w.yTouched},untouch:function(w){w.yTouched=!1}};function ro(w,E){this.x=w,this.y=E,this.axis=void 0,this.slope=E/w,this.normalSlope=-w/E,Object.freeze(this)}function Go(w,E){var R=Math.sqrt(w*w+E*E);return E/=R,(w/=R)===1&&E===0?Pn:w===0&&E===1?vn:new ro(w,E)}function hn(w,E,R,N){this.x=this.xo=Math.round(64*w)/64,this.y=this.yo=Math.round(64*E)/64,this.lastPointOfContour=R,this.onCurve=N,this.prevPointOnContour=void 0,this.nextPointOnContour=void 0,this.xTouched=!1,this.yTouched=!1,Object.preventExtensions(this)}Object.freeze(Pn),Object.freeze(vn),ro.prototype.distance=function(w,E,R,N){return this.x*Pn.distance(w,E,R,N)+this.y*vn.distance(w,E,R,N)},ro.prototype.interpolate=function(w,q,K,N){var te=N.distance(w,q,!0,!0),ae=N.distance(w,K,!0,!0),q=N.distance(q,q,!1,!0),K=N.distance(K,K,!1,!0),te=Math.abs(te),ae=Math.abs(ae),me=te+ae;me===0?this.setRelative(w,w,(q+K)/2,N,!0):this.setRelative(w,w,(q*ae+K*te)/me,N,!0)},ro.prototype.setRelative=function(w,K,me,ye,ae){var te=ae?K.xo:K.x,ae=ae?K.yo:K.y,K=te+me*(ye=ye||this).x,te=ae+me*ye.y,ae=ye.normalSlope,me=this.slope,ye=w.x,Ee=w.y;w.x=(me*ye-ae*K+te-Ee)/(me-ae),w.y=me*(w.x-ye)+Ee},ro.prototype.touch=function(w){w.xTouched=!0,w.yTouched=!0},hn.prototype.nextTouched=function(w){for(var E=this.nextPointOnContour;!w.touched(E)&&E!==this;)E=E.nextPointOnContour;return E},hn.prototype.prevTouched=function(w){for(var E=this.prevPointOnContour;!w.touched(E)&&E!==this;)E=E.prevPointOnContour;return E};var es=Object.freeze(new hn(0,0)),no={cvCutIn:17/16,deltaBase:9,deltaShift:.125,loop:1,minDis:1,autoFlip:!0};function Rn(w,E){switch(this.env=w,this.stack=[],this.prog=E,w){case"glyf":this.zp0=this.zp1=this.zp2=1,this.rp0=this.rp1=this.rp2=0;case"prep":this.fv=this.pv=this.dpv=Pn,this.round=to}}function bi(w){for(var E=w.tZone=new Array(w.gZone.length),R=0;R<E.length;R++)E[R]=new hn(0,0)}function fl(w,E){var R,N=w.prog,q=w.ip,K=1;do if((R=N[++q])===88)K++;else if(R===89)K--;else if(R===64)q+=N[q+1]+1;else if(R===65)q+=2*N[q+1]+1;else if(176<=R&&R<=183)q+=R-176+1;else if(184<=R&&R<=191)q+=2*(R-184+1);else if(E&&K===1&&R===27)break;while(0<K);w.ip=q}function wi(w,E){c.DEBUG&&console.log(E.step,"SVTCA["+w.axis+"]"),E.fv=E.pv=E.dpv=w}function zo(w,E){c.DEBUG&&console.log(E.step,"SPVTCA["+w.axis+"]"),E.pv=E.dpv=w}function xi(w,E){c.DEBUG&&console.log(E.step,"SFVTCA["+w.axis+"]"),E.fv=w}function ca(w,E){var R,q=E.stack,N=q.pop(),q=q.pop(),K=E.z2[N],te=E.z1[q];c.DEBUG&&console.log("SPVTL["+w+"]",N,q),N=w?(R=K.y-te.y,te.x-K.x):(R=te.x-K.x,te.y-K.y),E.pv=E.dpv=Go(R,N)}function ts(w,E){var R,q=E.stack,N=q.pop(),q=q.pop(),K=E.z2[N],te=E.z1[q];c.DEBUG&&console.log("SFVTL["+w+"]",N,q),N=w?(R=K.y-te.y,te.x-K.x):(R=te.x-K.x,te.y-K.y),E.fv=Go(R,N)}function Ho(w){c.DEBUG&&console.log(w.step,"POP[]"),w.stack.pop()}function Wo(w,E){var R=E.stack.pop(),N=E.z0[R],q=E.fv,K=E.pv,te=(c.DEBUG&&console.log(E.step,"MDAP["+w+"]",R),K.distance(N,es));w&&(te=E.round(te)),q.setRelative(N,es,te,K),q.touch(N),E.rp0=E.rp1=R}function ha(w,E){var R,N,q,K=E.z2,te=K.length-2;c.DEBUG&&console.log(E.step,"IUP["+w.axis+"]");for(var ae=0;ae<te;ae++)R=K[ae],w.touched(R)||(N=R.prevTouched(w))!==R&&(N===(q=R.nextTouched(w))&&w.setRelative(R,R,w.distance(N,N,!1,!0),w,!0),w.interpolate(R,N,q,w))}function qo(w,E){for(var R=E.stack,N=w?E.rp1:E.rp2,q=(w?E.z0:E.z1)[N],K=E.fv,te=E.pv,ae=E.loop,me=E.z2;ae--;){var ye=R.pop(),Ee=me[ye],Le=te.distance(q,q,!1,!0);K.setRelative(Ee,Ee,Le,te),K.touch(Ee),c.DEBUG&&console.log(E.step,(1<E.loop?"loop "+(E.loop-ae)+": ":"")+"SHP["+(w?"rp1":"rp2")+"]",ye)}E.loop=1}function Xo(w,E){for(var R=E.stack,te=w?E.rp1:E.rp2,N=(w?E.z0:E.z1)[te],q=E.fv,K=E.pv,te=R.pop(),ae=E.z2[E.contours[te]],me=ae,ye=(c.DEBUG&&console.log(E.step,"SHC["+w+"]",te),K.distance(N,N,!1,!0));me!==N&&q.setRelative(me,me,ye,K),(me=me.nextPointOnContour)!==ae;);}function da(w,E){var R,N,ae=E.stack,q=w?E.rp1:E.rp2,q=(w?E.z0:E.z1)[q],K=E.fv,te=E.pv,ae=ae.pop();switch(c.DEBUG&&console.log(E.step,"SHZ["+w+"]",ae),ae){case 0:R=E.tZone;break;case 1:R=E.gZone;break;default:throw new Error("Invalid zone")}for(var me=te.distance(q,q,!1,!0),ye=R.length-2,Ee=0;Ee<ye;Ee++)N=R[Ee],K.setRelative(N,N,me,te)}function sn(w,E){var N=E.stack,R=N.pop()/64,N=N.pop(),q=E.z1[N],K=E.z0[E.rp0],te=E.fv,ae=E.pv;te.setRelative(q,K,R,ae),te.touch(q),c.DEBUG&&console.log(E.step,"MSIRP["+w+"]",R,N),E.rp1=E.rp0,E.rp2=N,w&&(E.rp0=N)}function Ps(w,E){var R=E.stack,ae=R.pop(),R=R.pop(),N=E.z0[R],q=E.fv,K=E.pv,te=E.cvt[ae],ae=(c.DEBUG&&console.log(E.step,"MIAP["+w+"]",ae,"(",te,")",R),K.distance(N,es));w&&(Math.abs(ae-te)<E.cvCutIn&&(ae=te),ae=E.round(ae)),q.setRelative(N,es,ae,K),E.zp0===0&&(N.xo=N.x,N.yo=N.y),q.touch(N),E.rp0=E.rp1=R}function ji(w,E){var R=E.stack,N=R.pop(),q=E.z2[N];c.DEBUG&&console.log(E.step,"GC["+w+"]",N),R.push(64*E.dpv.distance(q,es,w,!1))}function so(w,E){var N=E.stack,R=N.pop(),N=N.pop(),q=E.z1[R],K=E.z0[N],K=E.dpv.distance(K,q,w,w);c.DEBUG&&console.log(E.step,"MD["+w+"]",R,N,"->",K),E.stack.push(Math.round(64*K))}function fa(w,E){var R=E.stack,N=R.pop(),q=E.fv,K=E.pv,te=E.ppem,ae=E.deltaBase+16*(w-1),me=E.deltaShift,ye=E.z0;c.DEBUG&&console.log(E.step,"DELTAP["+w+"]",N,R);for(var Ee=0;Ee<N;Ee++){var Le=R.pop(),Pe=R.pop();ae+((240&Pe)>>4)===te&&(0<=(Pe=(15&Pe)-8)&&Pe++,c.DEBUG&&console.log(E.step,"DELTAPFIX",Le,"by",Pe*me),Le=ye[Le],q.setRelative(Le,Le,Pe*me,K))}}function oo(w,E){var R=E.stack,N=R.pop();c.DEBUG&&console.log(E.step,"ROUND[]"),R.push(64*E.round(N/64))}function Yo(w,E){var R=E.stack,N=R.pop(),q=E.ppem,K=E.deltaBase+16*(w-1),te=E.deltaShift;c.DEBUG&&console.log(E.step,"DELTAC["+w+"]",N,R);for(var ae=0;ae<N;ae++){var me=R.pop(),ye=R.pop();K+((240&ye)>>4)===q&&(0<=(ye=(15&ye)-8)&&ye++,ye=ye*te,c.DEBUG&&console.log(E.step,"DELTACFIX",me,"by",ye),E.cvt[me]+=ye)}}function io(w,E){var R,q=E.stack,N=q.pop(),q=q.pop(),K=E.z2[N],te=E.z1[q];c.DEBUG&&console.log(E.step,"SDPVTL["+w+"]",N,q),N=w?(R=K.y-te.y,te.x-K.x):(R=te.x-K.x,te.y-K.y),E.dpv=Go(R,N)}function In(w,E){var R=E.stack,N=E.prog,q=E.ip;c.DEBUG&&console.log(E.step,"PUSHB["+w+"]");for(var K=0;K<w;K++)R.push(N[++q]);E.ip=q}function rs(w,E){var R=E.ip,N=E.prog,q=E.stack;c.DEBUG&&console.log(E.ip,"PUSHW["+w+"]");for(var K=0;K<w;K++){var te=N[++R]<<8|N[++R];32768&te&&(te=-(1+(65535^te))),q.push(te)}E.ip=R}function yt(w,E,R,N,q,K){var te,ae,ye=K.stack,me=w&&ye.pop(),ye=ye.pop(),Ee=K.rp0,Ee=K.z0[Ee],Le=K.z1[ye],Pe=K.minDis,we=K.fv,Ye=K.dpv,Be=te=Ye.distance(Le,Ee,!0,!0),We=0<=Be?1:-1;Be=Math.abs(Be),w&&(ae=K.cvt[me],N&&Math.abs(Be-ae)<K.cvCutIn&&(Be=ae)),R&&Be<Pe&&(Be=Pe),N&&(Be=K.round(Be)),we.setRelative(Le,Ee,We*Be,Ye),we.touch(Le),c.DEBUG&&console.log(K.step,(w?"MIRP[":"MDRP[")+(E?"M":"m")+(R?">":"_")+(N?"R":"_")+(q===0?"Gr":q===1?"Bl":q===2?"Wh":"")+"]",w?me+"("+K.cvt[me]+","+ae+")":"",ye,"(d =",te,"->",We*Be,")"),K.rp1=K.rp0,K.rp2=ye,E&&(K.rp0=ye)}Kn.prototype.exec=function(w,E){if(typeof E!="number")throw new Error("Point size is not a number!");if(!(2<this._errorState)){var R=this.font,N=this._prepState;if(!N||N.ppem!==E){var q=this._fpgmState;if(!q){Rn.prototype=no,(q=this._fpgmState=new Rn("fpgm",R.tables.fpgm)).funcs=[],q.font=R,c.DEBUG&&(console.log("---EXEC FPGM---"),q.step=-1);try{vs(q)}catch(ye){return console.log("Hinting error in FPGM:"+ye),void(this._errorState=3)}}Rn.prototype=q,(N=this._prepState=new Rn("prep",R.tables.prep)).ppem=E;var K=R.tables.cvt;if(K)for(var te=N.cvt=new Array(K.length),ae=E/R.unitsPerEm,me=0;me<K.length;me++)te[me]=K[me]*ae;else N.cvt=[];c.DEBUG&&(console.log("---EXEC PREP---"),N.step=-1);try{vs(N)}catch(ye){this._errorState<2&&console.log("Hinting error in PREP:"+ye),this._errorState=2}}if(!(1<this._errorState))try{return qu(w,N)}catch(ye){this._errorState<1&&(console.log("Hinting error:"+ye),console.log("Note: further hinting errors are silenced")),this._errorState=1}}};var qu=function(w,E){var R=E.ppem/E.font.unitsPerEm,N=R,q=w.components;if(Rn.prototype=E,q){for(var K=E.font,te=[],ae=[],me=0;me<q.length;me++){var ye=q[me],Ee=K.glyphs.get(ye.glyphIndex),Le=new Rn("glyf",Ee.instructions);c.DEBUG&&(console.log("---EXEC COMP "+me+"---"),Le.step=-1),pl(Ee,Le,R,N);for(var Pe=Math.round(ye.dx*R),we=Math.round(ye.dy*N),Ye=Le.gZone,Be=Le.contours,We=0;We<Ye.length;We++){var Fe=Ye[We];Fe.xTouched=Fe.yTouched=!1,Fe.xo=Fe.x=Fe.x+Pe,Fe.yo=Fe.y=Fe.y+we}var Ue=te.length;te.push.apply(te,Ye);for(var bt=0;bt<Be.length;bt++)ae.push(Be[bt]+Ue)}w.instructions&&!Le.inhibitGridFit&&((Le=new Rn("glyf",w.instructions)).gZone=Le.z0=Le.z1=Le.z2=te,Le.contours=ae,te.push(new hn(0,0),new hn(Math.round(w.advanceWidth*R),0)),c.DEBUG&&(console.log("---EXEC COMPOSITE---"),Le.step=-1),vs(Le),te.length-=2)}else Le=new Rn("glyf",w.instructions),c.DEBUG&&(console.log("---EXEC GLYPH---"),Le.step=-1),pl(w,Le,R,N),te=Le.gZone;return te},pl=function(w,E,R,N){for(var q,K,te,ae=w.points||[],me=ae.length,ye=E.gZone=E.z0=E.z1=E.z2=[],Ee=E.contours=[],Le=0;Le<me;Le++)q=ae[Le],ye[Le]=new hn(q.x*R,q.y*N,q.lastPointOfContour,q.onCurve);for(var Pe=0;Pe<me;Pe++)q=ye[Pe],K||(K=q,Ee.push(Pe)),q.lastPointOfContour?((q.nextPointOnContour=K).prevPointOnContour=q,K=void 0):(te=ye[Pe+1],(q.nextPointOnContour=te).prevPointOnContour=q);if(!E.inhibitGridFit){if(c.DEBUG){console.log("PROCESSING GLYPH",E.stack);for(var we=0;we<me;we++)console.log(we,ye[we].x,ye[we].y)}if(ye.push(new hn(0,0),new hn(Math.round(w.advanceWidth*R),0)),vs(E),ye.length-=2,c.DEBUG){console.log("FINISHED GLYPH",E.stack);for(var Ye=0;Ye<me;Ye++)console.log(Ye,ye[Ye].x,ye[Ye].y)}}},vs=function(w){var E=w.prog;if(E){var R,N=E.length;for(w.ip=0;w.ip<N;w.ip++){if(c.DEBUG&&w.step++,!(R=Xu[E[w.ip]]))throw new Error("unknown instruction: 0x"+Number(E[w.ip]).toString(16));R(w)}}},Xu=[wi.bind(void 0,vn),wi.bind(void 0,Pn),zo.bind(void 0,vn),zo.bind(void 0,Pn),xi.bind(void 0,vn),xi.bind(void 0,Pn),ca.bind(void 0,0),ca.bind(void 0,1),ts.bind(void 0,0),ts.bind(void 0,1),function(w){var E=(R=w.stack).pop(),R=R.pop();c.DEBUG&&console.log(w.step,"SPVFS[]",E,R),w.pv=w.dpv=Go(R,E)},function(w){var E=(R=w.stack).pop(),R=R.pop();c.DEBUG&&console.log(w.step,"SPVFS[]",E,R),w.fv=Go(R,E)},function(w){var E=w.stack,R=w.pv;c.DEBUG&&console.log(w.step,"GPV[]"),E.push(16384*R.x),E.push(16384*R.y)},function(w){var E=w.stack,R=w.fv;c.DEBUG&&console.log(w.step,"GFV[]"),E.push(16384*R.x),E.push(16384*R.y)},function(w){w.fv=w.pv,c.DEBUG&&console.log(w.step,"SFVTPV[]")},function(E){var R=(te=E.stack).pop(),N=te.pop(),q=te.pop(),K=te.pop(),te=te.pop(),me=E.z0,Ee=E.z1,ae=me[R],me=me[N],ye=Ee[q],Ee=Ee[K],E=E.z2[te],R=(c.DEBUG&&console.log("ISECT[], ",R,N,q,K,te),ae.x),N=ae.y,q=me.x,K=me.y,te=ye.x,ae=ye.y,me=Ee.x,ye=Ee.y,Ee=(R-q)*(ae-ye)-(N-K)*(te-me),Le=R*K-N*q,Pe=te*ye-ae*me;E.x=(Le*(te-me)-Pe*(R-q))/Ee,E.y=(Le*(ae-ye)-Pe*(N-K))/Ee},function(w){w.rp0=w.stack.pop(),c.DEBUG&&console.log(w.step,"SRP0[]",w.rp0)},function(w){w.rp1=w.stack.pop(),c.DEBUG&&console.log(w.step,"SRP1[]",w.rp1)},function(w){w.rp2=w.stack.pop(),c.DEBUG&&console.log(w.step,"SRP2[]",w.rp2)},function(w){var E=w.stack.pop();switch(c.DEBUG&&console.log(w.step,"SZP0[]",E),w.zp0=E){case 0:w.tZone||bi(w),w.z0=w.tZone;break;case 1:w.z0=w.gZone;break;default:throw new Error("Invalid zone pointer")}},function(w){var E=w.stack.pop();switch(c.DEBUG&&console.log(w.step,"SZP1[]",E),w.zp1=E){case 0:w.tZone||bi(w),w.z1=w.tZone;break;case 1:w.z1=w.gZone;break;default:throw new Error("Invalid zone pointer")}},function(w){var E=w.stack.pop();switch(c.DEBUG&&console.log(w.step,"SZP2[]",E),w.zp2=E){case 0:w.tZone||bi(w),w.z2=w.tZone;break;case 1:w.z2=w.gZone;break;default:throw new Error("Invalid zone pointer")}},function(w){var E=w.stack.pop();switch(c.DEBUG&&console.log(w.step,"SZPS[]",E),w.zp0=w.zp1=w.zp2=E){case 0:w.tZone||bi(w),w.z0=w.z1=w.z2=w.tZone;break;case 1:w.z0=w.z1=w.z2=w.gZone;break;default:throw new Error("Invalid zone pointer")}},function(w){w.loop=w.stack.pop(),c.DEBUG&&console.log(w.step,"SLOOP[]",w.loop)},function(w){c.DEBUG&&console.log(w.step,"RTG[]"),w.round=to},function(w){c.DEBUG&&console.log(w.step,"RTHG[]"),w.round=Wu},function(w){var E=w.stack.pop();c.DEBUG&&console.log(w.step,"SMD[]",E),w.minDis=E/64},function(w){c.DEBUG&&console.log(w.step,"ELSE[]"),fl(w,!1)},function(w){var E=w.stack.pop();c.DEBUG&&console.log(w.step,"JMPR[]",E),w.ip+=E-1},function(w){var E=w.stack.pop();c.DEBUG&&console.log(w.step,"SCVTCI[]",E),w.cvCutIn=E/64},void 0,void 0,function(w){var E=w.stack;c.DEBUG&&console.log(w.step,"DUP[]"),E.push(E[E.length-1])},Ho,function(w){c.DEBUG&&console.log(w.step,"CLEAR[]"),w.stack.length=0},function(w){var E=w.stack,R=E.pop(),N=E.pop();c.DEBUG&&console.log(w.step,"SWAP[]"),E.push(R),E.push(N)},function(w){var E=w.stack;c.DEBUG&&console.log(w.step,"DEPTH[]"),E.push(E.length)},function(w){var E=w.stack,R=E.pop();c.DEBUG&&console.log(w.step,"CINDEX[]",R),E.push(E[E.length-R])},function(w){var E=w.stack,R=E.pop();c.DEBUG&&console.log(w.step,"MINDEX[]",R),E.push(E.splice(E.length-R,1)[0])},void 0,void 0,void 0,function(w){var E=(N=w.stack).pop(),R=N.pop(),N=(c.DEBUG&&console.log(w.step,"LOOPCALL[]",E,R),w.ip),q=w.prog;w.prog=w.funcs[E];for(var K=0;K<R;K++)vs(w),c.DEBUG&&console.log(++w.step,K+1<R?"next loopcall":"done loopcall",K);w.ip=N,w.prog=q},function(w){var E=w.stack.pop(),R=(c.DEBUG&&console.log(w.step,"CALL[]",E),w.ip),N=w.prog;w.prog=w.funcs[E],vs(w),w.ip=R,w.prog=N,c.DEBUG&&console.log(++w.step,"returning from",E)},function(w){if(w.env!=="fpgm")throw new Error("FDEF not allowed here");var N=w.stack,E=w.prog,R=w.ip,N=N.pop(),q=R;for(c.DEBUG&&console.log(w.step,"FDEF[]",N);E[++R]!==45;);w.ip=R,w.funcs[N]=E.slice(q+1,R)},void 0,Wo.bind(void 0,0),Wo.bind(void 0,1),ha.bind(void 0,vn),ha.bind(void 0,Pn),qo.bind(void 0,0),qo.bind(void 0,1),Xo.bind(void 0,0),Xo.bind(void 0,1),da.bind(void 0,0),da.bind(void 0,1),function(w){for(var E=w.stack,R=w.loop,N=w.fv,q=E.pop()/64,K=w.z2;R--;){var te=E.pop(),ae=K[te];c.DEBUG&&console.log(w.step,(1<w.loop?"loop "+(w.loop-R)+": ":"")+"SHPIX[]",te,q),N.setRelative(ae,ae,q),N.touch(ae)}w.loop=1},function(w){for(var E=w.stack,R=w.rp1,N=w.rp2,q=w.loop,K=w.z0[R],te=w.z1[N],ae=w.fv,me=w.dpv,ye=w.z2;q--;){var Ee=E.pop(),Le=ye[Ee];c.DEBUG&&console.log(w.step,(1<w.loop?"loop "+(w.loop-q)+": ":"")+"IP[]",Ee,R,"<->",N),ae.interpolate(Le,K,te,me),ae.touch(Le)}w.loop=1},sn.bind(void 0,0),sn.bind(void 0,1),function(w){for(var E=w.stack,R=w.rp0,N=w.z0[R],q=w.loop,K=w.fv,te=w.pv,ae=w.z1;q--;){var me=E.pop(),ye=ae[me];c.DEBUG&&console.log(w.step,(1<w.loop?"loop "+(w.loop-q)+": ":"")+"ALIGNRP[]",me),K.setRelative(ye,N,0,te),K.touch(ye)}w.loop=1},function(w){c.DEBUG&&console.log(w.step,"RTDG[]"),w.round=gs},Ps.bind(void 0,0),Ps.bind(void 0,1),function(w){var E=w.prog,R=w.ip,N=w.stack,q=E[++R];c.DEBUG&&console.log(w.step,"NPUSHB[]",q);for(var K=0;K<q;K++)N.push(E[++R]);w.ip=R},function(w){var E=w.ip,R=w.prog,N=w.stack,q=R[++E];c.DEBUG&&console.log(w.step,"NPUSHW[]",q);for(var K=0;K<q;K++){var te=R[++E]<<8|R[++E];32768&te&&(te=-(1+(65535^te))),N.push(te)}w.ip=E},function(w){var N=w.stack,E=(E=w.store)||(w.store=[]),R=N.pop(),N=N.pop();c.DEBUG&&console.log(w.step,"WS",R,N),E[N]=R},function(q){var E=q.stack,R=q.store,N=E.pop(),q=(c.DEBUG&&console.log(q.step,"RS",N),R&&R[N]||0);E.push(q)},function(w){var E=(R=w.stack).pop(),R=R.pop();c.DEBUG&&console.log(w.step,"WCVTP",E,R),w.cvt[R]=E/64},function(w){var E=w.stack,R=E.pop();c.DEBUG&&console.log(w.step,"RCVT",R),E.push(64*w.cvt[R])},ji.bind(void 0,0),ji.bind(void 0,1),void 0,so.bind(void 0,0),so.bind(void 0,1),function(w){c.DEBUG&&console.log(w.step,"MPPEM[]"),w.stack.push(w.ppem)},void 0,function(w){c.DEBUG&&console.log(w.step,"FLIPON[]"),w.autoFlip=!0},void 0,void 0,function(w){var E=w.stack,R=E.pop(),N=E.pop();c.DEBUG&&console.log(w.step,"LT[]",R,N),E.push(N<R?1:0)},function(w){var E=w.stack,R=E.pop(),N=E.pop();c.DEBUG&&console.log(w.step,"LTEQ[]",R,N),E.push(N<=R?1:0)},function(w){var E=w.stack,R=E.pop(),N=E.pop();c.DEBUG&&console.log(w.step,"GT[]",R,N),E.push(R<N?1:0)},function(w){var E=w.stack,R=E.pop(),N=E.pop();c.DEBUG&&console.log(w.step,"GTEQ[]",R,N),E.push(R<=N?1:0)},function(w){var E=w.stack,R=E.pop(),N=E.pop();c.DEBUG&&console.log(w.step,"EQ[]",R,N),E.push(R===N?1:0)},function(w){var E=w.stack,R=E.pop(),N=E.pop();c.DEBUG&&console.log(w.step,"NEQ[]",R,N),E.push(R!==N?1:0)},function(w){var E=w.stack,R=E.pop();c.DEBUG&&console.log(w.step,"ODD[]",R),E.push(Math.trunc(R)%2?1:0)},function(w){var E=w.stack,R=E.pop();c.DEBUG&&console.log(w.step,"EVEN[]",R),E.push(Math.trunc(R)%2?0:1)},function(w){var E=w.stack.pop();c.DEBUG&&console.log(w.step,"IF[]",E),E||(fl(w,!0),c.DEBUG&&console.log(w.step,"EIF[]"))},function(w){c.DEBUG&&console.log(w.step,"EIF[]")},function(w){var E=w.stack,R=E.pop(),N=E.pop();c.DEBUG&&console.log(w.step,"AND[]",R,N),E.push(R&&N?1:0)},function(w){var E=w.stack,R=E.pop(),N=E.pop();c.DEBUG&&console.log(w.step,"OR[]",R,N),E.push(R||N?1:0)},function(w){var E=w.stack,R=E.pop();c.DEBUG&&console.log(w.step,"NOT[]",R),E.push(R?0:1)},fa.bind(void 0,1),function(w){var E=w.stack.pop();c.DEBUG&&console.log(w.step,"SDB[]",E),w.deltaBase=E},function(w){var E=w.stack.pop();c.DEBUG&&console.log(w.step,"SDS[]",E),w.deltaShift=Math.pow(.5,E)},function(w){var E=w.stack,R=E.pop(),N=E.pop();c.DEBUG&&console.log(w.step,"ADD[]",R,N),E.push(N+R)},function(w){var E=w.stack,R=E.pop(),N=E.pop();c.DEBUG&&console.log(w.step,"SUB[]",R,N),E.push(N-R)},function(w){var E=w.stack,R=E.pop(),N=E.pop();c.DEBUG&&console.log(w.step,"DIV[]",R,N),E.push(64*N/R)},function(w){var E=w.stack,R=E.pop(),N=E.pop();c.DEBUG&&console.log(w.step,"MUL[]",R,N),E.push(N*R/64)},function(w){var E=w.stack,R=E.pop();c.DEBUG&&console.log(w.step,"ABS[]",R),E.push(Math.abs(R))},function(w){var E=w.stack,R=E.pop();c.DEBUG&&console.log(w.step,"NEG[]",R),E.push(-R)},function(w){var E=w.stack,R=E.pop();c.DEBUG&&console.log(w.step,"FLOOR[]",R),E.push(64*Math.floor(R/64))},function(w){var E=w.stack,R=E.pop();c.DEBUG&&console.log(w.step,"CEILING[]",R),E.push(64*Math.ceil(R/64))},oo.bind(void 0,0),oo.bind(void 0,1),oo.bind(void 0,2),oo.bind(void 0,3),void 0,void 0,void 0,void 0,function(w){var E=(R=w.stack).pop(),R=R.pop();c.DEBUG&&console.log(w.step,"WCVTF[]",E,R),w.cvt[R]=E*w.ppem/w.font.unitsPerEm},fa.bind(void 0,2),fa.bind(void 0,3),Yo.bind(void 0,1),Yo.bind(void 0,2),Yo.bind(void 0,3),function(w){var E,R=w.stack.pop();switch(c.DEBUG&&console.log(w.step,"SROUND[]",R),w.round=dl,192&R){case 0:E=.5;break;case 64:E=1;break;case 128:E=2;break;default:throw new Error("invalid SROUND value")}switch(w.srPeriod=E,48&R){case 0:w.srPhase=0;break;case 16:w.srPhase=.25*E;break;case 32:w.srPhase=.5*E;break;case 48:w.srPhase=.75*E;break;default:throw new Error("invalid SROUND value")}w.srThreshold=(R&=15)===0?0:(R/8-.5)*E},function(w){var E,R=w.stack.pop();switch(c.DEBUG&&console.log(w.step,"S45ROUND[]",R),w.round=dl,192&R){case 0:E=Math.sqrt(2)/2;break;case 64:E=Math.sqrt(2);break;case 128:E=2*Math.sqrt(2);break;default:throw new Error("invalid S45ROUND value")}switch(w.srPeriod=E,48&R){case 0:w.srPhase=0;break;case 16:w.srPhase=.25*E;break;case 32:w.srPhase=.5*E;break;case 48:w.srPhase=.75*E;break;default:throw new Error("invalid S45ROUND value")}w.srThreshold=(R&=15)===0?0:(R/8-.5)*E},void 0,void 0,function(w){c.DEBUG&&console.log(w.step,"ROFF[]"),w.round=Bo},void 0,function(w){c.DEBUG&&console.log(w.step,"RUTG[]"),w.round=hl},function(w){c.DEBUG&&console.log(w.step,"RDTG[]"),w.round=Vo},Ho,Ho,void 0,void 0,void 0,void 0,void 0,function(w){var E=w.stack.pop();c.DEBUG&&console.log(w.step,"SCANCTRL[]",E)},io.bind(void 0,0),io.bind(void 0,1),function(w){var E=w.stack,R=E.pop(),N=0;c.DEBUG&&console.log(w.step,"GETINFO[]",R),1&R&&(N=35),32&R&&(N|=4096),E.push(N)},void 0,function(w){var E=w.stack,R=E.pop(),N=E.pop(),q=E.pop();c.DEBUG&&console.log(w.step,"ROLL[]"),E.push(N),E.push(R),E.push(q)},function(w){var E=w.stack,R=E.pop(),N=E.pop();c.DEBUG&&console.log(w.step,"MAX[]",R,N),E.push(Math.max(N,R))},function(w){var E=w.stack,R=E.pop(),N=E.pop();c.DEBUG&&console.log(w.step,"MIN[]",R,N),E.push(Math.min(N,R))},function(w){var E=w.stack.pop();c.DEBUG&&console.log(w.step,"SCANTYPE[]",E)},function(w){var E=w.stack.pop(),R=w.stack.pop();switch(c.DEBUG&&console.log(w.step,"INSTCTRL[]",E,R),E){case 1:return void(w.inhibitGridFit=!!R);case 2:return void(w.ignoreCvt=!!R);default:throw new Error("invalid INSTCTRL[] selector")}},void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,In.bind(void 0,1),In.bind(void 0,2),In.bind(void 0,3),In.bind(void 0,4),In.bind(void 0,5),In.bind(void 0,6),In.bind(void 0,7),In.bind(void 0,8),rs.bind(void 0,1),rs.bind(void 0,2),rs.bind(void 0,3),rs.bind(void 0,4),rs.bind(void 0,5),rs.bind(void 0,6),rs.bind(void 0,7),rs.bind(void 0,8),yt.bind(void 0,0,0,0,0,0),yt.bind(void 0,0,0,0,0,1),yt.bind(void 0,0,0,0,0,2),yt.bind(void 0,0,0,0,0,3),yt.bind(void 0,0,0,0,1,0),yt.bind(void 0,0,0,0,1,1),yt.bind(void 0,0,0,0,1,2),yt.bind(void 0,0,0,0,1,3),yt.bind(void 0,0,0,1,0,0),yt.bind(void 0,0,0,1,0,1),yt.bind(void 0,0,0,1,0,2),yt.bind(void 0,0,0,1,0,3),yt.bind(void 0,0,0,1,1,0),yt.bind(void 0,0,0,1,1,1),yt.bind(void 0,0,0,1,1,2),yt.bind(void 0,0,0,1,1,3),yt.bind(void 0,0,1,0,0,0),yt.bind(void 0,0,1,0,0,1),yt.bind(void 0,0,1,0,0,2),yt.bind(void 0,0,1,0,0,3),yt.bind(void 0,0,1,0,1,0),yt.bind(void 0,0,1,0,1,1),yt.bind(void 0,0,1,0,1,2),yt.bind(void 0,0,1,0,1,3),yt.bind(void 0,0,1,1,0,0),yt.bind(void 0,0,1,1,0,1),yt.bind(void 0,0,1,1,0,2),yt.bind(void 0,0,1,1,0,3),yt.bind(void 0,0,1,1,1,0),yt.bind(void 0,0,1,1,1,1),yt.bind(void 0,0,1,1,1,2),yt.bind(void 0,0,1,1,1,3),yt.bind(void 0,1,0,0,0,0),yt.bind(void 0,1,0,0,0,1),yt.bind(void 0,1,0,0,0,2),yt.bind(void 0,1,0,0,0,3),yt.bind(void 0,1,0,0,1,0),yt.bind(void 0,1,0,0,1,1),yt.bind(void 0,1,0,0,1,2),yt.bind(void 0,1,0,0,1,3),yt.bind(void 0,1,0,1,0,0),yt.bind(void 0,1,0,1,0,1),yt.bind(void 0,1,0,1,0,2),yt.bind(void 0,1,0,1,0,3),yt.bind(void 0,1,0,1,1,0),yt.bind(void 0,1,0,1,1,1),yt.bind(void 0,1,0,1,1,2),yt.bind(void 0,1,0,1,1,3),yt.bind(void 0,1,1,0,0,0),yt.bind(void 0,1,1,0,0,1),yt.bind(void 0,1,1,0,0,2),yt.bind(void 0,1,1,0,0,3),yt.bind(void 0,1,1,0,1,0),yt.bind(void 0,1,1,0,1,1),yt.bind(void 0,1,1,0,1,2),yt.bind(void 0,1,1,0,1,3),yt.bind(void 0,1,1,1,0,0),yt.bind(void 0,1,1,1,0,1),yt.bind(void 0,1,1,1,0,2),yt.bind(void 0,1,1,1,0,3),yt.bind(void 0,1,1,1,1,0),yt.bind(void 0,1,1,1,1,1),yt.bind(void 0,1,1,1,1,2),yt.bind(void 0,1,1,1,1,3)],Yu=Array.from||function(w){return w.match(/[\uD800-\uDBFF][\uDC00-\uDFFF]?|[^\uD800-\uDFFF]|./g)||[]};function er(w){(w=w||{}).empty||(As(w.familyName,"When creating a new Font object, familyName is required."),As(w.styleName,"When creating a new Font object, styleName is required."),As(w.unitsPerEm,"When creating a new Font object, unitsPerEm is required."),As(w.ascender,"When creating a new Font object, ascender is required."),As(w.descender,"When creating a new Font object, descender is required."),As(w.descender<0,"Descender should be negative (e.g. -512)."),this.names={fontFamily:{en:w.familyName||" "},fontSubfamily:{en:w.styleName||" "},fullName:{en:w.fullName||w.familyName+" "+w.styleName},postScriptName:{en:w.postScriptName||(w.familyName+w.styleName).replace(/\s/g,"")},designer:{en:w.designer||" "},designerURL:{en:w.designerURL||" "},manufacturer:{en:w.manufacturer||" "},manufacturerURL:{en:w.manufacturerURL||" "},license:{en:w.license||" "},licenseURL:{en:w.licenseURL||" "},version:{en:w.version||"Version 0.1"},description:{en:w.description||" "},copyright:{en:w.copyright||" "},trademark:{en:w.trademark||" "}},this.unitsPerEm=w.unitsPerEm||1e3,this.ascender=w.ascender,this.descender=w.descender,this.createdTimestamp=w.createdTimestamp,this.tables={os2:{usWeightClass:w.weightClass||this.usWeightClasses.MEDIUM,usWidthClass:w.widthClass||this.usWidthClasses.MEDIUM,fsSelection:w.fsSelection||this.fsSelectionValues.REGULAR}}),this.supported=!0,this.glyphs=new mt.GlyphSet(this,w.glyphs||[]),this.encoding=new Ie(this),this.position=new zt(this),this.substitution=new An(this),this.tables=this.tables||{},Object.defineProperty(this,"hinting",{get:function(){return this._hinting||(this.outlinesFormat==="truetype"?this._hinting=new Kn(this):void 0)}})}function ml(w,E){var R,N=JSON.stringify(w),q=256;for(R in E){var K=parseInt(R);if(K&&!(K<256)){if(JSON.stringify(E[R])===N)return K;q<=K&&(q=K+1)}}return E[q]=w,q}er.prototype.hasChar=function(w){return this.encoding.charToGlyphIndex(w)!==null},er.prototype.charToGlyphIndex=function(w){return this.encoding.charToGlyphIndex(w)},er.prototype.charToGlyph=function(w){return w=this.charToGlyphIndex(w),this.glyphs.get(w)||this.glyphs.get(0)},er.prototype.stringToGlyphs=function(w,E){E=E||this.defaultRenderOptions;for(var R=Yu(w),N=[],q=0;q<R.length;q+=1){var K=R[q];N.push(this.charToGlyphIndex(K))}var te=N.length;if(E.features){var w=E.script||this.substitution.getDefaultScriptName(),ae=[];E.features.liga&&(ae=ae.concat(this.substitution.getFeature("liga",w,E.language))),E.features.rlig&&(ae=ae.concat(this.substitution.getFeature("rlig",w,E.language)));for(var me=0;me<te;me+=1)for(var ye=0;ye<ae.length;ye++){for(var Ee=ae[ye],Le=Ee.sub,Pe=Le.length,we=0;we<Pe&&Le[we]===N[me+we];)we++;we===Pe&&(N.splice(me,Pe,Ee.by),te=te-Pe+1)}}for(var Ye=new Array(te),Be=this.glyphs.get(0),We=0;We<te;We+=1)Ye[We]=this.glyphs.get(N[We])||Be;return Ye},er.prototype.nameToGlyphIndex=function(w){return this.glyphNames.nameToGlyphIndex(w)},er.prototype.nameToGlyph=function(w){return w=this.nameToGlyphIndex(w),this.glyphs.get(w)||this.glyphs.get(0)},er.prototype.glyphIndexToName=function(w){return this.glyphNames.glyphIndexToName?this.glyphNames.glyphIndexToName(w):""},er.prototype.getKerningValue=function(w,E){w=w.index||w,E=E.index||E;var R=this.position.defaultKerningTables;return R?this.position.getKerningValue(R,w,E):this.kerningPairs[w+","+E]||0},er.prototype.defaultRenderOptions={kerning:!0,features:{liga:!0,rlig:!0}},er.prototype.forEachGlyph=function(w,E,R,N,q,K){E=E!==void 0?E:0,R=R!==void 0?R:0,q=q||this.defaultRenderOptions;var te,ae=1/this.unitsPerEm*(N=N!==void 0?N:72),me=this.stringToGlyphs(w,q);q.kerning&&(w=q.script||this.position.getDefaultScriptName(),te=this.position.getKerningTables(w,q.language));for(var ye=0;ye<me.length;ye+=1){var Ee=me[ye];K.call(this,Ee,E,R,N,q),Ee.advanceWidth&&(E+=Ee.advanceWidth*ae),q.kerning&&ye<me.length-1&&(E+=(te?this.position.getKerningValue(te,Ee.index,me[ye+1].index):this.getKerningValue(Ee,me[ye+1]))*ae),q.letterSpacing?E+=q.letterSpacing*N:q.tracking&&(E+=q.tracking/1e3*N)}return E},er.prototype.getPath=function(w,E,R,N,q){var K=new ee;return this.forEachGlyph(w,E,R,N,q,function(te,ae,me,ye){te=te.getPath(ae,me,ye,q,this),K.extend(te)}),K},er.prototype.getPaths=function(w,E,R,N,q){var K=[];return this.forEachGlyph(w,E,R,N,q,function(te,ae,me,ye){te=te.getPath(ae,me,ye,q,this),K.push(te)}),K},er.prototype.getAdvanceWidth=function(w,E,R){return this.forEachGlyph(w,0,0,E,R,function(){})},er.prototype.draw=function(w,E,R,N,q,K){this.getPath(E,R,N,q,K).draw(w)},er.prototype.drawPoints=function(w,E,R,N,q,K){this.forEachGlyph(E,R,N,q,K,function(te,ae,me,ye){te.drawPoints(w,ae,me,ye)})},er.prototype.drawMetrics=function(w,E,R,N,q,K){this.forEachGlyph(E,R,N,q,K,function(te,ae,me,ye){te.drawMetrics(w,ae,me,ye)})},er.prototype.getEnglishName=function(w){if(w=this.names[w],w)return w.en},er.prototype.validate=function(){var w=this;function E(R){R=w.getEnglishName(R),R&&R.trim().length}E("fontFamily"),E("weightName"),E("manufacturer"),E("copyright"),E("version"),this.unitsPerEm},er.prototype.toTables=function(){return ll.fontToTable(this)},er.prototype.toBuffer=function(){return console.warn("Font.toBuffer is deprecated. Use Font.toArrayBuffer instead."),this.toArrayBuffer()},er.prototype.toArrayBuffer=function(){for(var w=this.toTables().encode(),E=new ArrayBuffer(w.length),R=new Uint8Array(E),N=0;N<w.length;N++)R[N]=w[N];return E},er.prototype.download=function(w){var E=this.getEnglishName("fontFamily"),R=this.getEnglishName("fontSubfamily"),N=(w=w||E.replace(/\s/g,"")+"-"+R+".otf",this.toArrayBuffer());typeof window<"u"?(window.requestFileSystem=window.requestFileSystem||window.webkitRequestFileSystem,window.requestFileSystem(window.TEMPORARY,N.byteLength,function(q){q.root.getFile(w,{create:!0},function(K){K.createWriter(function(te){var ae=new DataView(N),ae=new Blob([ae],{type:"font/opentype"});te.write(ae),te.addEventListener("writeend",function(){location.href=K.toURL()},!1)})})},function(q){throw new Error(q.name+": "+q.message)})):(E=t("fs"),R=function(q){for(var K=new d(q.byteLength),te=new Uint8Array(q),ae=0;ae<K.length;++ae)K[ae]=te[ae];return K}(N),E.writeFileSync(w,R))},er.prototype.fsSelectionValues={ITALIC:1,UNDERSCORE:2,NEGATIVE:4,OUTLINED:8,STRIKEOUT:16,BOLD:32,REGULAR:64,USER_TYPO_METRICS:128,WWS:256,OBLIQUE:512},er.prototype.usWidthClasses={ULTRA_CONDENSED:1,EXTRA_CONDENSED:2,CONDENSED:3,SEMI_CONDENSED:4,MEDIUM:5,SEMI_EXPANDED:6,EXPANDED:7,EXTRA_EXPANDED:8,ULTRA_EXPANDED:9},er.prototype.usWeightClasses={THIN:100,EXTRA_LIGHT:200,LIGHT:300,NORMAL:400,MEDIUM:500,SEMI_BOLD:600,BOLD:700,EXTRA_BOLD:800,BLACK:900};var Qu={make:function(w,E){var R=new Ne.Table("fvar",[{name:"version",type:"ULONG",value:65536},{name:"offsetToData",type:"USHORT",value:0},{name:"countSizePairs",type:"USHORT",value:2},{name:"axisCount",type:"USHORT",value:w.axes.length},{name:"axisSize",type:"USHORT",value:20},{name:"instanceCount",type:"USHORT",value:w.instances.length},{name:"instanceSize",type:"USHORT",value:4+4*w.axes.length}]);R.offsetToData=R.sizeOf();for(var N,q,K,te=0;te<w.axes.length;te++)R.fields=R.fields.concat((N=te,q=w.axes[te],K=E,K=ml(q.name,E),[{name:"tag_"+N,type:"TAG",value:q.tag},{name:"minValue_"+N,type:"FIXED",value:q.minValue<<16},{name:"defaultValue_"+N,type:"FIXED",value:q.defaultValue<<16},{name:"maxValue_"+N,type:"FIXED",value:q.maxValue<<16},{name:"flags_"+N,type:"USHORT",value:0},{name:"nameID_"+N,type:"USHORT",value:K}]));for(var ae=0;ae<w.instances.length;ae++)R.fields=R.fields.concat(function(me,ye,Ee,Le){for(var Pe=[{name:"nameID_"+me,type:"USHORT",value:ml(ye.name,Le)},{name:"flags_"+me,type:"USHORT",value:0}],we=0;we<Ee.length;++we){var Ye=Ee[we].tag;Pe.push({name:"axis_"+me+" "+Ye,type:"FIXED",value:ye.coordinates[Ye]<<16})}return Pe}(ae,w.instances[ae],w.axes,E));return R},parse:function(w,E,R){for(var N,q,K,te,ae=new De.Parser(w,E),me=ae.parseULong(),ye=(B.argument(me===65536,"Unsupported fvar table version."),ae.parseOffset16()),Ee=(ae.skip("uShort",1),ae.parseUShort()),Le=ae.parseUShort(),Pe=ae.parseUShort(),we=ae.parseUShort(),Ye=[],Be=0;Be<Ee;Be++)Ye.push((N=w,q=E+ye+Be*Le,K=R,te={},N=new De.Parser(N,q),te.tag=N.parseTag(),te.minValue=N.parseFixed(),te.defaultValue=N.parseFixed(),te.maxValue=N.parseFixed(),N.skip("uShort",1),te.name=K[N.parseUShort()]||{},te));for(var We=[],Fe=E+ye+Ee*Le,Ue=0;Ue<Pe;Ue++)We.push(function(bt,Rt,gt,_t){var Lt={},Yt=new De.Parser(bt,Rt);Lt.name=_t[Yt.parseUShort()]||{},Yt.skip("uShort",1),Lt.coordinates={};for(var vr=0;vr<gt.length;++vr)Lt.coordinates[gt[vr].tag]=Yt.parseFixed();return Lt}(w,Fe+Ue*we,Ye,R));return{axes:Ye,instances:We}}},_n=new Array(10);_n[1]=function(){var w=this.offset+this.relativeOffset,E=this.parseUShort();return E===1?{posFormat:1,coverage:this.parsePointer(Oe.coverage),value:this.parseValueRecord()}:E===2?{posFormat:2,coverage:this.parsePointer(Oe.coverage),values:this.parseValueRecordList()}:void B.assert(!1,"0x"+w.toString(16)+": GPOS lookup type 1 format must be 1 or 2.")},_n[2]=function(){var w,E,R,N,K=this.offset+this.relativeOffset,q=this.parseUShort(),K=(B.assert(q===1||q===2,"0x"+K.toString(16)+": GPOS lookup type 2 format must be 1 or 2."),this.parsePointer(Oe.coverage)),te=this.parseUShort(),ae=this.parseUShort();return q===1?{posFormat:q,coverage:K,valueFormat1:te,valueFormat2:ae,pairSets:this.parseList(Oe.pointer(Oe.list(function(){return{secondGlyph:this.parseUShort(),value1:this.parseValueRecord(te),value2:this.parseValueRecord(ae)}})))}:q===2?(w=this.parsePointer(Oe.classDef),E=this.parsePointer(Oe.classDef),R=this.parseUShort(),N=this.parseUShort(),{posFormat:q,coverage:K,valueFormat1:te,valueFormat2:ae,classDef1:w,classDef2:E,class1Count:R,class2Count:N,classRecords:this.parseList(R,Oe.list(N,function(){return{value1:this.parseValueRecord(te),value2:this.parseValueRecord(ae)}}))}):void 0},_n[3]=function(){return{error:"GPOS Lookup 3 not supported"}},_n[4]=function(){return{error:"GPOS Lookup 4 not supported"}},_n[5]=function(){return{error:"GPOS Lookup 5 not supported"}},_n[6]=function(){return{error:"GPOS Lookup 6 not supported"}},_n[7]=function(){return{error:"GPOS Lookup 7 not supported"}},_n[8]=function(){return{error:"GPOS Lookup 8 not supported"}},_n[9]=function(){return{error:"GPOS Lookup 9 not supported"}};var $u=new Array(10),Ju={parse:function(w,E){return E=(w=new Oe(w,E=E||0)).parseVersion(1),B.argument(E===1||E===1.1,"Unsupported GPOS table version "+E),E===1?{version:E,scripts:w.parseScriptList(),features:w.parseFeatureList(),lookups:w.parseLookupList(_n)}:{version:E,scripts:w.parseScriptList(),features:w.parseFeatureList(),lookups:w.parseLookupList(_n),variations:w.parseFeatureVariationsList()}},make:function(w){return new Ne.Table("GPOS",[{name:"version",type:"ULONG",value:65536},{name:"scripts",type:"TABLE",value:new Ne.ScriptList(w.scripts)},{name:"features",type:"TABLE",value:new Ne.FeatureList(w.features)},{name:"lookups",type:"TABLE",value:new Ne.LookupList(w.lookups,$u)}])}},Zu={parse:function(w,E){if(w=new De.Parser(w,E),(E=w.parseUShort())===0){var R=w,N={},Le=(R.skip("uShort"),R.parseUShort()),q=(B.argument(Le===0,"Unsupported kern sub-table version."),R.skip("uShort",2),R.parseUShort());R.skip("uShort",3);for(var K=0;K<q;K+=1){var te=R.parseUShort(),ae=R.parseUShort(),me=R.parseShort();N[te+","+ae]=me}return N}if(E!==1)throw new Error("Unsupported kern table version ("+E+").");var ye=w,Ee={},Le=(ye.skip("uShort"),1<ye.parseULong()&&console.warn("Only the first kern subtable is supported."),ye.skip("uLong"),255&ye.parseUShort());if(ye.skip("uShort"),Le==0){var Pe=ye.parseUShort();ye.skip("uShort",3);for(var we=0;we<Pe;we+=1){var Ye=ye.parseUShort(),Be=ye.parseUShort(),We=ye.parseShort();Ee[Ye+","+Be]=We}}return Ee}},Ku={parse:function(w,E,R,N){for(var q=new De.Parser(w,E),K=N?q.parseUShort:q.parseULong,te=[],ae=0;ae<R+1;ae+=1){var me=K.call(q);N&&(me*=2),te.push(me)}return te}};function pa(w,E){t("fs").readFile(w,function(R,N){if(R)return E(R.message);E(null,_i(N))})}function ec(w,E){var R=new XMLHttpRequest;R.open("get",w,!0),R.responseType="arraybuffer",R.onload=function(){return R.response?E(null,R.response):E("Font could not be loaded: "+R.statusText)},R.onerror=function(){E("Font could not be loaded")},R.send()}function yl(w,E){for(var R=[],N=12,q=0;q<E;q+=1){var K=De.getTag(w,N),te=De.getULong(w,N+4),ae=De.getULong(w,N+8),me=De.getULong(w,N+12);R.push({tag:K,checksum:te,offset:ae,length:me,compression:!1}),N+=16}return R}function Er(R,E){if(E.compression!=="WOFF")return{data:R,offset:E.offset};var R=new Uint8Array(R.buffer,E.offset+2,E.compressedLength-2),N=new Uint8Array(E.length);if(Q(R,N),N.byteLength!==E.length)throw new Error("Decompression error: "+E.tag+" decompressed length doesn't match recorded length");return{data:new DataView(N.buffer,0),offset:0}}function Si(Ue){var E,R,N,q,K,te,ae,me,ye,Ee,Le,Pe,we,Ye,Be=new er({empty:!0}),We=new DataView(Ue,0),Fe=[],Ue=De.getTag(We,0);if(Ue==="\0\0\0"||Ue==="true"||Ue==="typ1")Be.outlinesFormat="truetype",Fe=yl(We,N=De.getUShort(We,4));else if(Ue==="OTTO")Be.outlinesFormat="cff",Fe=yl(We,N=De.getUShort(We,4));else{if(Ue!=="wOFF")throw new Error("Unsupported OpenType signature "+Ue);var bt=De.getTag(We,4);if(bt==="\0\0\0")Be.outlinesFormat="truetype";else{if(bt!=="OTTO")throw new Error("Unsupported OpenType flavor "+Ue);Be.outlinesFormat="cff"}Fe=function(rr,Qt){for(var Yr=[],dr=44,zr=0;zr<Qt;zr+=1){var ir=De.getTag(rr,dr),Jt=De.getULong(rr,dr+4),ns=De.getULong(rr,dr+8),Rs=De.getULong(rr,dr+12),ma=void 0,ma=ns<Rs&&"WOFF";Yr.push({tag:ir,offset:Jt,compression:ma,compressedLength:ns,length:Rs}),dr+=20}return Yr}(We,N=De.getUShort(We,12))}for(var Rt=0;Rt<N;Rt+=1){var gt=Fe[Rt],_t=void 0;switch(gt.tag){case"cmap":_t=Er(We,gt),Be.tables.cmap=oe.parse(_t.data,_t.offset),Be.encoding=new ze(Be.tables.cmap);break;case"cvt ":_t=Er(We,gt),Ye=new De.Parser(_t.data,_t.offset),Be.tables.cvt=Ye.parseShortList(gt.length/2);break;case"fvar":K=gt;break;case"fpgm":_t=Er(We,gt),Ye=new De.Parser(_t.data,_t.offset),Be.tables.fpgm=Ye.parseByteList(gt.length);break;case"head":_t=Er(We,gt),Be.tables.head=Qs.parse(_t.data,_t.offset),Be.unitsPerEm=Be.tables.head.unitsPerEm,E=Be.tables.head.indexToLocFormat;break;case"hhea":_t=Er(We,gt),Be.tables.hhea=xe.parse(_t.data,_t.offset),Be.ascender=Be.tables.hhea.ascender,Be.descender=Be.tables.hhea.descender,Be.numberOfHMetrics=Be.tables.hhea.numberOfHMetrics;break;case"hmtx":ye=gt;break;case"ltag":_t=Er(We,gt),R=dt.parse(_t.data,_t.offset);break;case"maxp":_t=Er(We,gt),Be.tables.maxp=$e.parse(_t.data,_t.offset),Be.numGlyphs=Be.tables.maxp.numGlyphs;break;case"name":Pe=gt;break;case"OS/2":_t=Er(We,gt),Be.tables.os2=Dr.parse(_t.data,_t.offset);break;case"post":_t=Er(We,gt),Be.tables.post=gn.parse(_t.data,_t.offset),Be.glyphNames=new rt(Be.tables.post);break;case"prep":_t=Er(We,gt),Ye=new De.Parser(_t.data,_t.offset),Be.tables.prep=Ye.parseByteList(gt.length);break;case"glyf":te=gt;break;case"loca":Le=gt;break;case"CFF ":q=gt;break;case"kern":Ee=gt;break;case"GPOS":ae=gt;break;case"GSUB":me=gt;break;case"meta":we=gt}}if(bt=Er(We,Pe),Be.tables.name=Xr.parse(bt.data,bt.offset,R),Be.names=Be.tables.name,te&&Le)Ue=E===0,bt=Er(We,Le),bt=Ku.parse(bt.data,bt.offset,Be.numGlyphs,Ue),Ue=Er(We,te),Be.glyphs=Zn.parse(Ue.data,Ue.offset,bt,Be);else{if(!q)throw new Error("Font doesn't contain TrueType or CFF outlines.");Ue=Er(We,q),Cn.parse(Ue.data,Ue.offset,Be)}for(var bt=Er(We,ye),Lt=(Ze.parse(bt.data,bt.offset,Be.numberOfHMetrics,Be.numGlyphs,Be.glyphs),Be),Yt=Lt.tables.cmap.glyphIndexMap,vr=Object.keys(Yt),xr=0;xr<vr.length;xr+=1){var Lr,Nr=vr[xr],bn=Yt[Nr];(Lr=Lt.glyphs.get(bn)).addUnicode(parseInt(Nr))}for(var $t=0;$t<Lt.glyphs.length;$t+=1)Lr=Lt.glyphs.get($t),Lt.cffEncoding?Lt.isCIDFont?Lr.name="gid"+$t:Lr.name=Lt.cffEncoding.charset[$t]:Lt.glyphNames.names&&(Lr.name=Lt.glyphNames.glyphIndexToName($t));return Ee?(Ue=Er(We,Ee),Be.kerningPairs=Zu.parse(Ue.data,Ue.offset)):Be.kerningPairs={},ae&&(bt=Er(We,ae),Be.tables.gpos=Ju.parse(bt.data,bt.offset),Be.position.init()),me&&(Ue=Er(We,me),Be.tables.gsub=Do.parse(Ue.data,Ue.offset)),K&&(bt=Er(We,K),Be.tables.fvar=Qu.parse(bt.data,bt.offset,Be.names)),we&&(Ue=Er(We,we),Be.tables.meta=Lo.parse(Ue.data,Ue.offset),Be.metas=Be.tables.meta),Be}c.Font=er,c.Glyph=lt,c.Path=ee,c.BoundingBox=z,c._parse=De,c.parse=Si,c.load=function(w,E){(typeof window>"u"?pa:ec)(w,function(R,N){if(R)return E(R);var q;try{q=Si(N)}catch(K){return E(K,null)}return E(null,q)})},c.loadSync=function(w){return Si(_i(t("fs").readFileSync(w)))},Object.defineProperty(c,"__esModule",{value:!0})},s(typeof x=="object"&&j!==void 0?x:f.opentype={})}).call(this,t("buffer").Buffer)},{buffer:4,fs:2}],255:[function(t,j,x){(function(d){function f(g,y){for(var o=0,a=g.length-1;0<=a;a--){var i=g[a];i==="."?g.splice(a,1):i===".."?(g.splice(a,1),o++):o&&(g.splice(a,1),o--)}if(y)for(;o--;)g.unshift("..");return g}function s(g,y){if(g.filter)return g.filter(y);for(var o=[],a=0;a<g.length;a++)y(g[a],a,g)&&o.push(g[a]);return o}x.resolve=function(){for(var g="",y=!1,o=arguments.length-1;-1<=o&&!y;o--){var a=0<=o?arguments[o]:d.cwd();if(typeof a!="string")throw new TypeError("Arguments to path.resolve must be strings");a&&(g=a+"/"+g,y=a.charAt(0)==="/")}return(y?"/":"")+(g=f(s(g.split("/"),function(i){return!!i}),!y).join("/"))||"."},x.normalize=function(g){var y=x.isAbsolute(g),o=c(g,-1)==="/";return(g=(g=f(s(g.split("/"),function(a){return!!a}),!y).join("/"))||y?g:".")&&o&&(g+="/"),(y?"/":"")+g},x.isAbsolute=function(g){return g.charAt(0)==="/"},x.join=function(){var g=Array.prototype.slice.call(arguments,0);return x.normalize(s(g,function(y,o){if(typeof y!="string")throw new TypeError("Arguments to path.join must be strings");return y}).join("/"))},x.relative=function(g,y){function o(_){for(var b=0;b<_.length&&_[b]==="";b++);for(var T=_.length-1;0<=T&&_[T]==="";T--);return T<b?[]:_.slice(b,T-b+1)}g=x.resolve(g).substr(1),y=x.resolve(y).substr(1);for(var a=o(g.split("/")),i=o(y.split("/")),h=Math.min(a.length,i.length),p=h,l=0;l<h;l++)if(a[l]!==i[l]){p=l;break}for(var m=[],l=p;l<a.length;l++)m.push("..");return(m=m.concat(i.slice(p))).join("/")},x.sep="/",x.delimiter=":",x.dirname=function(g){if(typeof g!="string"&&(g+=""),g.length===0)return".";for(var y=g.charCodeAt(0)===47,o=-1,a=!0,i=g.length-1;1<=i;--i)if(g.charCodeAt(i)===47){if(!a){o=i;break}}else a=!1;return o===-1?y?"/":".":y&&o===1?"/":g.slice(0,o)},x.basename=function(g,y){return g=function(o){typeof o!="string"&&(o+="");for(var a=0,i=-1,h=!0,p=o.length-1;0<=p;--p)if(o.charCodeAt(p)===47){if(!h){a=p+1;break}}else i===-1&&(h=!1,i=p+1);return i===-1?"":o.slice(a,i)}(g),g=y&&g.substr(-1*y.length)===y?g.substr(0,g.length-y.length):g},x.extname=function(g){typeof g!="string"&&(g+="");for(var y=-1,o=0,a=-1,i=!0,h=0,p=g.length-1;0<=p;--p){var l=g.charCodeAt(p);if(l===47){if(i)continue;o=p+1;break}a===-1&&(i=!1,a=p+1),l===46?y===-1?y=p:h!==1&&(h=1):y!==-1&&(h=-1)}return y===-1||a===-1||h===0||h===1&&y===a-1&&y===o+1?"":g.slice(y,a)};var c="ab".substr(-1)==="b"?function(g,y,o){return g.substr(y,o)}:function(g,y,o){return y<0&&(y=g.length+y),g.substr(y,o)}}).call(this,t("_process"))},{_process:256}],256:[function(t,s,x){var d,f,s=s.exports={};function c(){throw new Error("setTimeout has not been defined")}function g(){throw new Error("clearTimeout has not been defined")}try{d=typeof setTimeout=="function"?setTimeout:c}catch{d=c}try{f=typeof clearTimeout=="function"?clearTimeout:g}catch{f=g}function y(b){if(d===setTimeout)return setTimeout(b,0);if((d===c||!d)&&setTimeout)return(d=setTimeout)(b,0);try{return d(b,0)}catch{try{return d.call(null,b,0)}catch{return d.call(this,b,0)}}}var o,a=[],i=!1,h=-1;function p(){i&&o&&(i=!1,o.length?a=o.concat(a):h=-1,a.length&&l())}function l(){if(!i){for(var b=y(p),T=(i=!0,a.length);T;){for(o=a,a=[];++h<T;)o&&o[h].run();h=-1,T=a.length}o=null,i=!1,function(O){if(f===clearTimeout)return clearTimeout(O);if((f===g||!f)&&clearTimeout)return(f=clearTimeout)(O);try{f(O)}catch{try{return f.call(null,O)}catch{return f.call(this,O)}}}(b)}}function m(b,T){this.fun=b,this.array=T}function _(){}s.nextTick=function(b){var T=new Array(arguments.length-1);if(1<arguments.length)for(var O=1;O<arguments.length;O++)T[O-1]=arguments[O];a.push(new m(b,T)),a.length!==1||i||y(l)},m.prototype.run=function(){this.fun.apply(null,this.array)},s.title="browser",s.browser=!0,s.env={},s.argv=[],s.version="",s.versions={},s.on=_,s.addListener=_,s.once=_,s.off=_,s.removeListener=_,s.removeAllListeners=_,s.emit=_,s.prependListener=_,s.prependOnceListener=_,s.listeners=function(b){return[]},s.binding=function(b){throw new Error("process.binding is not supported")},s.cwd=function(){return"/"},s.chdir=function(b){throw new Error("process.chdir is not supported")},s.umask=function(){return 0}},{}],257:[function(t,j,x){j=function(d){var f,s=Object.prototype,c=s.hasOwnProperty,k=typeof Symbol=="function"?Symbol:{},g=k.iterator||"@@iterator",y=k.asyncIterator||"@@asyncIterator",o=k.toStringTag||"@@toStringTag";function a(J,H,Y,$){var ee,ie,C,B,H=H&&H.prototype instanceof b?H:b,H=Object.create(H.prototype),$=new V($||[]);return H._invoke=(ee=J,ie=Y,C=$,B=h,function(ne,se){if(B===l)throw new Error("Generator is already running");if(B===m){if(ne==="throw")throw se;return W()}for(C.method=ne,C.arg=se;;){var de=C.delegate;if(de&&(de=function _e(pe,ge){var ve=pe.iterator[ge.method];if(ve===f){if(ge.delegate=null,ge.method==="throw"){if(pe.iterator.return&&(ge.method="return",ge.arg=f,_e(pe,ge),ge.method==="throw"))return _;ge.method="throw",ge.arg=new TypeError("The iterator does not provide a 'throw' method")}return _}if(ve=i(ve,pe.iterator,ge.arg),ve.type==="throw")return ge.method="throw",ge.arg=ve.arg,ge.delegate=null,_;if(ve=ve.arg,!ve)return ge.method="throw",ge.arg=new TypeError("iterator result is not an object"),ge.delegate=null,_;{if(!ve.done)return ve;ge[pe.resultName]=ve.value,ge.next=pe.nextLoc,ge.method!=="return"&&(ge.method="next",ge.arg=f)}return ge.delegate=null,_}(de,C),de)){if(de===_)continue;return de}if(C.method==="next")C.sent=C._sent=C.arg;else if(C.method==="throw"){if(B===h)throw B=m,C.arg;C.dispatchException(C.arg)}else C.method==="return"&&C.abrupt("return",C.arg);if(B=l,de=i(ee,ie,C),de.type==="normal"){if(B=C.done?m:p,de.arg!==_)return{value:de.arg,done:C.done}}else de.type==="throw"&&(B=m,C.method="throw",C.arg=de.arg)}}),H}function i(J,Q,Y){try{return{type:"normal",arg:J.call(Q,Y)}}catch(z){return{type:"throw",arg:z}}}d.wrap=a;var h="suspendedStart",p="suspendedYield",l="executing",m="completed",_={};function b(){}function T(){}function O(){}var k={},M=(k[g]=function(){return this},Object.getPrototypeOf),M=M&&M(M(G([]))),I=(M&&M!==s&&c.call(M,g)&&(k=M),O.prototype=b.prototype=Object.create(k));function F(J){["next","throw","return"].forEach(function(Q){J[Q]=function(Y){return this._invoke(Q,Y)}})}function A(J){var Q;this._invoke=function(Y,z){function ee(){return new Promise(function(ie,C){(function B(_e,$,ne,se){var de,_e=i(J[_e],J,$);if(_e.type!=="throw")return($=(de=_e.arg).value)&&typeof $=="object"&&c.call($,"__await")?Promise.resolve($.__await).then(function(pe){B("next",pe,ne,se)},function(pe){B("throw",pe,ne,se)}):Promise.resolve($).then(function(pe){de.value=pe,ne(de)},function(pe){return B("throw",pe,ne,se)});se(_e.arg)})(Y,z,ie,C)})}return Q=Q?Q.then(ee,ee):ee()}}function U(J){var Q={tryLoc:J[0]};1 in J&&(Q.catchLoc=J[1]),2 in J&&(Q.finallyLoc=J[2],Q.afterLoc=J[3]),this.tryEntries.push(Q)}function D(J){var Q=J.completion||{};Q.type="normal",delete Q.arg,J.completion=Q}function V(J){this.tryEntries=[{tryLoc:"root"}],J.forEach(U,this),this.reset(!0)}function G(J){if(J){var Q,Y=J[g];if(Y)return Y.call(J);if(typeof J.next=="function")return J;if(!isNaN(J.length))return Q=-1,(Y=function z(){for(;++Q<J.length;)if(c.call(J,Q))return z.value=J[Q],z.done=!1,z;return z.value=f,z.done=!0,z}).next=Y}return{next:W}}function W(){return{value:f,done:!0}}return(T.prototype=I.constructor=O).constructor=T,O[o]=T.displayName="GeneratorFunction",d.isGeneratorFunction=function(J){return J=typeof J=="function"&&J.constructor,!!J&&(J===T||(J.displayName||J.name)==="GeneratorFunction")},d.mark=function(J){return Object.setPrototypeOf?Object.setPrototypeOf(J,O):(J.__proto__=O,o in J||(J[o]="GeneratorFunction")),J.prototype=Object.create(I),J},d.awrap=function(J){return{__await:J}},F(A.prototype),A.prototype[y]=function(){return this},d.AsyncIterator=A,d.async=function(J,Q,Y,z){var ee=new A(a(J,Q,Y,z));return d.isGeneratorFunction(Q)?ee:ee.next().then(function(ie){return ie.done?ie.value:ee.next()})},F(I),I[o]="Generator",I[g]=function(){return this},I.toString=function(){return"[object Generator]"},d.keys=function(J){var Q,Y=[];for(Q in J)Y.push(Q);return Y.reverse(),function z(){for(;Y.length;){var ee=Y.pop();if(ee in J)return z.value=ee,z.done=!1,z}return z.done=!0,z}},d.values=G,V.prototype={constructor:V,reset:function(J){if(this.prev=0,this.next=0,this.sent=this._sent=f,this.done=!1,this.delegate=null,this.method="next",this.arg=f,this.tryEntries.forEach(D),!J)for(var Q in this)Q.charAt(0)==="t"&&c.call(this,Q)&&!isNaN(+Q.slice(1))&&(this[Q]=f)},stop:function(){this.done=!0;var J=this.tryEntries[0].completion;if(J.type==="throw")throw J.arg;return this.rval},dispatchException:function(J){if(this.done)throw J;var Q=this;function Y(H,$){return ie.type="throw",ie.arg=J,Q.next=H,$&&(Q.method="next",Q.arg=f),!!$}for(var z=this.tryEntries.length-1;0<=z;--z){var ee=this.tryEntries[z],ie=ee.completion;if(ee.tryLoc==="root")return Y("end");if(ee.tryLoc<=this.prev){var C=c.call(ee,"catchLoc"),B=c.call(ee,"finallyLoc");if(C&&B){if(this.prev<ee.catchLoc)return Y(ee.catchLoc,!0);if(this.prev<ee.finallyLoc)return Y(ee.finallyLoc)}else if(C){if(this.prev<ee.catchLoc)return Y(ee.catchLoc,!0)}else{if(!B)throw new Error("try statement without catch or finally");if(this.prev<ee.finallyLoc)return Y(ee.finallyLoc)}}}},abrupt:function(J,Q){for(var Y=this.tryEntries.length-1;0<=Y;--Y){var z=this.tryEntries[Y];if(z.tryLoc<=this.prev&&c.call(z,"finallyLoc")&&this.prev<z.finallyLoc){var ee=z;break}}var ie=(ee=ee&&(J==="break"||J==="continue")&&ee.tryLoc<=Q&&Q<=ee.finallyLoc?null:ee)?ee.completion:{};return ie.type=J,ie.arg=Q,ee?(this.method="next",this.next=ee.finallyLoc,_):this.complete(ie)},complete:function(J,Q){if(J.type==="throw")throw J.arg;return J.type==="break"||J.type==="continue"?this.next=J.arg:J.type==="return"?(this.rval=this.arg=J.arg,this.method="return",this.next="end"):J.type==="normal"&&Q&&(this.next=Q),_},finish:function(J){for(var Q=this.tryEntries.length-1;0<=Q;--Q){var Y=this.tryEntries[Q];if(Y.finallyLoc===J)return this.complete(Y.completion,Y.afterLoc),D(Y),_}},catch:function(J){for(var Q=this.tryEntries.length-1;0<=Q;--Q){var Y,z,ee=this.tryEntries[Q];if(ee.tryLoc===J)return(Y=ee.completion).type==="throw"&&(z=Y.arg,D(ee)),z}throw new Error("illegal catch attempt")},delegateYield:function(J,Q,Y){return this.delegate={iterator:G(J),resultName:Q,nextLoc:Y},this.method==="next"&&(this.arg=f),_}},d}(typeof j=="object"?j.exports:{});try{regeneratorRuntime=j}catch{Function("r","regeneratorRuntime = r")(j)}},{}],258:[function(t,j,x){(function(d){var f,s,c,g,y,o,a,i,h,p;function l(D){if(typeof D!="string"&&(D=String(D)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(D))throw new TypeError("Invalid character in header field name");return D.toLowerCase()}function m(D){return D=typeof D!="string"?String(D):D}function _(D){var V={next:function(){var G=D.shift();return{done:G===void 0,value:G}}};return s&&(V[Symbol.iterator]=function(){return V}),V}function b(D){this.map={},D instanceof b?D.forEach(function(V,G){this.append(G,V)},this):Array.isArray(D)?D.forEach(function(V){this.append(V[0],V[1])},this):D&&Object.getOwnPropertyNames(D).forEach(function(V){this.append(V,D[V])},this)}function T(D){if(D.bodyUsed)return Promise.reject(new TypeError("Already read"));D.bodyUsed=!0}function O(D){return new Promise(function(V,G){D.onload=function(){V(D.result)},D.onerror=function(){G(D.error)}})}function k(D){var V=new FileReader,G=O(V);return V.readAsArrayBuffer(D),G}function M(D){var V;return D.slice?D.slice(0):((V=new Uint8Array(D.byteLength)).set(new Uint8Array(D)),V.buffer)}function I(){return this.bodyUsed=!1,this._initBody=function(D){if(this._bodyInit=D)if(typeof D=="string")this._bodyText=D;else if(c&&Blob.prototype.isPrototypeOf(D))this._bodyBlob=D;else if(g&&FormData.prototype.isPrototypeOf(D))this._bodyFormData=D;else if(f&&URLSearchParams.prototype.isPrototypeOf(D))this._bodyText=D.toString();else if(y&&c&&a(D))this._bodyArrayBuffer=M(D.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!y||!ArrayBuffer.prototype.isPrototypeOf(D)&&!i(D))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=M(D)}else this._bodyText="";this.headers.get("content-type")||(typeof D=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):f&&URLSearchParams.prototype.isPrototypeOf(D)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},c&&(this.blob=function(){var D=T(this);if(D)return D;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?T(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(k)}),this.text=function(){var D,V,G=T(this);if(G)return G;if(this._bodyBlob)return G=this._bodyBlob,D=new FileReader,V=O(D),D.readAsText(G),V;if(this._bodyArrayBuffer)return Promise.resolve(function(W){for(var J=new Uint8Array(W),Q=new Array(J.length),Y=0;Y<J.length;Y++)Q[Y]=String.fromCharCode(J[Y]);return Q.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},g&&(this.formData=function(){return this.text().then(A)}),this.json=function(){return this.text().then(JSON.parse)},this}function F(D,V){var G,W=(V=V||{}).body;if(D instanceof F){if(D.bodyUsed)throw new TypeError("Already read");this.url=D.url,this.credentials=D.credentials,V.headers||(this.headers=new b(D.headers)),this.method=D.method,this.mode=D.mode,W||D._bodyInit==null||(W=D._bodyInit,D.bodyUsed=!0)}else this.url=String(D);if(this.credentials=V.credentials||this.credentials||"omit",!V.headers&&this.headers||(this.headers=new b(V.headers)),this.method=(D=V.method||this.method||"GET",G=D.toUpperCase(),-1<h.indexOf(G)?G:D),this.mode=V.mode||this.mode||null,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&W)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(W)}function A(D){var V=new FormData;return D.trim().split("&").forEach(function(G){var W;G&&(W=(G=G.split("=")).shift().replace(/\+/g," "),G=G.join("=").replace(/\+/g," "),V.append(decodeURIComponent(W),decodeURIComponent(G)))}),V}function U(D,V){V=V||{},this.type="default",this.status=V.status===void 0?200:V.status,this.ok=200<=this.status&&this.status<300,this.statusText="statusText"in V?V.statusText:"OK",this.headers=new b(V.headers),this.url=V.url||"",this._initBody(D)}d.fetch||(f="URLSearchParams"in d,s="Symbol"in d&&"iterator"in Symbol,c="FileReader"in d&&"Blob"in d&&function(){try{return new Blob,!0}catch{return!1}}(),g="FormData"in d,(y="ArrayBuffer"in d)&&(o=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],a=function(D){return D&&DataView.prototype.isPrototypeOf(D)},i=ArrayBuffer.isView||function(D){return D&&-1<o.indexOf(Object.prototype.toString.call(D))}),b.prototype.append=function(D,V){D=l(D),V=m(V);var G=this.map[D];this.map[D]=G?G+","+V:V},b.prototype.delete=function(D){delete this.map[l(D)]},b.prototype.get=function(D){return D=l(D),this.has(D)?this.map[D]:null},b.prototype.has=function(D){return this.map.hasOwnProperty(l(D))},b.prototype.set=function(D,V){this.map[l(D)]=m(V)},b.prototype.forEach=function(D,V){for(var G in this.map)this.map.hasOwnProperty(G)&&D.call(V,this.map[G],G,this)},b.prototype.keys=function(){var D=[];return this.forEach(function(V,G){D.push(G)}),_(D)},b.prototype.values=function(){var D=[];return this.forEach(function(V){D.push(V)}),_(D)},b.prototype.entries=function(){var D=[];return this.forEach(function(V,G){D.push([G,V])}),_(D)},s&&(b.prototype[Symbol.iterator]=b.prototype.entries),h=["DELETE","GET","HEAD","OPTIONS","POST","PUT"],F.prototype.clone=function(){return new F(this,{body:this._bodyInit})},I.call(F.prototype),I.call(U.prototype),U.prototype.clone=function(){return new U(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new b(this.headers),url:this.url})},U.error=function(){var D=new U(null,{status:0,statusText:""});return D.type="error",D},p=[301,302,303,307,308],U.redirect=function(D,V){if(p.indexOf(V)===-1)throw new RangeError("Invalid status code");return new U(null,{status:V,headers:{location:D}})},d.Headers=b,d.Request=F,d.Response=U,d.fetch=function(D,V){return new Promise(function(G,W){var J=new F(D,V),Q=new XMLHttpRequest;Q.onload=function(){var Y,z={status:Q.status,statusText:Q.statusText,headers:(z=Q.getAllResponseHeaders()||"",Y=new b,z.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(C){var C=C.split(":"),B=C.shift().trim();B&&(C=C.join(":").trim(),Y.append(B,C))}),Y)},ee=(z.url="responseURL"in Q?Q.responseURL:z.headers.get("X-Request-URL"),"response"in Q?Q.response:Q.responseText);G(new U(ee,z))},Q.onerror=function(){W(new TypeError("Network request failed"))},Q.ontimeout=function(){W(new TypeError("Network request failed"))},Q.open(J.method,J.url,!0),J.credentials==="include"?Q.withCredentials=!0:J.credentials==="omit"&&(Q.withCredentials=!1),"responseType"in Q&&c&&(Q.responseType="blob"),J.headers.forEach(function(Y,z){Q.setRequestHeader(z,Y)}),Q.send(J._bodyInit===void 0?null:J._bodyInit)})},d.fetch.polyfill=!0)})(typeof self<"u"?self:this)},{}],259:[function(t,j,x){t("core-js/modules/es.function.name"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.split"),t("core-js/modules/es.function.name"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.split"),Object.defineProperty(x,"__esModule",{value:!0}),x.default=void 0;var d,f=c(t("../core/main")),s=c(t("../color/color_conversion"));function c(o){return o&&o.__esModule?o:{default:o}}var g=[{h:0,s:0,b:.8275,name:"gray"},{h:0,s:0,b:.8627,name:"gray"},{h:0,s:0,b:.7529,name:"gray"},{h:.0167,s:.1176,b:1,name:"light pink"}],y=[{h:0,s:0,b:0,name:"black"},{h:0,s:0,b:.5,name:"gray"},{h:0,s:0,b:1,name:"white"},{h:0,s:.5,b:.5,name:"dark maroon"},{h:0,s:.5,b:1,name:"salmon pink"},{h:0,s:1,b:0,name:"black"},{h:0,s:1,b:.5,name:"dark red"},{h:0,s:1,b:1,name:"red"},{h:5,s:0,b:1,name:"very light peach"},{h:5,s:.5,b:.5,name:"brown"},{h:5,s:.5,b:1,name:"peach"},{h:5,s:1,b:.5,name:"brick red"},{h:5,s:1,b:1,name:"crimson"},{h:10,s:0,b:1,name:"light peach"},{h:10,s:.5,b:.5,name:"brown"},{h:10,s:.5,b:1,name:"light orange"},{h:10,s:1,b:.5,name:"brown"},{h:10,s:1,b:1,name:"orange"},{h:15,s:0,b:1,name:"very light yellow"},{h:15,s:.5,b:.5,name:"olive green"},{h:15,s:.5,b:1,name:"light yellow"},{h:15,s:1,b:0,name:"dark olive green"},{h:15,s:1,b:.5,name:"olive green"},{h:15,s:1,b:1,name:"yellow"},{h:20,s:0,b:1,name:"very light yellow"},{h:20,s:.5,b:.5,name:"olive green"},{h:20,s:.5,b:1,name:"light yellow green"},{h:20,s:1,b:0,name:"dark olive green"},{h:20,s:1,b:.5,name:"dark yellow green"},{h:20,s:1,b:1,name:"yellow green"},{h:25,s:.5,b:.5,name:"dark yellow green"},{h:25,s:.5,b:1,name:"light green"},{h:25,s:1,b:.5,name:"dark green"},{h:25,s:1,b:1,name:"green"},{h:30,s:.5,b:1,name:"light green"},{h:30,s:1,b:.5,name:"dark green"},{h:30,s:1,b:1,name:"green"},{h:35,s:0,b:.5,name:"light green"},{h:35,s:0,b:1,name:"very light green"},{h:35,s:.5,b:.5,name:"dark green"},{h:35,s:.5,b:1,name:"light green"},{h:35,s:1,b:0,name:"very dark green"},{h:35,s:1,b:.5,name:"dark green"},{h:35,s:1,b:1,name:"green"},{h:40,s:0,b:1,name:"very light green"},{h:40,s:.5,b:.5,name:"dark green"},{h:40,s:.5,b:1,name:"light green"},{h:40,s:1,b:.5,name:"dark green"},{h:40,s:1,b:1,name:"green"},{h:45,s:.5,b:1,name:"light turquoise"},{h:45,s:1,b:.5,name:"dark turquoise"},{h:45,s:1,b:1,name:"turquoise"},{h:50,s:0,b:1,name:"light sky blue"},{h:50,s:.5,b:.5,name:"dark cyan"},{h:50,s:.5,b:1,name:"light cyan"},{h:50,s:1,b:.5,name:"dark cyan"},{h:50,s:1,b:1,name:"cyan"},{h:55,s:0,b:1,name:"light sky blue"},{h:55,s:.5,b:1,name:"light sky blue"},{h:55,s:1,b:.5,name:"dark blue"},{h:55,s:1,b:1,name:"sky blue"},{h:60,s:0,b:.5,name:"gray"},{h:60,s:0,b:1,name:"very light blue"},{h:60,s:.5,b:.5,name:"blue"},{h:60,s:.5,b:1,name:"light blue"},{h:60,s:1,b:.5,name:"navy blue"},{h:60,s:1,b:1,name:"blue"},{h:65,s:0,b:1,name:"lavender"},{h:65,s:.5,b:.5,name:"navy blue"},{h:65,s:.5,b:1,name:"light purple"},{h:65,s:1,b:.5,name:"dark navy blue"},{h:65,s:1,b:1,name:"blue"},{h:70,s:0,b:1,name:"lavender"},{h:70,s:.5,b:.5,name:"navy blue"},{h:70,s:.5,b:1,name:"lavender blue"},{h:70,s:1,b:.5,name:"dark navy blue"},{h:70,s:1,b:1,name:"blue"},{h:75,s:.5,b:1,name:"lavender"},{h:75,s:1,b:.5,name:"dark purple"},{h:75,s:1,b:1,name:"purple"},{h:80,s:.5,b:1,name:"pinkish purple"},{h:80,s:1,b:.5,name:"dark purple"},{h:80,s:1,b:1,name:"purple"},{h:85,s:0,b:1,name:"light pink"},{h:85,s:.5,b:.5,name:"purple"},{h:85,s:.5,b:1,name:"light fuchsia"},{h:85,s:1,b:.5,name:"dark fuchsia"},{h:85,s:1,b:1,name:"fuchsia"},{h:90,s:.5,b:.5,name:"dark fuchsia"},{h:90,s:.5,b:1,name:"hot pink"},{h:90,s:1,b:.5,name:"dark fuchsia"},{h:90,s:1,b:1,name:"fuchsia"},{h:95,s:0,b:1,name:"pink"},{h:95,s:.5,b:1,name:"light pink"},{h:95,s:1,b:.5,name:"dark magenta"},{h:95,s:1,b:1,name:"magenta"}];f.default.prototype._rgbColorName=function(h){var a,i,h=s.default._rgbaToHSBA(h),p=[(d=h)[0],h[1],h[2]];p[0]!==0&&(p[0]=Math.round(100*p[0]),(h=p[0].toString().split(""))[i=h.length-1]=parseInt(h[i]),h[i]<2.5?h[i]=0:2.5<=h[i]&&h[i]<7.5&&(h[i]=5),h.length===2?(h[0]=parseInt(h[0]),7.5<=h[i]&&(h[i]=0,h[0]=h[0]+1),p[0]=10*h[0]+h[1]):7.5<=h[i]?p[0]=10:p[0]=h[i]),p[2]=p[2]/255;for(var l=p.length-1;1<=l;l--)p[l]<=.25?p[l]=0:.25<p[l]&&p[l]<.75?p[l]=.5:p[l]=1;if(p[0]===0&&p[1]===0&&p[2]===1){for(var m=2;0<=m;m--)d[m]=Math.round(1e4*d[m])/1e4;for(var _=0;_<g.length;_++){if(g[_].h===d[0]&&g[_].s===d[1]&&g[_].b===d[2]){a=g[_].name;break}a="white"}}else for(var b=0;b<y.length;b++)if(y[b].h===p[0]&&y[b].s===p[1]&&y[b].b===p[2]){a=y[b].name;break}return a},t=f.default,x.default=t},{"../color/color_conversion":265,"../core/main":280,"core-js/modules/es.function.name":173,"core-js/modules/es.object.to-string":187,"core-js/modules/es.regexp.exec":192,"core-js/modules/es.regexp.to-string":193,"core-js/modules/es.string.split":203}],260:[function(t,j,x){t("core-js/modules/es.array.concat"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.ends-with"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.ends-with"),t("core-js/modules/es.string.replace"),Object.defineProperty(x,"__esModule",{value:!0}),x.default=void 0;var d=(t=t("../core/main"))&&t.__esModule?t:{default:t},f="_Description",s="_fallbackDesc",c="_fallbackTable",g="_Label",y="_labelDesc",o="_labelTable";function a(i){if(i==="label"||i==="fallback")throw new Error("description should not be LABEL or FALLBACK");return i.endsWith(".")||i.endsWith(";")||i.endsWith(",")||i.endsWith("?")||i.endsWith("!")||(i+="."),i}d.default.prototype.describe=function(i,h){var p;d.default._validateParameters("describe",arguments),typeof i=="string"&&(p=this.canvas.id,i=a(i),this.dummyDOM||(this.dummyDOM=document.getElementById(p).parentNode),this.descriptions||(this.descriptions={}),this.descriptions.fallback?this.descriptions.fallback.innerHTML!==i&&(this.descriptions.fallback.innerHTML=i):this._describeHTML("fallback",i),h===this.LABEL&&(this.descriptions.label?this.descriptions.label.innerHTML!==i&&(this.descriptions.label.innerHTML=i):this._describeHTML("label",i)))},d.default.prototype.describeElement=function(i,h,p){var l,m;d.default._validateParameters("describeElement",arguments),typeof h=="string"&&typeof i=="string"&&(l=this.canvas.id,h=a(h),m=function(_){if(_==="label"||_==="fallback")throw new Error("element name should not be LABEL or FALLBACK");return _.endsWith(".")||_.endsWith(";")||_.endsWith(",")?_=_.replace(/.$/,":"):_.endsWith(":")||(_+=":"),_}(i),i=i.replace(/[^a-zA-Z0-9]/g,""),m='<th scope="row">'.concat(m,"</th><td>").concat(h,"</td>"),this.dummyDOM||(this.dummyDOM=document.getElementById(l).parentNode),this.descriptions?this.descriptions.fallbackElements||(this.descriptions.fallbackElements={}):this.descriptions={fallbackElements:{}},this.descriptions.fallbackElements[i]?this.descriptions.fallbackElements[i].innerHTML!==m&&(this.descriptions.fallbackElements[i].innerHTML=m):this._describeElementHTML("fallback",i,m),p===this.LABEL&&(this.descriptions.labelElements||(this.descriptions.labelElements={}),this.descriptions.labelElements[i]?this.descriptions.labelElements[i].innerHTML!==m&&(this.descriptions.labelElements[i].innerHTML=m):this._describeElementHTML("label",i,m)))},d.default.prototype._describeHTML=function(i,h){var p,l=this.canvas.id;i==="fallback"?(this.dummyDOM.querySelector("#".concat(l+f))?this.dummyDOM.querySelector("#"+l+c).insertAdjacentHTML("beforebegin",'<p id="'.concat(l+s,'"></p>')):(p='<div id="'.concat(l).concat(f,'" role="region" aria-label="Canvas Description"><p id="').concat(l).concat(s,'"></p></div>'),this.dummyDOM.querySelector("#".concat(l,"accessibleOutput"))?this.dummyDOM.querySelector("#".concat(l,"accessibleOutput")).insertAdjacentHTML("beforebegin",p):this.dummyDOM.querySelector("#".concat(l)).innerHTML=p),this.descriptions.fallback=this.dummyDOM.querySelector("#".concat(l).concat(s)),this.descriptions.fallback.innerHTML=h):i==="label"&&(this.dummyDOM.querySelector("#".concat(l+g))?this.dummyDOM.querySelector("#".concat(l+o))&&this.dummyDOM.querySelector("#".concat(l+o)).insertAdjacentHTML("beforebegin",'<p id="'.concat(l).concat(y,'"></p>')):(p='<div id="'.concat(l).concat(g,'" class="p5Label"><p id="').concat(l).concat(y,'"></p></div>'),this.dummyDOM.querySelector("#".concat(l,"accessibleOutputLabel"))?this.dummyDOM.querySelector("#".concat(l,"accessibleOutputLabel")).insertAdjacentHTML("beforebegin",p):this.dummyDOM.querySelector("#"+l).insertAdjacentHTML("afterend",p)),this.descriptions.label=this.dummyDOM.querySelector("#"+l+y),this.descriptions.label.innerHTML=h)},d.default.prototype._describeElementHTML=function(i,h,p){var l,m=this.canvas.id;i==="fallback"?(this.dummyDOM.querySelector("#".concat(m+f))?this.dummyDOM.querySelector("#"+m+c)||this.dummyDOM.querySelector("#"+m+s).insertAdjacentHTML("afterend",'<table id="'.concat(m).concat(c,'"><caption>Canvas elements and their descriptions</caption></table>')):(l='<div id="'.concat(m).concat(f,'" role="region" aria-label="Canvas Description"><table id="').concat(m).concat(c,'"><caption>Canvas elements and their descriptions</caption></table></div>'),this.dummyDOM.querySelector("#".concat(m,"accessibleOutput"))?this.dummyDOM.querySelector("#".concat(m,"accessibleOutput")).insertAdjacentHTML("beforebegin",l):this.dummyDOM.querySelector("#"+m).innerHTML=l),(l=document.createElement("tr")).id=m+"_fte_"+h,this.dummyDOM.querySelector("#"+m+c).appendChild(l),this.descriptions.fallbackElements[h]=this.dummyDOM.querySelector("#".concat(m).concat("_fte_").concat(h)),this.descriptions.fallbackElements[h].innerHTML=p):i==="label"&&(this.dummyDOM.querySelector("#".concat(m+g))?this.dummyDOM.querySelector("#".concat(m+o))||this.dummyDOM.querySelector("#"+m+y).insertAdjacentHTML("afterend",'<table id="'.concat(m+o,'"></table>')):(l='<div id="'.concat(m).concat(g,'" class="p5Label"><table id="').concat(m).concat(o,'"></table></div>'),this.dummyDOM.querySelector("#".concat(m,"accessibleOutputLabel"))?this.dummyDOM.querySelector("#".concat(m,"accessibleOutputLabel")).insertAdjacentHTML("beforebegin",l):this.dummyDOM.querySelector("#"+m).insertAdjacentHTML("afterend",l)),(i=document.createElement("tr")).id=m+"_lte_"+h,this.dummyDOM.querySelector("#"+m+o).appendChild(i),this.descriptions.labelElements[h]=this.dummyDOM.querySelector("#".concat(m).concat("_lte_").concat(h)),this.descriptions.labelElements[h].innerHTML=p)},t=d.default,x.default=t},{"../core/main":280,"core-js/modules/es.array.concat":152,"core-js/modules/es.regexp.exec":192,"core-js/modules/es.string.ends-with":195,"core-js/modules/es.string.replace":201}],261:[function(t,j,x){t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.map"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.map"),t("core-js/modules/es.string.iterator"),Object.defineProperty(x,"__esModule",{value:!0}),x.default=void 0,t=(t=t("../core/main"))&&t.__esModule?t:{default:t},t.default.prototype._updateGridOutput=function(d){var f,s,c,g;this.dummyDOM.querySelector("#".concat(d,"_summary"))&&(f=this._accessibleOutputs[d],c=function(y,o,a,i){return o="".concat(o," canvas, ").concat(a," by ").concat(i," pixels, contains ").concat(y[0]),o=(y[0]===1?"".concat(o," shape: "):"".concat(o," shapes: ")).concat(y[1]),o}((s=function(y,o){var a,i="",h="",p=0;for(a in o){var l,m=0;for(l in o[a]){var _='<li id="'.concat(y,"shape").concat(p,'">').concat(o[a][l].color," ").concat(a,",");a==="line"?_+=" location = ".concat(o[a][l].pos,", length = ").concat(o[a][l].length," pixels"):(_+=" location = ".concat(o[a][l].pos),a!=="point"&&(_+=", area = ".concat(o[a][l].area," %")),_+="</li>"),i+=_,m++,p++}h=1<m?"".concat(h," ").concat(m," ").concat(a,"s"):"".concat(h," ").concat(m," ").concat(a)}return{numShapes:[p,h],details:i}}(d,this.ingredients.shapes)).numShapes,this.ingredients.colors.background,this.width,this.height),g=function(y,o){var a,i,h=0,p="",l=Array.from(Array(10),function(){return Array(10)});for(a in o)for(var m in o[a]){var _=void 0;_=a!=="line"?'<a href="#'.concat(y,"shape").concat(h,'">').concat(o[a][m].color," ").concat(a,"</a>"):'<a href="#'.concat(y,"shape").concat(h,'">').concat(o[a][m].color," ").concat(a," midpoint</a>"),l[o[a][m].loc.locY][o[a][m].loc.locX]?l[o[a][m].loc.locY][o[a][m].loc.locX]=l[o[a][m].loc.locY][o[a][m].loc.locX]+"  "+_:l[o[a][m].loc.locY][o[a][m].loc.locX]=_,h++}for(i in l){var b,T="<tr>";for(b in l[i])T+="<td>",l[i][b]!==void 0&&(T+=l[i][b]),T+="</td>";p=p+T+"</tr>"}return p}(d,this.ingredients.shapes),c!==f.summary.innerHTML&&(f.summary.innerHTML=c),g!==f.map.innerHTML&&(f.map.innerHTML=g),s.details!==f.shapeDetails.innerHTML&&(f.shapeDetails.innerHTML=s.details),this._accessibleOutputs[d]=f)},t=t.default,x.default=t},{"../core/main":280,"core-js/modules/es.array.concat":152,"core-js/modules/es.array.from":161,"core-js/modules/es.array.map":167,"core-js/modules/es.string.iterator":197}],262:[function(t,j,x){t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.number.to-fixed"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.map"),t("core-js/modules/es.number.to-fixed"),Object.defineProperty(x,"__esModule",{value:!0}),x.default=void 0;var d=(t=t("../core/main"))&&t.__esModule?t:{default:t};function f(c){return function(g){if(Array.isArray(g)){for(var y=0,o=new Array(g.length);y<g.length;y++)o[y]=g[y];return o}}(c)||function(g){if(Symbol.iterator in Object(g)||Object.prototype.toString.call(g)==="[object Arguments]")return Array.from(g)}(c)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function s(c,g,y){return g=Math.floor(c[0]/g*10),c=Math.floor(c[1]/y*10),g===10&&(g-=1),c===10&&(c-=1),{locX:g,locY:c}}d.default.prototype.textOutput=function(c){d.default._validateParameters("textOutput",arguments),this._accessibleOutputs.text||(this._accessibleOutputs.text=!0,this._createOutput("textOutput","Fallback"),c===this.LABEL&&(this._accessibleOutputs.textLabel=!0,this._createOutput("textOutput","Label")))},d.default.prototype.gridOutput=function(c){d.default._validateParameters("gridOutput",arguments),this._accessibleOutputs.grid||(this._accessibleOutputs.grid=!0,this._createOutput("gridOutput","Fallback"),c===this.LABEL&&(this._accessibleOutputs.gridLabel=!0,this._createOutput("gridOutput","Label")))},d.default.prototype._addAccsOutput=function(){return this._accessibleOutputs||(this._accessibleOutputs={text:!1,grid:!1,textLabel:!1,gridLabel:!1}),this._accessibleOutputs.grid||this._accessibleOutputs.text},d.default.prototype._createOutput=function(c,g){var y,o,a,i=this.canvas.id,h=(this.ingredients||(this.ingredients={shapes:{},colors:{background:"white",fill:"white",stroke:"black"},pShapes:"",pBackground:""}),this.dummyDOM||(this.dummyDOM=document.getElementById(i).parentNode),"");g==="Fallback"?(y=i+c,this.dummyDOM.querySelector("#".concat(o=i+"accessibleOutput"))||(this.dummyDOM.querySelector("#".concat(i,"_Description"))?this.dummyDOM.querySelector("#".concat(i,"_Description")).insertAdjacentHTML("afterend",'<div id="'.concat(o,'" role="region" aria-label="Canvas Outputs"></div>')):this.dummyDOM.querySelector("#".concat(i)).innerHTML='<div id="'.concat(o,'" role="region" aria-label="Canvas Outputs"></div>'))):g==="Label"&&(y=i+c+(h=g),this.dummyDOM.querySelector("#".concat(o=i+"accessibleOutput"+g))||(this.dummyDOM.querySelector("#".concat(i,"_Label"))?this.dummyDOM.querySelector("#".concat(i,"_Label")):this.dummyDOM.querySelector("#".concat(i))).insertAdjacentHTML("afterend",'<div id="'.concat(o,'"></div>'))),this._accessibleOutputs[y]={},c==="textOutput"?(h="#".concat(i,"gridOutput").concat(h),a='<div id="'.concat(y,'">Text Output<div id="').concat(y,'Summary" aria-label="text output summary"><p id="').concat(y,'_summary"></p><ul id="').concat(y,'_list"></ul></div><table id="').concat(y,'_shapeDetails" summary="text output shape details"></table></div>'),this.dummyDOM.querySelector(h)?this.dummyDOM.querySelector(h).insertAdjacentHTML("beforebegin",a):this.dummyDOM.querySelector("#".concat(o)).innerHTML=a,this._accessibleOutputs[y].list=this.dummyDOM.querySelector("#".concat(y,"_list"))):c==="gridOutput"&&(h="#".concat(i,"textOutput").concat(h),a='<div id="'.concat(y,'">Grid Output<p id="').concat(y,'_summary" aria-label="grid output summary"><table id="').concat(y,'_map" summary="grid output content"></table><ul id="').concat(y,'_shapeDetails" aria-label="grid output shape details"></ul></div>'),this.dummyDOM.querySelector(h)?this.dummyDOM.querySelector(h).insertAdjacentHTML("afterend",a):this.dummyDOM.querySelector("#".concat(o)).innerHTML=a,this._accessibleOutputs[y].map=this.dummyDOM.querySelector("#".concat(y,"_map"))),this._accessibleOutputs[y].shapeDetails=this.dummyDOM.querySelector("#".concat(y,"_shapeDetails")),this._accessibleOutputs[y].summary=this.dummyDOM.querySelector("#".concat(y,"_summary"))},d.default.prototype._updateAccsOutput=function(){var c=this.canvas.id;JSON.stringify(this.ingredients.shapes)===this.ingredients.pShapes&&this.ingredients.colors.background===this.ingredients.pBackground||(this.ingredients.pShapes=JSON.stringify(this.ingredients.shapes),this._accessibleOutputs.text&&this._updateTextOutput(c+"textOutput"),this._accessibleOutputs.grid&&this._updateGridOutput(c+"gridOutput"),this._accessibleOutputs.textLabel&&this._updateTextOutput(c+"textOutputLabel"),this._accessibleOutputs.gridLabel&&this._updateGridOutput(c+"gridOutputLabel"))},d.default.prototype._accsBackground=function(c){this.ingredients.pShapes=JSON.stringify(this.ingredients.shapes),this.ingredients.pBackground=this.ingredients.colors.background,this.ingredients.shapes={},this.ingredients.colors.backgroundRGBA!==c&&(this.ingredients.colors.backgroundRGBA=c,this.ingredients.colors.background=this._rgbColorName(c))},d.default.prototype._accsCanvasColors=function(c,g){c==="fill"?this.ingredients.colors.fillRGBA!==g&&(this.ingredients.colors.fillRGBA=g,this.ingredients.colors.fill=this._rgbColorName(g)):c==="stroke"&&this.ingredients.colors.strokeRGBA!==g&&(this.ingredients.colors.strokeRGBA=g,this.ingredients.colors.stroke=this._rgbColorName(g))},d.default.prototype._accsOutput=function(c,g){c==="ellipse"&&g[2]===g[3]?c="circle":c==="rectangle"&&g[2]===g[3]&&(c="square");var y,o,a={},i=!0,h=function(l,m){var _;return l=l==="rectangle"||l==="ellipse"||l==="arc"||l==="circle"||l==="square"?(_=Math.round(m[0]+m[2]/2),Math.round(m[1]+m[3]/2)):l==="triangle"?(_=(m[0]+m[2]+m[4])/3,(m[1]+m[3]+m[5])/3):l==="quadrilateral"?(_=(m[0]+m[2]+m[4]+m[6])/4,(m[1]+m[3]+m[5]+m[7])/4):l==="line"?(_=(m[0]+m[2])/2,(m[1]+m[3])/2):(_=m[0],m[1]),[_,l]}(c,g);if(c==="line"?(a.color=this.ingredients.colors.stroke,a.length=Math.round(this.dist(g[0],g[1],g[2],g[3])),y=this._getPos(g[0],[1]),o=this._getPos(g[2],[3]),a.loc=s(h,this.width,this.height),a.pos=y===o?"at ".concat(y):"from ".concat(y," to ").concat(o)):(c==="point"?a.color=this.ingredients.colors.stroke:(a.color=this.ingredients.colors.fill,a.area=this._getArea(c,g)),a.pos=this._getPos.apply(this,f(h)),a.loc=s(h,this.width,this.height)),this.ingredients.shapes[c]){if(this.ingredients.shapes[c]!==[a]){for(var p in this.ingredients.shapes[c])JSON.stringify(this.ingredients.shapes[c][p])===JSON.stringify(a)&&(i=!1);i===!0&&this.ingredients.shapes[c].push(a)}}else this.ingredients.shapes[c]=[a]},d.default.prototype._getPos=function(o,y){var o=new DOMPointReadOnly(o,y),y=this._renderer.isP3D?new DOMMatrix(this._renderer.uMVMatrix.mat4):this.drawingContext.getTransform(),o=o.matrixTransform(y),y=o.x,o=o.y,a=this.width*this._pixelDensity,i=this.height*this._pixelDensity;return y<.4*a?o<.4*i?"top left":.6*i<o?"bottom left":"mid left":.6*a<y?o<.4*i?"top right":.6*i<o?"bottom right":"mid right":o<.4*i?"top middle":.6*i<o?"bottom middle":"middle"},d.default.prototype._getArea=function(c,g){var y,o,a=0,i=(c==="arc"?(a=(y=((g[5]-g[4])%(2*Math.PI)+2*Math.PI)%(2*Math.PI))*g[2]*g[3]/8,g[6]!=="open"&&g[6]!=="chord"||(o=g[0],m=g[1],i=g[0]+g[2]/2*Math.cos(g[4]).toFixed(2),_=g[1]+g[3]/2*Math.sin(g[4]).toFixed(2),p=g[0]+g[2]/2*Math.cos(g[5]).toFixed(2),h=g[1]+g[3]/2*Math.sin(g[5]).toFixed(2),o=Math.abs(o*(_-h)+i*(h-m)+p*(m-_))/2,y>Math.PI?a+=o:a-=o)):c==="ellipse"||c==="circle"?a=3.14*g[2]/2*g[3]/2:c==="line"||c==="point"?a=0:c==="quadrilateral"?a=Math.abs((g[6]+g[0])*(g[7]-g[1])+(g[0]+g[2])*(g[1]-g[3])+(g[2]+g[4])*(g[3]-g[5])+(g[4]+g[6])*(g[5]-g[7]))/2:c==="rectangle"||c==="square"?a=g[2]*g[3]:c==="triangle"&&(a=Math.abs(g[0]*(g[3]-g[5])+g[2]*(g[5]-g[1])+g[4]*(g[1]-g[3]))/2),this.width*this._pixelDensity),h=this.height*this._pixelDensity,p=[new DOMPoint(0,0),new DOMPoint(i,0),new DOMPoint(i,h),new DOMPoint(0,h)],l=(this._renderer.isP3D?new DOMMatrix(this._renderer.uMVMatrix.mat4):this.drawingContext.getTransform()).inverse(),m=p.map(function(b){return b.matrixTransform(l)}),_=Math.abs((m[3].x+m[0].x)*(m[3].y-m[0].y)+(m[0].x+m[1].x)*(m[0].y-m[1].y)+(m[1].x+m[2].x)*(m[1].y-m[2].y)+(m[2].x+m[3].x)*(m[2].y-m[3].y))/2;return Math.round(100*a/_)},t=d.default,x.default=t},{"../core/main":280,"core-js/modules/es.array.concat":152,"core-js/modules/es.array.fill":155,"core-js/modules/es.array.from":161,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.map":167,"core-js/modules/es.number.to-fixed":180,"core-js/modules/es.object.to-string":187,"core-js/modules/es.regexp.to-string":193,"core-js/modules/es.string.iterator":197,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/web.dom-collections.iterator":243}],263:[function(t,j,x){t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.concat"),Object.defineProperty(x,"__esModule",{value:!0}),x.default=void 0,t=(t=t("../core/main"))&&t.__esModule?t:{default:t},t.default.prototype._updateTextOutput=function(d){var f,s,c,g;this.dummyDOM.querySelector("#".concat(d,"_summary"))&&(f=this._accessibleOutputs[d],c=function(y,o,a,i){return a="Your output is a, ".concat(a," by ").concat(i," pixels, ").concat(o," canvas containing the following"),a=y===1?"".concat(a," shape:"):"".concat(a," ").concat(y," shapes:"),a}((s=function(y,o){var a,i="",h=0;for(a in o)for(var p in o[a]){var l='<li><a href="#'.concat(y,"shape").concat(h,'">').concat(o[a][p].color," ").concat(a,"</a>");a==="line"?l+=", ".concat(o[a][p].pos,", ").concat(o[a][p].length," pixels long.</li>"):(l+=", at ".concat(o[a][p].pos),a!=="point"&&(l+=", covering ".concat(o[a][p].area,"% of the canvas")),l+=".</li>"),i+=l,h++}return{numShapes:h,listShapes:i}}(d,this.ingredients.shapes)).numShapes,this.ingredients.colors.background,this.width,this.height),g=function(y,o){var a,i="",h=0;for(a in o)for(var p in o[a]){var l='<tr id="'.concat(y,"shape").concat(h,'"><th>').concat(o[a][p].color," ").concat(a,"</th>");a==="line"?l+="<td>location = ".concat(o[a][p].pos,"</td><td>length = ").concat(o[a][p].length," pixels</td></tr>"):(l+="<td>location = ".concat(o[a][p].pos,"</td>"),a!=="point"&&(l+="<td> area = ".concat(o[a][p].area,"%</td>")),l+="</tr>"),i+=l,h++}return i}(d,this.ingredients.shapes),c!==f.summary.innerHTML&&(f.summary.innerHTML=c),s.listShapes!==f.list.innerHTML&&(f.list.innerHTML=s.listShapes),g!==f.shapeDetails.innerHTML&&(f.shapeDetails.innerHTML=g),this._accessibleOutputs[d]=f)},t=t.default,x.default=t},{"../core/main":280,"core-js/modules/es.array.concat":152}],264:[function(t,j,x){var d=(d=t("./core/main"))&&d.__esModule?d:{default:d};t("./core/constants"),t("./core/environment"),t("./core/friendly_errors/stacktrace"),t("./core/friendly_errors/validate_params"),t("./core/friendly_errors/file_errors"),t("./core/friendly_errors/fes_core"),t("./core/friendly_errors/sketch_reader"),t("./core/helpers"),t("./core/legacy"),t("./core/preload"),t("./core/p5.Element"),t("./core/p5.Graphics"),t("./core/p5.Renderer"),t("./core/p5.Renderer2D"),t("./core/rendering"),t("./core/shim"),t("./core/structure"),t("./core/transform"),t("./core/shape/2d_primitives"),t("./core/shape/attributes"),t("./core/shape/curves"),t("./core/shape/vertex"),t("./accessibility/outputs"),t("./accessibility/textOutput"),t("./accessibility/gridOutput"),t("./accessibility/color_namer"),t("./color/color_conversion"),t("./color/creating_reading"),t("./color/p5.Color"),t("./color/setting"),t("./data/p5.TypedDict"),t("./data/local_storage.js"),t("./dom/dom"),t("./accessibility/describe"),t("./events/acceleration"),t("./events/keyboard"),t("./events/mouse"),t("./events/touch"),t("./image/filters"),t("./image/image"),t("./image/loading_displaying"),t("./image/p5.Image"),t("./image/pixels"),t("./io/files"),t("./io/p5.Table"),t("./io/p5.TableRow"),t("./io/p5.XML"),t("./math/calculation"),t("./math/math"),t("./math/noise"),t("./math/p5.Vector"),t("./math/random"),t("./math/trigonometry"),t("./typography/attributes"),t("./typography/loading_displaying"),t("./typography/p5.Font"),t("./utilities/array_functions"),t("./utilities/conversion"),t("./utilities/string_functions"),t("./utilities/time_date"),t("./webgl/3d_primitives"),t("./webgl/interaction"),t("./webgl/light"),t("./webgl/loading"),t("./webgl/material"),t("./webgl/p5.Camera"),t("./webgl/p5.DataArray"),t("./webgl/p5.Geometry"),t("./webgl/p5.Matrix"),t("./webgl/p5.RendererGL.Immediate"),t("./webgl/p5.RendererGL"),t("./webgl/p5.RendererGL.Retained"),t("./webgl/p5.Framebuffer"),t("./webgl/p5.Shader"),t("./webgl/p5.RenderBuffer"),t("./webgl/p5.Texture"),t("./webgl/text"),t("./core/init"),j.exports=d.default},{"./accessibility/color_namer":259,"./accessibility/describe":260,"./accessibility/gridOutput":261,"./accessibility/outputs":262,"./accessibility/textOutput":263,"./color/color_conversion":265,"./color/creating_reading":266,"./color/p5.Color":267,"./color/setting":268,"./core/constants":269,"./core/environment":270,"./core/friendly_errors/fes_core":271,"./core/friendly_errors/file_errors":272,"./core/friendly_errors/sketch_reader":273,"./core/friendly_errors/stacktrace":274,"./core/friendly_errors/validate_params":275,"./core/helpers":276,"./core/init":277,"./core/legacy":279,"./core/main":280,"./core/p5.Element":281,"./core/p5.Graphics":282,"./core/p5.Renderer":283,"./core/p5.Renderer2D":284,"./core/preload":285,"./core/rendering":286,"./core/shape/2d_primitives":287,"./core/shape/attributes":288,"./core/shape/curves":289,"./core/shape/vertex":290,"./core/shim":291,"./core/structure":292,"./core/transform":293,"./data/local_storage.js":294,"./data/p5.TypedDict":295,"./dom/dom":296,"./events/acceleration":297,"./events/keyboard":298,"./events/mouse":299,"./events/touch":300,"./image/filters":301,"./image/image":302,"./image/loading_displaying":303,"./image/p5.Image":304,"./image/pixels":305,"./io/files":306,"./io/p5.Table":307,"./io/p5.TableRow":308,"./io/p5.XML":309,"./math/calculation":310,"./math/math":311,"./math/noise":312,"./math/p5.Vector":313,"./math/random":314,"./math/trigonometry":315,"./typography/attributes":316,"./typography/loading_displaying":317,"./typography/p5.Font":318,"./utilities/array_functions":319,"./utilities/conversion":320,"./utilities/string_functions":321,"./utilities/time_date":322,"./webgl/3d_primitives":323,"./webgl/interaction":325,"./webgl/light":326,"./webgl/loading":327,"./webgl/material":328,"./webgl/p5.Camera":329,"./webgl/p5.DataArray":330,"./webgl/p5.Framebuffer":331,"./webgl/p5.Geometry":332,"./webgl/p5.Matrix":333,"./webgl/p5.RenderBuffer":334,"./webgl/p5.RendererGL":337,"./webgl/p5.RendererGL.Immediate":335,"./webgl/p5.RendererGL.Retained":336,"./webgl/p5.Shader":338,"./webgl/p5.Texture":339,"./webgl/text":340}],265:[function(t,j,x){Object.defineProperty(x,"__esModule",{value:!0}),x.default=void 0,t=(t=t("../core/main"))&&t.__esModule?t:{default:t},t.default.ColorConversion={_hsbaToHSLA:function(d){var f=d[0],s=d[1],c=d[2],g=(2-s)*c/2;return g!=0&&(g==1?s=0:g<.5?s/=2-s:s=s*c/(2-2*g)),[f,s,g,d[3]]},_hsbaToRGBA:function(d){var f,s,c,g,y,o=6*d[0],a=d[1],i=d[2];return a===0?[i,i,i,d[3]]:(s=i*(1-a),c=i*(1-a*(o-(f=Math.floor(o)))),a=i*(1-a*(1+f-o)),o=f===1?(g=c,y=i,s):f===2?(g=s,y=i,a):f===3?(g=s,y=c,i):f===4?(g=a,y=s,i):f===5?(g=i,y=s,c):(g=i,y=a,s),[g,y,o,d[3]])},_hslaToHSBA:function(d){var f=d[0],s=d[1],c=d[2],g=c<.5?(1+s)*c:c+s-c*s;return[f,s=2*(g-c)/g,g,d[3]]},_hslaToRGBA:function(d){var f,s=6*d[0],c=d[1],g=d[2];return c===0?[g,g,g,d[3]]:[(f=function(y,o,a){return y<0?y+=6:6<=y&&(y-=6),y<1?o+(a-o)*y:y<3?a:y<4?o+(a-o)*(4-y):o})(2+s,c=2*g-(g=g<.5?(1+c)*g:g+c-g*c),g),f(s,c,g),f(s-2,c,g),d[3]]},_rgbaToHSBA:function(d){var f,s,c=d[0],g=d[1],y=d[2],o=Math.max(c,g,y),a=o-Math.min(c,g,y);return a==0?s=f=0:(s=a/o,c===o?f=(g-y)/a:g===o?f=2+(y-c)/a:y===o&&(f=4+(c-g)/a),f<0?f+=6:6<=f&&(f-=6)),[f/6,s,o,d[3]]},_rgbaToHSLA:function(d){var f,s,c=d[0],g=d[1],y=d[2],o=Math.max(c,g,y),i=Math.min(c,g,y),a=o+i,i=o-i;return i==0?s=f=0:(s=a<1?i/a:i/(2-a),c===o?f=(g-y)/i:g===o?f=2+(y-c)/i:y===o&&(f=4+(c-g)/i),f<0?f+=6:6<=f&&(f-=6)),[f/6,s,a/2,d[3]]}},t=t.default.ColorConversion,x.default=t},{"../core/main":280}],266:[function(t,j,x){function d(o){return(d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(o)}function f(o){return(f=typeof Symbol=="function"&&d(Symbol.iterator)==="symbol"?function(a){return d(a)}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":d(a)})(o)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.map"),Object.defineProperty(x,"__esModule",{value:!0}),x.default=void 0;var s=(y=t("../core/main"))&&y.__esModule?y:{default:y},c=function(o){if(o&&o.__esModule)return o;if(o===null||f(o)!=="object"&&typeof o!="function")return{default:o};var a=g();if(a&&a.has(o))return a.get(o);var i,h={},p=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(i in o){var l;Object.prototype.hasOwnProperty.call(o,i)&&((l=p?Object.getOwnPropertyDescriptor(o,i):null)&&(l.get||l.set)?Object.defineProperty(h,i,l):h[i]=o[i])}return h.default=o,a&&a.set(o,h),h}(t("../core/constants"));function g(){var o;return typeof WeakMap!="function"?null:(o=new WeakMap,g=function(){return o},o)}t("./p5.Color"),t("../core/friendly_errors/validate_params"),t("../core/friendly_errors/file_errors"),t("../core/friendly_errors/fes_core"),s.default.prototype.alpha=function(o){return s.default._validateParameters("alpha",arguments),this.color(o)._getAlpha()},s.default.prototype.blue=function(o){return s.default._validateParameters("blue",arguments),this.color(o)._getBlue()},s.default.prototype.brightness=function(o){return s.default._validateParameters("brightness",arguments),this.color(o)._getBrightness()},s.default.prototype.color=function(){for(var o,a=arguments.length,i=new Array(a),h=0;h<a;h++)i[h]=arguments[h];return s.default._validateParameters("color",i),i[0]instanceof s.default.Color?i[0]:(o=Array.isArray(i[0])?i[0]:i,new s.default.Color(this,o))},s.default.prototype.green=function(o){return s.default._validateParameters("green",arguments),this.color(o)._getGreen()},s.default.prototype.hue=function(o){return s.default._validateParameters("hue",arguments),this.color(o)._getHue()},s.default.prototype.lerpColor=function(o,a,i){s.default._validateParameters("lerpColor",arguments);var h,p,l,m=this._colorMode,_=this._colorMaxes;if(m===c.RGB)p=o.levels.map(function(b){return b/255}),l=a.levels.map(function(b){return b/255});else if(m===c.HSB)o._getBrightness(),a._getBrightness(),p=o.hsba,l=a.hsba;else{if(m!==c.HSL)throw new Error("".concat(m," cannot be used for interpolation."));o._getLightness(),a._getLightness(),p=o.hsla,l=a.hsla}return i=Math.max(Math.min(i,1),0),this.lerp===void 0&&(this.lerp=function(b,T,O){return O*(T-b)+b}),m===c.RGB?h=this.lerp(p[0],l[0],i):(.5<Math.abs(p[0]-l[0])&&(p[0]>l[0]?l[0]+=1:p[0]+=1),1<=(h=this.lerp(p[0],l[0],i))&&--h),o=this.lerp(p[1],l[1],i),a=this.lerp(p[2],l[2],i),p=this.lerp(p[3],l[3],i),h*=_[m][0],o*=_[m][1],a*=_[m][2],p*=_[m][3],this.color(h,o,a,p)},s.default.prototype.lightness=function(o){return s.default._validateParameters("lightness",arguments),this.color(o)._getLightness()},s.default.prototype.red=function(o){return s.default._validateParameters("red",arguments),this.color(o)._getRed()},s.default.prototype.saturation=function(o){return s.default._validateParameters("saturation",arguments),this.color(o)._getSaturation()};var y=s.default;x.default=y},{"../core/constants":269,"../core/friendly_errors/fes_core":271,"../core/friendly_errors/file_errors":272,"../core/friendly_errors/validate_params":275,"../core/main":280,"./p5.Color":267,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.map":167,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.to-string":187,"core-js/modules/es.string.iterator":197,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.iterator":243}],267:[function(h,j,x){function d(b){return(d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(T){return typeof T}:function(T){return T&&typeof Symbol=="function"&&T.constructor===Symbol&&T!==Symbol.prototype?"symbol":typeof T})(b)}function f(b){return(f=typeof Symbol=="function"&&d(Symbol.iterator)==="symbol"?function(T){return d(T)}:function(T){return T&&typeof Symbol=="function"&&T.constructor===Symbol&&T!==Symbol.prototype?"symbol":d(T)})(b)}h("core-js/modules/es.symbol"),h("core-js/modules/es.symbol.description"),h("core-js/modules/es.symbol.iterator"),h("core-js/modules/es.array.includes"),h("core-js/modules/es.array.iterator"),h("core-js/modules/es.array.join"),h("core-js/modules/es.array.map"),h("core-js/modules/es.array.slice"),h("core-js/modules/es.object.get-own-property-descriptor"),h("core-js/modules/es.object.to-string"),h("core-js/modules/es.regexp.constructor"),h("core-js/modules/es.regexp.exec"),h("core-js/modules/es.regexp.to-string"),h("core-js/modules/es.string.includes"),h("core-js/modules/es.string.iterator"),h("core-js/modules/es.string.trim"),h("core-js/modules/es.weak-map"),h("core-js/modules/web.dom-collections.iterator"),h("core-js/modules/es.array.includes"),h("core-js/modules/es.array.join"),h("core-js/modules/es.array.map"),h("core-js/modules/es.array.slice"),h("core-js/modules/es.object.to-string"),h("core-js/modules/es.regexp.constructor"),h("core-js/modules/es.regexp.exec"),h("core-js/modules/es.regexp.to-string"),h("core-js/modules/es.string.includes"),h("core-js/modules/es.string.trim"),Object.defineProperty(x,"__esModule",{value:!0}),x.default=void 0;var s=o(h("../core/main")),c=function(b){if(b&&b.__esModule)return b;if(b===null||f(b)!=="object"&&typeof b!="function")return{default:b};var T=y();if(T&&T.has(b))return T.get(b);var O,k={},M=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(O in b){var I;Object.prototype.hasOwnProperty.call(b,O)&&((I=M?Object.getOwnPropertyDescriptor(b,O):null)&&(I.get||I.set)?Object.defineProperty(k,O,I):k[O]=b[O])}return k.default=b,T&&T.set(b,k),k}(h("../core/constants")),g=o(h("./color_conversion"));function y(){var b;return typeof WeakMap!="function"?null:(b=new WeakMap,y=function(){return b},b)}function o(b){return b&&b.__esModule?b:{default:b}}function a(b,T){for(var O=0;O<T.length;O++){var k=T[O];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(b,k.key,k)}}var i={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},h=/\s*/,_=/(\d{1,3})/,p=/((?:\d+(?:\.\d+)?)|(?:\.\d+))/,l=new RegExp("".concat(p.source,"%")),m={HEX3:/^#([a-f0-9])([a-f0-9])([a-f0-9])$/i,HEX4:/^#([a-f0-9])([a-f0-9])([a-f0-9])([a-f0-9])$/i,HEX6:/^#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})$/i,HEX8:/^#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})$/i,RGB:new RegExp(["^rgb\\(",_.source,",",_.source,",",_.source,"\\)$"].join(h.source),"i"),RGB_PERCENT:new RegExp(["^rgb\\(",l.source,",",l.source,",",l.source,"\\)$"].join(h.source),"i"),RGBA:new RegExp(["^rgba\\(",_.source,",",_.source,",",_.source,",",p.source,"\\)$"].join(h.source),"i"),RGBA_PERCENT:new RegExp(["^rgba\\(",l.source,",",l.source,",",l.source,",",p.source,"\\)$"].join(h.source),"i"),HSL:new RegExp(["^hsl\\(",_.source,",",l.source,",",l.source,"\\)$"].join(h.source),"i"),HSLA:new RegExp(["^hsla\\(",_.source,",",l.source,",",l.source,",",p.source,"\\)$"].join(h.source),"i"),HSB:new RegExp(["^hsb\\(",_.source,",",l.source,",",l.source,"\\)$"].join(h.source),"i"),HSBA:new RegExp(["^hsba\\(",_.source,",",l.source,",",l.source,",",p.source,"\\)$"].join(h.source),"i")},_=(s.default.Color=function(){function b(M,I){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");if(this._storeModeAndMaxes(M._colorMode,M._colorMaxes),![c.RGB,c.HSL,c.HSB].includes(this.mode))throw new Error("".concat(this.mode," is an invalid colorMode."));this._array=b._parseInputs.apply(this,I),this._calculateLevels()}var T,O,k;return T=b,k=[{key:"_parseInputs",value:function(M,I,F,A){var U,D=arguments.length,V=this.mode,G=this.maxes[V],W=[];if(3<=D){for(W[0]=M/G[0],W[1]=I/G[1],W[2]=F/G[2],W[3]=typeof A=="number"?A/G[3]:1,U=W.length-1;0<=U;--U){var J=W[U];J<0?W[U]=0:1<J&&(W[U]=1)}return V===c.HSL?g.default._hslaToRGBA(W):V===c.HSB?g.default._hsbaToRGBA(W):W}if(D===1&&typeof M=="string"){if(F=M.trim().toLowerCase(),i[F])return b._parseInputs.call(this,i[F]);if(m.HEX3.test(F))return(W=m.HEX3.exec(F).slice(1).map(function(Q){return parseInt(Q+Q,16)/255}))[3]=1,W;if(m.HEX6.test(F))return(W=m.HEX6.exec(F).slice(1).map(function(Q){return parseInt(Q,16)/255}))[3]=1,W;if(m.HEX4.test(F))return W=m.HEX4.exec(F).slice(1).map(function(Q){return parseInt(Q+Q,16)/255});if(m.HEX8.test(F))return W=m.HEX8.exec(F).slice(1).map(function(Q){return parseInt(Q,16)/255});if(m.RGB.test(F))return(W=m.RGB.exec(F).slice(1).map(function(Q){return Q/255}))[3]=1,W;if(m.RGB_PERCENT.test(F))return(W=m.RGB_PERCENT.exec(F).slice(1).map(function(Q){return parseFloat(Q)/100}))[3]=1,W;if(m.RGBA.test(F))return W=m.RGBA.exec(F).slice(1).map(function(Q,Y){return Y===3?parseFloat(Q):Q/255});if(m.RGBA_PERCENT.test(F))return W=m.RGBA_PERCENT.exec(F).slice(1).map(function(Q,Y){return Y===3?parseFloat(Q):parseFloat(Q)/100});if(m.HSL.test(F)?(W=m.HSL.exec(F).slice(1).map(function(Q,Y){return Y===0?parseInt(Q,10)/360:parseInt(Q,10)/100}))[3]=1:m.HSLA.test(F)&&(W=m.HSLA.exec(F).slice(1).map(function(Q,Y){return Y===0?parseInt(Q,10)/360:Y===3?parseFloat(Q):parseInt(Q,10)/100})),(W=W.map(function(Q){return Math.max(Math.min(Q,1),0)})).length)return g.default._hslaToRGBA(W);if(m.HSB.test(F)?(W=m.HSB.exec(F).slice(1).map(function(Q,Y){return Y===0?parseInt(Q,10)/360:parseInt(Q,10)/100}))[3]=1:m.HSBA.test(F)&&(W=m.HSBA.exec(F).slice(1).map(function(Q,Y){return Y===0?parseInt(Q,10)/360:Y===3?parseFloat(Q):parseInt(Q,10)/100})),W.length){for(U=W.length-1;0<=U;--U)W[U]=Math.max(Math.min(W[U],1),0);return g.default._hsbaToRGBA(W)}W=[1,1,1,1]}else{if(D!==1&&D!==2||typeof M!="number")throw new Error("".concat(arguments,"is not a valid color representation."));W[0]=M/G[2],W[1]=M/G[2],W[2]=M/G[2],W[3]=typeof I=="number"?I/G[3]:1,W=W.map(function(Q){return Math.max(Math.min(Q,1),0)})}return W}}],(O=[{key:"toString",value:function(M){var I=this.levels,F=this._array,A=F[3];switch(M){case"#rrggbb":return"#".concat(I[0]<16?"0".concat(I[0].toString(16)):I[0].toString(16),I[1]<16?"0".concat(I[1].toString(16)):I[1].toString(16),I[2]<16?"0".concat(I[2].toString(16)):I[2].toString(16));case"#rrggbbaa":return"#".concat(I[0]<16?"0".concat(I[0].toString(16)):I[0].toString(16),I[1]<16?"0".concat(I[1].toString(16)):I[1].toString(16),I[2]<16?"0".concat(I[2].toString(16)):I[2].toString(16),I[3]<16?"0".concat(I[3].toString(16)):I[3].toString(16));case"#rgb":return"#".concat(Math.round(15*F[0]).toString(16),Math.round(15*F[1]).toString(16),Math.round(15*F[2]).toString(16));case"#rgba":return"#".concat(Math.round(15*F[0]).toString(16),Math.round(15*F[1]).toString(16),Math.round(15*F[2]).toString(16),Math.round(15*F[3]).toString(16));case"rgb":return"rgb(".concat(I[0],", ",I[1],", ",I[2],")");case"rgb%":return"rgb(".concat((100*F[0]).toPrecision(3),"%, ",(100*F[1]).toPrecision(3),"%, ",(100*F[2]).toPrecision(3),"%)");case"rgba%":return"rgba(".concat((100*F[0]).toPrecision(3),"%, ",(100*F[1]).toPrecision(3),"%, ",(100*F[2]).toPrecision(3),"%, ",(100*F[3]).toPrecision(3),"%)");case"hsb":case"hsv":return this.hsba||(this.hsba=g.default._rgbaToHSBA(this._array)),"hsb(".concat(this.hsba[0]*this.maxes[c.HSB][0],", ",this.hsba[1]*this.maxes[c.HSB][1],", ",this.hsba[2]*this.maxes[c.HSB][2],")");case"hsb%":case"hsv%":return this.hsba||(this.hsba=g.default._rgbaToHSBA(this._array)),"hsb(".concat((100*this.hsba[0]).toPrecision(3),"%, ",(100*this.hsba[1]).toPrecision(3),"%, ",(100*this.hsba[2]).toPrecision(3),"%)");case"hsba":case"hsva":return this.hsba||(this.hsba=g.default._rgbaToHSBA(this._array)),"hsba(".concat(this.hsba[0]*this.maxes[c.HSB][0],", ",this.hsba[1]*this.maxes[c.HSB][1],", ",this.hsba[2]*this.maxes[c.HSB][2],", ",A,")");case"hsba%":case"hsva%":return this.hsba||(this.hsba=g.default._rgbaToHSBA(this._array)),"hsba(".concat((100*this.hsba[0]).toPrecision(3),"%, ",(100*this.hsba[1]).toPrecision(3),"%, ",(100*this.hsba[2]).toPrecision(3),"%, ",(100*A).toPrecision(3),"%)");case"hsl":return this.hsla||(this.hsla=g.default._rgbaToHSLA(this._array)),"hsl(".concat(this.hsla[0]*this.maxes[c.HSL][0],", ",this.hsla[1]*this.maxes[c.HSL][1],", ",this.hsla[2]*this.maxes[c.HSL][2],")");case"hsl%":return this.hsla||(this.hsla=g.default._rgbaToHSLA(this._array)),"hsl(".concat((100*this.hsla[0]).toPrecision(3),"%, ",(100*this.hsla[1]).toPrecision(3),"%, ",(100*this.hsla[2]).toPrecision(3),"%)");case"hsla":return this.hsla||(this.hsla=g.default._rgbaToHSLA(this._array)),"hsla(".concat(this.hsla[0]*this.maxes[c.HSL][0],", ",this.hsla[1]*this.maxes[c.HSL][1],", ",this.hsla[2]*this.maxes[c.HSL][2],", ",A,")");case"hsla%":return this.hsla||(this.hsla=g.default._rgbaToHSLA(this._array)),"hsl(".concat((100*this.hsla[0]).toPrecision(3),"%, ",(100*this.hsla[1]).toPrecision(3),"%, ",(100*this.hsla[2]).toPrecision(3),"%, ",(100*A).toPrecision(3),"%)");default:return"rgba(".concat(I[0],",",I[1],",",I[2],",",A,")")}}},{key:"setRed",value:function(M){this._array[0]=M/this.maxes[c.RGB][0],this._calculateLevels()}},{key:"setGreen",value:function(M){this._array[1]=M/this.maxes[c.RGB][1],this._calculateLevels()}},{key:"setBlue",value:function(M){this._array[2]=M/this.maxes[c.RGB][2],this._calculateLevels()}},{key:"setAlpha",value:function(M){this._array[3]=M/this.maxes[this.mode][3],this._calculateLevels()}},{key:"_calculateLevels",value:function(){for(var M=this._array,I=this.levels=new Array(M.length),F=M.length-1;0<=F;--F)I[F]=Math.round(255*M[F]);this.hsla=null,this.hsba=null}},{key:"_getAlpha",value:function(){return this._array[3]*this.maxes[this.mode][3]}},{key:"_storeModeAndMaxes",value:function(M,I){this.mode=M,this.maxes=I}},{key:"_getMode",value:function(){return this.mode}},{key:"_getMaxes",value:function(){return this.maxes}},{key:"_getBlue",value:function(){return this._array[2]*this.maxes[c.RGB][2]}},{key:"_getBrightness",value:function(){return this.hsba||(this.hsba=g.default._rgbaToHSBA(this._array)),this.hsba[2]*this.maxes[c.HSB][2]}},{key:"_getGreen",value:function(){return this._array[1]*this.maxes[c.RGB][1]}},{key:"_getHue",value:function(){return this.mode===c.HSB?(this.hsba||(this.hsba=g.default._rgbaToHSBA(this._array)),this.hsba[0]*this.maxes[c.HSB][0]):(this.hsla||(this.hsla=g.default._rgbaToHSLA(this._array)),this.hsla[0]*this.maxes[c.HSL][0])}},{key:"_getLightness",value:function(){return this.hsla||(this.hsla=g.default._rgbaToHSLA(this._array)),this.hsla[2]*this.maxes[c.HSL][2]}},{key:"_getRed",value:function(){return this._array[0]*this.maxes[c.RGB][0]}},{key:"_getSaturation",value:function(){return this.mode===c.HSB?(this.hsba||(this.hsba=g.default._rgbaToHSBA(this._array)),this.hsba[1]*this.maxes[c.HSB][1]):(this.hsla||(this.hsla=g.default._rgbaToHSLA(this._array)),this.hsla[1]*this.maxes[c.HSL][1])}}])&&a(T.prototype,O),k&&a(T,k),b}(),s.default.Color);x.default=_},{"../core/constants":269,"../core/main":280,"./color_conversion":265,"core-js/modules/es.array.includes":162,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.join":165,"core-js/modules/es.array.map":167,"core-js/modules/es.array.slice":168,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.to-string":187,"core-js/modules/es.regexp.constructor":191,"core-js/modules/es.regexp.exec":192,"core-js/modules/es.regexp.to-string":193,"core-js/modules/es.string.includes":196,"core-js/modules/es.string.iterator":197,"core-js/modules/es.string.trim":206,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.iterator":243}],268:[function(t,j,x){function d(o){return(d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(o)}function f(o){return(f=typeof Symbol=="function"&&d(Symbol.iterator)==="symbol"?function(a){return d(a)}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":d(a)})(o)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.fill"),Object.defineProperty(x,"__esModule",{value:!0}),x.default=void 0;var s=(y=t("../core/main"))&&y.__esModule?y:{default:y},c=function(o){if(o&&o.__esModule)return o;if(o===null||f(o)!=="object"&&typeof o!="function")return{default:o};var a=g();if(a&&a.has(o))return a.get(o);var i,h={},p=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(i in o){var l;Object.prototype.hasOwnProperty.call(o,i)&&((l=p?Object.getOwnPropertyDescriptor(o,i):null)&&(l.get||l.set)?Object.defineProperty(h,i,l):h[i]=o[i])}return h.default=o,a&&a.set(o,h),h}(t("../core/constants"));function g(){var o;return typeof WeakMap!="function"?null:(o=new WeakMap,g=function(){return o},o)}t("./p5.Color"),s.default.prototype.beginClip=function(){this._renderer.beginClip(0<arguments.length&&arguments[0]!==void 0?arguments[0]:{})},s.default.prototype.endClip=function(){this._renderer.endClip()},s.default.prototype.clip=function(o,a){this._renderer.beginClip(a),o(),this._renderer.endClip(a)},s.default.prototype.background=function(){var o;return(o=this._renderer).background.apply(o,arguments),this},s.default.prototype.clear=function(){return this._renderer.clear((arguments.length<=0?void 0:arguments[0])||0,(arguments.length<=1?void 0:arguments[1])||0,(arguments.length<=2?void 0:arguments[2])||0,(arguments.length<=3?void 0:arguments[3])||0),this},s.default.prototype.colorMode=function(o,a,i,h,p){return s.default._validateParameters("colorMode",arguments),o!==c.RGB&&o!==c.HSB&&o!==c.HSL||(this._colorMode=o,o=this._colorMaxes[o],arguments.length===2?(o[0]=a,o[1]=a,o[2]=a,o[3]=a):arguments.length===4?(o[0]=a,o[1]=i,o[2]=h):arguments.length===5&&(o[0]=a,o[1]=i,o[2]=h,o[3]=p)),this},s.default.prototype.fill=function(){var o;return this._renderer._setProperty("_fillSet",!0),this._renderer._setProperty("_doFill",!0),(o=this._renderer).fill.apply(o,arguments),this},s.default.prototype.noFill=function(){return this._renderer._setProperty("_doFill",!1),this},s.default.prototype.noStroke=function(){return this._renderer._setProperty("_doStroke",!1),this},s.default.prototype.stroke=function(){var o;return this._renderer._setProperty("_strokeSet",!0),this._renderer._setProperty("_doStroke",!0),(o=this._renderer).stroke.apply(o,arguments),this},s.default.prototype.erase=function(){return this._renderer.erase(0<arguments.length&&arguments[0]!==void 0?arguments[0]:255,1<arguments.length&&arguments[1]!==void 0?arguments[1]:255),this},s.default.prototype.noErase=function(){return this._renderer.noErase(),this};var y=s.default;x.default=y},{"../core/constants":269,"../core/main":280,"./p5.Color":267,"core-js/modules/es.array.fill":155,"core-js/modules/es.array.iterator":164,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.to-string":187,"core-js/modules/es.string.iterator":197,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.iterator":243}],269:[function(t,j,x){Object.defineProperty(x,"__esModule",{value:!0}),x.QUADRATIC=x.LINEAR=x._CTX_MIDDLE=x._DEFAULT_LEADMULT=x._DEFAULT_TEXT_FILL=x.WORD=x.CHAR=x.BOLDITALIC=x.BOLD=x.ITALIC=x.NORMAL=x.BLUR=x.ERODE=x.DILATE=x.POSTERIZE=x.INVERT=x.OPAQUE=x.GRAY=x.THRESHOLD=x.BURN=x.DODGE=x.SOFT_LIGHT=x.HARD_LIGHT=x.OVERLAY=x.REPLACE=x.SCREEN=x.MULTIPLY=x.EXCLUSION=x.SUBTRACT=x.DIFFERENCE=x.LIGHTEST=x.DARKEST=x.ADD=x.REMOVE=x.BLEND=x.UP_ARROW=x.TAB=x.SHIFT=x.RIGHT_ARROW=x.RETURN=x.OPTION=x.LEFT_ARROW=x.ESCAPE=x.ENTER=x.DOWN_ARROW=x.DELETE=x.CONTROL=x.BACKSPACE=x.ALT=x.AUTO=x.HSL=x.HSB=x.RGB=x.MITER=x.BEVEL=x.ROUND=x.SQUARE=x.PROJECT=x.PIE=x.CHORD=x.OPEN=x.CLOSE=x.TESS=x.QUAD_STRIP=x.QUADS=x.TRIANGLE_STRIP=x.TRIANGLE_FAN=x.TRIANGLES=x.LINE_LOOP=x.LINE_STRIP=x.LINES=x.POINTS=x.BASELINE=x.BOTTOM=x.TOP=x.CENTER=x.LEFT=x.RIGHT=x.RADIUS=x.CORNERS=x.CORNER=x.RAD_TO_DEG=x.DEG_TO_RAD=x.RADIANS=x.DEGREES=x.TWO_PI=x.TAU=x.QUARTER_PI=x.PI=x.HALF_PI=x.WAIT=x.TEXT=x.MOVE=x.HAND=x.CROSS=x.ARROW=x.WEBGL2=x.WEBGL=x.P2D=x.VERSION=void 0,x.RGBA=x.HALF_FLOAT=x.FLOAT=x.UNSIGNED_INT=x.UNSIGNED_BYTE=x.COVER=x.CONTAIN=x.FALLBACK=x.LABEL=x.AXES=x.GRID=x._DEFAULT_FILL=x._DEFAULT_STROKE=x.PORTRAIT=x.LANDSCAPE=x.SMOOTH=x.FLAT=x.MIRROR=x.CLAMP=x.REPEAT=x.NEAREST=x.IMAGE=x.IMMEDIATE=x.TEXTURE=x.FILL=x.STROKE=x.CURVE=x.BEZIER=void 0;var d=Math.PI,f=(x.VERSION="1.9.4",x.P2D="p2d",x.WEBGL="webgl",x.WEBGL2="webgl2",x.ARROW="default",x.CROSS="crosshair",x.HAND="pointer",x.MOVE="move",x.TEXT="text",x.WAIT="wait",d/2),f=(x.HALF_PI=f,d),f=(x.PI=f,d/4),f=(x.QUARTER_PI=f,2*d),f=(x.TAU=f,2*d),f=(x.TWO_PI=f,x.DEGREES="degrees",x.RADIANS="radians",d/180),f=(x.DEG_TO_RAD=f,180/d);x.RAD_TO_DEG=f,x.CORNER="corner",x.CORNERS="corners",x.RADIUS="radius",x.RIGHT="right",x.LEFT="left",x.CENTER="center",x.TOP="top",x.BOTTOM="bottom",x.BASELINE="alphabetic",x.POINTS=0,x.LINES=1,x.LINE_STRIP=3,x.LINE_LOOP=2,x.TRIANGLES=4,x.TRIANGLE_FAN=6,x.TRIANGLE_STRIP=5,x.QUADS="quads",x.QUAD_STRIP="quad_strip",x.TESS="tess",x.CLOSE="close",x.OPEN="open",x.CHORD="chord",x.PIE="pie",x.PROJECT="square",x.SQUARE="butt",x.ROUND="round",x.BEVEL="bevel",x.MITER="miter",x.RGB="rgb",x.HSB="hsb",x.HSL="hsl",x.AUTO="auto",x.ALT=18,x.BACKSPACE=8,x.CONTROL=17,x.DELETE=46,x.DOWN_ARROW=40,x.ENTER=13,x.ESCAPE=27,x.LEFT_ARROW=37,x.OPTION=18,x.RETURN=13,x.RIGHT_ARROW=39,x.SHIFT=16,x.TAB=9,x.UP_ARROW=38,x.BLEND="source-over",x.REMOVE="destination-out",x.ADD="lighter",x.DARKEST="darken",x.LIGHTEST="lighten",x.DIFFERENCE="difference",x.SUBTRACT="subtract",x.EXCLUSION="exclusion",x.MULTIPLY="multiply",x.SCREEN="screen",x.REPLACE="copy",x.OVERLAY="overlay",x.HARD_LIGHT="hard-light",x.SOFT_LIGHT="soft-light",x.DODGE="color-dodge",x.BURN="color-burn",x.THRESHOLD="threshold",x.GRAY="gray",x.OPAQUE="opaque",x.INVERT="invert",x.POSTERIZE="posterize",x.DILATE="dilate",x.ERODE="erode",x.BLUR="blur",x.NORMAL="normal",x.ITALIC="italic",x.BOLD="bold",x.BOLDITALIC="bold italic",x.CHAR="CHAR",x.WORD="WORD",x._DEFAULT_TEXT_FILL="#000000",x._DEFAULT_LEADMULT=1.25,x._CTX_MIDDLE="middle",x.LINEAR="linear",x.QUADRATIC="quadratic",x.BEZIER="bezier",x.CURVE="curve",x.STROKE="stroke",x.FILL="fill",x.TEXTURE="texture",x.IMMEDIATE="immediate",x.IMAGE="image",x.NEAREST="nearest",x.REPEAT="repeat",x.CLAMP="clamp",x.MIRROR="mirror",x.FLAT="flat",x.SMOOTH="smooth",x.LANDSCAPE="landscape",x.PORTRAIT="portrait",x._DEFAULT_STROKE="#000000",x._DEFAULT_FILL="#FFFFFF",x.GRID="grid",x.AXES="axes",x.LABEL="label",x.FALLBACK="fallback",x.CONTAIN="contain",x.COVER="cover",x.UNSIGNED_BYTE="unsigned-byte",x.UNSIGNED_INT="unsigned-int",x.FLOAT="float",x.HALF_FLOAT="half-float",x.RGBA="rgba"},{}],270:[function(t,j,x){function d(p){return(d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(p)}function f(p){return(f=typeof Symbol=="function"&&d(Symbol.iterator)==="symbol"?function(l){return d(l)}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":d(l)})(p)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.search"),t("core-js/modules/es.string.split"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.search"),t("core-js/modules/es.string.split"),Object.defineProperty(x,"__esModule",{value:!0}),x.default=void 0;var s=(c=t("./main"))&&c.__esModule?c:{default:c},c=function(p){if(p&&p.__esModule)return p;if(p===null||f(p)!=="object"&&typeof p!="function")return{default:p};var l=g();if(l&&l.has(p))return l.get(p);var m,_={},b=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(m in p){var T;Object.prototype.hasOwnProperty.call(p,m)&&((T=b?Object.getOwnPropertyDescriptor(p,m):null)&&(T.get||T.set)?Object.defineProperty(_,m,T):_[m]=p[m])}return _.default=p,l&&l.set(p,_),_}(t("./constants"));function g(){var p;return typeof WeakMap!="function"?null:(p=new WeakMap,g=function(){return p},p)}var y=[c.ARROW,c.CROSS,c.HAND,c.MOVE,c.TEXT,c.WAIT],o=(s.default.prototype._frameRate=0,s.default.prototype._lastFrameTime=window.performance.now(),s.default.prototype._targetFrameRate=60,window.print),a=!1;function i(){return window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth||0}function h(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight||0}s.default.prototype.print=function(){var p;arguments.length?(p=console).log.apply(p,arguments):a||(o(),window.confirm("You just tried to print the webpage. Do you want to prevent this from running again?")&&(a=!0))},s.default.prototype.frameCount=0,s.default.prototype.deltaTime=0,s.default.prototype.focused=document.hasFocus(),s.default.prototype.cursor=function(p,l,m){var _,b="auto",T=this._curElement.elt;y.includes(p)?b=p:typeof p=="string"&&(_="",l&&m&&typeof l=="number"&&typeof m=="number"&&(_="".concat(l," ").concat(m)),b=p.substring(0,7)==="http://"||p.substring(0,8)==="https://"||/\.(cur|jpg|jpeg|gif|png|CUR|JPG|JPEG|GIF|PNG)$/.test(p)?"url(".concat(p,") ").concat(_,", auto"):p),T.style.cursor=b},s.default.prototype.frameRate=function(p){return s.default._validateParameters("frameRate",arguments),typeof p!="number"||p<0?this._frameRate:(this._setProperty("_targetFrameRate",p),p===0&&this._setProperty("_frameRate",p),this)},s.default.prototype.getFrameRate=function(){return this.frameRate()},s.default.prototype.setFrameRate=function(p){return this.frameRate(p)},s.default.prototype.getTargetFrameRate=function(){return this._targetFrameRate},s.default.prototype.noCursor=function(){this._curElement.elt.style.cursor="none"},s.default.prototype.webglVersion=c.P2D,s.default.prototype.displayWidth=screen.width,s.default.prototype.displayHeight=screen.height,s.default.prototype.windowWidth=i(),s.default.prototype.windowHeight=h(),s.default.prototype._onresize=function(p){this._setProperty("windowWidth",i()),this._setProperty("windowHeight",h());var l=this._isGlobal?window:this;typeof l.windowResized!="function"||(l=l.windowResized(p))===void 0||l||p.preventDefault()},s.default.prototype.width=0,s.default.prototype.height=0,s.default.prototype.fullscreen=function(p){if(s.default._validateParameters("fullscreen",arguments),p===void 0)return document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement;if(p){if(p=document.documentElement,!(document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled))throw new Error("Fullscreen not enabled in this browser.");p.requestFullscreen?p.requestFullscreen():p.mozRequestFullScreen?p.mozRequestFullScreen():p.webkitRequestFullscreen?p.webkitRequestFullscreen():p.msRequestFullscreen&&p.msRequestFullscreen()}else document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen()},s.default.prototype.pixelDensity=function(p){var l;return s.default._validateParameters("pixelDensity",arguments),typeof p=="number"?(p!==this._pixelDensity&&(this._pixelDensity=this._maxAllowedPixelDimensions=p),(l=this).resizeCanvas(this.width,this.height,!0)):l=this._pixelDensity,l},s.default.prototype.displayDensity=function(){return window.devicePixelRatio},s.default.prototype.getURL=function(){return location.href},s.default.prototype.getURLPath=function(){return location.pathname.split("/").filter(function(p){return p!==""})},s.default.prototype.getURLParams=function(){for(var p,l=/[?&]([^&=]+)(?:[&=])([^&=]+)/gim,m={};(p=l.exec(location.search))!=null;)p.index===l.lastIndex&&l.lastIndex++,m[p[1]]=p[2];return m},t=s.default,x.default=t},{"./constants":269,"./main":280,"core-js/modules/es.array.concat":152,"core-js/modules/es.array.filter":156,"core-js/modules/es.array.includes":162,"core-js/modules/es.array.iterator":164,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.to-string":187,"core-js/modules/es.regexp.exec":192,"core-js/modules/es.string.includes":196,"core-js/modules/es.string.iterator":197,"core-js/modules/es.string.search":202,"core-js/modules/es.string.split":203,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.iterator":243}],271:[function(t,j,x){t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.some"),t("core-js/modules/es.function.name"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.get-own-property-names"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.constructor"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.starts-with"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.some"),t("core-js/modules/es.function.name"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.get-own-property-names"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.constructor"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.starts-with"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(x,"__esModule",{value:!0}),x.default=void 0;var d=(y=t("../main"))&&y.__esModule?y:{default:y};t("../internationalization");function f(o,a){a=a||console.log.bind(console),s||g(),s.some(function(i){var h;if(o.message&&o.message.match("\\W?".concat(i.name,"\\W"))!==null)return h=i.type==="function"?"".concat(i.name,"()"):i.name,a("Did you just try to use p5.js's ".concat(h," ").concat(i.type,`? If so, you may want to move it into your sketch's setup() function.

For more details, see: `).concat(c)),!0})}var s=null,g=null,c=(d.default._friendlyError=d.default._checkForUserDefinedFunctions=d.default._fesErrorMonitor=function(){},s=null,"https://github.com/processing/p5.js/wiki/p5.js-overview#why-cant-i-assign-variables-using-p5-functions-and-variables-before-setup"),g=function(){function o(i){return Object.getOwnPropertyNames(i).filter(function(h){return h[0]!=="_"&&!(h in a)&&(a[h]=!0)}).map(function(h){var p=typeof i[h]=="function"?"function":h===h.toUpperCase()?"constant":"variable";return{name:h,type:p}})}var a={};(s=[].concat(o(d.default.prototype),o(t("../constants")))).sort(function(i,h){return h.name.length-i.name.length})},y=(d.default.prototype._helpForMisusedAtTopLevelCode=f,document.readyState!=="complete"&&(window.addEventListener("error",f,!1),window.addEventListener("load",function(){window.removeEventListener("error",f,!1)})),d.default);x.default=y},{"../constants":269,"../internationalization":278,"../main":280,"./browser_errors":void 0,"core-js/modules/es.array.concat":152,"core-js/modules/es.array.filter":156,"core-js/modules/es.array.for-each":160,"core-js/modules/es.array.includes":162,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.join":165,"core-js/modules/es.array.map":167,"core-js/modules/es.array.slice":168,"core-js/modules/es.array.some":169,"core-js/modules/es.function.name":173,"core-js/modules/es.object.assign":181,"core-js/modules/es.object.get-own-property-names":184,"core-js/modules/es.object.keys":186,"core-js/modules/es.object.to-string":187,"core-js/modules/es.regexp.constructor":191,"core-js/modules/es.regexp.exec":192,"core-js/modules/es.regexp.to-string":193,"core-js/modules/es.string.iterator":197,"core-js/modules/es.string.match":198,"core-js/modules/es.string.replace":201,"core-js/modules/es.string.split":203,"core-js/modules/es.string.starts-with":204,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/web.dom-collections.for-each":242,"core-js/modules/web.dom-collections.iterator":243}],272:[function(t,j,x){Object.defineProperty(x,"__esModule",{value:!0}),x.default=void 0;var d=(d=t("../main"))&&d.__esModule?d:{default:d};t("../internationalization"),d.default._friendlyFileLoadError=function(){},t=d.default,x.default=t},{"../internationalization":278,"../main":280}],273:[function(t,j,x){function d(a){return(d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i})(a)}function f(a){return(f=typeof Symbol=="function"&&d(Symbol.iterator)==="symbol"?function(i){return d(i)}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":d(i)})(a)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.constructor"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.regexp.constructor"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),t("core-js/modules/web.dom-collections.for-each"),Object.defineProperty(x,"__esModule",{value:!0}),x.default=void 0;var s=y(t("../main"));t("../internationalization"),g(t("../constants"));function c(){var a;return typeof WeakMap!="function"?null:(a=new WeakMap,c=function(){return a},a)}function g(a){if(a&&a.__esModule)return a;if(a===null||f(a)!=="object"&&typeof a!="function")return{default:a};var i=c();if(i&&i.has(a))return i.get(a);var h,p,l={},m=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(h in a)Object.prototype.hasOwnProperty.call(a,h)&&((p=m?Object.getOwnPropertyDescriptor(a,h):null)&&(p.get||p.set)?Object.defineProperty(l,h,p):l[h]=a[h]);return l.default=a,i&&i.set(a,l),l}function y(a){return a&&a.__esModule?a:{default:a}}s.default._fesCodeReader=function(){};var o=s.default;x.default=o},{"../constants":269,"../internationalization":278,"../main":280,"core-js/modules/es.array.filter":156,"core-js/modules/es.array.for-each":160,"core-js/modules/es.array.from":161,"core-js/modules/es.array.includes":162,"core-js/modules/es.array.index-of":163,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.join":165,"core-js/modules/es.array.map":167,"core-js/modules/es.array.slice":168,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.keys":186,"core-js/modules/es.object.to-string":187,"core-js/modules/es.regexp.constructor":191,"core-js/modules/es.regexp.exec":192,"core-js/modules/es.regexp.to-string":193,"core-js/modules/es.string.includes":196,"core-js/modules/es.string.iterator":197,"core-js/modules/es.string.match":198,"core-js/modules/es.string.split":203,"core-js/modules/es.string.trim":206,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.for-each":242,"core-js/modules/web.dom-collections.iterator":243}],274:[function(t,j,x){t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),Object.defineProperty(x,"__esModule",{value:!0}),x.default=void 0,t=(t=t("../main"))&&t.__esModule?t:{default:t};function d(){var f=/(^|@)\S+:\d+/,s=/^\s*at .*(\S+:\d+|\(native\))/m,c=/^(eval@)?(\[native code])?$/;return{parse:function(g){return g.stacktrace!==void 0||g["opera#sourceloc"]!==void 0?this.parseOpera(g):g.stack&&g.stack.match(s)?this.parseV8OrIE(g):g.stack?this.parseFFOrSafari(g):void 0},extractLocation:function(g){return g.indexOf(":")===-1?[g]:[(g=/(.+?)(?::(\d+))?(?::(\d+))?$/.exec(g.replace(/[()]/g,"")))[1],g[2]||void 0,g[3]||void 0]},parseV8OrIE:function(g){return g.stack.split(`
`).filter(function(y){return!!y.match(s)},this).map(function(y){var o=(y=-1<y.indexOf("(eval ")?y.replace(/eval code/g,"eval").replace(/(\(eval at [^()]*)|(\),.*$)/g,""):y).replace(/^\s+/,"").replace(/\(eval code/g,"("),a=o.match(/ (\((.+):(\d+):(\d+)\)$)/),o=(o=a?o.replace(a[0],""):o).split(/\s+/).slice(1),a=this.extractLocation(a?a[1]:o.pop());return{functionName:o.join(" ")||void 0,fileName:-1<["eval","<anonymous>"].indexOf(a[0])?void 0:a[0],lineNumber:a[1],columnNumber:a[2],source:y}},this)},parseFFOrSafari:function(g){return g.stack.split(`
`).filter(function(y){return!y.match(c)},this).map(function(y){var o,a;return(y=-1<y.indexOf(" > eval")?y.replace(/ line (\d+)(?: > eval line \d+)* > eval:\d+:\d+/g,":$1"):y).indexOf("@")===-1&&y.indexOf(":")===-1?{functionName:y}:{functionName:(a=y.match(o=/((.*".+"[^@]*)?[^@]*)(?:@)/))&&a[1]?a[1]:void 0,fileName:(a=this.extractLocation(y.replace(o,"")))[0],lineNumber:a[1],columnNumber:a[2],source:y}},this)},parseOpera:function(g){return!g.stacktrace||-1<g.message.indexOf(`
`)&&g.message.split(`
`).length>g.stacktrace.split(`
`).length?this.parseOpera9(g):g.stack?this.parseOpera11(g):this.parseOpera10(g)},parseOpera9:function(g){for(var y=/Line (\d+).*script (?:in )?(\S+)/i,o=g.message.split(`
`),a=[],i=2,h=o.length;i<h;i+=2){var p=y.exec(o[i]);p&&a.push({fileName:p[2],lineNumber:p[1],source:o[i]})}return a},parseOpera10:function(g){for(var y=/Line (\d+).*script (?:in )?(\S+)(?:: In function (\S+))?$/i,o=g.stacktrace.split(`
`),a=[],i=0,h=o.length;i<h;i+=2){var p=y.exec(o[i]);p&&a.push({functionName:p[3]||void 0,fileName:p[2],lineNumber:p[1],source:o[i]})}return a},parseOpera11:function(g){return g.stack.split(`
`).filter(function(y){return!!y.match(f)&&!y.match(/^Error created at/)},this).map(function(y){var o,i=y.split("@"),a=this.extractLocation(i.pop()),i=i.shift()||"";return{functionName:i.replace(/<anonymous function(: (\w+))?>/,"$2").replace(/\([^)]*\)/g,"")||void 0,args:(o=i.match(/\(([^)]*)\)/)?i.replace(/^[^(]+\(([^)]*)\)$/,"$1"):o)===void 0||o==="[arguments not available]"?void 0:o.split(","),fileName:a[0],lineNumber:a[1],columnNumber:a[2],source:y}},this)}}}t.default._getErrorStackParser=function(){return new d},t=t.default,x.default=t},{"../main":280,"core-js/modules/es.array.filter":156,"core-js/modules/es.array.index-of":163,"core-js/modules/es.array.join":165,"core-js/modules/es.array.map":167,"core-js/modules/es.array.slice":168,"core-js/modules/es.regexp.exec":192,"core-js/modules/es.string.match":198,"core-js/modules/es.string.replace":201,"core-js/modules/es.string.split":203}],275:[function(t,j,x){function d(g){return(d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(y){return typeof y}:function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y})(g)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.last-index-of"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.function.name"),t("core-js/modules/es.map"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.get-prototype-of"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.reflect.construct"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.set"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.split"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.last-index-of"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.function.name"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.set"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.split"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(x,"__esModule",{value:!0}),x.default=void 0;var f=(f=t("../main"))&&f.__esModule?f:{default:f};(function(g){if(!(g&&g.__esModule)&&!(g===null||c(g)!=="object"&&typeof g!="function")){var y=s();if(y&&y.has(g))return y.get(g);var o,a={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(o in g){var h;Object.prototype.hasOwnProperty.call(g,o)&&((h=i?Object.getOwnPropertyDescriptor(g,o):null)&&(h.get||h.set)?Object.defineProperty(a,o,h):a[o]=g[o])}a.default=g,y&&y.set(g,a)}})(t("../constants")),t("../internationalization");function s(){var g;return typeof WeakMap!="function"?null:(g=new WeakMap,s=function(){return g},g)}function c(g){return(c=typeof Symbol=="function"&&d(Symbol.iterator)==="symbol"?function(y){return d(y)}:function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":d(y)})(g)}f.default._validateParameters=f.default._clearValidateParamsCache=function(){},t=f.default,x.default=t},{"../../../docs/parameterData.json":void 0,"../constants":269,"../internationalization":278,"../main":280,"core-js/modules/es.array.concat":152,"core-js/modules/es.array.for-each":160,"core-js/modules/es.array.includes":162,"core-js/modules/es.array.index-of":163,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.join":165,"core-js/modules/es.array.last-index-of":166,"core-js/modules/es.array.map":167,"core-js/modules/es.array.slice":168,"core-js/modules/es.function.name":173,"core-js/modules/es.map":174,"core-js/modules/es.number.constructor":178,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.get-prototype-of":185,"core-js/modules/es.object.keys":186,"core-js/modules/es.object.to-string":187,"core-js/modules/es.reflect.construct":189,"core-js/modules/es.regexp.exec":192,"core-js/modules/es.regexp.to-string":193,"core-js/modules/es.set":194,"core-js/modules/es.string.includes":196,"core-js/modules/es.string.iterator":197,"core-js/modules/es.string.split":203,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.for-each":242,"core-js/modules/web.dom-collections.iterator":243}],276:[function(t,j,x){function d(g){return(d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(y){return typeof y}:function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y})(g)}function f(g){return(f=typeof Symbol=="function"&&d(Symbol.iterator)==="symbol"?function(y){return d(y)}:function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":d(y)})(g)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(x,"__esModule",{value:!0}),x.default=void 0;var s=function(g){if(g&&g.__esModule)return g;if(g===null||f(g)!=="object"&&typeof g!="function")return{default:g};var y=c();if(y&&y.has(g))return y.get(g);var o,a={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(o in g){var h;Object.prototype.hasOwnProperty.call(g,o)&&((h=i?Object.getOwnPropertyDescriptor(g,o):null)&&(h.get||h.set)?Object.defineProperty(a,o,h):a[o]=g[o])}return a.default=g,y&&y.set(g,a),a}(t("./constants"));function c(){var g;return typeof WeakMap!="function"?null:(g=new WeakMap,c=function(){return g},g)}x.default={modeAdjust:function(g,y,o,a,i){return i===s.CORNER?{x:g,y,w:o,h:a}:i===s.CORNERS?{x:g,y,w:o-g,h:a-y}:i===s.RADIUS?{x:g-o,y:y-a,w:2*o,h:2*a}:i===s.CENTER?{x:g-.5*o,y:y-.5*a,w:o,h:a}:void 0}}},{"./constants":269,"core-js/modules/es.array.iterator":164,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.to-string":187,"core-js/modules/es.string.iterator":197,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.iterator":243}],277:[function(t,j,x){t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator");var d=(f=t("../core/main"))&&f.__esModule?f:{default:f};t("./internationalization");var f=Promise.resolve();Promise.all([new Promise(function(s,c){document.readyState==="complete"?s():window.addEventListener("load",s,!1)}),f]).then(function(){window._setupDone!==void 0?console.warn("p5.js seems to have been imported multiple times. Please remove the duplicate import"):window.mocha||(window.setup&&typeof window.setup=="function"||window.draw&&typeof window.draw=="function")&&!d.default.instance&&new d.default})},{"../core/main":280,"./internationalization":278,"core-js/modules/es.array.iterator":164,"core-js/modules/es.object.to-string":187,"core-js/modules/es.promise":188,"core-js/modules/es.string.iterator":197,"core-js/modules/web.dom-collections.iterator":243}],278:[function(t,j,x){t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.split"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.split"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(x,"__esModule",{value:!0}),x.setTranslatorLanguage=x.currentTranslatorLanguage=x.availableTranslatorLanguages=x.initialize=x.translator=void 0;var d,f,s=g(t("i18next")),c=g(t("i18next-browser-languagedetector"));function g(a){return a&&a.__esModule?a:{default:a}}function y(a,i){for(var h=0;h<i.length;h++){var p=i[h];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(a,p.key,p)}}var o=function(){function a(p,l){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");this.init(p,l)}var i,h;return i=a,(h=[{key:"fetchWithTimeout",value:function(p,l){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:2e3;return Promise.race([fetch(p,l),new Promise(function(_,b){return setTimeout(function(){return b(new Error("timeout"))},m)})])}},{key:"init",value:function(p){var l=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{};this.services=p,this.options=l}},{key:"read",value:function(p,l,m){var _=this.options.loadPath;p===this.options.fallback?m(null,d[p][l]):f.includes(p)?(_=this.services.interpolator.interpolate(_,{lng:p,ns:l}),this.loadUrl(_,m)):m("Not found",!1)}},{key:"loadUrl",value:function(p,l){this.fetchWithTimeout(p).then(function(m){if(m.ok)return m.json();throw new Error("failed loading ".concat(p))},function(){throw new Error("failed loading ".concat(p))}).then(function(m){return l(null,m)}).catch(l)}}])&&y(i.prototype,h),a}();o.type="backend",x.translator=function(a,i){console.debug("p5.js translator called before translations were loaded"),s.default.t(a,i)},x.initialize=function(){return s.default.use(c.default).use(o).init({fallbackLng:"en",nestingPrefix:"$tr(",nestingSuffix:")",defaultNS:"translation",returnEmptyString:!1,interpolation:{escapeValue:!1},detection:{checkWhitelist:!1,order:["querystring","navigator","htmlTag","path","subdomain"],caches:[]},backend:{fallback:"en",loadPath:"https://cdn.jsdelivr.net/npm/p5/translations/{{lng}}/{{ns}}.json"},partialBundledLanguages:!0,resources:d}).then(function(a){x.translator=a},function(a){return console.debug("Translations failed to load (".concat(a,")"))})},x.availableTranslatorLanguages=function(){return s.default.languages},x.currentTranslatorLanguage=function(a){return s.default.language},x.setTranslatorLanguage=function(a){return s.default.changeLanguage(a||void 0,function(i){return console.debug("Translations failed to load (".concat(i,")"))})}},{"../../translations":void 0,"../../translations/dev":void 0,"core-js/modules/es.array.includes":162,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.join":165,"core-js/modules/es.array.slice":168,"core-js/modules/es.object.keys":186,"core-js/modules/es.object.to-string":187,"core-js/modules/es.promise":188,"core-js/modules/es.regexp.exec":192,"core-js/modules/es.string.includes":196,"core-js/modules/es.string.iterator":197,"core-js/modules/es.string.split":203,"core-js/modules/web.dom-collections.iterator":243,i18next:3,"i18next-browser-languagedetector":3}],279:[function(t,j,x){Object.defineProperty(x,"__esModule",{value:!0}),x.default=void 0,t=(t=t("./main"))&&t.__esModule?t:{default:t},t.default.prototype.pushStyle=function(){throw new Error("pushStyle() not used, see push()")},t.default.prototype.popStyle=function(){throw new Error("popStyle() not used, see pop()")},t.default.prototype.popMatrix=function(){throw new Error("popMatrix() not used, see pop()")},t.default.prototype.pushMatrix=function(){throw new Error("pushMatrix() not used, see push()")},t=t.default,x.default=t},{"./main":280}],280:[function(t,j,x){function d(a){return(d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i})(a)}function f(a){return(f=typeof Symbol=="function"&&d(Symbol.iterator)==="symbol"?function(i){return d(i)}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":d(i)})(a)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.get-own-property-names"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.object.get-own-property-names"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(x,"__esModule",{value:!0}),x.default=void 0,t("./shim");var s=function(a){if(a&&a.__esModule)return a;if(a===null||f(a)!=="object"&&typeof a!="function")return{default:a};var i=c();if(i&&i.has(a))return i.get(a);var h,p={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(h in a){var m;Object.prototype.hasOwnProperty.call(a,h)&&((m=l?Object.getOwnPropertyDescriptor(a,h):null)&&(m.get||m.set)?Object.defineProperty(p,h,m):p[h]=a[h])}return p.default=a,i&&i.set(a,p),p}(t("./constants"));function c(){var a;return typeof WeakMap!="function"?null:(a=new WeakMap,c=function(){return a},a)}function g(a,i){for(var h=0;h<i.length;h++){var p=i[h];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(a,p.key,p)}}var y,o=function(){function a(p,_){var m=this;if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");this._setupDone=!1,this._preloadDone=!1,this._pixelDensity=Math.ceil(window.devicePixelRatio)||1,this._maxAllowedPixelDimensions=0,this._userNode=_,this._curElement=null,this._elements=[],this._glAttributes=null,this._requestAnimId=0,this._preloadCount=0,this._isGlobal=!1,this._loop=!0,this._startListener=null,this._initializeInstanceVariables(),this._defaultCanvasSize={width:100,height:100},this._events={mousemove:null,mousedown:null,mouseup:null,dragend:null,dragover:null,click:null,dblclick:null,mouseover:null,mouseout:null,keydown:null,keyup:null,keypress:null,touchstart:null,touchmove:null,touchend:null,resize:null,blur:null},this._millisStart=-1,this._recording=!1,this.touchstart=!1,this.touchend=!1,this._lcg_random_state=null,this._gaussian_previous=!1,this._events.wheel=null,this._loadingScreenId="p5_loading",this._registeredMethods={};var _=Object.getOwnPropertyNames(a.prototype._registeredMethods),b=!0,T=!1,O=void 0;try{for(var k,M=_[Symbol.iterator]();!(b=(k=M.next()).done);b=!0){var I=k.value;this._registeredMethods[I]=a.prototype._registeredMethods[I].slice()}}catch(Q){T=!0,O=Q}finally{try{b||M.return==null||M.return()}finally{if(T)throw O}}window.DeviceOrientationEvent&&(this._events.deviceorientation=null),window.DeviceMotionEvent&&!window._isNodeWebkit&&(this._events.devicemotion=null),a.prototype.callRegisteredHooksFor=function(Q){var Y=this||a.prototype,z=this._isGlobal?window:this;if(Y._registeredMethods.hasOwnProperty(Q)){var Y=Y._registeredMethods[Q],ee=!0,Q=!1,ie=void 0;try{for(var C,B=Y[Symbol.iterator]();!(ee=(C=B.next()).done);ee=!0){var H=C.value;typeof H=="function"&&H.call(z)}}catch(se){Q=!0,ie=se}finally{try{ee||B.return==null||B.return()}finally{if(Q)throw ie}}}},this._start=function(){m._userNode&&typeof m._userNode=="string"&&(m._userNode=document.getElementById(m._userNode));var Q=m._isGlobal?window:m;if(Q.preload){m.callRegisteredHooksFor("beforePreload");var Y,z=document.getElementById(m._loadingScreenId),ee=(z||((z=document.createElement("div")).innerHTML="Loading...",z.style.position="absolute",z.id=m._loadingScreenId,(m._userNode||document.body).appendChild(z)),m._preloadMethods);for(Y in ee){ee[Y]=ee[Y]||a;var ie=ee[Y];ie!==a.prototype&&ie!==a||(m._isGlobal&&(window[Y]=m._wrapPreload(m,Y)),ie=m),m._registeredPreloadMethods[Y]=ie[Y],ie[Y]=m._wrapPreload(ie,Y)}Q.preload(),m._runIfPreloadsAreDone()}else m._setup(),m._recording||m._draw()},this._runIfPreloadsAreDone=function(){var Q,Y=this._isGlobal?window:this;Y._preloadCount===0&&((Q=document.getElementById(Y._loadingScreenId))&&Q.parentNode.removeChild(Q),this.callRegisteredHooksFor("afterPreload"),this._setupDone||(this._lastTargetFrameTime=window.performance.now(),this._lastRealFrameTime=window.performance.now(),Y._setup(),this._recording||Y._draw()))},this._decrementPreload=function(){var Q=this._isGlobal?window:this;Q._preloadDone||typeof Q.preload!="function"||(Q._setProperty("_preloadCount",Q._preloadCount-1),Q._runIfPreloadsAreDone())},this._wrapPreload=function(Q,Y){var z=this;return function(){z._incrementPreload();for(var ee=arguments.length,ie=new Array(ee),C=0;C<ee;C++)ie[C]=arguments[C];return z._registeredPreloadMethods[Y].apply(Q,ie)}},this._incrementPreload=function(){var Q=this._isGlobal?window:this;Q._preloadDone||Q._setProperty("_preloadCount",Q._preloadCount+1)},this._setup=function(){m.callRegisteredHooksFor("beforeSetup"),m.createCanvas(m._defaultCanvasSize.width,m._defaultCanvasSize.height,"p2d");var Q=m._isGlobal?window:m;if(typeof Q.preload=="function")for(var Y in m._preloadMethods)Q[Y]=m._preloadMethods[Y][Y],Q[Y]&&m&&(Q[Y]=Q[Y].bind(m));m._millisStart=window.performance.now(),Q._preloadDone=!0,typeof Q.setup=="function"&&Q.setup();var z=document.getElementsByTagName("canvas"),ee=!0,ie=!1,C=void 0;try{for(var B,H=z[Symbol.iterator]();!(ee=(B=H.next()).done);ee=!0){var $=B.value;$.dataset.hidden==="true"&&($.style.visibility="",delete $.dataset.hidden)}}catch(ne){ie=!0,C=ne}finally{try{ee||H.return==null||H.return()}finally{if(ie)throw C}}m._lastTargetFrameTime=window.performance.now(),m._lastRealFrameTime=window.performance.now(),m._setupDone=!0,(m._accessibleOutputs.grid||m._accessibleOutputs.text)&&m._updateAccsOutput(),m.callRegisteredHooksFor("afterSetup")},this._draw=function(){var Q=window.performance.now(),Y=Q-m._lastTargetFrameTime,z=1e3/m._targetFrameRate;(!m._loop||z-5<=Y)&&(m.deltaTime=Q-m._lastRealFrameTime,m._setProperty("deltaTime",m.deltaTime),m._frameRate=1e3/m.deltaTime,m.redraw(),m._lastTargetFrameTime=Math.max(m._lastTargetFrameTime+z,Q),m._lastRealFrameTime=Q,m._updateMouseCoords!==void 0&&(m._updateMouseCoords(),m._setProperty("movedX",0),m._setProperty("movedY",0))),m._loop&&(m._requestAnimId=window.requestAnimationFrame(m._draw))},this._setProperty=function(Q,Y){m[Q]=Y,m._isGlobal&&(window[Q]=Y)},this.remove=function(){m._startListener&&window.removeEventListener("load",m._startListener,!1);var Q=document.getElementById(m._loadingScreenId);if(Q&&(Q.parentNode.removeChild(Q),m._incrementPreload()),m._curElement){for(var Y in m._loop=!1,m._requestAnimId&&window.cancelAnimationFrame(m._requestAnimId),m._events)window.removeEventListener(Y,m._events[Y]);var z=!0,Q=!1,ee=void 0;try{for(var ie,C=m._elements[Symbol.iterator]();!(z=(ie=C.next()).done);z=!0){var B,H=ie.value;for(B in H.elt&&H.elt.parentNode&&H.elt.parentNode.removeChild(H.elt),H._events)H.elt.removeEventListener(B,H._events[B])}}catch(_e){Q=!0,ee=_e}finally{try{z||C.return==null||C.return()}finally{if(Q)throw ee}}var $=m;m._registeredMethods.remove.forEach(function(_e){_e!==void 0&&_e.call($)})}if(m._isGlobal){for(var ne in a.prototype)try{delete window[ne]}catch{window[ne]=void 0}for(var se in m)if(m.hasOwnProperty(se))try{delete window[se]}catch{window[se]=void 0}a.instance=null}},this._registeredMethods.init.forEach(function(Q){Q!==void 0&&Q.call(this)},this),this._setupPromisePreloads();var F,A,U=this._createFriendlyGlobalFunctionBinder();if(p)p(this),a._checkForUserDefinedFunctions(this);else{for(var D in this._isGlobal=!0,a.instance=this,a.prototype)typeof a.prototype[D]=="function"?(F=D.substring(2),this._events.hasOwnProperty(F)||(Math.hasOwnProperty(D)&&Math[D]===a.prototype[D]?U(D,a.prototype[D]):U(D,a.prototype[D].bind(this)))):U(D,a.prototype[D]);for(var V in this)this.hasOwnProperty(V)&&U(V,this[V])}for(A in this._events){var G=this["_on".concat(A)];G&&(G=G.bind(this),window.addEventListener(A,G,{passive:!1}),this._events[A]=G)}function W(){m._setProperty("focused",!0)}function J(){m._setProperty("focused",!1)}window.addEventListener("focus",W),window.addEventListener("blur",J),this.registerMethod("remove",function(){window.removeEventListener("focus",W),window.removeEventListener("blur",J)}),document.readyState==="complete"?this._start():(this._startListener=this._start.bind(this),window.addEventListener("load",this._startListener,!1))}var i,h;return i=a,(h=[{key:"_initializeInstanceVariables",value:function(){this._accessibleOutputs={text:!1,grid:!1,textLabel:!1,gridLabel:!1},this._styles=[],this._bezierDetail=20,this._curveDetail=20,this._colorMode=s.RGB,this._colorMaxes={rgb:[255,255,255,255],hsb:[360,100,100,1],hsl:[360,100,100,1]},this._downKeys={}}},{key:"registerPreloadMethod",value:function(p,l){a.prototype._preloadMethods.hasOwnProperty(p)||(a.prototype._preloadMethods[p]=l)}},{key:"registerMethod",value:function(p,l){var m=this||a.prototype;m._registeredMethods.hasOwnProperty(p)||(m._registeredMethods[p]=[]),m._registeredMethods[p].push(l)}},{key:"unregisterMethod",value:function(p,l){var m=this||a.prototype;if(m._registeredMethods.hasOwnProperty(p)){for(var _=m._registeredMethods[p],b=[],T=0;T<_.length;T++)_[T]===l&&b.push(T);for(var O=b.length-1;0<=O;O--)_.splice(b[O],1)}}},{key:"_createFriendlyGlobalFunctionBinder",value:function(){var p=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},l=p.globalObject||window;return p.log||console.log.bind(console),function(m,_){a.disableFriendlyErrors,l[m]=_}}}])&&g(i.prototype,h),a}();for(y in o.instance=null,o.disableFriendlyErrors=!1,s)o.prototype[y]=s[y];o.VERSION=s.VERSION,o.prototype._preloadMethods={loadJSON:o.prototype,loadImage:o.prototype,loadStrings:o.prototype,loadXML:o.prototype,loadBytes:o.prototype,loadTable:o.prototype,loadFont:o.prototype,loadModel:o.prototype,loadShader:o.prototype},o.prototype._registeredMethods={init:[],pre:[],post:[],remove:[]},o.prototype._registeredPreloadMethods={},x.default=o},{"./constants":269,"./shim":291,"core-js/modules/es.array.for-each":160,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.slice":168,"core-js/modules/es.array.splice":170,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.get-own-property-names":184,"core-js/modules/es.object.to-string":187,"core-js/modules/es.string.iterator":197,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.for-each":242,"core-js/modules/web.dom-collections.iterator":243}],281:[function(t,j,x){Object.defineProperty(x,"__esModule",{value:!0}),x.default=void 0;var d=(t=t("./main"))&&t.__esModule?t:{default:t};function f(s,c){for(var g=0;g<c.length;g++){var y=c[g];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(s,y.key,y)}}d.default.Element=function(){function s(o,a){if(!(this instanceof s))throw new TypeError("Cannot call a class as a function");this.elt=o,this._pInst=this._pixelsState=a,this._events={},this.width=this.elt.offsetWidth,this.height=this.elt.offsetHeight}var c,g,y;return c=s,y=[{key:"_adjustListener",value:function(o,a,i){return a===!1?d.default.Element._detachListener(o,i):d.default.Element._attachListener(o,a,i),this}},{key:"_attachListener",value:function(o,a,i){i._events[o]&&d.default.Element._detachListener(o,i),a=a.bind(i),i.elt.addEventListener(o,a,!1),i._events[o]=a}},{key:"_detachListener",value:function(o,a){var i=a._events[o];a.elt.removeEventListener(o,i,!1),a._events[o]=null}}],(g=[{key:"parent",value:function(o){return o===void 0?this.elt.parentNode:(typeof o=="string"?(o[0]==="#"&&(o=o.substring(1)),o=document.getElementById(o)):o instanceof d.default.Element&&(o=o.elt),o.appendChild(this.elt),this)}},{key:"id",value:function(o){return o===void 0?this.elt.id:(this.elt.id=o,this.width=this.elt.offsetWidth,this.height=this.elt.offsetHeight,this)}},{key:"class",value:function(o){return o===void 0?this.elt.className:(this.elt.className=o,this)}},{key:"mousePressed",value:function(o){return d.default.Element._adjustListener("mousedown",function(a){return this._pInst._setProperty("mouseIsPressed",!0),this._pInst._setMouseButton(a),o.call(this,a)},this),this}},{key:"doubleClicked",value:function(o){return d.default.Element._adjustListener("dblclick",o,this),this}},{key:"mouseWheel",value:function(o){return d.default.Element._adjustListener("wheel",o,this),this}},{key:"mouseReleased",value:function(o){return d.default.Element._adjustListener("mouseup",o,this),this}},{key:"mouseClicked",value:function(o){return d.default.Element._adjustListener("click",o,this),this}},{key:"mouseMoved",value:function(o){return d.default.Element._adjustListener("mousemove",o,this),this}},{key:"mouseOver",value:function(o){return d.default.Element._adjustListener("mouseover",o,this),this}},{key:"mouseOut",value:function(o){return d.default.Element._adjustListener("mouseout",o,this),this}},{key:"touchStarted",value:function(o){return d.default.Element._adjustListener("touchstart",o,this),this}},{key:"touchMoved",value:function(o){return d.default.Element._adjustListener("touchmove",o,this),this}},{key:"touchEnded",value:function(o){return d.default.Element._adjustListener("touchend",o,this),this}},{key:"dragOver",value:function(o){return d.default.Element._adjustListener("dragover",o,this),this}},{key:"dragLeave",value:function(o){return d.default.Element._adjustListener("dragleave",o,this),this}},{key:"_setProperty",value:function(o,a){this[o]=a}}])&&f(c.prototype,g),y&&f(c,y),s}(),t=d.default.Element,x.default=t},{"./main":280}],282:[function(t,j,x){function d(m){return(d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _})(m)}function f(m){return(f=typeof Symbol=="function"&&d(Symbol.iterator)==="symbol"?function(_){return d(_)}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":d(_)})(m)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.get-prototype-of"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.reflect.construct"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.object.get-prototype-of"),Object.defineProperty(x,"__esModule",{value:!0}),x.default=void 0;var s=(l=t("./main"))&&l.__esModule?l:{default:l},c=function(m){if(m&&m.__esModule)return m;if(m===null||f(m)!=="object"&&typeof m!="function")return{default:m};var _=g();if(_&&_.has(m))return _.get(m);var b,T={},O=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(b in m){var k;Object.prototype.hasOwnProperty.call(m,b)&&((k=O?Object.getOwnPropertyDescriptor(m,b):null)&&(k.get||k.set)?Object.defineProperty(T,b,k):T[b]=m[b])}return T.default=m,_&&_.set(m,T),T}(t("./constants"));function g(){var m;return typeof WeakMap!="function"?null:(m=new WeakMap,g=function(){return m},m)}function y(m,_){for(var b=0;b<_.length;b++){var T=_[b];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(m,T.key,T)}}function o(m,_){return(o=Object.setPrototypeOf||function(b,T){return b.__proto__=T,b})(m,_)}function a(m){return function(){var _,b=p(m);return i(this,function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(_=p(this).constructor,Reflect.construct(b,arguments,_)):b.apply(this,arguments))}}function i(m,_){return!_||f(_)!=="object"&&typeof _!="function"?h(m):_}function h(m){if(m===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m}function p(m){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(_){return _.__proto__||Object.getPrototypeOf(_)})(m)}s.default.Graphics=function(m){var _=T;if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function");_.prototype=Object.create(m&&m.prototype,{constructor:{value:_,writable:!0,configurable:!0}}),m&&o(_,m);var b=a(T);function T(O,k,V,I,F){var A;if(!(this instanceof T))throw new TypeError("Cannot call a class as a function");D=F||document.createElement("canvas"),(A=b.call(this,D,I)).canvas=D;var U,D=V||c.P2D,V=I._userNode||document.body;for(U in F||V.appendChild(A.canvas),s.default.prototype)A[U]||(typeof s.default.prototype[U]=="function"?A[U]=s.default.prototype[U].bind(h(A)):A[U]=s.default.prototype[U]);return s.default.prototype._initializeInstanceVariables.apply(h(A)),A.width=O,A.height=k,A._pixelDensity=I._pixelDensity,D===c.WEBGL?(A._renderer=new s.default.RendererGL(A.canvas,h(A),!1),O=(F=A._renderer._adjustDimensions(O,k)).adjustedWidth,k=F.adjustedHeight):A._renderer=new s.default.Renderer2D(A.canvas,h(A),!1),I._elements.push(h(A)),Object.defineProperty(h(A),"deltaTime",{get:function(){return this._pInst.deltaTime}}),A._renderer.resize(O,k),A._renderer._applyDefaults(),i(A,h(A))}return _=T,(m=[{key:"reset",value:function(){this._renderer.resetMatrix(),this._renderer.isP3D&&this._renderer._update()}},{key:"remove",value:function(){this.elt.parentNode&&this.elt.parentNode.removeChild(this.elt);var O,k=this._pInst._elements.indexOf(this);for(O in k!==-1&&this._pInst._elements.splice(k,1),this._events)this.elt.removeEventListener(O,this._events[O])}},{key:"createFramebuffer",value:function(O){return new s.default.Framebuffer(this,O)}}])&&y(_.prototype,m),T}(s.default.Element);var l=s.default.Graphics;x.default=l},{"./constants":269,"./main":280,"core-js/modules/es.array.index-of":163,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.splice":170,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.get-prototype-of":185,"core-js/modules/es.object.to-string":187,"core-js/modules/es.reflect.construct":189,"core-js/modules/es.regexp.to-string":193,"core-js/modules/es.string.iterator":197,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.iterator":243}],283:[function(t,j,x){function d(m){return(d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _})(m)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.get-prototype-of"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.reflect.construct"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.get-prototype-of"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),Object.defineProperty(x,"__esModule",{value:!0}),x.default=void 0;var f=(p=t("./main"))&&p.__esModule?p:{default:p},s=function(m){if(m&&m.__esModule)return m;if(m===null||g(m)!=="object"&&typeof m!="function")return{default:m};var _=c();if(_&&_.has(m))return _.get(m);var b,T={},O=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(b in m){var k;Object.prototype.hasOwnProperty.call(m,b)&&((k=O?Object.getOwnPropertyDescriptor(m,b):null)&&(k.get||k.set)?Object.defineProperty(T,b,k):T[b]=m[b])}return T.default=m,_&&_.set(m,T),T}(t("../core/constants"));function c(){var m;return typeof WeakMap!="function"?null:(m=new WeakMap,c=function(){return m},m)}function g(m){return(g=typeof Symbol=="function"&&d(Symbol.iterator)==="symbol"?function(_){return d(_)}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":d(_)})(m)}function y(m,_){for(var b=0;b<_.length;b++){var T=_[b];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(m,T.key,T)}}function o(m,_){return(o=Object.setPrototypeOf||function(b,T){return b.__proto__=T,b})(m,_)}function a(m){return function(){var _,b,T=h(m);return _=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(_=h(this).constructor,Reflect.construct(T,arguments,_)):T.apply(this,arguments),T=this,!(b=_)||g(b)!=="object"&&typeof b!="function"?i(T):b}}function i(m){if(m===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m}function h(m){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(_){return _.__proto__||Object.getPrototypeOf(_)})(m)}var p=function(m){var _=T;if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function");_.prototype=Object.create(m&&m.prototype,{constructor:{value:_,writable:!0,configurable:!0}}),m&&o(_,m);var b=a(T);function T(O,k,M){var I;if(this instanceof T)return(I=b.call(this,O,k)).canvas=O,I._pixelsState=k,M?(I._isMainCanvas=!0,I._pInst._setProperty("_curElement",i(I)),I._pInst._setProperty("canvas",I.canvas),I._pInst._setProperty("width",I.width),I._pInst._setProperty("height",I.height)):(I.canvas.style.display="none",I._styles=[]),I._clipping=!1,I._clipInvert=!1,I._textSize=12,I._textLeading=15,I._textFont="sans-serif",I._textStyle=s.NORMAL,I._textAscent=null,I._textDescent=null,I._textAlign=s.LEFT,I._textBaseline=s.BASELINE,I._textWrap=s.WORD,I._rectMode=s.CORNER,I._ellipseMode=s.CENTER,I._curveTightness=0,I._imageMode=s.CORNER,I._tint=null,I._doStroke=!0,I._doFill=!0,I._strokeSet=!1,I._fillSet=!1,I._leadingSet=!1,I._pushPopDepth=0,I;throw new TypeError("Cannot call a class as a function")}return _=T,(m=[{key:"push",value:function(){return this._pushPopDepth++,{properties:{_doStroke:this._doStroke,_strokeSet:this._strokeSet,_doFill:this._doFill,_fillSet:this._fillSet,_tint:this._tint,_imageMode:this._imageMode,_rectMode:this._rectMode,_ellipseMode:this._ellipseMode,_textFont:this._textFont,_textLeading:this._textLeading,_leadingSet:this._leadingSet,_textSize:this._textSize,_textAlign:this._textAlign,_textBaseline:this._textBaseline,_textStyle:this._textStyle,_textWrap:this._textWrap}}}},{key:"pop",value:function(O){this._pushPopDepth--,O.properties&&Object.assign(this,O.properties)}},{key:"beginClip",value:function(){var O=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{};if(this._clipping)throw new Error("It looks like you're trying to clip while already in the middle of clipping. Did you forget to endClip()?");this._clipping=!0,this._clipInvert=O.invert}},{key:"endClip",value:function(){if(!this._clipping)throw new Error("It looks like you've called endClip() without beginClip(). Did you forget to call beginClip() first?");this._clipping=!1}},{key:"resize",value:function(O,k){this.width=O,this.height=k,this.elt.width=O*this._pInst._pixelDensity,this.elt.height=k*this._pInst._pixelDensity,this.elt.style.width="".concat(O,"px"),this.elt.style.height="".concat(k,"px"),this._isMainCanvas&&(this._pInst._setProperty("width",this.width),this._pInst._setProperty("height",this.height))}},{key:"get",value:function(O,k,M,I){var F=this._pixelsState,A=F._pixelDensity,U=this.canvas;if(O===void 0&&k===void 0)O=k=0,M=F.width,I=F.height;else if(O*=A,k*=A,M===void 0&&I===void 0)return O<0||k<0||O>=U.width||k>=U.height?[0,0,0,0]:this._getPixel(O,k);return F=new f.default.Image(M*A,I*A),F.pixelDensity(A),F.canvas.getContext("2d").drawImage(U,O,k,M*A,I*A,0,0,M*A,I*A),F}},{key:"textLeading",value:function(O){return typeof O=="number"?(this._setProperty("_leadingSet",!0),this._setProperty("_textLeading",O),this._pInst):this._textLeading}},{key:"textStyle",value:function(O){return O?(O!==s.NORMAL&&O!==s.ITALIC&&O!==s.BOLD&&O!==s.BOLDITALIC||this._setProperty("_textStyle",O),this._applyTextProperties()):this._textStyle}},{key:"textAscent",value:function(){return this._textAscent===null&&this._updateTextMetrics(),this._textAscent}},{key:"textDescent",value:function(){return this._textDescent===null&&this._updateTextMetrics(),this._textDescent}},{key:"textAlign",value:function(O,k){return O!==void 0?(this._setProperty("_textAlign",O),k!==void 0&&this._setProperty("_textBaseline",k),this._applyTextProperties()):{horizontal:this._textAlign,vertical:this._textBaseline}}},{key:"textWrap",value:function(O){return this._setProperty("_textWrap",O),this._textWrap}},{key:"text",value:function(O,k,M,I,F){var A,U,D,V,G=this._pInst,W=this._textWrap,J=Number.MAX_VALUE,Q=M;if((this._doFill||this._doStroke)&&O!==void 0){if(A=(O=(O=typeof O!="string"?O.toString():O).replace(/(\t)/g,"  ")).split(`
`),I!==void 0){switch(this._rectMode===s.CENTER&&(k-=I/2),this._textAlign){case s.CENTER:k+=I/2;break;case s.RIGHT:k+=I}if(F!==void 0){this._rectMode===s.CENTER&&(M-=F/2,Q-=F/2);var O=M,Y=G.textAscent();switch(this._textBaseline){case s.BOTTOM:V=M+F,M=Math.max(V,M),Q+=Y;break;case s.CENTER:V=M+F/2,M=Math.max(V,M),Q+=Y/2}J=M+F-Y,this._textBaseline===s.CENTER&&(J=O+F-Y/2)}else this._textBaseline!==s.BOTTOM&&this._textBaseline!==s.CENTER||(Q=M-(O=G.textSize()*this._textLeading)/2,J=M+O/2);if(W===s.WORD){for(var z=[],ee=0;ee<A.length;ee++){for(var ie="",C=A[ee].split(" "),B=0;B<C.length;B++)U="".concat(ie+C[B])+" ",ie=I<(D=this.textWidth(U))&&0<ie.length?(z.push(ie),"".concat(C[B])+" "):U;z.push(ie)}var H=0;this._textBaseline===s.CENTER?H=(z.length-1)*G.textLeading()/2:this._textBaseline===s.BOTTOM&&(H=(z.length-1)*G.textLeading());for(var $=0;$<A.length;$++){ie="",C=A[$].split(" ");for(var ne=0;ne<C.length;ne++)U="".concat(ie+C[ne])+" ",I<(D=this.textWidth(U))&&0<ie.length?(this._renderText(G,ie.trim(),k,M-H,J,Q),ie="".concat(C[ne])+" ",M+=G.textLeading()):ie=U;this._renderText(G,ie.trim(),k,M-H,J,Q),M+=G.textLeading()}}else{for(var se=[],de=0;de<A.length;de++)for(var _e=A[de].split(ie=""),pe=0;pe<_e.length;pe++)U="".concat(ie+_e[pe]),(D=this.textWidth(U))<=I?ie+=_e[pe]:I<D&&0<ie.length&&(se.push(ie),ie="".concat(_e[pe]));se.push(ie);var ge=0;this._textBaseline===s.CENTER?ge=(se.length-1)*G.textLeading()/2:this._textBaseline===s.BOTTOM&&(ge=(se.length-1)*G.textLeading());for(var ve=0;ve<A.length;ve++){_e=A[ve].split(ie="");for(var le=0;le<_e.length;le++)U="".concat(ie+_e[le]),(D=this.textWidth(U))<=I?ie+=_e[le]:I<D&&0<ie.length&&(this._renderText(G,ie.trim(),k,M-ge,J,Q),M+=G.textLeading(),ie="".concat(_e[le]))}this._renderText(G,ie.trim(),k,M-ge,J,Q),M+=G.textLeading()}}else{var he=0;this._textBaseline===s.CENTER?he=(A.length-1)*G.textLeading()/2:this._textBaseline===s.BOTTOM&&(he=(A.length-1)*G.textLeading());for(var be=0;be<A.length;be++)this._renderText(G,A[be],k,M-he,J,Q-he),M+=G.textLeading()}return G}}},{key:"_applyDefaults",value:function(){return this}},{key:"_isOpenType",value:function(){var O=0<arguments.length&&arguments[0]!==void 0?arguments[0]:this._textFont;return g(O)==="object"&&O.font&&O.font.supported}},{key:"_updateTextMetrics",value:function(){var O,k,M,I,F,A;return this._isOpenType()?(this._setProperty("_textAscent",this._textFont._textAscent()),this._setProperty("_textDescent",this._textFont._textDescent())):((O=document.createElement("span")).style.fontFamily=this._textFont,O.style.fontSize="".concat(this._textSize,"px"),O.innerHTML="ABCjgq|",(A=document.createElement("div")).style.display="inline-block",A.style.width="1px",A.style.height="0px",I=((k=document.createElement("div")).appendChild(O),k.appendChild(A),k.style.height="0px",k.style.overflow="hidden",document.body.appendChild(k),A.style.verticalAlign="baseline",l(A)),F=l(O),M=I[1]-F[1],I=(A.style.verticalAlign="bottom",l(A)),F=l(O),A=I[1]-F[1]-M,document.body.removeChild(k),this._setProperty("_textAscent",M),this._setProperty("_textDescent",A)),this}}])&&y(_.prototype,m),T}(f.default.Element);function l(m){var _=0,b=0;if(m.offsetParent)for(;_+=m.offsetLeft,b+=m.offsetTop,m=m.offsetParent;);else _+=m.offsetLeft,b+=m.offsetTop;return[_,b]}p.prototype.textSize=function(m){return typeof m=="number"?(this._setProperty("_textSize",m),this._leadingSet||this._setProperty("_textLeading",m*s._DEFAULT_LEADMULT),this._applyTextProperties()):this._textSize},f.default.Renderer=p,t=f.default.Renderer,x.default=t},{"../core/constants":269,"./main":280,"core-js/modules/es.array.iterator":164,"core-js/modules/es.number.constructor":178,"core-js/modules/es.object.assign":181,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.get-prototype-of":185,"core-js/modules/es.object.to-string":187,"core-js/modules/es.reflect.construct":189,"core-js/modules/es.regexp.exec":192,"core-js/modules/es.regexp.to-string":193,"core-js/modules/es.string.iterator":197,"core-js/modules/es.string.replace":201,"core-js/modules/es.string.split":203,"core-js/modules/es.string.trim":206,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.iterator":243}],284:[function(m,j,x){function d(_){return(d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(b){return typeof b}:function(b){return b&&typeof Symbol=="function"&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b})(_)}function f(_){return(f=typeof Symbol=="function"&&d(Symbol.iterator)==="symbol"?function(b){return d(b)}:function(b){return b&&typeof Symbol=="function"&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":d(b)})(_)}m("core-js/modules/es.symbol"),m("core-js/modules/es.symbol.description"),m("core-js/modules/es.symbol.iterator"),m("core-js/modules/es.array.concat"),m("core-js/modules/es.array.fill"),m("core-js/modules/es.array.for-each"),m("core-js/modules/es.array.iterator"),m("core-js/modules/es.array.join"),m("core-js/modules/es.array.slice"),m("core-js/modules/es.function.name"),m("core-js/modules/es.number.to-fixed"),m("core-js/modules/es.object.get-own-property-descriptor"),m("core-js/modules/es.object.get-prototype-of"),m("core-js/modules/es.object.to-string"),m("core-js/modules/es.reflect.construct"),m("core-js/modules/es.reflect.get"),m("core-js/modules/es.regexp.exec"),m("core-js/modules/es.regexp.to-string"),m("core-js/modules/es.string.iterator"),m("core-js/modules/es.weak-map"),m("core-js/modules/web.dom-collections.iterator"),m("core-js/modules/es.array.concat"),m("core-js/modules/es.array.fill"),m("core-js/modules/es.array.for-each"),m("core-js/modules/es.array.join"),m("core-js/modules/es.array.slice"),m("core-js/modules/es.function.name"),m("core-js/modules/es.number.to-fixed"),m("core-js/modules/es.object.get-prototype-of"),m("core-js/modules/es.object.to-string"),m("core-js/modules/es.regexp.exec"),m("core-js/modules/es.regexp.to-string"),Object.defineProperty(x,"__esModule",{value:!0}),x.default=void 0;var s=(l=m("./main"))&&l.__esModule?l:{default:l},c=function(_){if(_&&_.__esModule)return _;if(_===null||f(_)!=="object"&&typeof _!="function")return{default:_};var b=g();if(b&&b.has(_))return b.get(_);var T,O={},k=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(T in _){var M;Object.prototype.hasOwnProperty.call(_,T)&&((M=k?Object.getOwnPropertyDescriptor(_,T):null)&&(M.get||M.set)?Object.defineProperty(O,T,M):O[T]=_[T])}return O.default=_,b&&b.set(_,O),O}(m("./constants"));function g(){var _;return typeof WeakMap!="function"?null:(_=new WeakMap,g=function(){return _},_)}function y(_,b){for(var T=0;T<b.length;T++){var O=b[T];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(_,O.key,O)}}function o(_,b,T){return(o=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(I,k,M){var I=function(F,A){for(;!Object.prototype.hasOwnProperty.call(F,A)&&(F=h(F))!==null;);return F}(I,k);if(I)return(I=Object.getOwnPropertyDescriptor(I,k)).get?I.get.call(M):I.value})(_,b,T||_)}function a(_,b){return(a=Object.setPrototypeOf||function(T,O){return T.__proto__=O,T})(_,b)}function i(_){return function(){var b,T=h(_),T=(b=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(b=h(this).constructor,Reflect.construct(T,arguments,b)):T.apply(this,arguments),this);if(!b||f(b)!=="object"&&typeof b!="function"){if(T!==void 0)return T;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return b}}function h(_){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(b){return b.__proto__||Object.getPrototypeOf(b)})(_)}m("./p5.Renderer");var p="rgba(0,0,0,0)",l=function(_){var b=O;if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function");b.prototype=Object.create(_&&_.prototype,{constructor:{value:b,writable:!0,configurable:!0}}),_&&a(b,_);var T=i(O);function O(k,M,I){if(this instanceof O)return(k=T.call(this,k,M,I)).drawingContext=k.canvas.getContext("2d"),k._pInst._setProperty("drawingContext",k.drawingContext),k;throw new TypeError("Cannot call a class as a function")}return b=O,(_=[{key:"getFilterGraphicsLayer",value:function(){var k;return this.filterGraphicsLayer||(k=(this._pInst instanceof s.default.Graphics?this._pInst:this)._pInst,this.filterGraphicsLayer=new s.default.Graphics(this.width,this.height,c.WEBGL,k)),this.filterGraphicsLayer.width===this.width&&this.filterGraphicsLayer.height===this.height||this.filterGraphicsLayer.resizeCanvas(this.width,this.height),this.filterGraphicsLayer.pixelDensity()!==this._pInst.pixelDensity()&&this.filterGraphicsLayer.pixelDensity(this._pInst.pixelDensity()),this.filterGraphicsLayer}},{key:"_applyDefaults",value:function(){this._cachedFillStyle=this._cachedStrokeStyle=void 0,this._cachedBlendMode=c.BLEND,this._setFill(c._DEFAULT_FILL),this._setStroke(c._DEFAULT_STROKE),this.drawingContext.lineCap=c.ROUND,this.drawingContext.font="normal 12px sans-serif"}},{key:"resize",value:function(k,M){o(h(O.prototype),"resize",this).call(this,k,M),this.drawingContext.scale(this._pInst._pixelDensity,this._pInst._pixelDensity)}},{key:"background",value:function(){var k,M;this.drawingContext.save(),this.resetMatrix(),(arguments.length<=0?void 0:arguments[0])instanceof s.default.Image?0<=(arguments.length<=1?void 0:arguments[1])?(k=arguments.length<=0?void 0:arguments[0],this.drawingContext.globalAlpha=(arguments.length<=1?void 0:arguments[1])/255,this._pInst.image(k,0,0,this.width,this.height)):this._pInst.image(arguments.length<=0?void 0:arguments[0],0,0,this.width,this.height):(k=this._getFill(),M=(M=this._pInst).color.apply(M,arguments),this._pInst._addAccsOutput()&&this._pInst._accsBackground(M.levels),M=M.toString(),this._setFill(M),this._isErasing&&this.blendMode(this._cachedBlendMode),this.drawingContext.fillRect(0,0,this.width,this.height),this._setFill(k),this._isErasing&&this._pInst.erase()),this.drawingContext.restore()}},{key:"clear",value:function(){this.drawingContext.save(),this.resetMatrix(),this.drawingContext.clearRect(0,0,this.width,this.height),this.drawingContext.restore()}},{key:"fill",value:function(){var k=(k=this._pInst).color.apply(k,arguments);this._setFill(k.toString()),this._pInst._addAccsOutput()&&this._pInst._accsCanvasColors("fill",k.levels)}},{key:"stroke",value:function(){var k=(k=this._pInst).color.apply(k,arguments);this._setStroke(k.toString()),this._pInst._addAccsOutput()&&this._pInst._accsCanvasColors("stroke",k.levels)}},{key:"erase",value:function(k,M){this._isErasing||(this._cachedFillStyle=this.drawingContext.fillStyle,k=this._pInst.color(255,k).toString(),this.drawingContext.fillStyle=k,this._cachedStrokeStyle=this.drawingContext.strokeStyle,k=this._pInst.color(255,M).toString(),this.drawingContext.strokeStyle=k,M=this._cachedBlendMode,this.blendMode(c.REMOVE),this._cachedBlendMode=M,this._isErasing=!0)}},{key:"noErase",value:function(){this._isErasing&&(this.drawingContext.fillStyle=this._cachedFillStyle,this.drawingContext.strokeStyle=this._cachedStrokeStyle,this.blendMode(this._cachedBlendMode),this._isErasing=!1)}},{key:"beginClip",value:function(){var k=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},k=(o(h(O.prototype),"beginClip",this).call(this,k),this._cachedFillStyle=this.drawingContext.fillStyle,this._pInst.color(255,0).toString()),k=(this.drawingContext.fillStyle=k,this._cachedStrokeStyle=this.drawingContext.strokeStyle,this._pInst.color(255,0).toString()),k=(this.drawingContext.strokeStyle=k,this._cachedBlendMode);this.blendMode(c.BLEND),this._cachedBlendMode=k,this.drawingContext.beginPath(),this._clipInvert&&(this.drawingContext.moveTo(-2*this.width,-2*this.height),this.drawingContext.lineTo(-2*this.width,2*this.height),this.drawingContext.lineTo(2*this.width,2*this.height),this.drawingContext.lineTo(2*this.width,-2*this.height),this.drawingContext.closePath())}},{key:"endClip",value:function(){this._doFillStrokeClose(),this.drawingContext.clip(),o(h(O.prototype),"endClip",this).call(this),this.drawingContext.fillStyle=this._cachedFillStyle,this.drawingContext.strokeStyle=this._cachedStrokeStyle,this.blendMode(this._cachedBlendMode)}},{key:"image",value:function(k,M,I,F,A,U,D,V,G){k.gifProperties&&k._animateGif(this._pInst);try{s.default.MediaElement&&k instanceof s.default.MediaElement&&k._ensureCanvas();var W=(W=this._tint&&k.canvas?this._getTintedImageCanvas(k):W)||k.canvas||k.elt,J=1;k.width&&0<k.width&&(J=W.width/k.width),this._isErasing&&this.blendMode(this._cachedBlendMode),this.drawingContext.drawImage(W,J*M,J*I,J*F,J*A,U,D,V,G),this._isErasing&&this._pInst.erase()}catch(Q){if(Q.name!=="NS_ERROR_NOT_AVAILABLE")throw Q}}},{key:"_getTintedImageCanvas",value:function(k){if(!k.canvas)return k;k.tintCanvas||(k.tintCanvas=document.createElement("canvas")),k.tintCanvas.width!==k.canvas.width&&(k.tintCanvas.width=k.canvas.width),k.tintCanvas.height!==k.canvas.height&&(k.tintCanvas.height=k.canvas.height);var M=k.tintCanvas.getContext("2d");return M.save(),M.clearRect(0,0,k.canvas.width,k.canvas.height),(this._tint[0]<255||this._tint[1]<255||this._tint[2]<255)&&(M.drawImage(k.canvas,0,0),M.globalCompositeOperation="luminosity",M.drawImage(k.canvas,0,0),M.globalCompositeOperation="color",M.drawImage(k.canvas,0,0),M.globalCompositeOperation="multiply",M.fillStyle="rgb(".concat(this._tint.slice(0,3).join(", "),")"),M.fillRect(0,0,k.canvas.width,k.canvas.height),M.globalCompositeOperation="destination-in"),M.globalAlpha=this._tint[3]/255,M.drawImage(k.canvas,0,0),M.restore(),k.tintCanvas}},{key:"blendMode",value:function(k){if(k===c.SUBTRACT)console.warn("blendMode(SUBTRACT) only works in WEBGL mode.");else{if(k!==c.BLEND&&k!==c.REMOVE&&k!==c.DARKEST&&k!==c.LIGHTEST&&k!==c.DIFFERENCE&&k!==c.MULTIPLY&&k!==c.EXCLUSION&&k!==c.SCREEN&&k!==c.REPLACE&&k!==c.OVERLAY&&k!==c.HARD_LIGHT&&k!==c.SOFT_LIGHT&&k!==c.DODGE&&k!==c.BURN&&k!==c.ADD)throw new Error("Mode ".concat(k," not recognized."));this._cachedBlendMode=k,this.drawingContext.globalCompositeOperation=k}}},{key:"blend",value:function(){for(var k=this.drawingContext.globalCompositeOperation,M=arguments.length,I=new Array(M),F=0;F<M;F++)I[F]=arguments[F];var A=I[I.length-1],U=Array.prototype.slice.call(I,0,I.length-1);this.drawingContext.globalCompositeOperation=A,s.default.prototype.copy.apply(this,U),this.drawingContext.globalCompositeOperation=k}},{key:"_getPixel",value:function(k,M){return k=this.drawingContext.getImageData(k,M,1,1).data,[k[0],k[1],k[2],k[3]]}},{key:"loadPixels",value:function(){var k=this._pixelsState,M=k._pixelDensity,I=this.width*M,M=this.height*M,I=this.drawingContext.getImageData(0,0,I,M);k._setProperty("imageData",I),k._setProperty("pixels",I.data)}},{key:"set",value:function(k,M,I){k=Math.floor(k),M=Math.floor(M);var F=this._pixelsState;if(I instanceof s.default.Image)this.drawingContext.save(),this.drawingContext.setTransform(1,0,0,1,0,0),this.drawingContext.scale(F._pixelDensity,F._pixelDensity),this.drawingContext.clearRect(k,M,I.width,I.height),this.drawingContext.drawImage(I.canvas,k,M),this.drawingContext.restore();else{var A=0,U=0,D=0,V=0,G=4*(M*F._pixelDensity*(this.width*F._pixelDensity)+k*F._pixelDensity);if(F.imageData||F.loadPixels(),typeof I=="number")G<F.pixels.length&&(D=U=A=I,V=255);else if(Array.isArray(I)){if(I.length<4)throw new Error("pixel array must be of the form [R, G, B, A]");G<F.pixels.length&&(A=I[0],U=I[1],D=I[2],V=I[3])}else I instanceof s.default.Color&&G<F.pixels.length&&(A=I.levels[0],U=I.levels[1],D=I.levels[2],V=I.levels[3]);for(var W=0;W<F._pixelDensity;W++)for(var J=0;J<F._pixelDensity;J++)G=4*((M*F._pixelDensity+J)*this.width*F._pixelDensity+(k*F._pixelDensity+W)),F.pixels[G]=A,F.pixels[G+1]=U,F.pixels[G+2]=D,F.pixels[G+3]=V}}},{key:"updatePixels",value:function(k,M,I,F){var A=this._pixelsState,U=A._pixelDensity;k===void 0&&M===void 0&&I===void 0&&F===void 0&&(M=k=0,I=this.width,F=this.height),k*=U,M*=U,I*=U,F*=U,this.gifProperties&&(this.gifProperties.frames[this.gifProperties.displayIndex].image=A.imageData),this.drawingContext.putImageData(A.imageData,k,M,0,0,I,F)}},{key:"_acuteArcToBezier",value:function(k,M){var U=M/2,I=Math.cos(U),V=Math.sin(U),F=1/Math.tan(U),U=k+U,A=Math.cos(U),U=Math.sin(U),D=(4-I)/3,V=V+(I-D)*F;return{ax:Math.cos(k).toFixed(7),ay:Math.sin(k).toFixed(7),bx:(D*A+V*U).toFixed(7),by:(D*U-V*A).toFixed(7),cx:(D*A-V*U).toFixed(7),cy:(D*U+V*A).toFixed(7),dx:Math.cos(k+M).toFixed(7),dy:Math.sin(k+M).toFixed(7)}}},{key:"arc",value:function(k,M,I,F,A,U,D){var V,G=this.drawingContext,W=I/2,J=F/2,Q=[];for(k+=W,M+=J;1e-5<=U-A;)V=Math.min(U-A,c.HALF_PI),Q.push(this._acuteArcToBezier(A,V)),A+=V;return this._doFill&&(this._clipping||G.beginPath(),Q.forEach(function(Y,z){z===0&&G.moveTo(k+Y.ax*W,M+Y.ay*J),G.bezierCurveTo(k+Y.bx*W,M+Y.by*J,k+Y.cx*W,M+Y.cy*J,k+Y.dx*W,M+Y.dy*J)}),D!==c.PIE&&D!=null||G.lineTo(k,M),G.closePath(),this._clipping||G.fill()),this._doStroke&&(this._clipping||G.beginPath(),Q.forEach(function(Y,z){z===0&&G.moveTo(k+Y.ax*W,M+Y.ay*J),G.bezierCurveTo(k+Y.bx*W,M+Y.by*J,k+Y.cx*W,M+Y.cy*J,k+Y.dx*W,M+Y.dy*J)}),D===c.PIE?(G.lineTo(k,M),G.closePath()):D===c.CHORD&&G.closePath(),this._clipping||G.stroke()),this}},{key:"ellipse",value:function(V){var M=this.drawingContext,I=this._doFill,F=this._doStroke,A=parseFloat(V[0]),U=parseFloat(V[1]),D=parseFloat(V[2]),V=parseFloat(V[3]);if(I&&!F){if(this._getFill()===p)return this}else if(!I&&F&&this._getStroke()===p)return this;A+=D/2,U+=V/2,D/=2,V/=2,this._clipping||M.beginPath(),M.ellipse(A,U,D,V,0,0,2*Math.PI),!this._clipping&&I&&M.fill(),!this._clipping&&F&&M.stroke()}},{key:"line",value:function(k,M,I,F){var A=this.drawingContext;return this._doStroke&&this._getStroke()!==p&&(this._clipping||A.beginPath(),A.moveTo(k,M),A.lineTo(I,F),A.stroke()),this}},{key:"point",value:function(k,M){var I,F,A=this.drawingContext;return!this._doStroke||this._getStroke()===p?this:(I=this._getStroke(),F=this._getFill(),this._clipping||this._setFill(I),this._clipping||A.beginPath(),A.arc(k,M,A.lineWidth/2,0,c.TWO_PI,!1),void(this._clipping||(A.fill(),this._setFill(F))))}},{key:"quad",value:function(k,M,I,F,A,U,D,V){var G=this.drawingContext,W=this._doFill,J=this._doStroke;if(W&&!J){if(this._getFill()===p)return this}else if(!W&&J&&this._getStroke()===p)return this;return this._clipping||G.beginPath(),G.moveTo(k,M),G.lineTo(I,F),G.lineTo(A,U),G.lineTo(D,V),G.closePath(),!this._clipping&&W&&G.fill(),!this._clipping&&J&&G.stroke(),this}},{key:"rect",value:function(J){var M,I,F=J[0],A=J[1],U=J[2],D=J[3],V=J[4],G=J[5],W=J[6],J=J[7],Q=this.drawingContext,Y=this._doFill,z=this._doStroke;if(Y&&!z){if(this._getFill()===p)return this}else if(!Y&&z&&this._getStroke()===p)return this;return this._clipping||Q.beginPath(),V===void 0?Q.rect(F,A,U,D):(G===void 0&&(G=V),W===void 0&&(W=G),J===void 0&&(J=W),z=(Y=Math.abs(U))/2,I=(M=Math.abs(D))/2,M<2*(V=Y<2*V?z:V)&&(V=I),M<2*(G=Y<2*G?z:G)&&(G=I),M<2*(W=Y<2*W?z:W)&&(W=I),M<2*(J=Y<2*J?z:J)&&(J=I),this._clipping||Q.beginPath(),Q.moveTo(F+V,A),Q.arcTo(F+U,A,F+U,A+D,G),Q.arcTo(F+U,A+D,F,A+D,W),Q.arcTo(F,A+D,F,A,J),Q.arcTo(F,A,F+U,A,V),Q.closePath()),!this._clipping&&this._doFill&&Q.fill(),!this._clipping&&this._doStroke&&Q.stroke(),this}},{key:"triangle",value:function(W){var M=this.drawingContext,I=this._doFill,F=this._doStroke,A=W[0],U=W[1],D=W[2],V=W[3],G=W[4],W=W[5];if(I&&!F){if(this._getFill()===p)return this}else if(!I&&F&&this._getStroke()===p)return this;this._clipping||M.beginPath(),M.moveTo(A,U),M.lineTo(D,V),M.lineTo(G,W),M.closePath(),!this._clipping&&I&&M.fill(),!this._clipping&&F&&M.stroke()}},{key:"endShape",value:function(k,M,I,F,A,U,D){if(M.length!==0&&(this._doStroke||this._doFill)){var V,G,W,J=k===c.CLOSE,Q=(J&&!U&&M.push(M[0]),M.length);if(I&&D===null){if(3<Q){var Y=[],z=1-this._curveTightness;for(this._clipping||this.drawingContext.beginPath(),this.drawingContext.moveTo(M[1][0],M[1][1]),G=1;G+2<Q;G++)V=M[G],Y[0]=[V[0],V[1]],Y[1]=[V[0]+(z*M[G+1][0]-z*M[G-1][0])/6,V[1]+(z*M[G+1][1]-z*M[G-1][1])/6],Y[2]=[M[G+1][0]+(z*M[G][0]-z*M[G+2][0])/6,M[G+1][1]+(z*M[G][1]-z*M[G+2][1])/6],Y[3]=[M[G+1][0],M[G+1][1]],this.drawingContext.bezierCurveTo(Y[1][0],Y[1][1],Y[2][0],Y[2][1],Y[3][0],Y[3][1]);J&&this.drawingContext.lineTo(M[G+1][0],M[G+1][1]),this._doFillStrokeClose(J)}}else if(F&&D===null){for(this._clipping||this.drawingContext.beginPath(),G=0;G<Q;G++)M[G].isVert?M[G].moveTo?this.drawingContext.moveTo(M[G][0],M[G][1]):this.drawingContext.lineTo(M[G][0],M[G][1]):this.drawingContext.bezierCurveTo(M[G][0],M[G][1],M[G][2],M[G][3],M[G][4],M[G][5]);this._doFillStrokeClose(J)}else if(A&&D===null){for(this._clipping||this.drawingContext.beginPath(),G=0;G<Q;G++)M[G].isVert?M[G].moveTo?this.drawingContext.moveTo(M[G][0],M[G][1]):this.drawingContext.lineTo(M[G][0],M[G][1]):this.drawingContext.quadraticCurveTo(M[G][0],M[G][1],M[G][2],M[G][3]);this._doFillStrokeClose(J)}else if(D===c.POINTS)for(G=0;G<Q;G++)V=M[G],this._doStroke&&this._pInst.stroke(V[6]),this._pInst.point(V[0],V[1]);else if(D===c.LINES)for(G=0;G+1<Q;G+=2)V=M[G],this._doStroke&&this._pInst.stroke(M[G+1][6]),this._pInst.line(V[0],V[1],M[G+1][0],M[G+1][1]);else if(D===c.TRIANGLES)for(G=0;G+2<Q;G+=3)V=M[G],this._clipping||this.drawingContext.beginPath(),this.drawingContext.moveTo(V[0],V[1]),this.drawingContext.lineTo(M[G+1][0],M[G+1][1]),this.drawingContext.lineTo(M[G+2][0],M[G+2][1]),this.drawingContext.closePath(),!this._clipping&&this._doFill&&(this._pInst.fill(M[G+2][5]),this.drawingContext.fill()),!this._clipping&&this._doStroke&&(this._pInst.stroke(M[G+2][6]),this.drawingContext.stroke());else if(D===c.TRIANGLE_STRIP)for(G=0;G+1<Q;G++)V=M[G],this._clipping||this.drawingContext.beginPath(),this.drawingContext.moveTo(M[G+1][0],M[G+1][1]),this.drawingContext.lineTo(V[0],V[1]),!this._clipping&&this._doStroke&&this._pInst.stroke(M[G+1][6]),!this._clipping&&this._doFill&&this._pInst.fill(M[G+1][5]),G+2<Q&&(this.drawingContext.lineTo(M[G+2][0],M[G+2][1]),!this._clipping&&this._doStroke&&this._pInst.stroke(M[G+2][6]),!this._clipping&&this._doFill&&this._pInst.fill(M[G+2][5])),this._doFillStrokeClose(J);else if(D===c.TRIANGLE_FAN){if(2<Q){for(this._clipping||this.drawingContext.beginPath(),G=2;G<Q;G++)V=M[G],this.drawingContext.moveTo(M[0][0],M[0][1]),this.drawingContext.lineTo(M[G-1][0],M[G-1][1]),this.drawingContext.lineTo(V[0],V[1]),this.drawingContext.lineTo(M[0][0],M[0][1]),G<Q-1&&(this._doFill&&V[5]!==M[G+1][5]||this._doStroke&&V[6]!==M[G+1][6])&&(!this._clipping&&this._doFill&&(this._pInst.fill(V[5]),this.drawingContext.fill(),this._pInst.fill(M[G+1][5])),!this._clipping&&this._doStroke&&(this._pInst.stroke(V[6]),this.drawingContext.stroke(),this._pInst.stroke(M[G+1][6])),this.drawingContext.closePath(),this._clipping||this.drawingContext.beginPath());this._doFillStrokeClose(J)}}else if(D===c.QUADS)for(G=0;G+3<Q;G+=4){for(V=M[G],this._clipping||this.drawingContext.beginPath(),this.drawingContext.moveTo(V[0],V[1]),W=1;W<4;W++)this.drawingContext.lineTo(M[G+W][0],M[G+W][1]);this.drawingContext.lineTo(V[0],V[1]),!this._clipping&&this._doFill&&this._pInst.fill(M[G+3][5]),!this._clipping&&this._doStroke&&this._pInst.stroke(M[G+3][6]),this._doFillStrokeClose(J)}else if(D===c.QUAD_STRIP){if(3<Q)for(G=0;G+1<Q;G+=2)V=M[G],this._clipping||this.drawingContext.beginPath(),G+3<Q?(this.drawingContext.moveTo(M[G+2][0],M[G+2][1]),this.drawingContext.lineTo(V[0],V[1]),this.drawingContext.lineTo(M[G+1][0],M[G+1][1]),this.drawingContext.lineTo(M[G+3][0],M[G+3][1]),!this._clipping&&this._doFill&&this._pInst.fill(M[G+3][5]),!this._clipping&&this._doStroke&&this._pInst.stroke(M[G+3][6])):(this.drawingContext.moveTo(V[0],V[1]),this.drawingContext.lineTo(M[G+1][0],M[G+1][1])),this._doFillStrokeClose(J)}else{for(this._clipping||this.drawingContext.beginPath(),this.drawingContext.moveTo(M[0][0],M[0][1]),G=1;G<Q;G++)(V=M[G]).isVert&&(V.moveTo?(J&&this.drawingContext.closePath(),this.drawingContext.moveTo(V[0],V[1])):this.drawingContext.lineTo(V[0],V[1]));this._doFillStrokeClose(J)}U=A=F=I=!1,J&&M.pop()}return this}},{key:"strokeCap",value:function(k){return k!==c.ROUND&&k!==c.SQUARE&&k!==c.PROJECT||(this.drawingContext.lineCap=k),this}},{key:"strokeJoin",value:function(k){return k!==c.ROUND&&k!==c.BEVEL&&k!==c.MITER||(this.drawingContext.lineJoin=k),this}},{key:"strokeWeight",value:function(k){return this.drawingContext.lineWidth=k===void 0||k===0?1e-4:k,this}},{key:"_getFill",value:function(){return this._cachedFillStyle||(this._cachedFillStyle=this.drawingContext.fillStyle),this._cachedFillStyle}},{key:"_setFill",value:function(k){k!==this._cachedFillStyle&&(this.drawingContext.fillStyle=k,this._cachedFillStyle=k)}},{key:"_getStroke",value:function(){return this._cachedStrokeStyle||(this._cachedStrokeStyle=this.drawingContext.strokeStyle),this._cachedStrokeStyle}},{key:"_setStroke",value:function(k){k!==this._cachedStrokeStyle&&(this.drawingContext.strokeStyle=k,this._cachedStrokeStyle=k)}},{key:"bezier",value:function(k,M,I,F,A,U,D,V){return this._pInst.beginShape(),this._pInst.vertex(k,M),this._pInst.bezierVertex(I,F,A,U,D,V),this._pInst.endShape(),this}},{key:"curve",value:function(k,M,I,F,A,U,D,V){return this._pInst.beginShape(),this._pInst.curveVertex(k,M),this._pInst.curveVertex(I,F),this._pInst.curveVertex(A,U),this._pInst.curveVertex(D,V),this._pInst.endShape(),this}},{key:"_doFillStrokeClose",value:function(k){k&&this.drawingContext.closePath(),!this._clipping&&this._doFill&&this.drawingContext.fill(),!this._clipping&&this._doStroke&&this.drawingContext.stroke()}},{key:"applyMatrix",value:function(k,M,I,F,A,U){this.drawingContext.transform(k,M,I,F,A,U)}},{key:"resetMatrix",value:function(){return this.drawingContext.setTransform(1,0,0,1,0,0),this.drawingContext.scale(this._pInst._pixelDensity,this._pInst._pixelDensity),this}},{key:"rotate",value:function(k){this.drawingContext.rotate(k)}},{key:"scale",value:function(k,M){return this.drawingContext.scale(k,M),this}},{key:"translate",value:function(k,M){return k instanceof s.default.Vector&&(M=k.y,k=k.x),this.drawingContext.translate(k,M),this}},{key:"_renderText",value:function(k,M,I,F,A,U){if(!(F<U||A<=F))return k.push(),this._isOpenType()?this._textFont._renderPath(M,I,F,{renderer:this}):(this._doStroke&&this._strokeSet&&this.drawingContext.strokeText(M,I,F),!this._clipping&&this._doFill&&(this._fillSet||this._setFill(c._DEFAULT_TEXT_FILL),this.drawingContext.fillText(M,I,F))),k.pop(),k}},{key:"textWidth",value:function(k){return this._isOpenType()?this._textFont._textWidth(k,this._textSize):this.drawingContext.measureText(k).width}},{key:"_applyTextProperties",value:function(){var k=this._pInst,M=(this._setProperty("_textAscent",null),this._setProperty("_textDescent",null),M=this._textFont,this._isOpenType()&&(M=this._textFont.font.familyName,this._setProperty("_textStyle",this._textFont.font.styleName)),M||"sans-serif");return/\s/.exec(M)&&(M='"'.concat(M,'"')),this.drawingContext.font="".concat(this._textStyle||"normal"," ").concat(this._textSize||12,"px ").concat(M),this.drawingContext.textAlign=this._textAlign,this._textBaseline===c.CENTER?this.drawingContext.textBaseline=c._CTX_MIDDLE:this.drawingContext.textBaseline=this._textBaseline,k}},{key:"push",value:function(){return this.drawingContext.save(),o(h(O.prototype),"push",this).call(this)}},{key:"pop",value:function(k){this.drawingContext.restore(),this._cachedFillStyle=this.drawingContext.fillStyle,this._cachedStrokeStyle=this.drawingContext.strokeStyle,o(h(O.prototype),"pop",this).call(this,k)}}])&&y(b.prototype,_),O}(s.default.Renderer),m=(l.prototype.text=function(_,b,T,I,k){I!==void 0&&this.drawingContext.textBaseline===c.BASELINE&&(M=!0,this.drawingContext.textBaseline=c.TOP);var M,I=s.default.Renderer.prototype.text.apply(this,arguments);return M&&(this.drawingContext.textBaseline=c.BASELINE),I},s.default.Renderer2D=l,s.default.Renderer2D);x.default=m},{"./constants":269,"./main":280,"./p5.Renderer":283,"core-js/modules/es.array.concat":152,"core-js/modules/es.array.fill":155,"core-js/modules/es.array.for-each":160,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.join":165,"core-js/modules/es.array.slice":168,"core-js/modules/es.function.name":173,"core-js/modules/es.number.to-fixed":180,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.get-prototype-of":185,"core-js/modules/es.object.to-string":187,"core-js/modules/es.reflect.construct":189,"core-js/modules/es.reflect.get":190,"core-js/modules/es.regexp.exec":192,"core-js/modules/es.regexp.to-string":193,"core-js/modules/es.string.iterator":197,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.iterator":243}],285:[function(t,j,x){t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator");var d=(t=t("./main"))&&t.__esModule?t:{default:t};d.default.prototype._promisePreloads=[];function f(){return{}}var s=!(d.default.prototype.registerPromisePreload=function(c){d.default.prototype._promisePreloads.push(c)});d.default.prototype._setupPromisePreloads=function(){var c=!0,g=!1,y=void 0;try{for(var o,a=this._promisePreloads[Symbol.iterator]();!(c=(o=a.next()).done);c=!0){var i=o.value,h=this,p=i.method,l=i.addCallbacks,m=i.legacyPreloadSetup,_=i.target||this,b=_[p].bind(_);if(_===d.default.prototype){if(s)continue;h=null,b=_[p]}_[p]=this._wrapPromisePreload(h,b,l),m&&(_[m.method]=this._legacyPreloadGenerator(h,m,_[p]))}}catch(T){g=!0,y=T}finally{try{c||a.return==null||a.return()}finally{if(g)throw y}}s=!0},d.default.prototype._wrapPromisePreload=function(c,g,y){var o=function(){for(var a=this,i=(this._incrementPreload(),null),h=null,p=arguments.length,l=new Array(p),m=0;m<p;m++)l[m]=arguments[m];if(y)for(var _=l.length-1;0<=_&&!h&&typeof l[_]=="function";_--)h=i,i=l.pop();var b=Promise.resolve(g.apply(this,l));return i&&b.then(i),h&&b.catch(h),b.then(function(){return a._decrementPreload()}),b};return o=c?o.bind(c):o},d.default.prototype._legacyPreloadGenerator=function(c,a,y){var o=a.createBaseObject||f,a=function(){var i=this;this._incrementPreload();for(var h=arguments.length,p=new Array(h),l=0;l<h;l++)p[l]=arguments[l];var m=o.apply(this,p);return y.apply(this,p).then(function(_){Object.assign(m,_),i._decrementPreload()}),m};return a=c?a.bind(c):a}},{"./main":280,"core-js/modules/es.array.iterator":164,"core-js/modules/es.object.assign":181,"core-js/modules/es.object.to-string":187,"core-js/modules/es.promise":188,"core-js/modules/es.string.iterator":197,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/web.dom-collections.iterator":243}],286:[function(t,j,x){function d(a){return(d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i})(a)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(x,"__esModule",{value:!0}),x.default=void 0;var f=(o=t("./main"))&&o.__esModule?o:{default:o},s=function(a){if(a&&a.__esModule)return a;if(a===null||g(a)!=="object"&&typeof a!="function")return{default:a};var i=c();if(i&&i.has(a))return i.get(a);var h,p={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(h in a){var m;Object.prototype.hasOwnProperty.call(a,h)&&((m=l?Object.getOwnPropertyDescriptor(a,h):null)&&(m.get||m.set)?Object.defineProperty(p,h,m):p[h]=a[h])}return p.default=a,i&&i.set(a,p),p}(t("./constants"));function c(){var a;return typeof WeakMap!="function"?null:(a=new WeakMap,c=function(){return a},a)}function g(a){return(g=typeof Symbol=="function"&&d(Symbol.iterator)==="symbol"?function(i){return d(i)}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":d(i)})(a)}t("./p5.Graphics"),t("./p5.Renderer2D"),t("../webgl/p5.RendererGL");var y="defaultCanvas0",o=(f.default.prototype.createCanvas=function(a,i,h,p){var l,m,_;if(f.default._validateParameters("createCanvas",arguments),arguments[2]instanceof HTMLCanvasElement?(h=s.P2D,p=arguments[2]):l=h||s.P2D,p)(_=document.getElementById(y))&&_.parentNode.removeChild(_),_=p,this._defaultGraphicsCreated=!1;else{if(l===s.WEBGL)(_=document.getElementById(y))&&(_.parentNode.removeChild(_),m=this._renderer,this._elements=this._elements.filter(function(T){return T!==m})),(_=document.createElement("canvas")).id=y,_.classList.add("p5Canvas");else if(this._defaultGraphicsCreated)_=this.canvas;else{_=p||document.createElement("canvas");for(var b=0;document.getElementById("defaultCanvas".concat(b));)b++;y="defaultCanvas".concat(b),_.id=y,_.classList.add("p5Canvas")}this._setupDone||(_.dataset.hidden=!0,_.style.visibility="hidden"),(this._userNode||(document.getElementsByTagName("main").length===0&&(h=document.createElement("main"),document.body.appendChild(h)),document.getElementsByTagName("main")[0])).appendChild(_)}return l===s.WEBGL?(this._setProperty("_renderer",new f.default.RendererGL(_,this,!0)),this._elements.push(this._renderer),a=(p=this._renderer._adjustDimensions(a,i)).adjustedWidth,i=p.adjustedHeight):this._defaultGraphicsCreated||(this._setProperty("_renderer",new f.default.Renderer2D(_,this,!0)),this._defaultGraphicsCreated=!0,this._elements.push(this._renderer)),this._renderer.resize(a,i),this._renderer._applyDefaults(),this._renderer},f.default.prototype.resizeCanvas=function(a,i,h){if(f.default._validateParameters("resizeCanvas",arguments),this._renderer){var p,l,m,_={};for(p in this.drawingContext){var b=this.drawingContext[p];g(b)!=="object"&&typeof b!="function"&&(_[p]=b)}for(m in this._renderer instanceof f.default.RendererGL&&(a=(l=this._renderer._adjustDimensions(a,i)).adjustedWidth,i=l.adjustedHeight),this.width=a,this.height=i,this._renderer.resize(a,i),_)try{this.drawingContext[m]=_[m]}catch{}h||this.redraw()}this._addAccsOutput()&&this._updateAccsOutput()},f.default.prototype.noCanvas=function(){this.canvas&&this.canvas.parentNode.removeChild(this.canvas)},f.default.prototype.createGraphics=function(a,i){for(var h=arguments.length,p=new Array(2<h?h-2:0),l=2;l<h;l++)p[l-2]=arguments[l];return p[0]instanceof HTMLCanvasElement&&(p[1]=p[0],p[0]=s.P2D),f.default._validateParameters("createGraphics",arguments),new f.default.Graphics(a,i,p[0],this,p[1])},f.default.prototype.createFramebuffer=function(a){return new f.default.Framebuffer(this,a)},f.default.prototype.clearDepth=function(a){this._assert3d("clearDepth"),this._renderer.clearDepth(a)},f.default.prototype.blendMode=function(a){f.default._validateParameters("blendMode",arguments),a===s.NORMAL&&(console.warn("NORMAL has been deprecated for use in blendMode. defaulting to BLEND instead."),a=s.BLEND),this._renderer.blendMode(a)},f.default);x.default=o},{"../webgl/p5.RendererGL":337,"./constants":269,"./main":280,"./p5.Graphics":282,"./p5.Renderer2D":284,"core-js/modules/es.array.filter":156,"core-js/modules/es.array.iterator":164,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.to-string":187,"core-js/modules/es.string.iterator":197,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.iterator":243}],287:[function(t,j,x){function d(i){return(d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(h){return typeof h}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(i)}function f(i){return(f=typeof Symbol=="function"&&d(Symbol.iterator)==="symbol"?function(h){return d(h)}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":d(h)})(i)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.slice"),Object.defineProperty(x,"__esModule",{value:!0}),x.default=void 0;var s=o(t("../main")),c=function(i){if(i&&i.__esModule)return i;if(i===null||f(i)!=="object"&&typeof i!="function")return{default:i};var h=y();if(h&&h.has(i))return h.get(i);var p,l={},m=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(p in i){var _;Object.prototype.hasOwnProperty.call(i,p)&&((_=m?Object.getOwnPropertyDescriptor(i,p):null)&&(_.get||_.set)?Object.defineProperty(l,p,_):l[p]=i[p])}return l.default=i,h&&h.set(i,l),l}(t("../constants")),g=o(t("../helpers"));function y(){var i;return typeof WeakMap!="function"?null:(i=new WeakMap,y=function(){return i},i)}function o(i){return i&&i.__esModule?i:{default:i}}function a(i){return function(h){if(Array.isArray(h)){for(var p=0,l=new Array(h.length);p<h.length;p++)l[p]=h[p];return l}}(i)||function(h){if(Symbol.iterator in Object(h)||Object.prototype.toString.call(h)==="[object Arguments]")return Array.from(h)}(i)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}t("../friendly_errors/fes_core"),t("../friendly_errors/file_errors"),t("../friendly_errors/validate_params"),s.default.prototype._normalizeArcAngles=function(i,h,p,l,m){var _;return i-=c.TWO_PI*Math.floor(i/c.TWO_PI),h-=c.TWO_PI*Math.floor(h/c.TWO_PI),_=Math.min(Math.abs(i-h),c.TWO_PI-Math.abs(i-h)),m&&(i=i<=c.HALF_PI?Math.atan(p/l*Math.tan(i)):i>c.HALF_PI&&i<=3*c.HALF_PI?Math.atan(p/l*Math.tan(i))+c.PI:Math.atan(p/l*Math.tan(i))+c.TWO_PI,h=h<=c.HALF_PI?Math.atan(p/l*Math.tan(h)):h>c.HALF_PI&&h<=3*c.HALF_PI?Math.atan(p/l*Math.tan(h))+c.PI:Math.atan(p/l*Math.tan(h))+c.TWO_PI),h<i&&(h+=c.TWO_PI),{start:i,stop:h,correspondToSamePoint:_<1e-5}},s.default.prototype.arc=function(i,h,p,l,m,_,b,T){return s.default._validateParameters("arc",arguments),(this._renderer._doStroke||this._renderer._doFill)&&m!==_&&(m=this._toRadians(m),_=this._toRadians(_),p=Math.abs(p),l=Math.abs(l),i=g.default.modeAdjust(i,h,p,l,this._renderer._ellipseMode),(h=this._normalizeArcAngles(m,_,i.w,i.h,!0)).correspondToSamePoint?this._renderer.ellipse([i.x,i.y,i.w,i.h,T]):(this._renderer.arc(i.x,i.y,i.w,i.h,h.start,h.stop,b,T),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("arc",[i.x,i.y,i.w,i.h,h.start,h.stop,b]))),this},s.default.prototype.ellipse=function(i,h,p,l,m){return s.default._validateParameters("ellipse",arguments),this._renderEllipse.apply(this,arguments)},s.default.prototype.circle=function(){for(var i=arguments.length,h=new Array(i),p=0;p<i;p++)h[p]=arguments[p];s.default._validateParameters("circle",h);var l=h.slice(0,2);return l.push(h[2],h[2]),this._renderEllipse.apply(this,a(l))},s.default.prototype._renderEllipse=function(i,h,p,l,m){return(this._renderer._doStroke||this._renderer._doFill)&&(p<0&&(p=Math.abs(p)),l===void 0?l=p:l<0&&(l=Math.abs(l)),i=g.default.modeAdjust(i,h,p,l,this._renderer._ellipseMode),this._renderer.ellipse([i.x,i.y,i.w,i.h,m]),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("ellipse",[i.x,i.y,i.w,i.h])),this},s.default.prototype.line=function(){for(var i,h=arguments.length,p=new Array(h),l=0;l<h;l++)p[l]=arguments[l];return s.default._validateParameters("line",p),this._renderer._doStroke&&(i=this._renderer).line.apply(i,p),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("line",p),this},s.default.prototype.point=function(){for(var i,h=arguments.length,p=new Array(h),l=0;l<h;l++)p[l]=arguments[l];return s.default._validateParameters("point",p),this._renderer._doStroke&&(p.length===1&&p[0]instanceof s.default.Vector?this._renderer.point.call(this._renderer,p[0].x,p[0].y,p[0].z):((i=this._renderer).point.apply(i,p),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("point",p))),this},s.default.prototype.quad=function(){for(var i,h=arguments.length,p=new Array(h),l=0;l<h;l++)p[l]=arguments[l];return s.default._validateParameters("quad",p),(this._renderer._doStroke||this._renderer._doFill)&&(this._renderer.isP3D&&p.length<12?this._renderer.quad.call(this._renderer,p[0],p[1],0,p[2],p[3],0,p[4],p[5],0,p[6],p[7],0,p[8],p[9]):((i=this._renderer).quad.apply(i,p),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("quadrilateral",p))),this},s.default.prototype.rect=function(){for(var i=arguments.length,h=new Array(i),p=0;p<i;p++)h[p]=arguments[p];return s.default._validateParameters("rect",h),this._renderRect.apply(this,h)},s.default.prototype.square=function(i,h,p,l,m,_,b){return s.default._validateParameters("square",arguments),this._renderRect.call(this,i,h,p,p,l,m,_,b)},s.default.prototype._renderRect=function(){if(this._renderer._doStroke||this._renderer._doFill){arguments.length===3&&(arguments[3]=arguments[2]);for(var i=g.default.modeAdjust(arguments[0],arguments[1],arguments[2],arguments[3],this._renderer._rectMode),h=[i.x,i.y,i.w,i.h],p=4;p<arguments.length;p++)h[p]=arguments[p];this._renderer.rect(h),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("rectangle",[i.x,i.y,i.w,i.h])}return this},s.default.prototype.triangle=function(){for(var i=arguments.length,h=new Array(i),p=0;p<i;p++)h[p]=arguments[p];return s.default._validateParameters("triangle",h),(this._renderer._doStroke||this._renderer._doFill)&&this._renderer.triangle(h),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("triangle",h),this},t=s.default,x.default=t},{"../constants":269,"../friendly_errors/fes_core":271,"../friendly_errors/file_errors":272,"../friendly_errors/validate_params":275,"../helpers":276,"../main":280,"core-js/modules/es.array.from":161,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.slice":168,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.to-string":187,"core-js/modules/es.regexp.to-string":193,"core-js/modules/es.string.iterator":197,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.iterator":243}],288:[function(t,j,x){function d(o){return(d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(o)}function f(o){return(f=typeof Symbol=="function"&&d(Symbol.iterator)==="symbol"?function(a){return d(a)}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":d(a)})(o)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(x,"__esModule",{value:!0}),x.default=void 0;var s=(y=t("../main"))&&y.__esModule?y:{default:y},c=function(o){if(o&&o.__esModule)return o;if(o===null||f(o)!=="object"&&typeof o!="function")return{default:o};var a=g();if(a&&a.has(o))return a.get(o);var i,h={},p=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(i in o){var l;Object.prototype.hasOwnProperty.call(o,i)&&((l=p?Object.getOwnPropertyDescriptor(o,i):null)&&(l.get||l.set)?Object.defineProperty(h,i,l):h[i]=o[i])}return h.default=o,a&&a.set(o,h),h}(t("../constants"));function g(){var o;return typeof WeakMap!="function"?null:(o=new WeakMap,g=function(){return o},o)}s.default.prototype.ellipseMode=function(o){return s.default._validateParameters("ellipseMode",arguments),o!==c.CORNER&&o!==c.CORNERS&&o!==c.RADIUS&&o!==c.CENTER||(this._renderer._ellipseMode=o),this},s.default.prototype.noSmooth=function(){return this._renderer.isP3D?this.setAttributes("antialias",!1):"imageSmoothingEnabled"in this.drawingContext&&(this.drawingContext.imageSmoothingEnabled=!1),this},s.default.prototype.rectMode=function(o){return s.default._validateParameters("rectMode",arguments),o!==c.CORNER&&o!==c.CORNERS&&o!==c.RADIUS&&o!==c.CENTER||(this._renderer._rectMode=o),this},s.default.prototype.smooth=function(){return this.setAttributes("antialias",!0),this._renderer.isP3D||"imageSmoothingEnabled"in this.drawingContext&&(this.drawingContext.imageSmoothingEnabled=!0),this},s.default.prototype.strokeCap=function(o){return s.default._validateParameters("strokeCap",arguments),o!==c.ROUND&&o!==c.SQUARE&&o!==c.PROJECT||this._renderer.strokeCap(o),this},s.default.prototype.strokeJoin=function(o){return s.default._validateParameters("strokeJoin",arguments),o!==c.ROUND&&o!==c.BEVEL&&o!==c.MITER||this._renderer.strokeJoin(o),this},s.default.prototype.strokeWeight=function(o){return s.default._validateParameters("strokeWeight",arguments),this._renderer.strokeWeight(o),this};var y=s.default;x.default=y},{"../constants":269,"../main":280,"core-js/modules/es.array.iterator":164,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.to-string":187,"core-js/modules/es.string.iterator":197,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.iterator":243}],289:[function(t,j,x){Object.defineProperty(x,"__esModule",{value:!0}),x.default=void 0;var d=(f=t("../main"))&&f.__esModule?f:{default:f};t("../friendly_errors/fes_core"),t("../friendly_errors/file_errors"),t("../friendly_errors/validate_params"),d.default.prototype.bezier=function(){for(var s,c=arguments.length,g=new Array(c),y=0;y<c;y++)g[y]=arguments[y];return d.default._validateParameters("bezier",g),(this._renderer._doStroke||this._renderer._doFill)&&(s=this._renderer).bezier.apply(s,g),this},d.default.prototype.bezierDetail=function(s){return d.default._validateParameters("bezierDetail",arguments),this._bezierDetail=s,this},d.default.prototype.bezierPoint=function(s,c,g,y,o){d.default._validateParameters("bezierPoint",arguments);var a=1-o;return Math.pow(a,3)*s+3*Math.pow(a,2)*o*c+3*a*Math.pow(o,2)*g+Math.pow(o,3)*y},d.default.prototype.bezierTangent=function(s,c,g,y,o){d.default._validateParameters("bezierTangent",arguments);var a=1-o;return 3*y*Math.pow(o,2)-3*g*Math.pow(o,2)+6*g*a*o-6*c*a*o+3*c*Math.pow(a,2)-3*s*Math.pow(a,2)},d.default.prototype.curve=function(){for(var s,c=arguments.length,g=new Array(c),y=0;y<c;y++)g[y]=arguments[y];return d.default._validateParameters("curve",g),this._renderer._doStroke&&(s=this._renderer).curve.apply(s,g),this},d.default.prototype.curveDetail=function(s){return d.default._validateParameters("curveDetail",arguments),this._curveDetail=s<3?3:s,this},d.default.prototype.curveTightness=function(s){return d.default._validateParameters("curveTightness",arguments),this._renderer._curveTightness=s,this},d.default.prototype.curvePoint=function(s,c,g,y,o){d.default._validateParameters("curvePoint",arguments);var a=this._renderer._curveTightness,i=o*o*o,h=o*o;return s*((a-1)/2*i+(1-a)*h+(a-1)/2*o)+c*((a+3)/2*i+(-5-a)/2*h+1)+g*((-3-a)/2*i+(a+2)*h+(1-a)/2*o)+y*((1-a)/2*i+(a-1)/2*h)},d.default.prototype.curveTangent=function(s,c,g,y,h){d.default._validateParameters("curveTangent",arguments);var a=this._renderer._curveTightness,i=h*h*3,h=2*h;return s*((a-1)/2*i+(1-a)*h+(a-1)/2)+c*((a+3)/2*i+(-5-a)/2*h)+g*((-3-a)/2*i+(a+2)*h+(1-a)/2)+y*((1-a)/2*i+(a-1)/2*h)};var f=d.default;x.default=f},{"../friendly_errors/fes_core":271,"../friendly_errors/file_errors":272,"../friendly_errors/validate_params":275,"../main":280}],290:[function(t,j,x){function d(b){return(d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(T){return typeof T}:function(T){return T&&typeof Symbol=="function"&&T.constructor===Symbol&&T!==Symbol.prototype?"symbol":typeof T})(b)}function f(b){return(f=typeof Symbol=="function"&&d(Symbol.iterator)==="symbol"?function(T){return d(T)}:function(T){return T&&typeof Symbol=="function"&&T.constructor===Symbol&&T!==Symbol.prototype?"symbol":d(T)})(b)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.slice"),Object.defineProperty(x,"__esModule",{value:!0}),x.default=void 0;var s=(_=t("../main"))&&_.__esModule?_:{default:_},c=function(b){if(b&&b.__esModule)return b;if(b===null||f(b)!=="object"&&typeof b!="function")return{default:b};var T=g();if(T&&T.has(b))return T.get(b);var O,k={},M=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(O in b){var I;Object.prototype.hasOwnProperty.call(b,O)&&((I=M?Object.getOwnPropertyDescriptor(b,O):null)&&(I.get||I.set)?Object.defineProperty(k,O,I):k[O]=b[O])}return k.default=b,T&&T.set(b,k),k}(t("../constants"));function g(){var b;return typeof WeakMap!="function"?null:(b=new WeakMap,g=function(){return b},b)}var y=null,o=[],a=[],i=!1,h=!1,p=!1,l=!1,m=!0,_=(s.default.prototype.beginContour=function(){return this._renderer.isP3D?this._renderer.beginContour():(a=[],l=!0),this},s.default.prototype.beginShape=function(b){var T;return s.default._validateParameters("beginShape",arguments),this._renderer.isP3D?(T=this._renderer).beginShape.apply(T,arguments):(y=b===c.POINTS||b===c.LINES||b===c.TRIANGLES||b===c.TRIANGLE_FAN||b===c.TRIANGLE_STRIP||b===c.QUADS||b===c.QUAD_STRIP?b:null,o=[],a=[]),this},s.default.prototype.bezierVertex=function(){for(var b,T=arguments.length,O=new Array(T),k=0;k<T;k++)O[k]=arguments[k];if(s.default._validateParameters("bezierVertex",O),this._renderer.isP3D)(b=this._renderer).bezierVertex.apply(b,O);else if(o.length===0)s.default._friendlyError("vertex() must be used once before calling bezierVertex()","bezierVertex");else{i=!0;for(var M=[],I=0;I<O.length;I++)M[I]=O[I];M.isVert=!1,(l?a:o).push(M)}return this},s.default.prototype.curveVertex=function(){for(var b,T=arguments.length,O=new Array(T),k=0;k<T;k++)O[k]=arguments[k];return s.default._validateParameters("curveVertex",O),this._renderer.isP3D?(b=this._renderer).curveVertex.apply(b,O):(h=!0,this.vertex(O[0],O[1])),this},s.default.prototype.endContour=function(){if(!this._renderer.isP3D){var b=a[0].slice();b.isVert=a[0].isVert,b.moveTo=!1,a.push(b),m&&(o.push(o[0]),m=!1);for(var T=0;T<a.length;T++)o.push(a[T])}return this},s.default.prototype.endShape=function(b){var T=1<arguments.length&&arguments[1]!==void 0?arguments[1]:1;if(s.default._validateParameters("endShape",arguments),T<1&&(console.log(" p5.js says: You can not have less than one instance"),T=1),this._renderer.isP3D)this._renderer.endShape(b,h,i,p,l,y,T);else{if(T!==1&&console.log(" p5.js says: Instancing is only supported in WebGL2 mode"),o.length===0)return this;if(!this._renderer._doStroke&&!this._renderer._doFill)return this;T=b===c.CLOSE,T&&!l&&o.push(o[0]),this._renderer.endShape(b,o,h,i,p,l,y),m=!(l=p=i=h=!1),T&&o.pop()}return this},s.default.prototype.quadraticVertex=function(){for(var b,T=arguments.length,O=new Array(T),k=0;k<T;k++)O[k]=arguments[k];if(s.default._validateParameters("quadraticVertex",O),this._renderer.isP3D)(b=this._renderer).quadraticVertex.apply(b,O);else{if(this._contourInited)return(b={}).x=O[0],b.y=O[1],b.x3=O[2],b.y3=O[3],b.type=c.QUADRATIC,this._contourVertices.push(b),this;if(0<o.length){p=!0;for(var M=[],I=0;I<O.length;I++)M[I]=O[I];M.isVert=!1,(l?a:o).push(M)}else s.default._friendlyError("vertex() must be used once before calling quadraticVertex()","quadraticVertex")}return this},s.default.prototype.vertex=function(b,T,O,k,M){var I;return this._renderer.isP3D?(I=this._renderer).vertex.apply(I,arguments):((I=[]).isVert=!0,I[0]=b,I[1]=T,I[2]=0,I[3]=0,I[4]=0,I[5]=this._renderer._getFill(),I[6]=this._renderer._getStroke(),O&&(I.moveTo=O),(l?(a.length===0&&(I.moveTo=!0),a):o).push(I)),this},s.default.prototype.normal=function(b,T,O){var k;return this._assert3d("normal"),s.default._validateParameters("normal",arguments),(k=this._renderer).normal.apply(k,arguments),this},s.default);x.default=_},{"../constants":269,"../main":280,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.slice":168,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.to-string":187,"core-js/modules/es.string.iterator":197,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.iterator":243}],291:[function(t,j,x){},{}],292:[function(t,j,x){t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.assign"),Object.defineProperty(x,"__esModule",{value:!0}),x.default=void 0,t=(t=t("./main"))&&t.__esModule?t:{default:t},t.default.prototype.noLoop=function(){this._loop=!1},t.default.prototype.loop=function(){this._loop||(this._loop=!0,this._setupDone&&this._draw())},t.default.prototype.isLooping=function(){return this._loop},t.default.prototype.push=function(){this._styles.push({props:{_colorMode:this._colorMode},renderer:this._renderer.push()})},t.default.prototype.pop=function(){var d=this._styles.pop();d?(this._renderer.pop(d.renderer),Object.assign(this,d.props)):console.warn("pop() was called without matching push()")},t.default.prototype.redraw=function(d){if(!this._inUserDraw&&this._setupDone){var f=parseInt(d),s=((isNaN(f)||f<1)&&(f=1),this._isGlobal?window:this);if(typeof s.draw=="function"){s.setup===void 0&&s.scale(s._pixelDensity,s._pixelDensity);for(var c=0;c<f;c++){s.resetMatrix(),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._updateAccsOutput(),s._renderer.isP3D&&s._renderer._update(),s._setProperty("frameCount",s.frameCount+1),this.callRegisteredHooksFor("pre"),this._inUserDraw=!0;try{s.draw()}finally{this._inUserDraw=!1}this.callRegisteredHooksFor("post")}}}},t=t.default,x.default=t},{"./main":280,"core-js/modules/es.object.assign":181}],293:[function(t,j,x){t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-prototype-of"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-prototype-of"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),Object.defineProperty(x,"__esModule",{value:!0}),x.default=void 0;var d=(t=t("./main"))&&t.__esModule?t:{default:t};function f(s){return function(c){if(Array.isArray(c)){for(var g=0,y=new Array(c.length);g<c.length;g++)y[g]=c[g];return y}}(s)||function(c){if(Symbol.iterator in Object(c)||Object.prototype.toString.call(c)==="[object Arguments]")return Array.from(c)}(s)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}d.default.prototype.applyMatrix=function(){var s=(arguments.length<=0?void 0:arguments[0])instanceof Object.getPrototypeOf(Uint8Array);return Array.isArray(arguments.length<=0?void 0:arguments[0])||s?(s=this._renderer).applyMatrix.apply(s,f(arguments.length<=0?void 0:arguments[0])):(s=this._renderer).applyMatrix.apply(s,arguments),this},d.default.prototype.resetMatrix=function(){return this._renderer.resetMatrix(),this},d.default.prototype.rotate=function(s,c){return d.default._validateParameters("rotate",arguments),this._renderer.rotate(this._toRadians(s),c),this},d.default.prototype.rotateX=function(s){return this._assert3d("rotateX"),d.default._validateParameters("rotateX",arguments),this._renderer.rotateX(this._toRadians(s)),this},d.default.prototype.rotateY=function(s){return this._assert3d("rotateY"),d.default._validateParameters("rotateY",arguments),this._renderer.rotateY(this._toRadians(s)),this},d.default.prototype.rotateZ=function(s){return this._assert3d("rotateZ"),d.default._validateParameters("rotateZ",arguments),this._renderer.rotateZ(this._toRadians(s)),this},d.default.prototype.scale=function(s,c,g){var y;return d.default._validateParameters("scale",arguments),s instanceof d.default.Vector?(s=(y=s).x,c=y.y,g=y.z):Array.isArray(s)&&(s=(y=s)[0],c=y[1],g=y[2]||1),isNaN(c)?c=g=s:isNaN(g)&&(g=1),this._renderer.scale(s,c,g),this},d.default.prototype.shearX=function(s){return d.default._validateParameters("shearX",arguments),s=this._toRadians(s),this._renderer.applyMatrix(1,0,Math.tan(s),1,0,0),this},d.default.prototype.shearY=function(s){return d.default._validateParameters("shearY",arguments),s=this._toRadians(s),this._renderer.applyMatrix(1,Math.tan(s),0,1,0,0),this},d.default.prototype.translate=function(s,c,g){return d.default._validateParameters("translate",arguments),this._renderer.isP3D?this._renderer.translate(s,c,g):this._renderer.translate(s,c),this},t=d.default,x.default=t},{"./main":280,"core-js/modules/es.array.from":161,"core-js/modules/es.array.iterator":164,"core-js/modules/es.object.get-prototype-of":185,"core-js/modules/es.object.to-string":187,"core-js/modules/es.regexp.to-string":193,"core-js/modules/es.string.iterator":197,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.typed-array.copy-within":210,"core-js/modules/es.typed-array.every":211,"core-js/modules/es.typed-array.fill":212,"core-js/modules/es.typed-array.filter":213,"core-js/modules/es.typed-array.find":215,"core-js/modules/es.typed-array.find-index":214,"core-js/modules/es.typed-array.for-each":218,"core-js/modules/es.typed-array.includes":219,"core-js/modules/es.typed-array.index-of":220,"core-js/modules/es.typed-array.iterator":223,"core-js/modules/es.typed-array.join":224,"core-js/modules/es.typed-array.last-index-of":225,"core-js/modules/es.typed-array.map":226,"core-js/modules/es.typed-array.reduce":228,"core-js/modules/es.typed-array.reduce-right":227,"core-js/modules/es.typed-array.reverse":229,"core-js/modules/es.typed-array.set":230,"core-js/modules/es.typed-array.slice":231,"core-js/modules/es.typed-array.some":232,"core-js/modules/es.typed-array.sort":233,"core-js/modules/es.typed-array.subarray":234,"core-js/modules/es.typed-array.to-locale-string":235,"core-js/modules/es.typed-array.to-string":236,"core-js/modules/es.typed-array.uint8-array":239,"core-js/modules/web.dom-collections.iterator":243}],294:[function(t,j,x){function d(g){return(d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(y){return typeof y}:function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y})(g)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.ends-with"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.ends-with"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator");var f=(t=t("../core/main"))&&t.__esModule?t:{default:t};function s(g){return function(y){if(Array.isArray(y)){for(var o=0,a=new Array(y.length);o<y.length;o++)a[o]=y[o];return a}}(g)||function(y){if(Symbol.iterator in Object(y)||Object.prototype.toString.call(y)==="[object Arguments]")return Array.from(y)}(g)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function c(g){return(c=typeof Symbol=="function"&&d(Symbol.iterator)==="symbol"?function(y){return d(y)}:function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":d(y)})(g)}f.default.prototype.storeItem=function(g,y){typeof g!="string"&&console.log("The argument that you passed to storeItem() - ".concat(g," is not a string.")),g.endsWith("p5TypeID")&&console.log("The argument that you passed to storeItem() - ".concat(g," must not end with 'p5TypeID'.")),y===void 0&&console.log("You cannot store undefined variables using storeItem().");var o=c(y);switch(o){case"number":case"boolean":y=y.toString();break;case"object":y instanceof f.default.Color?o="p5.Color":y instanceof f.default.Vector&&(o="p5.Vector",y=[y.x,y.y,y.z]),y=JSON.stringify(y)}localStorage.setItem(g,y),g="".concat(g,"p5TypeID"),localStorage.setItem(g,o)},f.default.prototype.getItem=function(g){var y=localStorage.getItem(g),o=localStorage.getItem("".concat(g,"p5TypeID"));if(o===void 0)console.log("Unable to determine type of item stored under ".concat(g,"in local storage. Did you save the item with something other than setItem()?"));else if(y!==null)switch(o){case"number":y=parseFloat(y);break;case"boolean":y=y==="true";break;case"object":y=JSON.parse(y);break;case"p5.Color":y=JSON.parse(y),y=this.color.apply(this,s(y.levels));break;case"p5.Vector":y=JSON.parse(y),y=this.createVector.apply(this,s(y))}return y},f.default.prototype.clearStorage=function(){var g=this;Object.keys(localStorage).forEach(function(y){y.endsWith("p5TypeID")&&g.removeItem(y.replace("p5TypeID",""))})},f.default.prototype.removeItem=function(g){typeof g!="string"&&console.log("The argument that you passed to removeItem() - ".concat(g," is not a string.")),localStorage.removeItem(g),localStorage.removeItem("".concat(g,"p5TypeID"))}},{"../core/main":280,"core-js/modules/es.array.for-each":160,"core-js/modules/es.array.from":161,"core-js/modules/es.array.iterator":164,"core-js/modules/es.object.keys":186,"core-js/modules/es.object.to-string":187,"core-js/modules/es.regexp.exec":192,"core-js/modules/es.regexp.to-string":193,"core-js/modules/es.string.ends-with":195,"core-js/modules/es.string.iterator":197,"core-js/modules/es.string.replace":201,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/web.dom-collections.for-each":242,"core-js/modules/web.dom-collections.iterator":243}],295:[function(t,j,x){function d(p){return(d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(p)}function f(p){return(f=typeof Symbol=="function"&&d(Symbol.iterator)==="symbol"?function(l){return d(l)}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":d(l)})(p)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-prototype-of"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.reflect.construct"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.object.keys"),Object.defineProperty(x,"__esModule",{value:!0}),x.default=void 0;var s=(t=t("../core/main"))&&t.__esModule?t:{default:t};function c(p,l){if(typeof l!="function"&&l!==null)throw new TypeError("Super expression must either be null or a function");p.prototype=Object.create(l&&l.prototype,{constructor:{value:p,writable:!0,configurable:!0}}),l&&g(p,l)}function g(p,l){return(g=Object.setPrototypeOf||function(m,_){return m.__proto__=_,m})(p,l)}function y(p){return function(){var l,m=o(p),m=(l=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(l=o(this).constructor,Reflect.construct(m,arguments,l)):m.apply(this,arguments),this);if(!l||f(l)!=="object"&&typeof l!="function"){if(m!==void 0)return m;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return l}}function o(p){return(o=Object.setPrototypeOf?Object.getPrototypeOf:function(l){return l.__proto__||Object.getPrototypeOf(l)})(p)}function a(p,l){if(!(p instanceof l))throw new TypeError("Cannot call a class as a function")}function i(p,l){for(var m=0;m<l.length;m++){var _=l[m];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(p,_.key,_)}}function h(p,l,m){l&&i(p.prototype,l)}s.default.prototype.createStringDict=function(p,l){return s.default._validateParameters("createStringDict",arguments),new s.default.StringDict(p,l)},s.default.prototype.createNumberDict=function(p,l){return s.default._validateParameters("createNumberDict",arguments),new s.default.NumberDict(p,l)},s.default.TypedDict=function(){function p(l,m){return a(this,p),l instanceof Object?this.data=l:(this.data={},this.data[l]=m),this}return h(p,[{key:"size",value:function(){return Object.keys(this.data).length}},{key:"hasKey",value:function(l){return this.data.hasOwnProperty(l)}},{key:"get",value:function(l){if(this.data.hasOwnProperty(l))return this.data[l];console.log("".concat(l," does not exist in this Dictionary"))}},{key:"set",value:function(l,m){this._validate(m)?this.data[l]=m:console.log("Those values dont work for this dictionary type.")}},{key:"_addObj",value:function(l){for(var m in l)this.set(m,l[m])}},{key:"create",value:function(l,m){l instanceof Object&&m===void 0?this._addObj(l):l!==void 0?this.set(l,m):console.log("In order to create a new Dictionary entry you must pass an object or a key, value pair")}},{key:"clear",value:function(){this.data={}}},{key:"remove",value:function(l){if(!this.data.hasOwnProperty(l))throw new Error("".concat(l," does not exist in this Dictionary"));delete this.data[l]}},{key:"print",value:function(){for(var l in this.data)console.log("key:".concat(l," value:").concat(this.data[l]))}},{key:"saveTable",value:function(l){var m,_="";for(m in this.data)_+="".concat(m,",").concat(this.data[m],`
`);var b=new Blob([_],{type:"text/csv"});s.default.prototype.downloadFile(b,l||"mycsv","csv")}},{key:"saveJSON",value:function(l,m){s.default.prototype.saveJSON(this.data,l,m)}},{key:"_validate",value:function(l){return!0}}]),p}(),s.default.StringDict=function(){c(l,s.default.TypedDict);var p=y(l);function l(){a(this,l);for(var m=arguments.length,_=new Array(m),b=0;b<m;b++)_[b]=arguments[b];return p.call.apply(p,[this].concat(_))}return h(l,[{key:"_validate",value:function(m){return typeof m=="string"}}]),l}(),s.default.NumberDict=function(){c(l,s.default.TypedDict);var p=y(l);function l(){a(this,l);for(var m=arguments.length,_=new Array(m),b=0;b<m;b++)_[b]=arguments[b];return p.call.apply(p,[this].concat(_))}return h(l,[{key:"_validate",value:function(m){return typeof m=="number"}},{key:"add",value:function(m,_){this.data.hasOwnProperty(m)?this.data[m]+=_:console.log("The key - ".concat(m," does not exist in this dictionary."))}},{key:"sub",value:function(m,_){this.add(m,-_)}},{key:"mult",value:function(m,_){this.data.hasOwnProperty(m)?this.data[m]*=_:console.log("The key - ".concat(m," does not exist in this dictionary."))}},{key:"div",value:function(m,_){this.data.hasOwnProperty(m)?this.data[m]/=_:console.log("The key - ".concat(m," does not exist in this dictionary."))}},{key:"_valueTest",value:function(m){if(Object.keys(this.data).length===0)throw new Error("Unable to search for a minimum or maximum value on an empty NumberDict");if(Object.keys(this.data).length===1)return this.data[Object.keys(this.data)[0]];var _,b=this.data[Object.keys(this.data)[0]];for(_ in this.data)this.data[_]*m<b*m&&(b=this.data[_]);return b}},{key:"minValue",value:function(){return this._valueTest(1)}},{key:"maxValue",value:function(){return this._valueTest(-1)}},{key:"_keyTest",value:function(m){if(Object.keys(this.data).length===0)throw new Error("Unable to use minValue on an empty NumberDict");if(Object.keys(this.data).length===1)return Object.keys(this.data)[0];for(var _=Object.keys(this.data)[0],b=1;b<Object.keys(this.data).length;b++)Object.keys(this.data)[b]*m<_*m&&(_=Object.keys(this.data)[b]);return _}},{key:"minKey",value:function(){return this._keyTest(1)}},{key:"maxKey",value:function(){return this._keyTest(-1)}}]),l}(),t=s.default.TypedDict,x.default=t},{"../core/main":280,"core-js/modules/es.array.concat":152,"core-js/modules/es.array.iterator":164,"core-js/modules/es.object.get-prototype-of":185,"core-js/modules/es.object.keys":186,"core-js/modules/es.object.to-string":187,"core-js/modules/es.reflect.construct":189,"core-js/modules/es.regexp.to-string":193,"core-js/modules/es.string.iterator":197,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/web.dom-collections.iterator":243}],296:[function(t,j,x){function d(_){return(d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(b){return typeof b}:function(b){return b&&typeof Symbol=="function"&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b})(_)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.every"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.function.name"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.get-prototype-of"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.reflect.construct"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/web.url"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.every"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.function.name"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/web.url"),Object.defineProperty(x,"__esModule",{value:!0}),x.default=void 0;var f=(t=t("../core/main"))&&t.__esModule?t:{default:t};function s(_,b){for(var T=0;T<b.length;T++){var O=b[T];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(_,O.key,O)}}function c(_,b,T){b&&s(_.prototype,b),T&&s(_,T)}function g(_,b){return(g=Object.setPrototypeOf||function(T,O){return T.__proto__=O,T})(_,b)}function y(_){return function(){var b,T,O=a(_);return b=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(b=a(this).constructor,Reflect.construct(O,arguments,b)):O.apply(this,arguments),O=this,!(T=b)||h(T)!=="object"&&typeof T!="function"?o(O):T}}function o(_){if(_===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _}function a(_){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(b){return b.__proto__||Object.getPrototypeOf(b)})(_)}function i(_,b){if(!(_ instanceof b))throw new TypeError("Cannot call a class as a function")}function h(_){return(h=typeof Symbol=="function"&&d(Symbol.iterator)==="symbol"?function(b){return d(b)}:function(b){return b&&typeof Symbol=="function"&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":d(b)})(_)}function p(_,b,T){return(b._userNode||document.body).appendChild(_),T=new(T?f.default.MediaElement:f.default.Element)(_,b),b._elements.push(T),T}function l(_,I,T,O){var k=document.createElement(I),M=(typeof(T=T||"")=="string"&&(T=[T]),!0),I=!1,F=void 0;try{for(var A,U=T[Symbol.iterator]();!(M=(A=U.next()).done);M=!0){var D=A.value,V=document.createElement("source");V.setAttribute("src",D),k.appendChild(V)}}catch(W){I=!0,F=W}finally{try{M||U.return==null||U.return()}finally{if(I)throw F}}typeof O=="function"&&k.addEventListener("canplaythrough",function W(){O(),k.removeEventListener("canplaythrough",W)});var G=p(k,_,!0);return G.loadedmetadata=!1,k.addEventListener("loadedmetadata",function(){G.width=k.videoWidth,G.height=k.videoHeight,G.elt.width===0&&(G.elt.width=k.videoWidth),G.elt.height===0&&(G.elt.height=k.videoHeight),G.presetPlaybackRate&&(G.elt.playbackRate=G.presetPlaybackRate,delete G.presetPlaybackRate),G.loadedmetadata=!0}),G}f.default.prototype.select=function(_,b){return f.default._validateParameters("select",arguments),b=this._getContainer(b).querySelector(_),b?this._wrapElement(b):null},f.default.prototype.selectAll=function(_,b){f.default._validateParameters("selectAll",arguments);var T=[],O=this._getContainer(b).querySelectorAll(_);if(O)for(var k=0;k<O.length;k++){var M=this._wrapElement(O[k]);T.push(M)}return T},f.default.prototype._getContainer=function(_){var b=document;return typeof _=="string"?b=document.querySelector(_)||document:_ instanceof f.default.Element?b=_.elt:_ instanceof HTMLElement&&(b=_),b},f.default.prototype._wrapElement=function(_){var b,T=Array.prototype.slice.call(_.children);return _.tagName==="INPUT"&&_.type==="checkbox"?((b=new f.default.Element(_,this)).checked=function(){return arguments.length===0?this.elt.checked:(this.elt.checked=!(arguments.length<=0||!arguments[0]),this)},b):_.tagName==="VIDEO"||_.tagName==="AUDIO"?new f.default.MediaElement(_,this):_.tagName==="SELECT"?this.createSelect(new f.default.Element(_,this)):0<T.length&&T.every(function(O){return O.tagName==="INPUT"||O.tagName==="LABEL"})?this.createRadio(new f.default.Element(_,this)):new f.default.Element(_,this)},f.default.prototype.removeElements=function(_){f.default._validateParameters("removeElements",arguments),this._elements.filter(function(b){return!(b.elt instanceof HTMLCanvasElement)}).map(function(b){return b.remove()})},f.default.Element.prototype.changed=function(_){return f.default.Element._adjustListener("change",_,this),this},f.default.Element.prototype.input=function(_){return f.default.Element._adjustListener("input",_,this),this},f.default.prototype.createDiv=function(){var _=0<arguments.length&&arguments[0]!==void 0?arguments[0]:"",b=document.createElement("div");return b.innerHTML=_,p(b,this)},f.default.prototype.createP=function(){var _=0<arguments.length&&arguments[0]!==void 0?arguments[0]:"",b=document.createElement("p");return b.innerHTML=_,p(b,this)},f.default.prototype.createSpan=function(){var _=0<arguments.length&&arguments[0]!==void 0?arguments[0]:"",b=document.createElement("span");return b.innerHTML=_,p(b,this)},f.default.prototype.createImg=function(){f.default._validateParameters("createImg",arguments);var _,b=document.createElement("img"),T=arguments;return 1<T.length&&typeof T[1]=="string"&&(b.alt=T[1]),2<T.length&&typeof T[2]=="string"&&(b.crossOrigin=T[2]),b.src=T[0],_=p(b,this),b.addEventListener("load",function(){_.width=b.offsetWidth||b.width,_.height=b.offsetHeight||b.height;var O=T[T.length-1];typeof O=="function"&&O(_)}),_},f.default.prototype.createA=function(_,b,T){f.default._validateParameters("createA",arguments);var O=document.createElement("a");return O.href=_,O.innerHTML=b,T&&(O.target=T),p(O,this)},f.default.prototype.createSlider=function(_,b,T,O){f.default._validateParameters("createSlider",arguments);var k=document.createElement("input");return k.type="range",k.min=_,k.max=b,O===0?k.step=1e-18:O&&(k.step=O),typeof T=="number"&&(k.value=T),p(k,this)},f.default.prototype.createButton=function(_,b){f.default._validateParameters("createButton",arguments);var T=document.createElement("button");return T.innerHTML=_,b&&(T.value=b),p(T,this)},f.default.prototype.createCheckbox=function(){for(var _=arguments.length,b=new Array(_),T=0;T<_;T++)b[T]=arguments[T];f.default._validateParameters("createCheckbox",b);var O=document.createElement("div"),k=document.createElement("input"),M=(k.type="checkbox",document.createElement("label")),I=(M.appendChild(k),O.appendChild(M),p(O,this));return I.checked=function(){var F=I.elt.firstElementChild.getElementsByTagName("input")[0];if(F){if(arguments.length===0)return F.checked;F.checked=!(arguments.length<=0||!arguments[0])}return I},this.value=function(F){return I.value=F,this},b[0]&&(I.value(b[0]),(O=document.createElement("span")).innerHTML=b[0],M.appendChild(O)),b[1]&&(k.checked=!0),I},f.default.prototype.createSelect=function(){for(var _,b=arguments.length,T=new Array(b),O=0;O<b;O++)T[O]=arguments[O];f.default._validateParameters("createSelect",T);var k,M=T[0];return M instanceof f.default.Element&&M.elt instanceof HTMLSelectElement?this.elt=(_=M).elt:M instanceof HTMLSelectElement?(_=p(M,this),this.elt=M):(k=document.createElement("select"),M&&typeof M=="boolean"&&k.setAttribute("multiple","true"),_=p(k,this),this.elt=k),_.option=function(I,F){var A;if(I!==void 0){for(var U,D=0;D<this.elt.length;D+=1)if(this.elt[D].textContent===I){A=D;break}A!==void 0?F===!1?this.elt.remove(A):this.elt[A].value=F:((U=document.createElement("option")).textContent=I,U.value=F===void 0?I:F,this.elt.appendChild(U),this._pInst._elements.push(U))}},_.selected=function(I){if(I!==void 0){for(var F=0;F<this.elt.length;F+=1)this.elt[F].value.toString()===I.toString()&&(this.elt.selectedIndex=F);return this}if(this.elt.getAttribute("multiple")){var A=[],U=!0,D=!1,V=void 0;try{for(var G,W=this.elt.selectedOptions[Symbol.iterator]();!(U=(G=W.next()).done);U=!0){var J=G.value;A.push(J.value)}}catch(Q){D=!0,V=Q}finally{try{U||W.return==null||W.return()}finally{if(D)throw V}}return A}return this.elt.value},_.disable=function(I){if(typeof I=="string")for(var F=0;F<this.elt.length;F++)this.elt[F].value.toString()===I&&(this.elt[F].disabled=!0,this.elt[F].selected=!1);else this.elt.disabled=!0;return this},_.enable=function(I){if(typeof I=="string")for(var F=0;F<this.elt.length;F++)this.elt[F].value.toString()===I&&(this.elt[F].disabled=!1,this.elt[F].selected=!1);else{this.elt.disabled=!1;for(var A=0;A<this.elt.length;A++)this.elt[A].disabled=!1,this.elt[A].selected=!1}return this},_},f.default.prototype.createRadio=function(){function _(I){return I instanceof HTMLInputElement&&I.type==="radio"}function b(I){return I instanceof HTMLLabelElement}var T,O,k,M=arguments.length<=0?void 0:arguments[0];return M instanceof f.default.Element&&(M.elt instanceof HTMLDivElement||M.elt instanceof HTMLSpanElement)?(T=M,this.elt=M.elt):M instanceof HTMLDivElement||M instanceof HTMLSpanElement?(T=p(M,this),O=this.elt=M,typeof(arguments.length<=1?void 0:arguments[1])=="string"&&(k=arguments.length<=1?void 0:arguments[1])):(typeof M=="string"&&(k=M),O=document.createElement("div"),T=p(O,this),this.elt=O),T._name=k||"radioOption",T._getOptionsArray=function(){return Array.from(this.elt.children).filter(function(I){return _(I)||b(I)&&_(I.firstElementChild)}).map(function(I){return _(I)?I:I.firstElementChild})},T.option=function(I,F){var A,U,D,V=!0,G=!1,W=void 0;try{for(var J,Q=T._getOptionsArray()[Symbol.iterator]();!(V=(J=Q.next()).done);V=!0){var Y=J.value;if(Y.value===I){A=Y;break}}}catch(z){G=!0,W=z}finally{try{V||Q.return==null||Q.return()}finally{if(G)throw W}}return A===void 0&&((A=document.createElement("input")).setAttribute("type","radio"),A.setAttribute("value",I)),A.setAttribute("name",T._name),b(A.parentElement)?U=A.parentElement:(U=document.createElement("label")).insertAdjacentElement("afterbegin",A),U.lastElementChild instanceof HTMLSpanElement?D=U.lastElementChild:(D=document.createElement("span"),A.insertAdjacentElement("afterend",D)),D.innerHTML=F===void 0?I:F,this.elt.appendChild(U),A},T.remove=function(I){var F=!0,A=!1,U=void 0;try{for(var D,V=T._getOptionsArray()[Symbol.iterator]();!(F=(D=V.next()).done);F=!0){var G=D.value;if(G.value===I)return void(b(G.parentElement)?G.parentElement:G).remove()}}catch(W){A=!0,U=W}finally{try{F||V.return==null||V.return()}finally{if(A)throw U}}},T.value=function(){var I="",F=!0,A=!1,U=void 0;try{for(var D,V=T._getOptionsArray()[Symbol.iterator]();!(F=(D=V.next()).done);F=!0){var G=D.value;if(G.checked){I=G.value;break}}}catch(W){A=!0,U=W}finally{try{F||V.return==null||V.return()}finally{if(A)throw U}}return I},T.selected=function(I){var F=null;if(I===void 0){var A=!0,U=!1,D=void 0;try{for(var V,G=T._getOptionsArray()[Symbol.iterator]();!(A=(V=G.next()).done);A=!0){var W=V.value;if(W.checked){F=W;break}}}catch(ee){U=!0,D=ee}finally{try{A||G.return==null||G.return()}finally{if(U)throw D}}}else{T._getOptionsArray().forEach(function(C){C.checked=!1,C.removeAttribute("checked")});var J=!0,U=!1,D=void 0;try{for(var Q,Y=T._getOptionsArray()[Symbol.iterator]();!(J=(Q=Y.next()).done);J=!0){var z=Q.value;z.value===I&&(z.setAttribute("checked",!0),z.checked=!0,F=z)}}catch(C){U=!0,D=C}finally{try{J||Y.return==null||Y.return()}finally{if(U)throw D}}}return F},T.disable=function(){var I=!(0<arguments.length&&arguments[0]!==void 0)||arguments[0],F=!0,A=!1,U=void 0;try{for(var D,V=T._getOptionsArray()[Symbol.iterator]();!(F=(D=V.next()).done);F=!0)D.value.setAttribute("disabled",I)}catch(G){A=!0,U=G}finally{try{F||V.return==null||V.return()}finally{if(A)throw U}}},T},f.default.prototype.createColorPicker=function(_){f.default._validateParameters("createColorPicker",arguments);var b=document.createElement("input");return b.type="color",_?_ instanceof f.default.Color?b.value=_.toString("#rrggbb"):(f.default.prototype._colorMode="rgb",f.default.prototype._colorMaxes={rgb:[255,255,255,255],hsb:[360,100,100,1],hsl:[360,100,100,1]},b.value=f.default.prototype.color(_).toString("#rrggbb")):b.value="#000000",(b=p(b,this)).color=function(){return _&&(_.mode&&(f.default.prototype._colorMode=_.mode),_.maxes&&(f.default.prototype._colorMaxes=_.maxes)),f.default.prototype.color(this.elt.value)},b},f.default.prototype.createInput=function(){var _=0<arguments.length&&arguments[0]!==void 0?arguments[0]:"",b=1<arguments.length&&arguments[1]!==void 0?arguments[1]:"text",T=(f.default._validateParameters("createInput",arguments),document.createElement("input"));return T.setAttribute("value",_),T.setAttribute("type",b),p(T,this)},f.default.prototype.createFileInput=function(_){var b,T=1<arguments.length&&arguments[1]!==void 0&&arguments[1];if(f.default._validateParameters("createFileInput",arguments),window.File&&window.FileReader&&window.FileList&&window.Blob)return(b=document.createElement("input")).setAttribute("type","file"),T&&b.setAttribute("multiple",!0),b.addEventListener("change",function(O){var k=!0,M=!1,I=void 0;try{for(var F,A=O.target.files[Symbol.iterator]();!(k=(F=A.next()).done);k=!0){var U=F.value;f.default.File._load(U,_)}}catch(D){M=!0,I=D}finally{try{k||A.return==null||A.return()}finally{if(M)throw I}}},!1),p(b,this);console.log("The File APIs are not fully supported in this browser. Cannot create element.")},f.default.prototype.createVideo=function(_,b){return f.default._validateParameters("createVideo",arguments),l(this,"video",_,b)},f.default.prototype.createAudio=function(_,b){return f.default._validateParameters("createAudio",arguments),l(this,"audio",_,b)},f.default.prototype.VIDEO="video",f.default.prototype.AUDIO="audio",navigator.mediaDevices===void 0&&(navigator.mediaDevices={}),navigator.mediaDevices.getUserMedia===void 0&&(navigator.mediaDevices.getUserMedia=function(_){var b=navigator.webkitGetUserMedia||navigator.mozGetUserMedia;return b?new Promise(function(T,O){b.call(navigator,_,T,O)}):Promise.reject(new Error("getUserMedia is not implemented in this browser"))}),f.default.prototype.createCapture=function(){for(var _=arguments.length,b=new Array(_),T=0;T<_;T++)b[T]=arguments[T];if(f.default._validateParameters("createCapture",b),!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia)throw new DOMException("getUserMedia not supported in this browser");for(var O,k=!0,M=!0,I=!1,F=0,A=b;F<A.length;F++){var U=A[F];U===f.default.prototype.VIDEO?M=!1:U===f.default.prototype.AUDIO?k=!1:h(U)==="object"?(U.flipped!==void 0&&(I=U.flipped,delete U.flipped),D=Object.assign({},D,U)):typeof U=="function"&&(O=U)}var D=Object.assign({},{video:k,audio:M},D),V=document.createElement("video"),G=(V.setAttribute("playsinline",""),navigator.mediaDevices.getUserMedia(D).then(function(W){try{"srcObject"in V?V.srcObject=W:V.src=window.URL.createObjectURL(W)}catch{V.src=W}}).catch(function(W){W.name==="NotFoundError"&&f.default._friendlyError("No webcam found on this device","createCapture"),W.name==="NotAllowedError"&&f.default._friendlyError("Access to the camera was denied","createCapture"),console.error(W)}),p(V,this,!0));return G.loadedmetadata=!1,V.addEventListener("loadedmetadata",function(){V.play(),V.width?(G.width=V.width,G.height=V.height,I&&(G.elt.style.transform="scaleX(-1)")):(G.width=G.elt.width=V.videoWidth,G.height=G.elt.height=V.videoHeight),G.loadedmetadata=!0,O&&O(V.srcObject)}),G.flipped=I,G},f.default.prototype.createElement=function(_,b){return f.default._validateParameters("createElement",arguments),_=document.createElement(_),b!==void 0&&(_.innerHTML=b),p(_,this)},f.default.Element.prototype.addClass=function(_){return this.elt.className?this.hasClass(_)||(this.elt.className=this.elt.className+" "+_):this.elt.className=_,this},f.default.Element.prototype.removeClass=function(_){return this.elt.classList.remove(_),this},f.default.Element.prototype.hasClass=function(_){return this.elt.classList.contains(_)},f.default.Element.prototype.toggleClass=function(_){return this.elt.classList.contains(_)?this.elt.classList.remove(_):this.elt.classList.add(_),this},f.default.Element.prototype.child=function(_){return _===void 0?this.elt.childNodes:(typeof _=="string"?(_[0]==="#"&&(_=_.substring(1)),_=document.getElementById(_)):_ instanceof f.default.Element&&(_=_.elt),_ instanceof HTMLElement&&this.elt.appendChild(_),this)},f.default.Element.prototype.center=function(_){var b=this.elt.style.display,T=this.elt.style.display==="none",O=this.parent().style.display==="none",k={x:this.elt.offsetLeft,y:this.elt.offsetTop},M=(T&&this.show(),O&&this.parent().show(),this.elt.style.display="block",this.position(0,0),Math.abs(this.parent().offsetWidth-this.elt.offsetWidth)),I=Math.abs(this.parent().offsetHeight-this.elt.offsetHeight);return _==="both"||_===void 0?this.position(M/2+this.parent().offsetLeft,I/2+this.parent().offsetTop):_==="horizontal"?this.position(M/2+this.parent().offsetLeft,k.y):_==="vertical"&&this.position(k.x,I/2+this.parent().offsetTop),this.style("display",b),T&&this.hide(),O&&this.parent().hide(),this},f.default.Element.prototype.html=function(){return arguments.length===0?this.elt.innerHTML:(arguments.length<=1||!arguments[1]?this.elt.innerHTML=arguments.length<=0?void 0:arguments[0]:this.elt.insertAdjacentHTML("beforeend",arguments.length<=0?void 0:arguments[0]),this)},f.default.Element.prototype.position=function(){return arguments.length===0?{x:this.elt.offsetLeft,y:this.elt.offsetTop}:(this.elt.style.position=(arguments.length<=2?void 0:arguments[2])!=="static"&&(arguments.length<=2?void 0:arguments[2])!=="fixed"&&(arguments.length<=2?void 0:arguments[2])!=="relative"&&(arguments.length<=2?void 0:arguments[2])!=="sticky"&&(arguments.length<=2?void 0:arguments[2])!=="initial"&&(arguments.length<=2?void 0:arguments[2])!=="inherit"?"absolute":arguments.length<=2?void 0:arguments[2],this.elt.style.left=(arguments.length<=0?void 0:arguments[0])+"px",this.elt.style.top=(arguments.length<=1?void 0:arguments[1])+"px",this.x=arguments.length<=0?void 0:arguments[0],this.y=arguments.length<=1?void 0:arguments[1],this)},f.default.Element.prototype._translate=function(){this.elt.style.position="absolute";var _="";return this.elt.style.transform&&(_=(_=this.elt.style.transform.replace(/translate3d\(.*\)/g,"")).replace(/translate[X-Z]?\(.*\)/g,"")),arguments.length===2?this.elt.style.transform="translate("+(arguments.length<=0?void 0:arguments[0])+"px, "+(arguments.length<=1?void 0:arguments[1])+"px)":2<arguments.length&&(this.elt.style.transform="translate3d("+(arguments.length<=0?void 0:arguments[0])+"px,"+(arguments.length<=1?void 0:arguments[1])+"px,"+(arguments.length<=2?void 0:arguments[2])+"px)",this.elt.parentElement.style.perspective=arguments.length===3?"1000px":(arguments.length<=3?void 0:arguments[3])+"px"),this.elt.style.transform+=_,this},f.default.Element.prototype._rotate=function(){var _="";return this.elt.style.transform&&(_=(_=this.elt.style.transform.replace(/rotate3d\(.*\)/g,"")).replace(/rotate[X-Z]?\(.*\)/g,"")),arguments.length===1?this.elt.style.transform="rotate("+(arguments.length<=0?void 0:arguments[0])+"deg)":arguments.length===2?this.elt.style.transform="rotate("+(arguments.length<=0?void 0:arguments[0])+"deg, "+(arguments.length<=1?void 0:arguments[1])+"deg)":arguments.length===3&&(this.elt.style.transform="rotateX("+(arguments.length<=0?void 0:arguments[0])+"deg)",this.elt.style.transform+="rotateY("+(arguments.length<=1?void 0:arguments[1])+"deg)",this.elt.style.transform+="rotateZ("+(arguments.length<=2?void 0:arguments[2])+"deg)"),this.elt.style.transform+=_,this},f.default.Element.prototype.style=function(_,b){if((b=b instanceof f.default.Color?"rgba("+b.levels[0]+","+b.levels[1]+","+b.levels[2]+","+b.levels[3]/255+")":b)===void 0){if(_.indexOf(":")===-1)return window.getComputedStyle(this.elt).getPropertyValue(_);for(var T=_.split(";"),O=0;O<T.length;O++){var k=T[O].split(":");k[0]&&k[1]&&(this.elt.style[k[0].trim()]=k[1].trim())}}else this.elt.style[_]=b,_!=="width"&&_!=="height"&&_!=="left"&&_!=="top"||(b=window.getComputedStyle(this.elt).getPropertyValue(_).replace(/[^\d.]/g,""),this[_]=Math.round(parseFloat(b,10)));return this},f.default.Element.prototype.attribute=function(_,b){if(this.elt.firstChild==null||this.elt.firstChild.type!=="checkbox"&&this.elt.firstChild.type!=="radio")return b===void 0?this.elt.getAttribute(_):(this.elt.setAttribute(_,b),this);if(b===void 0)return this.elt.firstChild.getAttribute(_);for(var T=0;T<this.elt.childNodes.length;T++)this.elt.childNodes[T].setAttribute(_,b)},f.default.Element.prototype.removeAttribute=function(_){if(this.elt.firstChild!=null&&(this.elt.firstChild.type==="checkbox"||this.elt.firstChild.type==="radio"))for(var b=0;b<this.elt.childNodes.length;b++)this.elt.childNodes[b].removeAttribute(_);return this.elt.removeAttribute(_),this},f.default.Element.prototype.value=function(){return 0<arguments.length?(this.elt.value=arguments.length<=0?void 0:arguments[0],this):this.elt.type==="range"?parseFloat(this.elt.value):this.elt.value},f.default.Element.prototype.show=function(){return this.elt.style.display="block",this},f.default.Element.prototype.hide=function(){return this.elt.style.display="none",this},f.default.Element.prototype.size=function(_,b){if(arguments.length===0)return{width:this.elt.offsetWidth,height:this.elt.offsetHeight};var T=_,O=b,k=f.default.prototype.AUTO;if(T!==k||O!==k){if(T===k?T=b*this.width/this.height:O===k&&(O=_*this.height/this.width),this.elt instanceof HTMLCanvasElement){var M,I={},F=this.elt.getContext("2d");for(M in F)I[M]=F[M];for(M in this.elt.setAttribute("width",T*this._pInst._pixelDensity),this.elt.setAttribute("height",O*this._pInst._pixelDensity),this.elt.style.width=T+"px",this.elt.style.height=O+"px",this._pInst.scale(this._pInst._pixelDensity,this._pInst._pixelDensity),I)this.elt.getContext("2d")[M]=I[M]}else this.elt.style.width=T+"px",this.elt.style.height=O+"px",this.elt.width=T,this.elt.height=O;this.width=T,this.height=O,this._pInst&&this._pInst._curElement&&this._pInst._curElement.elt===this.elt&&(this._pInst._setProperty("width",T),this._pInst._setProperty("height",O))}return this},f.default.Element.prototype.remove=function(){this instanceof f.default.MediaElement&&(this.stop(),(b=this.elt.srcObject)!==null&&b.getTracks().forEach(function(T){T.stop()}));var _,b=this._pInst._elements.indexOf(this);for(_ in b!==-1&&this._pInst._elements.splice(b,1),this._events)this.elt.removeEventListener(_,this._events[_]);this.elt&&this.elt.parentNode&&this.elt.parentNode.removeChild(this.elt)},f.default.Element.prototype.drop=function(_,b){var T;return window.File&&window.FileReader&&window.FileList&&window.Blob?(this._dragDisabled||(this._dragDisabled=!0,this.elt.addEventListener("dragover",T=function(O){O.preventDefault()}),this.elt.addEventListener("dragleave",T)),f.default.Element._attachListener("drop",function(k){k.preventDefault(),typeof b=="function"&&b.call(this,k);var k=k.dataTransfer.files,M=!0,I=!1,F=void 0;try{for(var A,U=k[Symbol.iterator]();!(M=(A=U.next()).done);M=!0){var D=A.value;f.default.File._load(D,_)}}catch(V){I=!0,F=V}finally{try{M||U.return==null||U.return()}finally{if(I)throw F}}},this)):console.log("The File APIs are not fully supported in this browser."),this},f.default.Element.prototype.draggable=function(_){var b,T="ontouchstart"in window,O=0,k=0,M=0,I=0,F=T?"touchend":"mouseup",A=T?"touchmove":"mousemove";function U(V){var G;V=V||window.event,I=T?(G=V.changedTouches,O=M-parseInt(G[0].clientX),k=I-parseInt(G[0].clientY),M=parseInt(G[0].clientX),parseInt(G[0].clientY)):(O=M-parseInt(V.clientX),k=I-parseInt(V.clientY),M=parseInt(V.clientX),parseInt(V.clientY)),_.style.left=_.offsetLeft-O+"px",_.style.top=_.offsetTop-k+"px"}function D(){document.removeEventListener(F,D,!1),document.removeEventListener(A,U,!1)}return _===void 0?b=_=this.elt:_!==this.elt&&_.elt!==this.elt&&(_=_.elt,b=this.elt),b.addEventListener(T?"touchstart":"mousedown",function(V){{var G;V=V||window.event,I=T?(G=V.changedTouches,M=parseInt(G[0].clientX),parseInt(G[0].clientY)):(M=parseInt(V.clientX),parseInt(V.clientY))}return document.addEventListener(F,D,!1),document.addEventListener(A,U,!1),!1},!1),b.style.cursor="move",this};function m(_,b,T,O){i(this,m),this.callback=_,this.time=b,this.id=T,this.val=O}t=function(_){var b=O;if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function");b.prototype=Object.create(_&&_.prototype,{constructor:{value:b,writable:!0,configurable:!0}}),_&&g(b,_);var T=y(O);function O(k,M){i(this,O);var I=o(M=T.call(this,k,M));return M.elt.crossOrigin="anonymous",M._prevTime=0,M._cueIDCounter=0,M._cues=[],M.pixels=[],M._pixelsState=o(M),M._pixelDensity=1,M._modified=!1,M._frameOnCanvas=-1,Object.defineProperty(I,"src",{get:function(){var F=I.elt.children[0].src,A=I.elt.src===window.location.href?"":I.elt.src;return F===window.location.href?A:F},set:function(F){for(var A=0;A<I.elt.children.length;A++)I.elt.removeChild(I.elt.children[A]);var U=document.createElement("source");U.src=F,k.appendChild(U),I.elt.src=F,I.modified=!0}}),I._onended=function(){},I.elt.onended=function(){I._onended(I)},M}return c(O,[{key:"play",value:function(){var k;return this.elt.currentTime===this.elt.duration&&(this.elt.currentTime=0),1<this.elt.readyState||this.elt.load(),(k=this.elt.play())&&k.catch&&k.catch(function(M){M.name==="NotAllowedError"?console.error(M):console.error("Media play method encountered an unexpected error",M)}),this}},{key:"stop",value:function(){return this.elt.pause(),this.elt.currentTime=0,this}},{key:"pause",value:function(){return this.elt.pause(),this}},{key:"loop",value:function(){return this.elt.setAttribute("loop",!0),this.play(),this}},{key:"noLoop",value:function(){return this.elt.removeAttribute("loop"),this}},{key:"_setupAutoplayFailDetection",value:function(){var k=setTimeout(function(){console.error(e)},500);this.elt.addEventListener("play",function(){return clearTimeout(k)},{passive:!0,once:!0})}},{key:"autoplay",value:function(k){var M=this,I=this.elt.getAttribute("autoplay");return this.elt.setAttribute("autoplay",k),k&&!I&&(k=function(){return M._setupAutoplayFailDetection()},this.elt.readyState===4?k():this.elt.addEventListener("canplay",k,{passive:!0,once:!0})),this}},{key:"volume",value:function(k){if(k===void 0)return this.elt.volume;this.elt.volume=k}},{key:"speed",value:function(k){if(k===void 0)return this.presetPlaybackRate||this.elt.playbackRate;this.loadedmetadata?this.elt.playbackRate=k:this.presetPlaybackRate=k}},{key:"time",value:function(k){return k===void 0?this.elt.currentTime:(this.elt.currentTime=k,this)}},{key:"duration",value:function(){return this.elt.duration}},{key:"_ensureCanvas",value:function(){this.canvas||(this.canvas=document.createElement("canvas"),this.drawingContext=this.canvas.getContext("2d"),this.setModified(!0));var k=this._frameOnCanvas!==this._pInst.frameCount;this.loadedmetadata&&k&&(this.canvas.width!==this.elt.width&&(this.canvas.width=this.elt.width,this.canvas.height=this.elt.height,this.width=this.canvas.width,this.height=this.canvas.height),this.drawingContext.clearRect(0,0,this.canvas.width,this.canvas.height),this.flipped===!0&&(this.drawingContext.save(),this.drawingContext.scale(-1,1),this.drawingContext.translate(-this.canvas.width,0)),this.drawingContext.drawImage(this.elt,0,0,this.canvas.width,this.canvas.height),this.flipped===!0&&this.drawingContext.restore(),this.setModified(!0),this._frameOnCanvas=this._pInst.frameCount)}},{key:"loadPixels",value:function(){this._ensureCanvas();for(var k=arguments.length,M=new Array(k),I=0;I<k;I++)M[I]=arguments[I];return f.default.Renderer2D.prototype.loadPixels.apply(this,M)}},{key:"updatePixels",value:function(k,M,I,F){return this.loadedmetadata&&(this._ensureCanvas(),f.default.Renderer2D.prototype.updatePixels.call(this,k,M,I,F)),this.setModified(!0),this}},{key:"get",value:function(){this._ensureCanvas();for(var k=arguments.length,M=new Array(k),I=0;I<k;I++)M[I]=arguments[I];return f.default.Renderer2D.prototype.get.apply(this,M)}},{key:"_getPixel",value:function(){this.loadPixels();for(var k=arguments.length,M=new Array(k),I=0;I<k;I++)M[I]=arguments[I];return f.default.Renderer2D.prototype._getPixel.apply(this,M)}},{key:"set",value:function(k,M,I){this.loadedmetadata&&(this._ensureCanvas(),f.default.Renderer2D.prototype.set.call(this,k,M,I),this.setModified(!0))}},{key:"copy",value:function(){this._ensureCanvas();for(var k=arguments.length,M=new Array(k),I=0;I<k;I++)M[I]=arguments[I];f.default.prototype.copy.apply(this,M)}},{key:"mask",value:function(){this.loadPixels(),this.setModified(!0);for(var k=arguments.length,M=new Array(k),I=0;I<k;I++)M[I]=arguments[I];f.default.Image.prototype.mask.apply(this,M)}},{key:"isModified",value:function(){return this._modified}},{key:"setModified",value:function(k){this._modified=k}},{key:"onended",value:function(k){return this._onended=k,this}},{key:"connect",value:function(k){var M,I;if(typeof f.default.prototype.getAudioContext=="function")M=f.default.prototype.getAudioContext(),I=f.default.soundOut.input;else try{I=(M=k.context).destination}catch{throw"connect() is meant to be used with Web Audio API or p5.sound.js"}this.audioSourceNode||(this.audioSourceNode=M.createMediaElementSource(this.elt),this.audioSourceNode.connect(I)),k?k.input?this.audioSourceNode.connect(k.input):this.audioSourceNode.connect(k):this.audioSourceNode.connect(I)}},{key:"disconnect",value:function(){if(!this.audioSourceNode)throw"nothing to disconnect";this.audioSourceNode.disconnect()}},{key:"showControls",value:function(){this.elt.style["text-align"]="inherit",this.elt.controls=!0}},{key:"hideControls",value:function(){this.elt.controls=!1}},{key:"addCue",value:function(k,A,I){var F=this._cueIDCounter++,A=new m(A,k,F,I);return this._cues.push(A),this.elt.ontimeupdate||(this.elt.ontimeupdate=this._onTimeUpdate.bind(this)),F}},{key:"removeCue",value:function(k){for(var M=0;M<this._cues.length;M++)this._cues[M].id===k&&(console.log(k),this._cues.splice(M,1));this._cues.length===0&&(this.elt.ontimeupdate=null)}},{key:"clearCues",value:function(){this._cues=[],this.elt.ontimeupdate=null}},{key:"_onTimeUpdate",value:function(){for(var k=this.time(),M=0;M<this._cues.length;M++){var I=this._cues[M].time,F=this._cues[M].val;this._prevTime<I&&I<=k&&this._cues[M].callback(F)}this._prevTime=k}}]),O}(f.default.Element),f.default.MediaElement=t,t=function(){function _(b,T){i(this,_),this.file=b,this._pInst=T,T=b.type.split("/"),this.type=T[0],this.subtype=T[1],this.name=b.name,this.size=b.size,this.data=void 0}return c(_,null,[{key:"_createLoader",value:function(b,T){var O=new FileReader;return O.onload=function(k){var M,I=new f.default.File(b);I.file.type==="application/json"?I.data=JSON.parse(k.target.result):I.file.type==="text/xml"?(M=new DOMParser().parseFromString(k.target.result,"text/xml"),I.data=new f.default.XML(M.documentElement)):I.data=k.target.result,T(I)},O}},{key:"_load",value:function(b,T){var O;/^text\//.test(b.type)||b.type==="application/json"?f.default.File._createLoader(b,T).readAsText(b):/^(video|audio)\//.test(b.type)?((O=new f.default.File(b)).data=URL.createObjectURL(b),T(O)):f.default.File._createLoader(b,T).readAsDataURL(b)}}]),_}(),f.default.File=t,t=f.default,x.default=t},{"../core/main":280,"core-js/modules/es.array.every":154,"core-js/modules/es.array.filter":156,"core-js/modules/es.array.for-each":160,"core-js/modules/es.array.from":161,"core-js/modules/es.array.index-of":163,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.map":167,"core-js/modules/es.array.slice":168,"core-js/modules/es.array.splice":170,"core-js/modules/es.function.name":173,"core-js/modules/es.object.assign":181,"core-js/modules/es.object.get-prototype-of":185,"core-js/modules/es.object.to-string":187,"core-js/modules/es.promise":188,"core-js/modules/es.reflect.construct":189,"core-js/modules/es.regexp.exec":192,"core-js/modules/es.regexp.to-string":193,"core-js/modules/es.string.iterator":197,"core-js/modules/es.string.replace":201,"core-js/modules/es.string.split":203,"core-js/modules/es.string.trim":206,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/web.dom-collections.for-each":242,"core-js/modules/web.dom-collections.iterator":243,"core-js/modules/web.url":245}],297:[function(h,j,x){Object.defineProperty(x,"__esModule",{value:!0}),x.default=void 0;var d=(h=h("../core/main"))&&h.__esModule?h:{default:h};d.default.prototype.deviceOrientation=1<window.innerWidth/window.innerHeight?"landscape":"portrait",d.default.prototype.accelerationX=0,d.default.prototype.accelerationY=0,d.default.prototype.accelerationZ=0,d.default.prototype.pAccelerationX=0,d.default.prototype.pAccelerationY=0,d.default.prototype.pAccelerationZ=0,d.default.prototype._updatePAccelerations=function(){this._setProperty("pAccelerationX",this.accelerationX),this._setProperty("pAccelerationY",this.accelerationY),this._setProperty("pAccelerationZ",this.accelerationZ)},d.default.prototype.rotationX=0,d.default.prototype.rotationY=0,d.default.prototype.rotationZ=0,d.default.prototype.pRotationX=0,d.default.prototype.pRotationY=0;var f=d.default.prototype.pRotationZ=0,s=0,c=0,g="clockwise",y="clockwise",o="clockwise",a=(d.default.prototype.pRotateDirectionX=void 0,d.default.prototype.pRotateDirectionY=void 0,d.default.prototype.pRotateDirectionZ=void 0,d.default.prototype._updatePRotations=function(){this._setProperty("pRotationX",this.rotationX),this._setProperty("pRotationY",this.rotationY),this._setProperty("pRotationZ",this.rotationZ)},d.default.prototype.turnAxis=void 0,.5),i=30,h=(d.default.prototype.setMoveThreshold=function(p){d.default._validateParameters("setMoveThreshold",arguments),a=p},d.default.prototype.setShakeThreshold=function(p){d.default._validateParameters("setShakeThreshold",arguments),i=p},d.default.prototype._ondeviceorientation=function(p){this._updatePRotations(),this._setProperty("rotationX",this._fromDegrees(p.beta)),this._setProperty("rotationY",this._fromDegrees(p.gamma)),this._setProperty("rotationZ",this._fromDegrees(p.alpha)),this._handleMotion()},d.default.prototype._ondevicemotion=function(p){this._updatePAccelerations(),this._setProperty("accelerationX",2*p.acceleration.x),this._setProperty("accelerationY",2*p.acceleration.y),this._setProperty("accelerationZ",2*p.acceleration.z),this._handleMotion()},d.default.prototype._handleMotion=function(){window.orientation===90||window.orientation===-90?this._setProperty("deviceOrientation","landscape"):window.orientation===0?this._setProperty("deviceOrientation","portrait"):window.orientation===void 0&&this._setProperty("deviceOrientation","undefined");var p,l,m,_,b,T=this._isGlobal?window:this;typeof T.deviceMoved=="function"&&(Math.abs(this.accelerationX-this.pAccelerationX)>a||Math.abs(this.accelerationY-this.pAccelerationY)>a||Math.abs(this.accelerationZ-this.pAccelerationZ)>a)&&T.deviceMoved(),typeof T.deviceTurned=="function"&&(l=this._toDegrees(this.rotationX)+180,m=this._toDegrees(this.pRotationX)+180,p=f+180,0<l-m&&l-m<270||l-m<-270?g="clockwise":(l-m<0||270<l-m)&&(g="counter-clockwise"),g!==this.pRotateDirectionX&&(p=l),90<Math.abs(l-p)&&Math.abs(l-p)<270&&(p=l,this._setProperty("turnAxis","X"),T.deviceTurned()),this.pRotateDirectionX=g,f=p-180,m=this._toDegrees(this.rotationY)+180,l=this._toDegrees(this.pRotationY)+180,p=s+180,0<m-l&&m-l<270||m-l<-270?y="clockwise":(m-l<0||270<m-this.pRotationY)&&(y="counter-clockwise"),y!==this.pRotateDirectionY&&(p=m),90<Math.abs(m-p)&&Math.abs(m-p)<270&&(p=m,this._setProperty("turnAxis","Y"),T.deviceTurned()),this.pRotateDirectionY=y,s=p-180,0<(l=this._toDegrees(this.rotationZ))-(m=this._toDegrees(this.pRotationZ))&&l-m<270||l-m<-270?o="clockwise":(l-m<0||270<l-m)&&(o="counter-clockwise"),o!==this.pRotateDirectionZ&&(c=l),90<Math.abs(l-c)&&Math.abs(l-c)<270&&(c=l,this._setProperty("turnAxis","Z"),T.deviceTurned()),this.pRotateDirectionZ=o,this._setProperty("turnAxis",void 0)),typeof T.deviceShaken=="function"&&(this.pAccelerationX!==null&&(_=Math.abs(this.accelerationX-this.pAccelerationX),b=Math.abs(this.accelerationY-this.pAccelerationY)),i<_+b&&T.deviceShaken())},d.default);x.default=h},{"../core/main":280}],298:[function(t,j,x){Object.defineProperty(x,"__esModule",{value:!0}),x.default=void 0;var d=(t=t("../core/main"))&&t.__esModule?t:{default:t};d.default.prototype.isKeyPressed=!1,d.default.prototype.keyIsPressed=!1,d.default.prototype.key="",d.default.prototype.keyCode=0,d.default.prototype._onkeydown=function(f){var s;this._downKeys[f.which]||(this._setProperty("isKeyPressed",!0),this._setProperty("keyIsPressed",!0),this._setProperty("keyCode",f.which),this._downKeys[f.which]=!0,this._setProperty("key",f.key||String.fromCharCode(f.which)||f.which),typeof(s=this._isGlobal?window:this).keyPressed!="function"||f.charCode||s.keyPressed(f)===!1&&f.preventDefault())},d.default.prototype._onkeyup=function(f){this._downKeys[f.which]=!1,this._areDownKeys()||(this._setProperty("isKeyPressed",!1),this._setProperty("keyIsPressed",!1)),this._setProperty("_lastKeyCodeTyped",null),this._setProperty("key",f.key||String.fromCharCode(f.which)||f.which),this._setProperty("keyCode",f.which);var s=this._isGlobal?window:this;typeof s.keyReleased=="function"&&s.keyReleased(f)===!1&&f.preventDefault()},d.default.prototype._onkeypress=function(f){var s;f.which!==this._lastKeyCodeTyped&&(this._setProperty("_lastKeyCodeTyped",f.which),this._setProperty("key",f.key||String.fromCharCode(f.which)||f.which),typeof(s=this._isGlobal?window:this).keyTyped=="function"&&s.keyTyped(f)===!1&&f.preventDefault())},d.default.prototype._onblur=function(f){this._downKeys={}},d.default.prototype.keyIsDown=function(f){return d.default._validateParameters("keyIsDown",arguments),this._downKeys[f]||!1},d.default.prototype._areDownKeys=function(){for(var f in this._downKeys)if(this._downKeys.hasOwnProperty(f)&&this._downKeys[f]===!0)return!0;return!1},t=d.default,x.default=t},{"../core/main":280}],299:[function(t,j,x){function d(y){return(d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o})(y)}function f(y){return(f=typeof Symbol=="function"&&d(Symbol.iterator)==="symbol"?function(o){return d(o)}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":d(o)})(y)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(x,"__esModule",{value:!0}),x.default=void 0;var s=(s=t("../core/main"))&&s.__esModule?s:{default:s},c=function(y){if(y&&y.__esModule)return y;if(y===null||f(y)!=="object"&&typeof y!="function")return{default:y};var o=g();if(o&&o.has(y))return o.get(y);var a,i={},h=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(a in y){var p;Object.prototype.hasOwnProperty.call(y,a)&&((p=h?Object.getOwnPropertyDescriptor(y,a):null)&&(p.get||p.set)?Object.defineProperty(i,a,p):i[a]=y[a])}return i.default=y,o&&o.set(y,i),i}(t("../core/constants"));function g(){var y;return typeof WeakMap!="function"?null:(y=new WeakMap,g=function(){return y},y)}s.default.prototype.movedX=0,s.default.prototype.movedY=0,s.default.prototype._hasMouseInteracted=!1,s.default.prototype.mouseX=0,s.default.prototype.mouseY=0,s.default.prototype.pmouseX=0,s.default.prototype.pmouseY=0,s.default.prototype.winMouseX=0,s.default.prototype.winMouseY=0,s.default.prototype.pwinMouseX=0,s.default.prototype.pwinMouseY=0,s.default.prototype.mouseButton=0,s.default.prototype.mouseIsPressed=!1,s.default.prototype._updateNextMouseCoords=function(y){var o,a,i,h,p;this._curElement!==null&&(!y.touches||0<y.touches.length)&&(o=this._curElement.elt,a=this.width,i=this.height,(h=y)&&!h.clientX&&(h.touches?h=h.touches[0]:h.changedTouches&&(h=h.changedTouches[0])),p=o.getBoundingClientRect(),a=o.scrollWidth/a||1,o=o.scrollHeight/i||1,i={x:(h.clientX-p.left)/a,y:(h.clientY-p.top)/o,winX:h.clientX,winY:h.clientY,id:h.identifier},this._setProperty("movedX",y.movementX),this._setProperty("movedY",y.movementY),this._setProperty("mouseX",i.x),this._setProperty("mouseY",i.y),this._setProperty("winMouseX",i.winX),this._setProperty("winMouseY",i.winY)),this._hasMouseInteracted||(this._updateMouseCoords(),this._setProperty("_hasMouseInteracted",!0))},s.default.prototype._updateMouseCoords=function(){this._setProperty("pmouseX",this.mouseX),this._setProperty("pmouseY",this.mouseY),this._setProperty("pwinMouseX",this.winMouseX),this._setProperty("pwinMouseY",this.winMouseY),this._setProperty("_pmouseWheelDeltaY",this._mouseWheelDeltaY)},s.default.prototype._setMouseButton=function(y){y.button===1?this._setProperty("mouseButton",c.CENTER):y.button===2?this._setProperty("mouseButton",c.RIGHT):this._setProperty("mouseButton",c.LEFT)},s.default.prototype._onmousemove=function(y){var o=this._isGlobal?window:this;this._updateNextMouseCoords(y),this.mouseIsPressed?typeof o.mouseDragged=="function"?o.mouseDragged(y)===!1&&y.preventDefault():typeof o.touchMoved=="function"&&o.touchMoved(y)===!1&&y.preventDefault():typeof o.mouseMoved=="function"&&o.mouseMoved(y)===!1&&y.preventDefault()},s.default.prototype._onmousedown=function(y){var o=this._isGlobal?window:this;this._setProperty("mouseIsPressed",!0),this._setMouseButton(y),this._updateNextMouseCoords(y),this.touchstart||(typeof o.mousePressed=="function"?o.mousePressed(y)===!1&&y.preventDefault():typeof o.touchStarted=="function"&&o.touchStarted(y)===!1&&y.preventDefault(),this.touchstart=!1)},s.default.prototype._onmouseup=function(y){var o=this._isGlobal?window:this;this._setProperty("mouseIsPressed",!1),this.touchend||(typeof o.mouseReleased=="function"?o.mouseReleased(y)===!1&&y.preventDefault():typeof o.touchEnded=="function"&&o.touchEnded(y)===!1&&y.preventDefault(),this.touchend=!1)},s.default.prototype._ondragend=s.default.prototype._onmouseup,s.default.prototype._ondragover=s.default.prototype._onmousemove,s.default.prototype._onclick=function(y){var o=this._isGlobal?window:this;typeof o.mouseClicked=="function"&&o.mouseClicked(y)===!1&&y.preventDefault()},s.default.prototype._ondblclick=function(y){var o=this._isGlobal?window:this;typeof o.doubleClicked=="function"&&o.doubleClicked(y)===!1&&y.preventDefault()},s.default.prototype._mouseWheelDeltaY=0,s.default.prototype._pmouseWheelDeltaY=0,s.default.prototype._onwheel=function(y){var o=this._isGlobal?window:this;this._setProperty("_mouseWheelDeltaY",y.deltaY),typeof o.mouseWheel=="function"&&(y.delta=y.deltaY,o.mouseWheel(y)===!1&&y.preventDefault())},s.default.prototype.requestPointerLock=function(){var y=this._curElement.elt;return y.requestPointerLock=y.requestPointerLock||y.mozRequestPointerLock,y.requestPointerLock?(y.requestPointerLock(),!0):(console.log("requestPointerLock is not implemented in this browser"),!1)},s.default.prototype.exitPointerLock=function(){document.exitPointerLock()},t=s.default,x.default=t},{"../core/constants":269,"../core/main":280,"core-js/modules/es.array.iterator":164,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.to-string":187,"core-js/modules/es.string.iterator":197,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.iterator":243}],300:[function(t,j,x){Object.defineProperty(x,"__esModule",{value:!0}),x.default=void 0,t=(t=t("../core/main"))&&t.__esModule?t:{default:t},t.default.prototype.touches=[],t.default.prototype._updateTouchCoords=function(d){if(this._curElement!==null){for(var f=[],s=0;s<d.touches.length;s++)f[s]=function(p,h,l,o){var a=4<arguments.length&&arguments[4]!==void 0?arguments[4]:0,i=p.getBoundingClientRect(),h=p.scrollWidth/h||1,p=p.scrollHeight/l||1,l=o.touches[a]||o.changedTouches[a];return{x:(l.clientX-i.left)/h,y:(l.clientY-i.top)/p,winX:l.clientX,winY:l.clientY,id:l.identifier}}(this._curElement.elt,this.width,this.height,d,s);this._setProperty("touches",f)}},t.default.prototype._ontouchstart=function(d){var f=this._isGlobal?window:this;this._setProperty("mouseIsPressed",!0),this._updateTouchCoords(d),this._updateNextMouseCoords(d),this._updateMouseCoords(),typeof f.touchStarted=="function"&&(f.touchStarted(d)===!1&&d.preventDefault(),this.touchstart=!0)},t.default.prototype._ontouchmove=function(d){var f=this._isGlobal?window:this;this._updateTouchCoords(d),this._updateNextMouseCoords(d),typeof f.touchMoved=="function"?f.touchMoved(d)===!1&&d.preventDefault():typeof f.mouseDragged=="function"&&f.mouseDragged(d)===!1&&d.preventDefault()},t.default.prototype._ontouchend=function(d){this._setProperty("mouseIsPressed",!1),this._updateTouchCoords(d),this._updateNextMouseCoords(d);var f=this._isGlobal?window:this;typeof f.touchEnded=="function"&&(f.touchEnded(d)===!1&&d.preventDefault(),this.touchend=!0)},t=t.default,x.default=t},{"../core/main":280}],301:[function(t,j,x){t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.typed-array.int32-array"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.typed-array.int32-array"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),Object.defineProperty(x,"__esModule",{value:!0}),x.default=void 0;var d,f,s,c,g={_toPixels:function(y){var o,a;return y instanceof ImageData?y.data:y.getContext("2d")?y.getContext("2d").getImageData(0,0,y.width,y.height).data:y.getContext("webgl")?(a=(o=y.getContext("webgl")).drawingBufferWidth*o.drawingBufferHeight*4,a=new Uint8Array(a),o.readPixels(0,0,y.width,y.height,o.RGBA,o.UNSIGNED_BYTE,a),a):void 0},_getARGB:function(y,o){return o*=4,y[3+o]<<24&4278190080|y[o]<<16&16711680|y[1+o]<<8&65280|255&y[2+o]},_setPixels:function(y,o){for(var a,i=0,h=y.length;i<h;i++)y[0+(a=4*i)]=(16711680&o[i])>>>16,y[1+a]=(65280&o[i])>>>8,y[2+a]=255&o[i],y[3+a]=(4278190080&o[i])>>>24},_toImageData:function(y){return y instanceof ImageData?y:y.getContext("2d").getImageData(0,0,y.width,y.height)},_createImageData:function(y,o){return g._tmpCanvas=document.createElement("canvas"),g._tmpCtx=g._tmpCanvas.getContext("2d"),this._tmpCtx.createImageData(y,o)},apply:function(y,p,a){var i=y.getContext("2d"),h=i.getImageData(0,0,y.width,y.height),p=p(h,a);p instanceof ImageData?i.putImageData(p,0,0,0,0,y.width,y.height):i.putImageData(h,0,0,0,0,y.width,y.height)},threshold:function(y){for(var o=1<arguments.length&&arguments[1]!==void 0?arguments[1]:.5,a=g._toPixels(y),i=Math.floor(255*o),h=0;h<a.length;h+=4){var p=void 0,p=i<=.2126*a[h]+.7152*a[h+1]+.0722*a[h+2]?255:0;a[h]=a[h+1]=a[h+2]=p}},gray:function(y){for(var o=g._toPixels(y),a=0;a<o.length;a+=4){var i=o[a],h=o[a+1],p=o[a+2];o[a]=o[a+1]=o[a+2]=.2126*i+.7152*h+.0722*p}},opaque:function(y){for(var o=g._toPixels(y),a=0;a<o.length;a+=4)o[a+3]=255;return o},invert:function(y){for(var o=g._toPixels(y),a=0;a<o.length;a+=4)o[a]=255-o[a],o[a+1]=255-o[a+1],o[a+2]=255-o[a+2]},posterize:function(y){var o=1<arguments.length&&arguments[1]!==void 0?arguments[1]:4,a=g._toPixels(y);if(o<2||255<o)throw new Error("Level must be greater than 2 and less than 255 for posterize");for(var i=o-1,h=0;h<a.length;h+=4){var p=a[h],l=a[h+1],m=a[h+2];a[h]=255*(p*o>>8)/i,a[h+1]=255*(l*o>>8)/i,a[h+2]=255*(m*o>>8)/i}},dilate:function(y){for(var o,a,i,h,p,l,m,_,b,T=g._toPixels(y),O=0,k=T.length?T.length/4:0,M=new Int32Array(k);O<k;)for(a=(o=O)+y.width;O<a;)h=i=g._getARGB(T,O),(b=O-1)<o&&(b=O),a<=(_=O+1)&&(_=O),(p=O-y.width)<0&&(p=0),k<=(l=O+y.width)&&(l=O),p=g._getARGB(T,p),b=g._getARGB(T,b),l=g._getARGB(T,l),(h=77*(h>>16&255)+151*(h>>8&255)+28*(255&h))<(m=77*(b>>16&255)+151*(b>>8&255)+28*(255&b))&&(i=b,h=m),h<(m=77*((b=g._getARGB(T,_))>>16&255)+151*(b>>8&255)+28*(255&b))&&(i=b,h=m),h<(_=77*(p>>16&255)+151*(p>>8&255)+28*(255&p))&&(i=p,h=_),h<(b=77*(l>>16&255)+151*(l>>8&255)+28*(255&l))&&(i=l,h=b),M[O++]=i;g._setPixels(T,M)},erode:function(y){for(var o,a,i,h,p,l,m,_,b,T=g._toPixels(y),O=0,k=T.length?T.length/4:0,M=new Int32Array(k);O<k;)for(a=(o=O)+y.width;O<a;)h=i=g._getARGB(T,O),(b=O-1)<o&&(b=O),a<=(_=O+1)&&(_=O),(p=O-y.width)<0&&(p=0),k<=(l=O+y.width)&&(l=O),p=g._getARGB(T,p),b=g._getARGB(T,b),l=g._getARGB(T,l),(m=77*(b>>16&255)+151*(b>>8&255)+28*(255&b))<(h=77*(h>>16&255)+151*(h>>8&255)+28*(255&h))&&(i=b,h=m),(m=77*((b=g._getARGB(T,_))>>16&255)+151*(b>>8&255)+28*(255&b))<h&&(i=b,h=m),(_=77*(p>>16&255)+151*(p>>8&255)+28*(255&p))<h&&(i=p,h=_),(b=77*(l>>16&255)+151*(l>>8&255)+28*(255&l))<h&&(i=l,h=b),M[O++]=i;g._setPixels(T,M)},blur:function(y,o){for(var a,i,h,p,l,m,_,b,T,O,k=g._toPixels(y),M=y.width,I=y.height,F=M*I,A=new Int32Array(F),U=0;U<F;U++)A[U]=g._getARGB(k,U);var D,V,G,W,J,Q,Y,z,ee=new Int32Array(F),ie=new Int32Array(F),C=new Int32Array(F),B=new Int32Array(F),H=0,$=3.5*o|0;if(d!==($=$<1?1:$<248?$:248)){f=1+(d=$)<<1,s=new Int32Array(f),c=new Array(f);for(var ne=0;ne<f;ne++)c[ne]=new Int32Array(256);for(var se=1,de=$-1;se<$;se++){s[$+se]=s[de]=Q=de*de,Y=c[$+se],z=c[de--];for(var _e=0;_e<256;_e++)Y[_e]=z[_e]=Q*_e}J=s[$]=$*$,Y=c[$];for(var pe=0;pe<256;pe++)Y[pe]=J*pe}for(V=0;V<I;V++){for(D=0;D<M;D++){if(p=h=i=l=a=0,(m=D-d)<0)O=-m,m=0;else{if(M<=m)break;O=0}for(G=O;G<f&&!(M<=m);G++){var ge=A[m+H];W=c[G],l+=W[(-16777216&ge)>>>24],i+=W[(16711680&ge)>>16],h+=W[(65280&ge)>>8],p+=W[255&ge],a+=s[G],m++}ee[_=H+D]=l/a,ie[_]=i/a,C[_]=h/a,B[_]=p/a}H+=M}for(T=(b=-d)*M,V=H=0;V<I;V++){for(D=0;D<M;D++){if(p=h=i=l=a=0,b<0)O=_=-b,m=D;else{if(I<=b)break;O=0,_=b,m=D+T}for(G=O;G<f&&!(I<=_);G++)W=c[G],l+=W[ee[m]],i+=W[ie[m]],h+=W[C[m]],p+=W[B[m]],a+=s[G],_++,m+=M;A[D+H]=l/a<<24|i/a<<16|h/a<<8|p/a}H+=M,T+=M,b++}g._setPixels(k,A)}};x.default=g},{"core-js/modules/es.array.iterator":164,"core-js/modules/es.object.to-string":187,"core-js/modules/es.typed-array.copy-within":210,"core-js/modules/es.typed-array.every":211,"core-js/modules/es.typed-array.fill":212,"core-js/modules/es.typed-array.filter":213,"core-js/modules/es.typed-array.find":215,"core-js/modules/es.typed-array.find-index":214,"core-js/modules/es.typed-array.for-each":218,"core-js/modules/es.typed-array.includes":219,"core-js/modules/es.typed-array.index-of":220,"core-js/modules/es.typed-array.int32-array":222,"core-js/modules/es.typed-array.iterator":223,"core-js/modules/es.typed-array.join":224,"core-js/modules/es.typed-array.last-index-of":225,"core-js/modules/es.typed-array.map":226,"core-js/modules/es.typed-array.reduce":228,"core-js/modules/es.typed-array.reduce-right":227,"core-js/modules/es.typed-array.reverse":229,"core-js/modules/es.typed-array.set":230,"core-js/modules/es.typed-array.slice":231,"core-js/modules/es.typed-array.some":232,"core-js/modules/es.typed-array.sort":233,"core-js/modules/es.typed-array.subarray":234,"core-js/modules/es.typed-array.to-locale-string":235,"core-js/modules/es.typed-array.to-string":236,"core-js/modules/es.typed-array.uint8-array":239}],302:[function(t,j,x){t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.set"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.uint32-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.set"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.uint32-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(x,"__esModule",{value:!0}),x.default=void 0;var d=s(t("../core/main")),f=s(t("omggif"));function s(g){return g&&g.__esModule?g:{default:g}}function c(g){return function(y){if(Array.isArray(y)){for(var o=0,a=new Array(y.length);o<y.length;o++)a[o]=y[o];return a}}(g)||function(y){if(Symbol.iterator in Object(y)||Object.prototype.toString.call(y)==="[object Arguments]")return Array.from(y)}(g)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}d.default.prototype.createImage=function(g,y){return d.default._validateParameters("createImage",arguments),new d.default.Image(g,y)},d.default.prototype.saveCanvas=function(){for(var g,y,o,a,i,h,p=arguments.length,l=new Array(p),m=0;m<p;m++)l[m]=arguments[m];switch(d.default._validateParameters("saveCanvas",l),l[0]instanceof HTMLCanvasElement?(g=l[0],l.shift()):l[0]instanceof d.default.Element?(g=l[0].elt,l.shift()):l[0]instanceof d.default.Framebuffer?(a=l[0],(i=this.createGraphics(a.width,a.height)).pixelDensity(pixelDensity()),a.loadPixels(),i.loadPixels(),i.pixels.set(a.pixels),i.updatePixels(),g=i.elt,l.shift()):g=this._curElement&&this._curElement.elt,1<=l.length&&(y=l[0]),o=(o=2<=l.length?l[1]:o)||d.default.prototype._checkFileExtension(y,o)[1]||"png"){default:h="image/png";break;case"jpeg":case"jpg":h="image/jpeg"}g.toBlob(function(_){d.default.prototype.downloadFile(_,y,o),i&&i.remove()},h)},d.default.prototype.encodeAndDownloadGif=function(g,y){for(var o=g.gifProperties,a=o.loopLimit,i=(a===1?a=null:a===null&&(a=0),new Uint8Array(g.width*g.height*o.numFrames)),h=[],p={},l=0;l<o.numFrames;l++){for(var m=new Set,_=o.frames[l].image.data,b=_.length,T=new Uint32Array(g.width*g.height),O=0,k=0;O<b;O+=4,k++){var M=_[O+0]<<16|_[O+1]<<8|_[O+2]<<0;m.add(M),T[k]=M}var I=c(m).sort().toString();p[I]===void 0?p[I]={freq:1,frames:[l]}:(p[I].freq+=1,p[I].frames.push(l)),h.push(T)}for(var U=[],F=Object.keys(p).sort(function(C,B){return p[B].freq-p[C].freq}),A=F[0].split(",").map(function(C){return parseInt(C)}),U=U.concat(p[A].frames),D=new Set(A),V=1;V<F.length;V++){var G=F[V].split(",").map(function(C){return parseInt(C)}).filter(function(C){return!D.has(C)});if(A.length+G.length<=256){for(var W=0;W<G.length;W++)A.push(G[W]),D.add(G[W]);U=U.concat(p[F[V]].frames)}}U=new Set(U);for(var J={},Q=0;Q<A.length;Q++)J[A[Q]]||(J[A[Q]]=Q);for(var Y=1;Y<A.length;)Y<<=1;A.length=Y;for(var a={loop:a,palette:new Uint32Array(A)},z=new f.default.GifWriter(i,g.width,g.height,a),ee={},ie=0;ie<o.numFrames;ie++)(function(B){var H=!U.has(B),$=H?[]:A,ne=new Uint8Array(g.width*g.height),se={},de=new Set,_e=(h[B].forEach(function(he,be){H?(se[he]===void 0&&(se[he]=$.length,$.push(he)),ne[be]=se[he]):ne[be]=J[he],0<B&&h[B-1][be]!==he&&de.add(he)}),{}),pe=$.filter(function(he){return!de.has(he)});if(0<pe.length){var pe=pe[0],ge=(H?se:J)[pe];if(0<B){for(var ve=0;ve<h[B].length;ve++)h[B-1][ve]===h[B][ve]&&(ne[ve]=ge);_e.transparent=ge,ee.frameOpts.disposal=1}}if(_e.delay=o.frames[B].delay/10,H){for(var le=1;le<$.length;)le<<=1;$.length=le,_e.palette=new Uint32Array($)}0<B&&z.addFrame(0,0,g.width,g.height,ee.pixelPaletteIndex,ee.frameOpts),ee={pixelPaletteIndex:ne,frameOpts:_e}})(ie);ee.frameOpts.disposal=1,z.addFrame(0,0,g.width,g.height,ee.pixelPaletteIndex,ee.frameOpts),a=new Blob([i.slice(0,z.end())],{type:"image/gif"}),d.default.prototype.downloadFile(a,y,"gif")},d.default.prototype.saveFrames=function(g,y,o,h,i){d.default._validateParameters("saveFrames",arguments),o=d.default.prototype.constrain(o=o||3,0,15),o*=1e3;var h=d.default.prototype.constrain(h||15,0,22),p=0,l=d.default.prototype._makeFrame,m=this._curElement.elt,_=[],b=setInterval(function(){_.push(l(g+p,y,m)),p++},1e3/h);setTimeout(function(){if(clearInterval(b),i)i(_);else for(var T=0,O=_;T<O.length;T++){var k=O[T];d.default.prototype.downloadFile(k.imageData,k.filename,k.ext)}_=[]},.01+o)},d.default.prototype._makeFrame=function(g,y,i){var a,i=this?this._curElement.elt:i;if(y)switch(y.toLowerCase()){case"png":a="image/png";break;case"jpeg":case"jpg":a="image/jpeg";break;default:a="image/png"}else y="png",a="image/png";var i=(i=i.toDataURL(a)).replace(a,"image/octet-stream"),h={};return h.imageData=i,h.filename=g,h.ext=y,h},t=d.default,x.default=t},{"../core/main":280,"core-js/modules/es.array.concat":152,"core-js/modules/es.array.filter":156,"core-js/modules/es.array.for-each":160,"core-js/modules/es.array.from":161,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.map":167,"core-js/modules/es.array.slice":168,"core-js/modules/es.object.keys":186,"core-js/modules/es.object.to-string":187,"core-js/modules/es.regexp.exec":192,"core-js/modules/es.regexp.to-string":193,"core-js/modules/es.set":194,"core-js/modules/es.string.iterator":197,"core-js/modules/es.string.replace":201,"core-js/modules/es.string.split":203,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.typed-array.copy-within":210,"core-js/modules/es.typed-array.every":211,"core-js/modules/es.typed-array.fill":212,"core-js/modules/es.typed-array.filter":213,"core-js/modules/es.typed-array.find":215,"core-js/modules/es.typed-array.find-index":214,"core-js/modules/es.typed-array.for-each":218,"core-js/modules/es.typed-array.includes":219,"core-js/modules/es.typed-array.index-of":220,"core-js/modules/es.typed-array.iterator":223,"core-js/modules/es.typed-array.join":224,"core-js/modules/es.typed-array.last-index-of":225,"core-js/modules/es.typed-array.map":226,"core-js/modules/es.typed-array.reduce":228,"core-js/modules/es.typed-array.reduce-right":227,"core-js/modules/es.typed-array.reverse":229,"core-js/modules/es.typed-array.set":230,"core-js/modules/es.typed-array.slice":231,"core-js/modules/es.typed-array.some":232,"core-js/modules/es.typed-array.sort":233,"core-js/modules/es.typed-array.subarray":234,"core-js/modules/es.typed-array.to-locale-string":235,"core-js/modules/es.typed-array.to-string":236,"core-js/modules/es.typed-array.uint32-array":238,"core-js/modules/es.typed-array.uint8-array":239,"core-js/modules/web.dom-collections.for-each":242,"core-js/modules/web.dom-collections.iterator":243,omggif:253}],303:[function(t,j,x){function d(m){return(d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _})(m)}function f(m){return(f=typeof Symbol=="function"&&d(Symbol.iterator)==="symbol"?function(_){return d(_)}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":d(_)})(m)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.copy-within"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.uint8-clamped-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.copy-within"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.uint8-clamped-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),Object.defineProperty(x,"__esModule",{value:!0}),x.default=void 0,t("regenerator-runtime/runtime");var s=i(t("../core/main")),c=i(t("../core/helpers")),g=function(m){if(m&&m.__esModule)return m;if(m===null||f(m)!=="object"&&typeof m!="function")return{default:m};var _=a();if(_&&_.has(m))return _.get(m);var b,T={},O=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(b in m){var k;Object.prototype.hasOwnProperty.call(m,b)&&((k=O?Object.getOwnPropertyDescriptor(m,b):null)&&(k.get||k.set)?Object.defineProperty(T,b,k):T[b]=m[b])}return T.default=m,_&&_.set(m,T),T}(t("../core/constants")),y=i(t("omggif")),o=t("gifenc");function a(){var m;return typeof WeakMap!="function"?null:(m=new WeakMap,a=function(){return m},m)}function i(m){return m&&m.__esModule?m:{default:m}}function h(m,_,b,T,O,k,M){try{var I=m[k](M),F=I.value}catch(A){return void b(A)}I.done?_(F):Promise.resolve(F).then(T,O)}function p(m,_,b,T,O,k,M,I,F,A,U){var D,V,G,W,J,Q,Y,z,ee;return m===g.COVER&&(D=_,G=b,Y=k,z=M,Q=I,ee=F,V=A,W=U,J=Math.max(Y/V,z/W),Y/=J,z/=J,J=Q,Q=ee,D===g.CENTER?J+=(V-Y)/2:D===g.RIGHT&&(J+=V-Y),G===g.CENTER?Q+=(W-z)/2:G===g.BOTTOM&&(Q+=W-z),I=(ee={x:J,y:Q,w:Y,h:z}).x,F=ee.y,A=ee.w,U=ee.h),m===g.CONTAIN&&(D=_,V=b,G=T,W=O,J=k,Q=M,Y=A,z=U,ee=Math.max(Y/J,z/Q),Y/=ee,z/=ee,ee=G,G=W,D===g.CENTER?ee+=(J-Y)/2:D===g.RIGHT&&(ee+=J-Y),V===g.CENTER?G+=(Q-z)/2:V===g.BOTTOM&&(G+=Q-z),T=(m={x:ee,y:G,w:Y,h:z}).x,O=m.y,k=m.w,M=m.h),{sx:I,sy:F,sw:A,sh:U,dx:T,dy:O,dw:k,dh:M}}function l(m,_){return 0<m&&m<_?m:_}t("../core/friendly_errors/validate_params"),t("../core/friendly_errors/file_errors"),t("../core/friendly_errors/fes_core"),s.default.prototype.loadImage=function(m,_,b){s.default._validateParameters("loadImage",arguments);var T=new s.default.Image(1,1,this),O=this,k=new Request(m,{method:"GET",mode:"cors"});return fetch(m,k).then(function(M){var I,F=M.headers.get("content-type");F===null&&console.warn("The image you loaded does not have a Content-Type header. If you are using the online editor consider reuploading the asset."),F&&F.includes("image/gif")?M.arrayBuffer().then(function(A){if(A){for(var A=new Uint8Array(A),U=T,D=_,V=b,G=(function(H){O._decrementPreload()}).bind(O),W=new y.default.GifReader(A),J=(U.width=U.canvas.width=W.width,U.height=U.canvas.height=W.height,[]),Q=W.numFrames(),Y=new Uint8ClampedArray(U.width*U.height*4),z=0;z<Q;z++){var ee=W.frameInfo(z),ie=U.drawingContext.getImageData(0,0,U.width,U.height),C=(Y=ie.data.slice(),function(H,$){try{$.decodeAndBlitFrameRGBA(H,Y)}catch(ne){s.default._friendlyFileLoadError(8,U.src),typeof V=="function"?V(ne):console.error(ne)}}(z,W),new ImageData(Y,U.width,U.height)),C=(U.drawingContext.putImageData(C,0,0),ee.delay);C===0&&(C=10),J.push({image:U.drawingContext.getImageData(0,0,U.width,U.height),delay:10*C}),ee.disposal===2?U.drawingContext.clearRect(ee.x,ee.y,ee.width,ee.height):ee.disposal===3&&U.drawingContext.putImageData(ie,0,0,ee.x,ee.y,ee.width,ee.height)}(A=W.loopCount())===null?A=1:A===0&&(A=null),U.drawingContext.putImageData(J[0].image,0,0),1<J.length&&(U.gifProperties={displayIndex:0,loopLimit:A,loopCount:0,frames:J,numFrames:Q,playing:!0,timeDisplayed:0,lastChangeTime:0}),typeof D=="function"&&D(U),G()}},function(A){typeof b=="function"?(b(A),O._decrementPreload()):console.error(A)}):((I=new Image).onload=function(){T.width=T.canvas.width=I.width,T.height=T.canvas.height=I.height,T.drawingContext.drawImage(I,0,0),T.modified=!0,typeof _=="function"&&_(T),O._decrementPreload()},I.onerror=function(A){s.default._friendlyFileLoadError(0,I.src),typeof b=="function"?(b(A),O._decrementPreload()):console.error(A)},m.indexOf("data:image/")!==0&&(I.crossOrigin="Anonymous"),I.src=m),T.modified=!0}).catch(function(M){s.default._friendlyFileLoadError(0,m),typeof b=="function"?(b(M),O._decrementPreload()):console.error(M)}),T},s.default.prototype.saveGif=function(){m=regeneratorRuntime.mark(function b(T,O){var k,M,I,F,A,U,D,V,G,W,J,Q,Y,z,ee,ie,C,B,H,$,ne,se,de,_e,pe,ge,ve=arguments;return regeneratorRuntime.wrap(function(le){for(;;)switch(le.prev=le.next){case 0:if(k=2<ve.length&&ve[2]!==void 0?ve[2]:{delay:0,units:"seconds",silent:!1,notificationDuration:0,notificationID:"progressBar"},typeof T!="string")throw TypeError("fileName parameter must be a string");le.next=3;break;case 3:if(typeof O!="number")throw TypeError("Duration parameter must be a number");le.next=5;break;case 5:if(M=k&&k.delay||0,I=k&&k.units||"seconds",F=k&&k.silent||!1,A=k&&k.notificationDuration||0,U=k&&k.notificationID||"progressBar",typeof M!="number")throw TypeError("Delay parameter must be a number");le.next=12;break;case 12:if(I!=="seconds"&&I!=="frames")throw TypeError('Units parameter must be either "frames" or "seconds"');le.next=14;break;case 14:if(typeof F!="boolean")throw TypeError("Silent parameter must be a boolean");le.next=16;break;case 16:if(typeof A!="number")throw TypeError("Notification duration parameter must be a number");le.next=18;break;case 18:if(typeof U!="string")throw TypeError("Notification ID parameter must be a string");le.next=20;break;case 20:return this._recording=!0,W=this._targetFrameRate,D=(D=1/(W=W!==1/0&&W!==void 0&&W!==0?W:60)*1e3)<20?20:D,G=(V=I==="seconds"?O*W:O)+(W=I==="seconds"?M*W:M),W=W,this.frameCount=W,J=this._pixelDensity,this.pixelDensity(1),Q=[],document.getElementById(U)!==null&&document.getElementById(U).remove(),F||((Y=this.createP("")).id(U),Y.style("font-size","16px"),Y.style("font-family","Montserrat"),Y.style("background-color","#ffffffa0"),Y.style("padding","8px"),Y.style("border-radius","10px"),Y.position(0,0)),this._renderer instanceof s.default.RendererGL&&(ee=this.drawingContext,z=new Uint8Array(ee.drawingBufferWidth*ee.drawingBufferHeight*4)),this.noLoop(),le.next=39,Promise.resolve();case 39:if(W<G)return this.redraw(),_e=void 0,_e=this._renderer instanceof s.default.RendererGL?(z=new Uint8Array(ee.drawingBufferWidth*ee.drawingBufferHeight*4),ee.readPixels(0,0,ee.drawingBufferWidth,ee.drawingBufferHeight,ee.RGBA,ee.UNSIGNED_BYTE,z),function(he,be,Ae){for(var je=parseInt(Ae/2),Te=4*be,Me=new Uint8Array(4*be),qe=0;qe<je;++qe){var Ne=qe*Te,ct=(Ae-qe-1)*Te;Me.set(he.subarray(Ne,Ne+Te)),he.copyWithin(Ne,ct,ct+Te),he.set(Me,ct)}return he}(z,this.width,this.height)):this.drawingContext.getImageData(0,0,this.width,this.height).data,Q.push(_e),W++,F||Y.html("Saved frame <b>"+Q.length.toString()+"</b> out of "+V.toString()),le.next=48,new Promise(function(he){return setTimeout(he,0)});le.next=50;break;case 48:le.next=39;break;case 50:F||Y.html("Frames processed, generating color palette..."),this.loop(),this.pixelDensity(J),ie=(0,o.GIFEncoder)(),C=function(he){for(var be=new Uint8Array(he.length*he[0].length),Ae=0;Ae<he.length;Ae++)be.set(he[Ae],Ae*he[0].length);var je=(0,o.quantize)(be,256,{format:"rgba4444",oneBitAlpha:!0});return je.length===256?je[je.length-1]=[255*Math.random(),255*Math.random(),255*Math.random(),0]:je.push([255*Math.random(),255*Math.random(),255*Math.random(),0]),je}(Q),B={},H=function(he){for(var be=he.length/4,Ae=new Uint8Array(be),je=0;je<be;je++){var Te=he[4*je]<<24|he[4*je+1]<<16|he[4*je+2]<<8|he[4*je+3];B[Te]===void 0&&(B[Te]=(0,o.nearestColorIndex)(C,he.slice(4*je,4*(je+1)))),Ae[je]=B[Te]}return Ae},$=C.length-1,ne=[],se=0;case 60:if(!(se<Q.length)){le.next=71;break}if(de=H(Q[se]),_e=de.slice(),se===0)ie.writeFrame(de,this.width,this.height,{palette:C,delay:D,dispose:1});else{for(pe=0;pe<de.length;pe++)de[pe]===ne[pe]&&(de[pe]=$);ie.writeFrame(de,this.width,this.height,{delay:D,transparent:!0,transparentIndex:$,dispose:1})}return ne=_e,F||Y.html("Rendered frame <b>"+se.toString()+"</b> out of "+V.toString()),le.next=68,new Promise(function(he){return setTimeout(he,0)});case 68:se++,le.next=60;break;case 71:ie.finish(),ge=ie.bytesView(),ge=new Blob([ge],{type:"image/gif"}),Q=[],this._recording=!1,this.loop(),F||(Y.html("Done. Downloading your gif!"),0<A&&setTimeout(function(){return Y.remove()},1e3*A)),s.default.prototype.downloadFile(ge,T,"gif");case 80:case"end":return le.stop()}},b,this)});var m,_=function(){var b=this,T=arguments;return new Promise(function(O,k){var M=m.apply(b,T);function I(A){h(M,O,k,I,F,"next",A)}function F(A){h(M,O,k,I,F,"throw",A)}I(void 0)})};return function(b,T){return _.apply(this,arguments)}}(),s.default.prototype.image=function(m,_,b,T,W,J,Q,Y,ee,A,U,D){s.default._validateParameters("image",arguments);var z=m.width,V=m.height,G=(D=D||g.CENTER,U=U||g.CENTER,m.elt&&(z=z!==void 0?z:m.elt.width,V=V!==void 0?V:m.elt.height),m.elt&&m.elt.videoWidth&&!m.canvas&&(z=z!==void 0?z:m.elt.videoWidth,V=V!==void 0?V:m.elt.videoHeight),T||z),W=W||V,J=J||0,Q=Q||0,Y=l(Y!==void 0?Y:z,z),z=l(ee!==void 0?ee:V,V),ee=1;m.elt&&!m.canvas&&m.elt.style.width&&(ee=m.elt.videoWidth&&!T?m.elt.videoWidth:m.elt.width,ee/=parseInt(m.elt.style.width,10)),J*=ee,Q*=ee,z*=ee,Y*=ee,V=p(A,U,D,(V=c.default.modeAdjust(_,b,G,W,this._renderer._imageMode)).x,V.y,V.w,V.h,J,Q,Y,z),this._renderer.image(m,V.sx,V.sy,V.sw,V.sh,V.dx,V.dy,V.dw,V.dh)},s.default.prototype.tint=function(){for(var m=arguments.length,_=new Array(m),b=0;b<m;b++)_[b]=arguments[b];s.default._validateParameters("tint",_);var T=this.color.apply(this,_);this._renderer._tint=T.levels},s.default.prototype.noTint=function(){this._renderer._tint=null},s.default.prototype._getTintedImageCanvas=s.default.Renderer2D.prototype._getTintedImageCanvas,s.default.prototype.imageMode=function(m){s.default._validateParameters("imageMode",arguments),m!==g.CORNER&&m!==g.CORNERS&&m!==g.CENTER||(this._renderer._imageMode=m)},t=s.default,x.default=t},{"../core/constants":269,"../core/friendly_errors/fes_core":271,"../core/friendly_errors/file_errors":272,"../core/friendly_errors/validate_params":275,"../core/helpers":276,"../core/main":280,"core-js/modules/es.array.copy-within":153,"core-js/modules/es.array.includes":162,"core-js/modules/es.array.index-of":163,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.slice":168,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.to-string":187,"core-js/modules/es.promise":188,"core-js/modules/es.regexp.to-string":193,"core-js/modules/es.string.includes":196,"core-js/modules/es.string.iterator":197,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.typed-array.copy-within":210,"core-js/modules/es.typed-array.every":211,"core-js/modules/es.typed-array.fill":212,"core-js/modules/es.typed-array.filter":213,"core-js/modules/es.typed-array.find":215,"core-js/modules/es.typed-array.find-index":214,"core-js/modules/es.typed-array.for-each":218,"core-js/modules/es.typed-array.includes":219,"core-js/modules/es.typed-array.index-of":220,"core-js/modules/es.typed-array.iterator":223,"core-js/modules/es.typed-array.join":224,"core-js/modules/es.typed-array.last-index-of":225,"core-js/modules/es.typed-array.map":226,"core-js/modules/es.typed-array.reduce":228,"core-js/modules/es.typed-array.reduce-right":227,"core-js/modules/es.typed-array.reverse":229,"core-js/modules/es.typed-array.set":230,"core-js/modules/es.typed-array.slice":231,"core-js/modules/es.typed-array.some":232,"core-js/modules/es.typed-array.sort":233,"core-js/modules/es.typed-array.subarray":234,"core-js/modules/es.typed-array.to-locale-string":235,"core-js/modules/es.typed-array.to-string":236,"core-js/modules/es.typed-array.uint8-array":239,"core-js/modules/es.typed-array.uint8-clamped-array":240,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.iterator":243,gifenc:250,omggif:253,"regenerator-runtime/runtime":257}],304:[function(t,j,x){t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(x,"__esModule",{value:!0}),x.default=void 0;var d=s(t("../core/main")),f=s(t("./filters"));function s(g){return g&&g.__esModule?g:{default:g}}function c(g,y){for(var o=0;o<y.length;o++){var a=y[o];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(g,a.key,a)}}d.default.Image=function(){function g(a,i){if(!(this instanceof g))throw new TypeError("Cannot call a class as a function");this.width=a,this.height=i,this.canvas=document.createElement("canvas"),this.canvas.width=this.width,this.canvas.height=this.height,this.drawingContext=this.canvas.getContext("2d"),(this._pixelsState=this)._pixelDensity=1,this.gifProperties=null,this._modified=!1,this.pixels=[]}var y,o;return y=g,(o=[{key:"pixelDensity",value:function(a){return a!==void 0?(a<=0&&(d.default._friendlyParamError({type:"INVALID_VALUE",format:{types:["Number"]},position:1},"pixelDensity"),a=1),this._pixelDensity=a,this.width/=a,this.height/=a,this):this._pixelDensity}},{key:"_animateGif",value:function(p){var i,h=this.gifProperties,p=p._lastRealFrameTime||window.performance.now();h.lastChangeTime===0&&(h.lastChangeTime=p),h.playing&&(h.timeDisplayed=p-h.lastChangeTime,i=h.frames[h.displayIndex].delay,h.timeDisplayed>=i&&(i=Math.floor(h.timeDisplayed/i),h.timeDisplayed=0,h.lastChangeTime=p,h.displayIndex+=i,h.loopCount=Math.floor(h.displayIndex/h.numFrames),h.loopLimit!==null&&h.loopCount>=h.loopLimit?h.playing=!1:(p=h.displayIndex%h.numFrames,this.drawingContext.putImageData(h.frames[p].image,0,0),h.displayIndex=p,this.setModified(!0))))}},{key:"_setProperty",value:function(a,i){this[a]=i,this.setModified(!0)}},{key:"loadPixels",value:function(){d.default.Renderer2D.prototype.loadPixels.call(this),this.setModified(!0)}},{key:"updatePixels",value:function(a,i,h,p){d.default.Renderer2D.prototype.updatePixels.call(this,a,i,h,p),this.setModified(!0)}},{key:"get",value:function(a,i,h,p){return d.default._validateParameters("p5.Image.get",arguments),d.default.Renderer2D.prototype.get.apply(this,arguments)}},{key:"_getPixel",value:function(){for(var a=arguments.length,i=new Array(a),h=0;h<a;h++)i[h]=arguments[h];return d.default.Renderer2D.prototype._getPixel.apply(this,i)}},{key:"set",value:function(a,i,h){d.default.Renderer2D.prototype.set.call(this,a,i,h),this.setModified(!0)}},{key:"resize",value:function(a,i){a===0&&i===0?(a=this.canvas.width,i=this.canvas.height):a===0?a=this.canvas.width*i/this.canvas.height:i===0&&(i=this.canvas.height*a/this.canvas.width),a=Math.floor(a),i=Math.floor(i);var h=document.createElement("canvas");if(h.width=a,h.height=i,this.gifProperties)for(var p=this.gifProperties,l=0;l<p.numFrames;l++){for(var m=this.drawingContext.createImageData(a,i),_=(M=M=k=O=T=void 0,p.frames[l].image),b=m,T=0,O=0;O<b.height;O++)for(var k=0;k<b.width;k++){var M=Math.floor(k*_.width/b.width),M=4*(Math.floor(O*_.height/b.height)*_.width+M);b.data[T++]=_.data[M++],b.data[T++]=_.data[M++],b.data[T++]=_.data[M++],b.data[T++]=_.data[+M]}p.frames[l].image=m}h.getContext("2d").drawImage(this.canvas,0,0,this.canvas.width,this.canvas.height,0,0,h.width,h.height),this.canvas.width=this.width=a,this.canvas.height=this.height=i,this.drawingContext.drawImage(h,0,0,a,i,0,0,a,i),0<this.pixels.length&&this.loadPixels(),this.setModified(!0)}},{key:"copy",value:function(){for(var a=arguments.length,i=new Array(a),h=0;h<a;h++)i[h]=arguments[h];d.default.prototype.copy.apply(this,i)}},{key:"mask",value:function(a){var i=this.drawingContext.globalCompositeOperation,h=this._pixelDensity,p=1,l=[a=a===void 0?this:a,0,0,(p=a instanceof d.default.Renderer?a._pInst._pixelDensity:p)*a.width,p*a.height,0,0,h*this.width,h*this.height];if(this.drawingContext.globalCompositeOperation="destination-in",this.gifProperties){for(var m=0;m<this.gifProperties.frames.length;m++)this.drawingContext.putImageData(this.gifProperties.frames[m].image,0,0),this.copy.apply(this,l),this.gifProperties.frames[m].image=this.drawingContext.getImageData(0,0,h*this.width,h*this.height);this.drawingContext.putImageData(this.gifProperties.frames[this.gifProperties.displayIndex].image,0,0)}else this.copy.apply(this,l);this.drawingContext.globalCompositeOperation=i,this.setModified(!0)}},{key:"filter",value:function(a,i){f.default.apply(this.canvas,f.default[a],i),this.setModified(!0)}},{key:"blend",value:function(){for(var a=arguments.length,i=new Array(a),h=0;h<a;h++)i[h]=arguments[h];d.default._validateParameters("p5.Image.blend",arguments),d.default.prototype.blend.apply(this,i),this.setModified(!0)}},{key:"setModified",value:function(a){this._modified=a}},{key:"isModified",value:function(){return this._modified}},{key:"save",value:function(a,i){this.gifProperties?d.default.prototype.encodeAndDownloadGif(this,a):d.default.prototype.saveCanvas(this.canvas,a,i)}},{key:"reset",value:function(){var a;this.gifProperties&&((a=this.gifProperties).playing=!0,a.timeSinceStart=0,a.timeDisplayed=0,a.lastChangeTime=0,a.loopCount=0,a.displayIndex=0,this.drawingContext.putImageData(a.frames[0].image,0,0))}},{key:"getCurrentFrame",value:function(){var a;if(this.gifProperties)return(a=this.gifProperties).displayIndex%a.numFrames}},{key:"setFrame",value:function(a){var i;this.gifProperties&&(a<(i=this.gifProperties).numFrames&&0<=a?(i.timeDisplayed=0,i.lastChangeTime=0,i.displayIndex=a,this.drawingContext.putImageData(i.frames[a].image,0,0)):console.log("Cannot set GIF to a frame number that is higher than total number of frames or below zero."))}},{key:"numFrames",value:function(){if(this.gifProperties)return this.gifProperties.numFrames}},{key:"play",value:function(){this.gifProperties&&(this.gifProperties.playing=!0)}},{key:"pause",value:function(){this.gifProperties&&(this.gifProperties.playing=!1)}},{key:"delay",value:function(a,i){if(this.gifProperties){var h=this.gifProperties;if(i<h.numFrames&&0<=i)h.frames[i].delay=a;else{var p=!0,i=!1,l=void 0;try{for(var m,_=h.frames[Symbol.iterator]();!(p=(m=_.next()).done);p=!0)m.value.delay=a}catch(T){i=!0,l=T}finally{try{p||_.return==null||_.return()}finally{if(i)throw l}}}}}}])&&c(y.prototype,o),g}(),t=d.default.Image,x.default=t},{"../core/main":280,"./filters":301,"core-js/modules/es.array.iterator":164,"core-js/modules/es.object.to-string":187,"core-js/modules/es.string.iterator":197,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/web.dom-collections.iterator":243}],305:[function(t,j,x){t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.filter"),Object.defineProperty(x,"__esModule",{value:!0}),x.default=void 0;var d=s(t("../core/main")),f=s(t("./filters"));function s(c){return c&&c.__esModule?c:{default:c}}t("../color/p5.Color"),d.default.prototype.pixels=[],d.default.prototype.blend=function(){for(var c,g=arguments.length,y=new Array(g),o=0;o<g;o++)y[o]=arguments[o];d.default._validateParameters("blend",y),this._renderer?(c=this._renderer).blend.apply(c,y):d.default.Renderer2D.prototype.blend.apply(this,y)},d.default.prototype.copy=function(){for(var c,g,y,o,a,i,h,p,l,m=arguments.length,_=new Array(m),b=0;b<m;b++)_[b]=arguments[b];if(d.default._validateParameters("copy",_),_.length===9)c=_[0],g=_[1],y=_[2],o=_[3],a=_[4],i=_[5],h=_[6],p=_[7],l=_[8];else{if(_.length!==8)throw new Error("Signature not supported");c=this,g=_[0],y=_[1],o=_[2],a=_[3],i=_[4],h=_[5],p=_[6],l=_[7]}d.default.prototype._copyHelper(this,c,g,y,o,a,i,h,p,l)},d.default.prototype._copyHelper=function(c,g,y,o,a,i,h,p,l,m){var _=g.canvas.width/g.width,b=0,T=0;g._renderer&&g._renderer.isP3D&&(b=g.width/2,T=g.height/2),c._renderer&&c._renderer.isP3D?(c.push(),c.resetMatrix(),c.noLights(),c.blendMode(c.BLEND),c.imageMode(c.CORNER),d.default.RendererGL.prototype.image.call(c._renderer,g,y+b,o+T,a,i,h,p,l,m),c.pop()):c.drawingContext.drawImage(g.canvas,_*(y+b),_*(o+T),_*a,_*i,h,p,l,m)},d.default.prototype.getFilterGraphicsLayer=function(){return this._renderer.getFilterGraphicsLayer()},d.default.prototype.filter=function(){for(var c=arguments.length,g=new Array(c),y=0;y<c;y++)g[y]=arguments[y];d.default._validateParameters("filter",g);var h=(function(){var p,l={shader:void 0,operation:void 0,value:void 0,useWebGL:!0};return(arguments.length<=0?void 0:arguments[0])instanceof d.default.Shader?l.shader=arguments.length<=0?void 0:arguments[0]:(l.operation=arguments.length<=0?void 0:arguments[0],1<arguments.length&&typeof(arguments.length<=1?void 0:arguments[1])=="number"&&(l.value=arguments.length<=1?void 0:arguments[1]),((p=arguments.length-1)<0||arguments.length<=p?void 0:arguments[p])===!1&&(l.useWebGL=!1)),l}).apply(void 0,g),o=h.shader,a=h.operation,i=h.value,h=h.useWebGL;this._renderer.isP3D&&o?d.default.RendererGL.prototype.filter.call(this._renderer,o):h||this._renderer.isP3D?(!h&&this._renderer.isP3D&&console.warn("filter() with useWebGL=false is not supported in WEBGL"),this._renderer.isP3D?d.default.RendererGL.prototype.filter.call(this._renderer,a,i):((o=this.getFilterGraphicsLayer()).copy(this._renderer,0,0,this.width,this.height,-this.width/2,-this.height/2,this.width,this.height),this._renderer.clear(),this._renderer.resetMatrix(),o.filter.apply(o,g),this.copy(o._renderer,0,0,this.width,this.height,0,0,this.width,this.height),o.clear())):this.canvas!==void 0?f.default.apply(this.canvas,f.default[a],i):f.default.apply(this.elt,f.default[a],i)},d.default.prototype.get=function(c,g,y,o){var a;return d.default._validateParameters("get",arguments),(a=this._renderer).get.apply(a,arguments)},d.default.prototype.loadPixels=function(){for(var c=arguments.length,g=new Array(c),y=0;y<c;y++)g[y]=arguments[y];d.default._validateParameters("loadPixels",g),this._renderer.loadPixels()},d.default.prototype.set=function(c,g,y){this._renderer.set(c,g,y)},d.default.prototype.updatePixels=function(c,g,y,o){d.default._validateParameters("updatePixels",arguments),this.pixels.length!==0&&this._renderer.updatePixels(c,g,y,o)},t=d.default,x.default=t},{"../color/p5.Color":267,"../core/main":280,"./filters":301,"core-js/modules/es.array.filter":156}],306:[function(t,j,x){function d(i){return(d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(h){return typeof h}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(i)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.last-index-of"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.function.name"),t("core-js/modules/es.object.from-entries"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/web.url"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.last-index-of"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.function.name"),t("core-js/modules/es.object.from-entries"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/web.url"),Object.defineProperty(x,"__esModule",{value:!0}),x.default=void 0;var f=g(t("../core/main")),s=(t("whatwg-fetch"),t("es6-promise/auto"),g(t("fetch-jsonp"))),c=g(t("file-saver"));function g(i){return i&&i.__esModule?i:{default:i}}function y(i){return(y=typeof Symbol=="function"&&d(Symbol.iterator)==="symbol"?function(h){return d(h)}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":d(h)})(i)}function o(i){return i.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}function a(i,h){h&&h!==!0&&h!=="true"||(h="");var p="";return(i=i||"untitled")&&i.includes(".")&&(p=i.split(".").pop()),h&&p!==h&&(p=h,i="".concat(i,".").concat(p)),[i,p]}t("../core/friendly_errors/validate_params"),t("../core/friendly_errors/file_errors"),t("../core/friendly_errors/fes_core"),f.default.prototype.loadJSON=function(){for(var i=arguments.length,h=new Array(i),p=0;p<i;p++)h[p]=arguments[p];f.default._validateParameters("loadJSON",h);for(var l,m,_,b=h[0],T={},O="json",k=1;k<h.length;k++){var M=h[k];typeof M=="string"?M!=="jsonp"&&M!=="json"||(O=M):typeof M=="function"?l?m=M:l=M:y(M)==="object"&&(M.hasOwnProperty("jsonpCallback")||M.hasOwnProperty("jsonpCallbackFunction"))&&(O="jsonp",_=M)}var I=this;return this.httpDo(b,"GET",_,O,function(F){for(var A in F)T[A]=F[A];l!==void 0&&l(F),I._decrementPreload()},function(F){if(f.default._friendlyFileLoadError(5,b),!m)throw F;m(F)}),T},f.default.prototype.loadStrings=function(){for(var i=arguments.length,h=new Array(i),p=0;p<i;p++)h[p]=arguments[p];f.default._validateParameters("loadStrings",h);for(var l,m,_=[],b=1;b<h.length;b++){var T=h[b];typeof T=="function"&&(l===void 0?l=T:m===void 0&&(m=T))}var O=this;return f.default.prototype.httpDo.call(this,h[0],"GET","text",function(k){for(var M=k.replace(/\r\n/g,"\r").replace(/\n/g,"\r").split(/\r/),I=0,F=M.length;I<F;I+=32768)Array.prototype.push.apply(_,M.slice(I,Math.min(I+32768,F)));l!==void 0&&l(_),O._decrementPreload()},function(k){if(f.default._friendlyFileLoadError(3,k),!m)throw k;m(k)}),_},f.default.prototype.loadTable=function(i){var h,p,l,m=!1,_=i.substring(i.lastIndexOf(".")+1,i.length);_==="csv"?l=",":_==="ssv"?l=";":_==="tsv"&&(l="	");for(var b=1;b<arguments.length;b++)typeof arguments[b]=="function"?h===void 0?h=arguments[b]:p===void 0&&(p=arguments[b]):typeof arguments[b]=="string"&&(arguments[b]==="header"&&(m=!0),arguments[b]==="csv"?l=",":arguments[b]==="ssv"?l=";":arguments[b]==="tsv"&&(l="	"));var T=new f.default.Table,O=this;return this.httpDo(i,"GET","table",function(k){for(var M,I,F={},A=0,U=[],D=0,V=null,G=function(){F.currentState=A,F.token=""},W=function(){V.push(F.token),G()},J=function(){F.currentState=4,U.push(V),V=null};;){if((M=k[D++])==null){if(F.escaped)throw new Error("Unclosed quote in file.");if(V){W(),J();break}}if(V===null&&(F.escaped=!1,V=[],G()),F.currentState===A){if(M==='"'){F.escaped=!0,F.currentState=1;continue}F.currentState=1}if(F.currentState===1&&F.escaped)if(M==='"')k[D]==='"'?(F.token+='"',D++):(F.escaped=!1,F.currentState=2);else{if(M==="\r")continue;F.token+=M}else M==="\r"?(k[D]===`
`&&D++,W(),J()):M===`
`?(W(),J()):M===l?W():F.currentState===1&&(F.token+=M)}if(m)T.columns=U.shift();else for(var Q=0;Q<U[0].length;Q++)T.columns[Q]="null";for(var Y=0;Y<U.length;Y++)(U[Y].length!==1||U[Y][0]!=="undefined"&&U[Y][0]!=="")&&((I=new f.default.TableRow).arr=U[Y],I.obj=function(z,ee){if((ee=ee||[])===void 0)for(var ie=0;ie<z.length;ie++)ee[ie.toString()]=ie;return Object.fromEntries(ee.map(function(C,B){return[C,z[B]]}))}(U[Y],T.columns),T.addRow(I));typeof h=="function"&&h(T),O._decrementPreload()},function(k){f.default._friendlyFileLoadError(2,i),p?p(k):console.error(k)}),T},f.default.prototype.loadXML=function(){for(var i=arguments.length,h=new Array(i),p=0;p<i;p++)h[p]=arguments[p];for(var l,m,_=new f.default.XML,b=1;b<h.length;b++){var T=h[b];typeof T=="function"&&(l===void 0?l=T:m===void 0&&(m=T))}var O=this;return this.httpDo(h[0],"GET","xml",function(k){for(var M in k)_[M]=k[M];l!==void 0&&l(_),O._decrementPreload()},function(k){if(f.default._friendlyFileLoadError(1,k),!m)throw k;m(k)}),_},f.default.prototype.loadBytes=function(i,h,p){var l={},m=this;return this.httpDo(i,"GET","arrayBuffer",function(_){l.bytes=new Uint8Array(_),typeof h=="function"&&h(l),m._decrementPreload()},function(_){if(f.default._friendlyFileLoadError(6,i),!p)throw _;p(_)}),l},f.default.prototype.httpGet=function(){for(var i=arguments.length,h=new Array(i),p=0;p<i;p++)h[p]=arguments[p];return f.default._validateParameters("httpGet",h),h.splice(1,0,"GET"),f.default.prototype.httpDo.apply(this,h)},f.default.prototype.httpPost=function(){for(var i=arguments.length,h=new Array(i),p=0;p<i;p++)h[p]=arguments[p];return f.default._validateParameters("httpPost",h),h.splice(1,0,"POST"),f.default.prototype.httpDo.apply(this,h)},f.default.prototype.httpDo=function(){for(var i,h,p,l={},m=0,_="text/plain",b=arguments.length-1;0<b&&typeof(b<0||arguments.length<=b?void 0:arguments[b])=="function";b--)m++;var T=arguments.length-m,O=arguments.length<=0?void 0:arguments[0];if(T==2&&typeof O=="string"&&y(arguments.length<=1?void 0:arguments[1])==="object")U=new Request(O,arguments.length<=1?void 0:arguments[1]),h=arguments.length<=2?void 0:arguments[2],p=arguments.length<=3?void 0:arguments[3];else{for(var k,M="GET",I=1;I<arguments.length;I++){var F=I<0||arguments.length<=I?void 0:arguments[I];if(typeof F=="string")F==="GET"||F==="POST"||F==="PUT"||F==="DELETE"?M=F:F==="json"||F==="jsonp"||F==="binary"||F==="arrayBuffer"||F==="xml"||F==="text"||F==="table"?i=F:k=F;else if(typeof F=="number")k=F.toString();else if(y(F)==="object")if(F.hasOwnProperty("jsonpCallback")||F.hasOwnProperty("jsonpCallbackFunction"))for(var A in F)l[A]=F[A];else _=F instanceof f.default.XML?(k=F.serialize(),"application/xml"):(k=JSON.stringify(F),"application/json");else typeof F=="function"&&(h?p=F:h=F)}var T=M==="GET"?new Headers:new Headers({"Content-Type":_}),U=new Request(O,{method:M,mode:"cors",body:k,headers:T})}return(T=(T=(i=i||(O.includes("json")?"json":O.includes("xml")?"xml":"text"))==="jsonp"?(0,s.default)(O,l):fetch(U)).then(function(D){if(!D.ok)throw(V=new Error(D.body)).status=D.status,V.ok=!1,V;var V=0;switch((V=i!=="jsonp"?D.headers.get("content-length"):V)&&64e6<V&&f.default._friendlyFileLoadError(7,O),i){case"json":case"jsonp":return D.json();case"binary":return D.blob();case"arrayBuffer":return D.arrayBuffer();case"xml":return D.text().then(function(G){return G=new DOMParser().parseFromString(G,"text/xml"),new f.default.XML(G.documentElement)});default:return D.text()}})).then(h||function(){}),T.catch(p||console.error),T},window.URL=window.URL||window.webkitURL,f.default.prototype._pWriters=[],f.default.prototype.createWriter=function(i,h){var p,l;for(l in f.default.prototype._pWriters)if(f.default.prototype._pWriters[l].name===i)return p=new f.default.PrintWriter(i+this.millis(),h),f.default.prototype._pWriters.push(p),p;return p=new f.default.PrintWriter(i,h),f.default.prototype._pWriters.push(p),p},f.default.PrintWriter=function(i,h){var p=this;this.name=i,this.content="",this.write=function(l){this.content+=l},this.print=function(l){this.content+="".concat(l,`
`)},this.clear=function(){this.content=""},this.close=function(){var l,m=[];for(l in m.push(this.content),f.default.prototype.writeFile(m,i,h),f.default.prototype._pWriters)f.default.prototype._pWriters[l].name===this.name&&f.default.prototype._pWriters.splice(l,1);p.clear(),p={}}},f.default.prototype.save=function(i,h,p){var l=arguments,m=(this._curElement||this).elt;if(l.length===0)f.default.prototype.saveCanvas(m);else if(l[0]instanceof f.default.Renderer||l[0]instanceof f.default.Graphics)f.default.prototype.saveCanvas(l[0].elt,l[1],l[2]);else if(l.length===1&&typeof l[0]=="string")f.default.prototype.saveCanvas(m,l[0]);else switch(a(l[1],l[2])[1]){case"json":return void f.default.prototype.saveJSON(l[0],l[1],l[2]);case"txt":return void f.default.prototype.saveStrings(l[0],l[1],l[2]);default:l[0]instanceof Array?f.default.prototype.saveStrings(l[0],l[1],l[2]):l[0]instanceof f.default.Table?f.default.prototype.saveTable(l[0],l[1],l[2]):l[0]instanceof f.default.Image?f.default.prototype.saveCanvas(l[0].canvas,l[1]):l[0]instanceof f.default.SoundFile&&f.default.prototype.saveSound(l[0],l[1],l[2],l[3])}},f.default.prototype.saveJSON=function(i,h,p){f.default._validateParameters("saveJSON",arguments),p=p?JSON.stringify(i):JSON.stringify(i,void 0,2),this.saveStrings(p.split(`
`),h,"json")},f.default.prototype.saveJSONObject=f.default.prototype.saveJSON,f.default.prototype.saveJSONArray=f.default.prototype.saveJSON,f.default.prototype.saveStrings=function(i,h,p,l){f.default._validateParameters("saveStrings",arguments);for(var m=this.createWriter(h,p||"txt"),_=0;_<i.length;_++)l?m.write(i[_]+`\r
`):m.write(i[_]+`
`);m.close(),m.clear()},f.default.prototype.saveTable=function(i,h,p){f.default._validateParameters("saveTable",arguments),l=p===void 0?h.substring(h.lastIndexOf(".")+1,h.length):p;var l,m=this.createWriter(h,l),_=i.columns,b=l==="tsv"?"	":",";if(l!=="html"){if(_[0]!=="0"){for(var T=0;T<_.length;T++)T<_.length-1?m.write(_[T]+b):m.write(_[T]);m.write(`
`)}for(var O=0;O<i.rows.length;O++){for(var k=void 0,k=0;k<i.rows[O].arr.length;k++)k<i.rows[O].arr.length-1?l==="csv"&&String(i.rows[O].arr[k]).includes(",")?m.write('"'+i.rows[O].arr[k]+'"'+b):m.write(i.rows[O].arr[k]+b):l==="csv"&&String(i.rows[O].arr[k]).includes(",")?m.write('"'+i.rows[O].arr[k]+'"'):m.write(i.rows[O].arr[k]);m.write(`
`)}}else{if(m.print("<html>"),m.print("<head>"),m.print('  <meta http-equiv="content-type" content="text/html;charset=utf-8" />'),m.print("</head>"),m.print("<body>"),m.print("  <table>"),_[0]!=="0"){m.print("    <tr>");for(var M=0;M<_.length;M++){var I=o(_[M]);m.print("      <td>".concat(I)),m.print("      </td>")}m.print("    </tr>")}for(var F=0;F<i.rows.length;F++){m.print("    <tr>");for(var A=0;A<i.columns.length;A++){var U=o(i.rows[F].getString(A));m.print("      <td>".concat(U)),m.print("      </td>")}m.print("    </tr>")}m.print("  </table>"),m.print("</body>"),m.print("</html>")}m.close(),m.clear()},f.default.prototype.writeFile=function(m,h,p){var l="application/octet-stream",m=(f.default.prototype._isSafari()&&(l="text/plain"),new Blob(m,{type:l}));f.default.prototype.downloadFile(m,h,p)},f.default.prototype.downloadFile=function(i,m,_){var l,m=a(m,_),_=m[0];i instanceof Blob?c.default.saveAs(i,_):((l=document.createElement("a")).href=i,l.download=_,l.onclick=function(b){document.body.removeChild(b.target),b.stopPropagation()},l.style.display="none",document.body.appendChild(l),f.default.prototype._isSafari()&&(i=(i=`Hello, Safari user! To download this file...
1. Go to File --> Save As.
2. Choose "Page Source" as the Format.
`)+'3. Name it with this extension: ."'.concat(m[1],'"'),alert(i)),l.click())},f.default.prototype._checkFileExtension=a,f.default.prototype._isSafari=function(){return window.HTMLElement.toString().includes("Constructor")},t=f.default,x.default=t},{"../core/friendly_errors/fes_core":271,"../core/friendly_errors/file_errors":272,"../core/friendly_errors/validate_params":275,"../core/main":280,"core-js/modules/es.array.concat":152,"core-js/modules/es.array.includes":162,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.last-index-of":166,"core-js/modules/es.array.map":167,"core-js/modules/es.array.slice":168,"core-js/modules/es.array.splice":170,"core-js/modules/es.function.name":173,"core-js/modules/es.object.from-entries":182,"core-js/modules/es.object.to-string":187,"core-js/modules/es.promise":188,"core-js/modules/es.regexp.exec":192,"core-js/modules/es.regexp.to-string":193,"core-js/modules/es.string.includes":196,"core-js/modules/es.string.iterator":197,"core-js/modules/es.string.replace":201,"core-js/modules/es.string.split":203,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.typed-array.copy-within":210,"core-js/modules/es.typed-array.every":211,"core-js/modules/es.typed-array.fill":212,"core-js/modules/es.typed-array.filter":213,"core-js/modules/es.typed-array.find":215,"core-js/modules/es.typed-array.find-index":214,"core-js/modules/es.typed-array.for-each":218,"core-js/modules/es.typed-array.includes":219,"core-js/modules/es.typed-array.index-of":220,"core-js/modules/es.typed-array.iterator":223,"core-js/modules/es.typed-array.join":224,"core-js/modules/es.typed-array.last-index-of":225,"core-js/modules/es.typed-array.map":226,"core-js/modules/es.typed-array.reduce":228,"core-js/modules/es.typed-array.reduce-right":227,"core-js/modules/es.typed-array.reverse":229,"core-js/modules/es.typed-array.set":230,"core-js/modules/es.typed-array.slice":231,"core-js/modules/es.typed-array.some":232,"core-js/modules/es.typed-array.sort":233,"core-js/modules/es.typed-array.subarray":234,"core-js/modules/es.typed-array.to-locale-string":235,"core-js/modules/es.typed-array.to-string":236,"core-js/modules/es.typed-array.uint8-array":239,"core-js/modules/web.dom-collections.iterator":243,"core-js/modules/web.url":245,"es6-promise/auto":246,"fetch-jsonp":248,"file-saver":249,"whatwg-fetch":258}],307:[function(t,j,x){t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.regexp.constructor"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.regexp.constructor"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.replace"),Object.defineProperty(x,"__esModule",{value:!0}),x.default=void 0;var d=(t=t("../core/main"))&&t.__esModule?t:{default:t};function f(s,c){for(var g=0;g<c.length;g++){var y=c[g];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(s,y.key,y)}}d.default.Table=function(){function s(){var y=0<arguments.length&&arguments[0]!==void 0?arguments[0]:[],o=this,a=s;if(!(o instanceof a))throw new TypeError("Cannot call a class as a function");this.columns=[],this.rows=y}var c,g;return c=s,(g=[{key:"addRow",value:function(y){if(y=y||new d.default.TableRow,y.arr===void 0||y.obj===void 0)throw new Error("invalid TableRow: ".concat(y));return(y.table=this).rows.push(y),y}},{key:"removeRow",value:function(y){this.rows[y].table=null,y=this.rows.splice(y+1,this.rows.length),this.rows.pop(),this.rows=this.rows.concat(y)}},{key:"getRow",value:function(y){return this.rows[y]}},{key:"getRows",value:function(){return this.rows}},{key:"findRow",value:function(y,o){if(typeof o=="string"){for(var a=0;a<this.rows.length;a++)if(this.rows[a].obj[o]===y)return this.rows[a]}else for(var i=0;i<this.rows.length;i++)if(this.rows[i].arr[o]===y)return this.rows[i];return null}},{key:"findRows",value:function(y,o){var a=[];if(typeof o=="string")for(var i=0;i<this.rows.length;i++)this.rows[i].obj[o]===y&&a.push(this.rows[i]);else for(var h=0;h<this.rows.length;h++)this.rows[h].arr[o]===y&&a.push(this.rows[h]);return a}},{key:"matchRow",value:function(y,o){if(typeof o=="number"){for(var a=0;a<this.rows.length;a++)if(this.rows[a].arr[o].match(y))return this.rows[a]}else for(var i=0;i<this.rows.length;i++)if(this.rows[i].obj[o].match(y))return this.rows[i];return null}},{key:"matchRows",value:function(y,o){var a=[];if(typeof o=="number")for(var i=0;i<this.rows.length;i++)this.rows[i].arr[o].match(y)&&a.push(this.rows[i]);else for(var h=0;h<this.rows.length;h++)this.rows[h].obj[o].match(y)&&a.push(this.rows[h]);return a}},{key:"getColumn",value:function(y){var o=[];if(typeof y=="string")for(var a=0;a<this.rows.length;a++)o.push(this.rows[a].obj[y]);else for(var i=0;i<this.rows.length;i++)o.push(this.rows[i].arr[y]);return o}},{key:"clearRows",value:function(){delete this.rows,this.rows=[]}},{key:"addColumn",value:function(y){this.columns.push(y||null)}},{key:"getColumnCount",value:function(){return this.columns.length}},{key:"getRowCount",value:function(){return this.rows.length}},{key:"removeTokens",value:function(y,o){for(var a=[],i=0;i<y.length;i++)a.push(y.charAt(i).replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&"));var h=new RegExp(a.join("|"),"g");if(o===void 0)for(var p=0;p<this.columns.length;p++)for(var l=0;l<this.rows.length;l++){var m=(m=this.rows[l].arr[p]).replace(h,"");this.rows[l].arr[p]=m,this.rows[l].obj[this.columns[p]]=m}else if(typeof o=="string")for(var _=0;_<this.rows.length;_++){var b=(b=this.rows[_].obj[o]).replace(h,""),T=(this.rows[_].obj[o]=b,this.columns.indexOf(o));this.rows[_].arr[T]=b}else for(var O=0;O<this.rows.length;O++){var k=(k=this.rows[O].arr[o]).replace(h,"");this.rows[O].arr[o]=k,this.rows[O].obj[this.columns[o]]=k}}},{key:"trim",value:function(y){var o=new RegExp(" ","g");if(y===void 0)for(var a=0;a<this.columns.length;a++)for(var i=0;i<this.rows.length;i++){var h=(h=this.rows[i].arr[a]).replace(o,"");this.rows[i].arr[a]=h,this.rows[i].obj[this.columns[a]]=h}else if(typeof y=="string")for(var p=0;p<this.rows.length;p++){var l=(l=this.rows[p].obj[y]).replace(o,""),m=(this.rows[p].obj[y]=l,this.columns.indexOf(y));this.rows[p].arr[m]=l}else for(var _=0;_<this.rows.length;_++){var b=(b=this.rows[_].arr[y]).replace(o,"");this.rows[_].arr[y]=b,this.rows[_].obj[this.columns[y]]=b}}},{key:"removeColumn",value:function(i){typeof i=="string"?a=this.columns.indexOf(o=i):o=this.columns[a=i];var o,a,i=this.columns.splice(a+1,this.columns.length);this.columns.pop(),this.columns=this.columns.concat(i);for(var h=0;h<this.rows.length;h++){var p=this.rows[h].arr,l=p.splice(a+1,p.length);p.pop(),this.rows[h].arr=p.concat(l),delete this.rows[h].obj[o]}}},{key:"set",value:function(y,o,a){this.rows[y].set(o,a)}},{key:"setNum",value:function(y,o,a){this.rows[y].setNum(o,a)}},{key:"setString",value:function(y,o,a){this.rows[y].setString(o,a)}},{key:"get",value:function(y,o){return this.rows[y].get(o)}},{key:"getNum",value:function(y,o){return this.rows[y].getNum(o)}},{key:"getString",value:function(y,o){return this.rows[y].getString(o)}},{key:"getObject",value:function(y){for(var o,a={},i=0;i<this.rows.length;i++)if(o=this.rows[i].obj,typeof y=="string"){if(!(0<=this.columns.indexOf(y)))throw new Error('This table has no column named "'.concat(y,'"'));a[o[y]]=o}else a[i]=this.rows[i].obj;return a}},{key:"getArray",value:function(){for(var y=[],o=0;o<this.rows.length;o++)y.push(this.rows[o].arr);return y}}])&&f(c.prototype,g),s}(),t=d.default,x.default=t},{"../core/main":280,"core-js/modules/es.array.concat":152,"core-js/modules/es.array.index-of":163,"core-js/modules/es.array.join":165,"core-js/modules/es.array.splice":170,"core-js/modules/es.regexp.constructor":191,"core-js/modules/es.regexp.exec":192,"core-js/modules/es.regexp.to-string":193,"core-js/modules/es.string.match":198,"core-js/modules/es.string.replace":201}],308:[function(t,j,x){t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.from-entries"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.split"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.from-entries"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.split"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(x,"__esModule",{value:!0}),x.default=void 0,t=(t=t("../core/main"))&&t.__esModule?t:{default:t};function d(f,s){for(var c=0;c<s.length;c++){var g=s[c];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(f,g.key,g)}}t.default.TableRow=function(){function f(g,y){if(!(this instanceof f))throw new TypeError("Cannot call a class as a function");var o=[];g&&(o=g.split(y=y||",")),this.arr=o,this.obj=Object.fromEntries(o.entries()),this.table=null}var s,c;return s=f,(c=[{key:"set",value:function(g,y){if(typeof g=="string"){var o=this.table.columns.indexOf(g);if(!(0<=o))throw new Error('This table has no column named "'.concat(g,'"'));this.obj[g]=y,this.arr[o]=y}else{if(!(g<this.table.columns.length))throw new Error("Column #".concat(g," is out of the range of this table"));this.arr[g]=y,o=this.table.columns[g],this.obj[o]=y}}},{key:"setNum",value:function(g,y){y=parseFloat(y),this.set(g,y)}},{key:"setString",value:function(g,y){y=y.toString(),this.set(g,y)}},{key:"get",value:function(g){return(typeof g=="string"?this.obj:this.arr)[g]}},{key:"getNum",value:function(g){var y=parseFloat(typeof g=="string"?this.obj[g]:this.arr[g]);if(y.toString()==="NaN")throw"Error: ".concat(this.obj[g]," is NaN (Not a Number)");return y}},{key:"getString",value:function(g){return(typeof g=="string"?this.obj:this.arr)[g].toString()}}])&&d(s.prototype,c),f}(),t=t.default,x.default=t},{"../core/main":280,"core-js/modules/es.array.index-of":163,"core-js/modules/es.array.iterator":164,"core-js/modules/es.object.from-entries":182,"core-js/modules/es.object.to-string":187,"core-js/modules/es.regexp.exec":192,"core-js/modules/es.regexp.to-string":193,"core-js/modules/es.string.split":203,"core-js/modules/web.dom-collections.iterator":243}],309:[function(t,j,x){t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(x,"__esModule",{value:!0}),x.default=void 0;var d=(t=t("../core/main"))&&t.__esModule?t:{default:t};function f(c,g){for(var y=0;y<g.length;y++){var o=g[y];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(c,o.key,o)}}function s(c){for(var g=[],y=0;y<c.length;y++)g.push(new d.default.XML(c[y]));return g}d.default.XML=function(){function c(o){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");o?this.DOM=o:(o=document.implementation.createDocument(null,"doc"),this.DOM=o.createElement("root"))}var g,y;return g=c,(y=[{key:"getParent",value:function(){return new d.default.XML(this.DOM.parentElement)}},{key:"getName",value:function(){return this.DOM.tagName}},{key:"setName",value:function(o){var a=this.DOM.innerHTML,i=this.DOM.attributes,h=document.implementation.createDocument(null,"default").createElement(o);h.innerHTML=a;for(var p=0;p<i.length;p++)h.setAttribute(i[p].nodeName,i[p].nodeValue);this.DOM=h}},{key:"hasChildren",value:function(){return 0<this.DOM.children.length}},{key:"listChildren",value:function(){for(var o=[],a=0;a<this.DOM.childNodes.length;a++)o.push(this.DOM.childNodes[a].nodeName);return o}},{key:"getChildren",value:function(o){return s(o?this.DOM.getElementsByTagName(o):this.DOM.children)}},{key:"getChild",value:function(o){if(typeof o!="string")return new d.default.XML(this.DOM.children[o]);var a=!0,i=!1,h=void 0;try{for(var p,l=this.DOM.children[Symbol.iterator]();!(a=(p=l.next()).done);a=!0){var m=p.value;if(m.tagName===o)return new d.default.XML(m)}}catch(_){i=!0,h=_}finally{try{a||l.return==null||l.return()}finally{if(i)throw h}}}},{key:"addChild",value:function(o){o instanceof d.default.XML&&this.DOM.appendChild(o.DOM)}},{key:"removeChild",value:function(o){var a=-1;if(typeof o=="string"){for(var i=0;i<this.DOM.children.length;i++)if(this.DOM.children[i].tagName===o){a=i;break}}else a=o;a!==-1&&this.DOM.removeChild(this.DOM.children[a])}},{key:"getAttributeCount",value:function(){return this.DOM.attributes.length}},{key:"listAttributes",value:function(){var o=[],a=!0,i=!1,h=void 0;try{for(var p,l=this.DOM.attributes[Symbol.iterator]();!(a=(p=l.next()).done);a=!0){var m=p.value;o.push(m.nodeName)}}catch(_){i=!0,h=_}finally{try{a||l.return==null||l.return()}finally{if(i)throw h}}return o}},{key:"hasAttribute",value:function(o){var a={},i=!0,h=!1,p=void 0;try{for(var l,m=this.DOM.attributes[Symbol.iterator]();!(i=(l=m.next()).done);i=!0){var _=l.value;a[_.nodeName]=_.nodeValue}}catch(b){h=!0,p=b}finally{try{i||m.return==null||m.return()}finally{if(h)throw p}}return!!a[o]}},{key:"getNum",value:function(o,a){var i={},h=!0,p=!1,l=void 0;try{for(var m,_=this.DOM.attributes[Symbol.iterator]();!(h=(m=_.next()).done);h=!0){var b=m.value;i[b.nodeName]=b.nodeValue}}catch(T){p=!0,l=T}finally{try{h||_.return==null||_.return()}finally{if(p)throw l}}return Number(i[o])||a||0}},{key:"getString",value:function(o,a){var i={},h=!0,p=!1,l=void 0;try{for(var m,_=this.DOM.attributes[Symbol.iterator]();!(h=(m=_.next()).done);h=!0){var b=m.value;i[b.nodeName]=b.nodeValue}}catch(T){p=!0,l=T}finally{try{h||_.return==null||_.return()}finally{if(p)throw l}}return i[o]?String(i[o]):a||null}},{key:"setAttribute",value:function(o,a){this.DOM.setAttribute(o,a)}},{key:"getContent",value:function(o){var a=this.DOM.textContent;return(a=a.replace(/\s\s+/g,","))||o||null}},{key:"setContent",value:function(o){this.DOM.children.length||(this.DOM.textContent=o)}},{key:"serialize",value:function(){return new XMLSerializer().serializeToString(this.DOM)}}])&&f(g.prototype,y),c}(),t=d.default,x.default=t},{"../core/main":280,"core-js/modules/es.array.iterator":164,"core-js/modules/es.number.constructor":178,"core-js/modules/es.object.to-string":187,"core-js/modules/es.regexp.exec":192,"core-js/modules/es.string.iterator":197,"core-js/modules/es.string.replace":201,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/web.dom-collections.iterator":243}],310:[function(t,j,x){t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.math.hypot"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.math.hypot"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.string.includes"),Object.defineProperty(x,"__esModule",{value:!0}),x.default=void 0;var d=(t=t("../core/main"))&&t.__esModule?t:{default:t};function f(s){return function(c){if(Array.isArray(c)){for(var g=0,y=new Array(c.length);g<c.length;g++)y[g]=c[g];return y}}(s)||function(c){if(Symbol.iterator in Object(c)||Object.prototype.toString.call(c)==="[object Arguments]")return Array.from(c)}(s)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}d.default.prototype.abs=Math.abs,d.default.prototype.ceil=Math.ceil,d.default.prototype.constrain=function(s,c,g){return d.default._validateParameters("constrain",arguments),Math.max(Math.min(s,g),c)},d.default.prototype.dist=function(){for(var s=arguments.length,c=new Array(s),g=0;g<s;g++)c[g]=arguments[g];return d.default._validateParameters("dist",c),c.length===4?Math.hypot(c[2]-c[0],c[3]-c[1]):c.length===6?Math.hypot(c[3]-c[0],c[4]-c[1],c[5]-c[2]):void 0},d.default.prototype.exp=Math.exp,d.default.prototype.floor=Math.floor,d.default.prototype.lerp=function(s,c,g){return d.default._validateParameters("lerp",arguments),g*(c-s)+s},d.default.prototype.log=Math.log,d.default.prototype.mag=function(s,c){return d.default._validateParameters("mag",arguments),Math.hypot(s,c)},d.default.prototype.map=function(s,c,g,y,o,a){return d.default._validateParameters("map",arguments),s=(s-c)/(g-c)*(o-y)+y,a?y<o?this.constrain(s,y,o):this.constrain(s,o,y):s},d.default.prototype.max=function(){for(var s=function(o){return Math.max.apply(Math,f(o))},c=arguments.length,g=new Array(c),y=0;y<c;y++)g[y]=arguments[y];return Array.isArray(g[0])?s(g[0]):s(g)},d.default.prototype.min=function(){for(var s=function(o){return Math.min.apply(Math,f(o))},c=arguments.length,g=new Array(c),y=0;y<c;y++)g[y]=arguments[y];return Array.isArray(g[0])?s(g[0]):s(g)},d.default.prototype.norm=function(s,c,g){return d.default._validateParameters("norm",arguments),this.map(s,c,g,0,1)},d.default.prototype.pow=Math.pow,d.default.prototype.round=function(s,c){return c?(c=Math.pow(10,c),Math.round(s*c)/c):Math.round(s)},d.default.prototype.sq=function(s){return s*s},d.default.prototype.sqrt=Math.sqrt,d.default.prototype.fract=function(y){d.default._validateParameters("fract",arguments);var c,g=0,y=Number(y);return isNaN(y)||Math.abs(y)===1/0?y:(y<0&&(y=-y,g=1),String(y).includes(".")&&!String(y).includes("e")?(c=String(y),c=+("0"+c.slice(c.indexOf("."))),Math.abs(g-c)):y<1?Math.abs(g-y):0)},t=d.default,x.default=t},{"../core/main":280,"core-js/modules/es.array.from":161,"core-js/modules/es.array.includes":162,"core-js/modules/es.array.index-of":163,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.map":167,"core-js/modules/es.array.slice":168,"core-js/modules/es.math.hypot":175,"core-js/modules/es.number.constructor":178,"core-js/modules/es.object.to-string":187,"core-js/modules/es.regexp.to-string":193,"core-js/modules/es.string.includes":196,"core-js/modules/es.string.iterator":197,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/web.dom-collections.iterator":243}],311:[function(t,j,x){t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.reflect.construct"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.slice"),Object.defineProperty(x,"__esModule",{value:!0}),x.default=void 0;var d=(t=t("../core/main"))&&t.__esModule?t:{default:t};function f(c,g,y){return(f=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?Reflect.construct:function(o,a,i){var h=[null];return h.push.apply(h,a),a=new(Function.bind.apply(o,h)),i&&s(a,i.prototype),a}).apply(null,arguments)}function s(c,g){return(s=Object.setPrototypeOf||function(y,o){return y.__proto__=o,y})(c,g)}d.default.prototype.createVector=function(c,g,y){return this instanceof d.default?f(d.default.Vector,[this._fromRadians.bind(this),this._toRadians.bind(this)].concat(Array.prototype.slice.call(arguments))):new d.default.Vector(c,g,y)},t=d.default,x.default=t},{"../core/main":280,"core-js/modules/es.array.concat":152,"core-js/modules/es.array.slice":168,"core-js/modules/es.object.to-string":187,"core-js/modules/es.reflect.construct":189,"core-js/modules/es.regexp.to-string":193}],312:[function(y,j,x){Object.defineProperty(x,"__esModule",{value:!0}),x.default=void 0,y=(y=y("../core/main"))&&y.__esModule?y:{default:y};function d(o){return .5*(1-Math.cos(o*Math.PI))}var f,s=4095,c=4,g=.5,y=(y.default.prototype.noise=function(o){var a=1<arguments.length&&arguments[1]!==void 0?arguments[1]:0,i=2<arguments.length&&arguments[2]!==void 0?arguments[2]:0;if(f==null){f=new Array(4096);for(var h=0;h<4096;h++)f[h]=Math.random()}o<0&&(o=-o),a<0&&(a=-a),i<0&&(i=-i);for(var p,l,m=Math.floor(o),_=Math.floor(a),b=Math.floor(i),T=o-m,O=a-_,k=i-b,M=0,I=.5,F=0;F<c;F++){var A=m+(_<<4)+(b<<8),U=d(T),D=d(O),V=f[A&s];V+=U*(f[A+1&s]-V),p=f[A+16&s],V+=D*((p+=U*(f[A+16+1&s]-p))-V),p=f[(A+=256)&s],p+=U*(f[A+1&s]-p),l=f[A+16&s],p+=D*((l+=U*(f[A+16+1&s]-l))-p),M+=(V+=d(k)*(p-V))*I,I*=g,m<<=1,_<<=1,b<<=1,1<=(T*=2)&&(m++,T--),1<=(O*=2)&&(_++,O--),1<=(k*=2)&&(b++,k--)}return M},y.default.prototype.noiseDetail=function(o,a){0<o&&(c=o),0<a&&(g=a)},y.default.prototype.noiseSeed=function(o){h=4294967296;var a,i,h,p={setSeed:function(m){i=a=(m??Math.random()*h)>>>0},getSeed:function(){return a},rand:function(){return(i=(1664525*i+1013904223)%h)/h}};p.setSeed(o),f=new Array(4096);for(var l=0;l<4096;l++)f[l]=p.rand()},y.default);x.default=y},{"../core/main":280}],313:[function(t,j,x){function d(a){return(d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i})(a)}function f(a){return(f=typeof Symbol=="function"&&d(Symbol.iterator)==="symbol"?function(i){return d(i)}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":d(i)})(a)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.every"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.some"),t("core-js/modules/es.math.sign"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.number.is-finite"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.sub"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.every"),t("core-js/modules/es.array.some"),t("core-js/modules/es.math.sign"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.number.is-finite"),t("core-js/modules/es.string.sub"),Object.defineProperty(x,"__esModule",{value:!0}),x.default=void 0;var s=(o=t("../core/main"))&&o.__esModule?o:{default:o},c=function(a){if(a&&a.__esModule)return a;if(a===null||f(a)!=="object"&&typeof a!="function")return{default:a};var i=g();if(i&&i.has(a))return i.get(a);var h,p={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(h in a){var m;Object.prototype.hasOwnProperty.call(a,h)&&((m=l?Object.getOwnPropertyDescriptor(a,h):null)&&(m.get||m.set)?Object.defineProperty(p,h,m):p[h]=a[h])}return p.default=a,i&&i.set(a,p),p}(t("../core/constants"));function g(){var a;return typeof WeakMap!="function"?null:(a=new WeakMap,g=function(){return a},a)}function y(a,i){for(var h=0;h<i.length;h++){var p=i[h];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(a,p.key,p)}}s.default.Vector=function(){function a(){var b=this,l=a;if(!(b instanceof l))throw new TypeError("Cannot call a class as a function");var m,_,b=typeof(arguments.length<=0?void 0:arguments[0])=="function"?(this.isPInst=!0,this._fromRadians=arguments.length<=0?void 0:arguments[0],this._toRadians=arguments.length<=1?void 0:arguments[1],m=(arguments.length<=2?void 0:arguments[2])||0,_=(arguments.length<=3?void 0:arguments[3])||0,(arguments.length<=4?void 0:arguments[4])||0):(m=(arguments.length<=0?void 0:arguments[0])||0,_=(arguments.length<=1?void 0:arguments[1])||0,(arguments.length<=2?void 0:arguments[2])||0);this.x=m,this.y=_,this.z=b}var i,h,p;return i=a,p=[{key:"fromAngle",value:function(l){var m=1<arguments.length&&arguments[1]!==void 0?arguments[1]:1;return new s.default.Vector(m*Math.cos(l),m*Math.sin(l),0)}},{key:"fromAngles",value:function(k,T){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:1,b=Math.cos(T),T=Math.sin(T),O=Math.cos(k),k=Math.sin(k);return new s.default.Vector(_*k*T,-_*O,_*k*b)}},{key:"random2D",value:function(){return this.fromAngle(Math.random()*c.TWO_PI)}},{key:"random3D",value:function(){var l=Math.random()*c.TWO_PI,m=2*Math.random()-1,b=Math.sqrt(1-m*m),_=b*Math.cos(l),b=b*Math.sin(l);return new s.default.Vector(_,b,m)}},{key:"copy",value:function(l){return l.copy(l)}},{key:"add",value:function(){for(var l=arguments.length,m=new Array(l),_=0;_<l;_++)m[_]=arguments[_];var b=m[0],T=m[1],O=m[2];return O?O.set(b):(O=b.copy(),m.length===3&&s.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.add")),O.add(T),O}},{key:"rem",value:function(l,m){if(l instanceof s.default.Vector&&m instanceof s.default.Vector)return(l=l.copy()).rem(m),l}},{key:"sub",value:function(){for(var l=arguments.length,m=new Array(l),_=0;_<l;_++)m[_]=arguments[_];var b=m[0],T=m[1],O=m[2];return O?O.set(b):(O=b.copy(),m.length===3&&s.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.sub")),O.sub(T),O}},{key:"mult",value:function(){for(var l=arguments.length,m=new Array(l),_=0;_<l;_++)m[_]=arguments[_];var b=m[0],T=m[1],O=m[2];return O?O.set(b):(O=b.copy(),m.length===3&&s.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.mult")),O.mult(T),O}},{key:"rotate",value:function(){for(var l=arguments.length,m=new Array(l),_=0;_<l;_++)m[_]=arguments[_];var b=m[0],T=m[1],O=m[2];return m.length===2?O=b.copy():(O instanceof s.default.Vector||s.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.rotate"),O.set(b)),O.rotate(T),O}},{key:"div",value:function(){for(var l=arguments.length,m=new Array(l),_=0;_<l;_++)m[_]=arguments[_];var b=m[0],T=m[1],O=m[2];return O?O.set(b):(O=b.copy(),m.length===3&&s.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.div")),O.div(T),O}},{key:"dot",value:function(l,m){return l.dot(m)}},{key:"cross",value:function(l,m){return l.cross(m)}},{key:"dist",value:function(l,m){return l.dist(m)}},{key:"lerp",value:function(){for(var l=arguments.length,m=new Array(l),_=0;_<l;_++)m[_]=arguments[_];var b=m[0],T=m[1],O=m[2],k=m[3];return k?k.set(b):(k=b.copy(),m.length===4&&s.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.lerp")),k.lerp(T,O),k}},{key:"slerp",value:function(){for(var l=arguments.length,m=new Array(l),_=0;_<l;_++)m[_]=arguments[_];var b=m[0],T=m[1],O=m[2],k=m[3];return k?k.set(b):(k=b.copy(),m.length===4&&s.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.slerp")),k.slerp(T,O),k}},{key:"mag",value:function(l){return l.mag()}},{key:"magSq",value:function(l){return l.magSq()}},{key:"normalize",value:function(){for(var l=arguments.length,m=new Array(l),_=0;_<l;_++)m[_]=arguments[_];var b=m[0],T=m[1];return m.length<2?T=b.copy():(T instanceof s.default.Vector||s.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.normalize"),T.set(b)),T.normalize()}},{key:"limit",value:function(){for(var l=arguments.length,m=new Array(l),_=0;_<l;_++)m[_]=arguments[_];var b=m[0],T=m[1],O=m[2];return m.length<3?O=b.copy():(O instanceof s.default.Vector||s.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.limit"),O.set(b)),O.limit(T)}},{key:"setMag",value:function(){for(var l=arguments.length,m=new Array(l),_=0;_<l;_++)m[_]=arguments[_];var b=m[0],T=m[1],O=m[2];return m.length<3?O=b.copy():(O instanceof s.default.Vector||s.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.setMag"),O.set(b)),O.setMag(T)}},{key:"heading",value:function(l){return l.heading()}},{key:"angleBetween",value:function(l,m){return l.angleBetween(m)}},{key:"reflect",value:function(){for(var l=arguments.length,m=new Array(l),_=0;_<l;_++)m[_]=arguments[_];var b=m[0],T=m[1],O=m[2];return m.length<3?O=b.copy():(O instanceof s.default.Vector||s.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.reflect"),O.set(b)),O.reflect(T)}},{key:"array",value:function(l){return l.array()}},{key:"equals",value:function(l,m){var _;return l instanceof s.default.Vector?_=l:Array.isArray(l)?_=new s.default.Vector().set(l):s.default._friendlyError("The v1 parameter should be of type Array or p5.Vector","p5.Vector.equals"),_.equals(m)}}],(h=[{key:"toString",value:function(){return"p5.Vector Object : [".concat(this.x,", ").concat(this.y,", ").concat(this.z,"]")}},{key:"set",value:function(l,m,_){return l instanceof s.default.Vector?(this.x=l.x||0,this.y=l.y||0,this.z=l.z||0):Array.isArray(l)?(this.x=l[0]||0,this.y=l[1]||0,this.z=l[2]||0):(this.x=l||0,this.y=m||0,this.z=_||0),this}},{key:"copy",value:function(){return this.isPInst?new s.default.Vector(this._fromRadians,this._toRadians,this.x,this.y,this.z):new s.default.Vector(this.x,this.y,this.z)}},{key:"add",value:function(l,m,_){return l instanceof s.default.Vector?(this.x+=l.x||0,this.y+=l.y||0,this.z+=l.z||0):Array.isArray(l)?(this.x+=l[0]||0,this.y+=l[1]||0,this.z+=l[2]||0):(this.x+=l||0,this.y+=m||0,this.z+=_||0),this}},{key:"calculateRemainder2D",value:function(l,m){return l!==0&&(this.x=this.x%l),m!==0&&(this.y=this.y%m),this}},{key:"calculateRemainder3D",value:function(l,m,_){return l!==0&&(this.x=this.x%l),m!==0&&(this.y=this.y%m),_!==0&&(this.z=this.z%_),this}},{key:"rem",value:function(){for(var l=arguments.length,m=new Array(l),_=0;_<l;_++)m[_]=arguments[_];var b,T,O,k=m[0],M=m[1],I=m[2];if(k instanceof s.default.Vector){if([k.x,k.y,k.z].every(Number.isFinite))return b=parseFloat(k.x),T=parseFloat(k.y),O=parseFloat(k.z),this.calculateRemainder3D(b,T,O)}else if(Array.isArray(k)){if(k.every(Number.isFinite))return k.length===2?this.calculateRemainder2D(k[0],k[1]):k.length===3?this.calculateRemainder3D(k[0],k[1],k[2]):void 0}else if(m.length===1){if(Number.isFinite(k)&&k!==0)return this.x=this.x%k,this.y=this.y%k,this.z=this.z%k,this}else if(m.length===2){if(m.every(Number.isFinite))return this.calculateRemainder2D(k,M)}else if(m.length===3&&m.every(Number.isFinite))return this.calculateRemainder3D(k,M,I)}},{key:"sub",value:function(l,m,_){return l instanceof s.default.Vector?(this.x-=l.x||0,this.y-=l.y||0,this.z-=l.z||0):Array.isArray(l)?(this.x-=l[0]||0,this.y-=l[1]||0,this.z-=l[2]||0):(this.x-=l||0,this.y-=m||0,this.z-=_||0),this}},{key:"mult",value:function(){for(var l=arguments.length,m=new Array(l),_=0;_<l;_++)m[_]=arguments[_];var b,T=m[0],O=m[1],k=m[2];return T instanceof s.default.Vector?Number.isFinite(T.x)&&Number.isFinite(T.y)&&Number.isFinite(T.z)&&typeof T.x=="number"&&typeof T.y=="number"&&typeof T.z=="number"?(this.x*=T.x,this.y*=T.y,this.z*=T.z):console.warn("p5.Vector.prototype.mult:","x contains components that are either undefined or not finite numbers"):Array.isArray(T)?T.every(function(M){return Number.isFinite(M)})&&T.every(function(M){return typeof M=="number"})?T.length===1?(this.x*=T[0],this.y*=T[0],this.z*=T[0]):T.length===2?(this.x*=T[0],this.y*=T[1]):T.length===3&&(this.x*=T[0],this.y*=T[1],this.z*=T[2]):console.warn("p5.Vector.prototype.mult:","x contains elements that are either undefined or not finite numbers"):(b=m).every(function(M){return Number.isFinite(M)})&&b.every(function(M){return typeof M=="number"})?(m.length===1&&(this.x*=T,this.y*=T,this.z*=T),m.length===2&&(this.x*=T,this.y*=O),m.length===3&&(this.x*=T,this.y*=O,this.z*=k)):console.warn("p5.Vector.prototype.mult:","x, y, or z arguments are either undefined or not a finite number"),this}},{key:"div",value:function(){for(var l=arguments.length,m=new Array(l),_=0;_<l;_++)m[_]=arguments[_];var b=m[0],T=m[1],O=m[2];if(b instanceof s.default.Vector)if(Number.isFinite(b.x)&&Number.isFinite(b.y)&&Number.isFinite(b.z)&&typeof b.x=="number"&&typeof b.y=="number"&&typeof b.z=="number"){var k=b.z===0&&this.z===0;if(b.x===0||b.y===0||!k&&b.z===0)return console.warn("p5.Vector.prototype.div:","divide by 0"),this;this.x/=b.x,this.y/=b.y,k||(this.z/=b.z)}else console.warn("p5.Vector.prototype.div:","x contains components that are either undefined or not finite numbers");else if(Array.isArray(b))if(b.every(Number.isFinite)&&b.every(function(M){return typeof M=="number"})){if(b.some(function(M){return M===0}))return console.warn("p5.Vector.prototype.div:","divide by 0"),this;b.length===1?(this.x/=b[0],this.y/=b[0],this.z/=b[0]):b.length===2?(this.x/=b[0],this.y/=b[1]):b.length===3&&(this.x/=b[0],this.y/=b[1],this.z/=b[2])}else console.warn("p5.Vector.prototype.div:","x contains components that are either undefined or not finite numbers");else if(m.every(Number.isFinite)&&m.every(function(M){return typeof M=="number"})){if(m.some(function(M){return M===0}))return console.warn("p5.Vector.prototype.div:","divide by 0"),this;m.length===1&&(this.x/=b,this.y/=b,this.z/=b),m.length===2&&(this.x/=b,this.y/=T),m.length===3&&(this.x/=b,this.y/=T,this.z/=O)}else console.warn("p5.Vector.prototype.div:","x, y, or z arguments are either undefined or not a finite number");return this}},{key:"mag",value:function(){return Math.sqrt(this.magSq())}},{key:"magSq",value:function(){var l=this.x,m=this.y,_=this.z;return l*l+m*m+_*_}},{key:"dot",value:function(l,m,_){return l instanceof s.default.Vector?this.dot(l.x,l.y,l.z):this.x*(l||0)+this.y*(m||0)+this.z*(_||0)}},{key:"cross",value:function(b){var m=this.y*b.z-this.z*b.y,_=this.z*b.x-this.x*b.z,b=this.x*b.y-this.y*b.x;return this.isPInst?new s.default.Vector(this._fromRadians,this._toRadians,m,_,b):new s.default.Vector(m,_,b)}},{key:"dist",value:function(l){return l.copy().sub(this).mag()}},{key:"normalize",value:function(){var l=this.mag();return l!==0&&this.mult(1/l),this}},{key:"limit",value:function(l){var m=this.magSq();return l*l<m&&this.div(Math.sqrt(m)).mult(l),this}},{key:"setMag",value:function(l){return this.normalize().mult(l)}},{key:"heading",value:function(){var l=Math.atan2(this.y,this.x);return this.isPInst?this._fromRadians(l):l}},{key:"setHeading",value:function(l){this.isPInst&&(l=this._toRadians(l));var m=this.mag();return this.x=m*Math.cos(l),this.y=m*Math.sin(l),this}},{key:"rotate",value:function(m){var m=this.heading()+m,_=(this.isPInst&&(m=this._toRadians(m)),this.mag());return this.x=Math.cos(m)*_,this.y=Math.sin(m)*_,this}},{key:"angleBetween",value:function(l){var m;return this.magSq()*l.magSq()==0?NaN:(m=this.cross(l),l=Math.atan2(m.mag(),this.dot(l))*Math.sign(m.z||1),this.isPInst?this._fromRadians(l):l)}},{key:"lerp",value:function(l,m,_,b){return l instanceof s.default.Vector?this.lerp(l.x,l.y,l.z,m):(this.x+=(l-this.x)*b||0,this.y+=(m-this.y)*b||0,this.z+=(_-this.z)*b||0,this)}},{key:"slerp",value:function(l,m){if(m!==0){if(m===1)return this.set(l);var _=this.mag(),b=l.mag();if(_*b==0)this.mult(1-m).add(l.x*m,l.y*m,l.z*m);else{var T=this.cross(l),O=T.mag(),k=Math.atan2(O,this.dot(l));if(0<O)T.x/=O,T.y/=O,T.z/=O;else{if(k<.5*Math.PI)return this.mult(1-m).add(l.x*m,l.y*m,l.z*m),this;this.z===0&&l.z===0?T.set(0,0,1):this.x!==0?T.set(this.y,-this.x,0).normalize():T.set(1,0,0)}O=T.cross(this),l=1-m+m*b/_,T=l*Math.cos(m*k),b=l*Math.sin(m*k),this.x=this.x*T+O.x*b,this.y=this.y*T+O.y*b,this.z=this.z*T+O.z*b}}return this}},{key:"reflect",value:function(l){return l.normalize(),this.sub(l.mult(2*this.dot(l)))}},{key:"array",value:function(){return[this.x||0,this.y||0,this.z||0]}},{key:"equals",value:function(O,m,_){var b,T,O=O instanceof s.default.Vector?(b=O.x||0,T=O.y||0,O.z||0):Array.isArray(O)?(b=O[0]||0,T=O[1]||0,O[2]||0):(b=O||0,T=m||0,_||0);return this.x===b&&this.y===T&&this.z===O}}])&&y(i.prototype,h),p&&y(i,p),a}();var o=s.default.Vector;x.default=o},{"../core/constants":269,"../core/main":280,"core-js/modules/es.array.concat":152,"core-js/modules/es.array.every":154,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.some":169,"core-js/modules/es.math.sign":177,"core-js/modules/es.number.constructor":178,"core-js/modules/es.number.is-finite":179,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.to-string":187,"core-js/modules/es.string.iterator":197,"core-js/modules/es.string.sub":205,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.iterator":243}],314:[function(g,j,x){Object.defineProperty(x,"__esModule",{value:!0}),x.default=void 0;var d=(g=g("../core/main"))&&g.__esModule?g:{default:g},f="_lcg_random_state",s=4294967296,c=0,g=(d.default.prototype._lcg=function(y){return this[y]=(1664525*this[y]+1013904223)%s,this[y]/s},d.default.prototype._lcgSetSeed=function(y,o){this[y]=(o??Math.random()*s)>>>0},d.default.prototype.randomSeed=function(y){this._lcgSetSeed(f,y),this._gaussian_previous=!1},d.default.prototype.random=function(y,o){var a,i;return d.default._validateParameters("random",arguments),a=this[f]!=null?this._lcg(f):Math.random(),y===void 0?a:o===void 0?Array.isArray(y)?y[Math.floor(a*y.length)]:a*y:(o<y&&(i=y,y=o,o=i),a*(o-y)+y)},d.default.prototype.randomGaussian=function(y){var o,a,i,h,p=1<arguments.length&&arguments[1]!==void 0?arguments[1]:1;if(this._gaussian_previous)o=c,this._gaussian_previous=!1;else{for(;1<=(h=(a=this.random(2)-1)*a+(i=this.random(2)-1)*i););o=a*(h=Math.sqrt(-2*Math.log(h)/h)),c=i*h,this._gaussian_previous=!0}return o*p+(y||0)},d.default);x.default=g},{"../core/main":280}],315:[function(t,j,x){function d(o){return(d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(o)}function f(o){return(f=typeof Symbol=="function"&&d(Symbol.iterator)==="symbol"?function(a){return d(a)}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":d(a)})(o)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(x,"__esModule",{value:!0}),x.default=void 0;var s=(y=t("../core/main"))&&y.__esModule?y:{default:y},c=function(o){if(o&&o.__esModule)return o;if(o===null||f(o)!=="object"&&typeof o!="function")return{default:o};var a=g();if(a&&a.has(o))return a.get(o);var i,h={},p=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(i in o){var l;Object.prototype.hasOwnProperty.call(o,i)&&((l=p?Object.getOwnPropertyDescriptor(o,i):null)&&(l.get||l.set)?Object.defineProperty(h,i,l):h[i]=o[i])}return h.default=o,a&&a.set(o,h),h}(t("../core/constants"));function g(){var o;return typeof WeakMap!="function"?null:(o=new WeakMap,g=function(){return o},o)}s.default.prototype._angleMode=c.RADIANS,s.default.prototype.acos=function(o){return this._fromRadians(Math.acos(o))},s.default.prototype.asin=function(o){return this._fromRadians(Math.asin(o))},s.default.prototype.atan=function(o){return this._fromRadians(Math.atan(o))},s.default.prototype.atan2=function(o,a){return this._fromRadians(Math.atan2(o,a))},s.default.prototype.cos=function(o){return Math.cos(this._toRadians(o))},s.default.prototype.sin=function(o){return Math.sin(this._toRadians(o))},s.default.prototype.tan=function(o){return Math.tan(this._toRadians(o))},s.default.prototype.degrees=function(o){return o*c.RAD_TO_DEG},s.default.prototype.radians=function(o){return o*c.DEG_TO_RAD},s.default.prototype.angleMode=function(o){if(s.default._validateParameters("angleMode",arguments),o===void 0)return this._angleMode;o!==c.DEGREES&&o!==c.RADIANS||o!==this._angleMode&&(o===c.RADIANS?(this._setProperty("pRotationX",this.pRotationX*c.DEG_TO_RAD),this._setProperty("pRotationY",this.pRotationY*c.DEG_TO_RAD),this._setProperty("pRotationZ",this.pRotationZ*c.DEG_TO_RAD)):(this._setProperty("pRotationX",this.pRotationX*c.RAD_TO_DEG),this._setProperty("pRotationY",this.pRotationY*c.RAD_TO_DEG),this._setProperty("pRotationZ",this.pRotationZ*c.RAD_TO_DEG)),this._angleMode=o)},s.default.prototype._toRadians=function(o){return this._angleMode===c.DEGREES?o*c.DEG_TO_RAD:o},s.default.prototype._toDegrees=function(o){return this._angleMode===c.RADIANS?o*c.RAD_TO_DEG:o},s.default.prototype._fromRadians=function(o){return this._angleMode===c.DEGREES?o*c.RAD_TO_DEG:o},s.default.prototype._fromDegrees=function(o){return this._angleMode===c.RADIANS?o*c.DEG_TO_RAD:o};var y=s.default;x.default=y},{"../core/constants":269,"../core/main":280,"core-js/modules/es.array.iterator":164,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.to-string":187,"core-js/modules/es.string.iterator":197,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.iterator":243}],316:[function(t,j,x){t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),Object.defineProperty(x,"__esModule",{value:!0}),x.default=void 0;var d=(t=t("../core/main"))&&t.__esModule?t:{default:t};d.default.prototype.textAlign=function(f,s){var c;return d.default._validateParameters("textAlign",arguments),(c=this._renderer).textAlign.apply(c,arguments)},d.default.prototype.textLeading=function(f){var s;return d.default._validateParameters("textLeading",arguments),(s=this._renderer).textLeading.apply(s,arguments)},d.default.prototype.textSize=function(f){var s;return d.default._validateParameters("textSize",arguments),(s=this._renderer).textSize.apply(s,arguments)},d.default.prototype.textStyle=function(f){var s;return d.default._validateParameters("textStyle",arguments),(s=this._renderer).textStyle.apply(s,arguments)},d.default.prototype.textWidth=function(){for(var f=arguments.length,s=new Array(f),c=0;c<f;c++)s[c]=arguments[c];if(s[0]+="",d.default._validateParameters("textWidth",s),s[0].length===0)return 0;for(var g=s[0].replace(/\t/g,"  ").split(/\r?\n|\r|\n/g),y=[],o=0;o<g.length;o++)y.push(this._renderer.textWidth(g[o]));return Math.max.apply(Math,y)},d.default.prototype.textAscent=function(){for(var f=arguments.length,s=new Array(f),c=0;c<f;c++)s[c]=arguments[c];return d.default._validateParameters("textAscent",s),this._renderer.textAscent()},d.default.prototype.textDescent=function(){for(var f=arguments.length,s=new Array(f),c=0;c<f;c++)s[c]=arguments[c];return d.default._validateParameters("textDescent",s),this._renderer.textDescent()},d.default.prototype._updateTextMetrics=function(){return this._renderer._updateTextMetrics()},d.default.prototype.textWrap=function(f){return d.default._validateParameters("textWrap",[f]),this._renderer.textWrap(f)},t=d.default,x.default=t},{"../core/main":280,"core-js/modules/es.regexp.exec":192,"core-js/modules/es.string.replace":201,"core-js/modules/es.string.split":203}],317:[function(t,j,x){function d(i){return(d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(h){return typeof h}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(i)}function f(i){return(f=typeof Symbol=="function"&&d(Symbol.iterator)==="symbol"?function(h){return d(h)}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":d(h)})(i)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.last-index-of"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.split"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.last-index-of"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.split"),Object.defineProperty(x,"__esModule",{value:!0}),x.default=void 0;var s=(a=t("../core/main"))&&a.__esModule?a:{default:a},c=o(t("../core/constants")),g=o(t("opentype.js"));function y(){var i;return typeof WeakMap!="function"?null:(i=new WeakMap,y=function(){return i},i)}function o(i){if(i&&i.__esModule)return i;if(i===null||f(i)!=="object"&&typeof i!="function")return{default:i};var h=y();if(h&&h.has(i))return h.get(i);var p,l,m={},_=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(p in i)Object.prototype.hasOwnProperty.call(i,p)&&((l=_?Object.getOwnPropertyDescriptor(i,p):null)&&(l.get||l.set)?Object.defineProperty(m,p,l):m[p]=i[p]);return m.default=i,h&&h.set(i,m),m}t("../core/friendly_errors/validate_params"),t("../core/friendly_errors/file_errors"),t("../core/friendly_errors/fes_core"),s.default.prototype.loadFont=function(i,h,p){s.default._validateParameters("loadFont",arguments);var l=new s.default.Font(this),m=this;return g.load(i,function(T,O){if(T)return s.default._friendlyFileLoadError(4,i),p!==void 0?p(T):void console.error(T,i);l.font=O,h!==void 0&&h(l),m._decrementPreload();var T=i.split("\\").pop().split("/").pop(),O=T.lastIndexOf("."),k=O<1?null:T.slice(O+1);["ttf","otf","woff","woff2"].includes(k)&&(k=T.slice(0,O!==-1?O:0),(T=document.createElement("style")).appendChild(document.createTextNode(`
@font-face {
font-family: `.concat(k,`;
src: url(`).concat(i,`);
}
`))),document.head.appendChild(T))}),l},s.default.prototype.text=function(i,h,p,l,m){var _;return s.default._validateParameters("text",arguments),this._renderer._doFill||this._renderer._doStroke?(_=this._renderer).text.apply(_,arguments):this},s.default.prototype.textFont=function(i,h){if(s.default._validateParameters("textFont",arguments),arguments.length){if(i)return this._renderer._setProperty("_textFont",i),h&&(this._renderer._setProperty("_textSize",h),this._renderer._leadingSet||this._renderer._setProperty("_textLeading",h*c._DEFAULT_LEADMULT)),this._renderer._applyTextProperties();throw new Error("null font passed to textFont")}return this._renderer._textFont};var a=s.default;x.default=a},{"../core/constants":269,"../core/friendly_errors/fes_core":271,"../core/friendly_errors/file_errors":272,"../core/friendly_errors/validate_params":275,"../core/main":280,"core-js/modules/es.array.concat":152,"core-js/modules/es.array.includes":162,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.last-index-of":166,"core-js/modules/es.array.slice":168,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.to-string":187,"core-js/modules/es.regexp.exec":192,"core-js/modules/es.string.iterator":197,"core-js/modules/es.string.split":203,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.iterator":243,"opentype.js":254}],318:[function(t,j,x){function d(M){return(d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(I){return typeof I}:function(I){return I&&typeof Symbol=="function"&&I.constructor===Symbol&&I!==Symbol.prototype?"symbol":typeof I})(M)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.function.name"),t("core-js/modules/es.number.to-fixed"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.function.name"),t("core-js/modules/es.number.to-fixed"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(x,"__esModule",{value:!0}),x.default=void 0;var f=(f=t("../core/main"))&&f.__esModule?f:{default:f},s=function(M){if(M&&M.__esModule)return M;if(M===null||g(M)!=="object"&&typeof M!="function")return{default:M};var I=c();if(I&&I.has(M))return I.get(M);var F,A={},U=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(F in M){var D;Object.prototype.hasOwnProperty.call(M,F)&&((D=U?Object.getOwnPropertyDescriptor(M,F):null)&&(D.get||D.set)?Object.defineProperty(A,F,D):A[F]=M[F])}return A.default=M,I&&I.set(M,A),A}(t("../core/constants"));function c(){var M;return typeof WeakMap!="function"?null:(M=new WeakMap,c=function(){return M},M)}function g(M){return(g=typeof Symbol=="function"&&d(Symbol.iterator)==="symbol"?function(I){return d(I)}:function(I){return I&&typeof Symbol=="function"&&I.constructor===Symbol&&I!==Symbol.prototype?"symbol":d(I)})(M)}function y(M,I){for(var F=0;F<I.length;F++){var A=I[F];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(M,A.key,A)}}function o(M,I){var F=M.length;return M[I<0?I%F+F:I%F]}function a(M,I,F,A){var U,D,V;return A?(a.tmpPoint1===void 0&&(a.tmpPoint1=[],a.tmpPoint2=[]),D=a.tmpPoint1,V=a.tmpPoint2,D.x=I.x-M.x,D.y=I.y-M.y,V.x=F.x-I.x,V.y=F.y-I.y,U=D.x*V.x+D.y*V.y,D=Math.sqrt(D.x*D.x+D.y*D.y),V=Math.sqrt(V.x*V.x+V.y*V.y),Math.acos(U/(D*V))<A):(I[0]-M[0])*(F[1]-M[1])-(F[0]-M[0])*(I[1]-M[1])==0}function i(B,$,H,ne,se,D,V,G,W){var J=1-W,Y=Math.pow(J,3),z=Math.pow(J,2),C=W*W,ee=C*W,Q=Y*B+3*z*W*H+3*J*W*W*se+ee*V,Y=Y*$+3*z*W*ne+3*J*W*W*D+ee*G,z=B+2*W*(H-B)+C*(se-2*H+B),ee=$+2*W*(ne-$)+C*(D-2*ne+$),ie=H+2*W*(se-H)+C*(V-2*se+H),C=ne+2*W*(D-ne)+C*(G-2*D+ne),B=J*B+W*H,H=J*$+W*ne,$=J*se+W*V,ne=J*D+W*G,se=90-180*Math.atan2(z-ie,ee-C)/Math.PI;return(ie<z||ee<C)&&(se+=180),{x:Q,y:Y,m:{x:z,y:ee},n:{x:ie,y:C},start:{x:B,y:H},end:{x:$,y:ne},alpha:se}}function h(M,I,F,A,U,D,V,G,W){return W==null?O(M,I,F,A,U,D,V,G):i(M,I,F,A,U,D,V,G,function(J,Q,Y,z,ee,ie,C,B,H){if(!(H<0||O(J,Q,Y,z,ee,ie,C,B)<H)){var $,ne=.5,se=1-ne;for($=O(J,Q,Y,z,ee,ie,C,B,se);.01<Math.abs($-H);)$=O(J,Q,Y,z,ee,ie,C,B,se+=($<H?1:-1)*(ne/=2));return se}}(M,I,F,A,U,D,V,G,W))}function p(M,I,F){for(var A,U,D,V,G,W=0,J=0,Q=(M=function(Y,z){function ee(je,Te,Me){var qe,Ne;if(!je)return["C",Te.x,Te.y,Te.x,Te.y,Te.x,Te.y];switch(je[0]in{T:1,Q:1}||(Te.qx=Te.qy=null),je[0]){case"M":Te.X=je[1],Te.Y=je[2];break;case"A":je=["C"].concat(m.apply(0,[Te.x,Te.y].concat(je.slice(1))));break;case"S":Ne=Me==="C"||Me==="S"?(qe=2*Te.x-Te.bx,2*Te.y-Te.by):(qe=Te.x,Te.y),je=["C",qe,Ne].concat(je.slice(1));break;case"T":Me==="Q"||Me==="T"?(Te.qx=2*Te.x-Te.qx,Te.qy=2*Te.y-Te.qy):(Te.qx=Te.x,Te.qy=Te.y),je=["C"].concat(T(Te.x,Te.y,Te.qx,Te.qy,je[1],je[2]));break;case"Q":Te.qx=je[1],Te.qy=je[2],je=["C"].concat(T(Te.x,Te.y,je[1],je[2],je[3],je[4]));break;case"L":je=["C"].concat(b(Te.x,Te.y,je[1],je[2]));break;case"H":je=["C"].concat(b(Te.x,Te.y,je[1],Te.y));break;case"V":je=["C"].concat(b(Te.x,Te.y,Te.x,je[1]));break;case"Z":je=["C"].concat(b(Te.x,Te.y,Te.X,Te.Y))}return je}function ie(je,Te){if(7<je[Te].length){je[Te].shift();for(var Me=je[Te];Me.length;)de[Te]="A",$&&(_e[Te]="A"),je.splice(Te++,0,["C"].concat(Me.splice(0,6)));je.splice(Te,1),B=Math.max(H.length,$&&$.length||0)}}function C(je,Te,Me,qe,Ne){je&&Te&&je[Ne][0]==="M"&&Te[Ne][0]!=="M"&&(Te.splice(Ne,0,["M",qe.x,qe.y]),Me.bx=0,Me.by=0,Me.x=je[Ne][1],Me.y=je[Ne][2],B=Math.max(H.length,$&&$.length||0))}var B,H=l(Y),$=z&&l(z),ne={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},se={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},de=[],_e=[],pe="",ge="";B=Math.max(H.length,$&&$.length||0);for(var ve=0;ve<B;ve++){(pe=H[ve]?H[ve][0]:pe)!=="C"&&(de[ve]=pe,ve&&(ge=de[ve-1])),H[ve]=ee(H[ve],ne,ge),de[ve]!=="A"&&pe==="C"&&(de[ve]="C"),ie(H,ve),$&&((pe=$[ve]?$[ve][0]:pe)!=="C"&&(_e[ve]=pe,ve&&(ge=_e[ve-1])),$[ve]=ee($[ve],se,ge),_e[ve]!=="A"&&pe==="C"&&(_e[ve]="C"),ie($,ve)),C(H,$,ne,se,ve),C($,H,se,ne,ve);var le=H[ve],he=$&&$[ve],be=le.length,Ae=$&&he.length;ne.x=le[be-2],ne.y=le[be-1],ne.bx=parseFloat(le[be-4])||ne.x,ne.by=parseFloat(le[be-3])||ne.y,se.bx=$&&(parseFloat(he[Ae-4])||se.x),se.by=$&&(parseFloat(he[Ae-3])||se.y),se.x=$&&he[Ae-2],se.y=$&&he[Ae-1]}return $?[H,$]:H}(M)).length;J<Q;J++){if((D=M[J])[0]==="M")A=+D[1],U=+D[2];else{if(I<W+(V=h(A,U,D[1],D[2],D[3],D[4],D[5],D[6]))&&!F)return{x:(G=h(A,U,D[1],D[2],D[3],D[4],D[5],D[6],I-W)).x,y:G.y,alpha:G.alpha};W+=V,A=+D[5],U=+D[6]}D.shift()}return G=(G=F?W:i(A,U,D[0],D[1],D[2],D[3],D[4],D[5],1)).alpha?{x:G.x,y:G.y,alpha:G.alpha}:G}function l(M){var I=[],F=0,A=0,U=0,D=0,V=0;if(M){M[0][0]==="M"&&(U=F=+M[0][1],D=A=+M[0][2],V++,I[0]=["M",F,A]);for(var G,W,J=M.length===3&&M[0][0]==="M"&&M[1][0].toUpperCase()==="R"&&M[2][0].toUpperCase()==="Z",Q=V,Y=M.length;Q<Y;Q++){if(I.push(G=[]),(W=M[Q])[0]!==W[0].toUpperCase())switch(G[0]=W[0].toUpperCase(),G[0]){case"A":G[1]=W[1],G[2]=W[2],G[3]=W[3],G[4]=W[4],G[5]=W[5],G[6]=+(W[6]+F),G[7]=+(W[7]+A);break;case"V":G[1]=+W[1]+A;break;case"H":G[1]=+W[1]+F;break;case"R":for(var z,ee=2,ie=(z=[F,A].concat(W.slice(1))).length;ee<ie;ee++)z[ee]=+z[ee]+F,z[++ee]=+z[ee]+A;I.pop(),I=I.concat(_(z,J));break;case"M":U=+W[1]+F,D=+W[2]+A;break;default:for(var C=1,B=W.length;C<B;C++)G[C]=+W[C]+(C%2?F:A)}else if(W[0]==="R")z=[F,A].concat(W.slice(1)),I.pop(),I=I.concat(_(z,J)),G=["R"].concat(W.slice(-2));else for(var H=0,$=W.length;H<$;H++)G[H]=W[H];switch(G[0]){case"Z":F=U,A=D;break;case"H":F=G[1];break;case"V":A=G[1];break;case"M":U=G[G.length-2],D=G[G.length-1];break;default:F=G[G.length-2],A=G[G.length-1]}}}return I}function m(M,I,F,A,$,de,ne,G,W,J){function Q(Ae,je,Te){return{x:Ae*Math.cos(Te)-je*Math.sin(Te),y:Ae*Math.sin(Te)+je*Math.cos(Te)}}var Y,B=Math.PI,H=120*B/180,z=B/180*(+$||0),ee=[],ie=(J?(ve=J[0],Y=J[1],pe=J[2],ge=J[3]):(M=(se=Q(M,I,-z)).x,I=se.y,1<(ie=(C=(M-(G=(se=Q(G,W,-z)).x))/2)*C/(F*F)+(se=(I-(W=se.y))/2)*se/(A*A))&&(F*=ie=Math.sqrt(ie),A*=ie),ie=F*F,_e=A*A,pe=(de=(de===ne?-1:1)*Math.sqrt(Math.abs((ie*_e-ie*se*se-_e*C*C)/(ie*se*se+_e*C*C))))*F*se/A+(M+G)/2,ge=de*-A*C/F+(I+W)/2,ve=Math.asin(((I-ge)/A).toFixed(9)),Y=Math.asin(((W-ge)/A).toFixed(9)),(ve=M<pe?B-ve:ve)<0&&(ve=2*B+ve),(Y=G<pe?B-Y:Y)<0&&(Y=2*B+Y),ne&&Y<ve&&(ve-=2*B),!ne&&ve<Y&&(Y-=2*B)),Y-ve),C=(Math.abs(ie)>H&&(_e=Y,se=G,de=W,Y=ve+H*(ne&&ve<Y?1:-1),ee=m(G=pe+F*Math.cos(Y),W=ge+A*Math.sin(Y),F,A,$,0,ne,se,de,[Y,_e,pe,ge])),ie=Y-ve,Math.cos(ve)),B=Math.sin(ve),H=Math.cos(Y),$=Math.sin(Y),ne=Math.tan(ie/4),se=4/3*F*ne,de=4/3*A*ne,_e=[M,I],pe=[M+se*B,I-de*C],ge=[G+se*$,W-de*H],ve=[G,W];if(pe[0]=2*_e[0]-pe[0],pe[1]=2*_e[1]-pe[1],J)return[pe,ge,ve].concat(ee);for(var le=[],he=0,be=(ee=[pe,ge,ve].concat(ee).join().split(",")).length;he<be;he++)le[he]=he%2?Q(ee[he-1],ee[he],z).y:Q(ee[he],ee[he+1],z).x;return le}function _(M,I){for(var F=[],A=0,U=M.length;A<U-2*!I;A+=2){var D=[{x:+M[A-2],y:+M[A-1]},{x:+M[A],y:+M[A+1]},{x:+M[A+2],y:+M[A+3]},{x:+M[A+4],y:+M[A+5]}];I?A?U-4===A?D[3]={x:+M[0],y:+M[1]}:U-2===A&&(D[2]={x:+M[0],y:+M[1]},D[3]={x:+M[2],y:+M[3]}):D[0]={x:+M[U-2],y:+M[U-1]}:U-4===A?D[3]=D[2]:A||(D[0]={x:+M[A],y:+M[A+1]}),F.push(["C",(-D[0].x+6*D[1].x+D[2].x)/6,(-D[0].y+6*D[1].y+D[2].y)/6,(D[1].x+6*D[2].x-D[3].x)/6,(D[1].y+6*D[2].y-D[3].y)/6,D[2].x,D[2].y])}return F}function b(M,I,F,A){return[M,I,F,A,F,A]}function T(M,I,F,A,U,D){return[1/3*M+2/3*F,1/3*I+2/3*A,1/3*U+2/3*F,1/3*D+2/3*A,U,D]}function O(M,I,F,A,U,D,V,G,W){for(var J=(W=1<(W=W??1)?1:W<0?0:W)/2,Q=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],Y=0,z=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],ee=0;ee<12;ee++){var C=J*Q[ee]+J,ie=k(C,M,F,U,V),C=k(C,I,A,D,G);Y+=z[ee]*Math.sqrt(ie*ie+C*C)}return J*Y}function k(M,I,F,A,U){return M*(M*(-3*I+9*F-9*A+3*U)+6*I-12*F+6*A)-3*I+3*F}f.default.Font=function(){function M(A){if(!(this instanceof M))throw new TypeError("Cannot call a class as a function");this.parent=A,this.cache={},this.font=void 0}var I,F;return I=M,(F=[{key:"textBounds",value:function(A){var U=1<arguments.length&&arguments[1]!==void 0?arguments[1]:0,D=2<arguments.length&&arguments[2]!==void 0?arguments[2]:0,J=3<arguments.length?arguments[3]:void 0,V=4<arguments.length?arguments[4]:void 0,G=V&&V.renderer&&V.renderer._pInst||this.parent,W=G._renderer.drawingContext,J=(W.textAlign||s.LEFT,W.textBaseline||s.BASELINE,J||G._renderer._textSize);if(!se){for(var Q=[],Y=[],z=[],ee=(z[0]=[],[]),ie=this._scale(J),C=G._renderer.textLeading(),B=0,H=(this.font.forEachGlyph(A,U,D,J,V,function(pe,ge,ve,le){var he=pe.getMetrics();pe.index===0?z[B+=1]=[]:(z[B].push(ge+he.xMin*ie),z[B].push(ge+he.xMax*ie),ee.push(ve+B*C+-he.yMin*ie),ee.push(ve+B*C+-he.yMax*ie))}),0<z[B].length&&(Q[B]=Math.min.apply(null,z[B]),Y[B]=Math.max.apply(null,z[B])),0),$=0;$<=B;$++){Q[$]=Math.min.apply(null,z[$]),Y[$]=Math.max.apply(null,z[$]);var ne=Y[$]-Q[$];H<ne&&(H=ne)}var W=Math.min.apply(null,Q),se={x:W,y:D=Math.min.apply(null,ee),h:Math.max.apply(null,ee)-D,w:H,advance:W-U},J=this._handleAlignment(G._renderer,A,se.x,se.y,se.w+se.advance);se.x=J.x,se.y=J.y}return se}},{key:"textToPoints",value:function(A,U,D,V,G){var W=U,J=[],Q=A.split(/\r?\n|\r|\n/g);V=V||this.parent._renderer._textSize;for(var Y,z,ee,ie=0;ie<Q.length;ie++){var C=0;U=W;for(var B=(B=Q[ie]).replace("	","  "),H=this._getGlyphs(B),$=0;$<H.length;$++){if(z=B,!((ee=H)[Y=$].name&&ee[Y].name==="space"||z.length===ee.length&&z[Y]===" "))for(var ne=function(pe){for(var ge,ve=[],le=0;le<pe.length;le++)pe[le].type==="M"&&(ge&&ve.push(ge),ge=[]),ge.push(function(he){var be=[he.type];return he.type==="M"||he.type==="L"?be.push(he.x,he.y):he.type==="C"?be.push(he.x1,he.y1,he.x2,he.y2,he.x,he.y):he.type==="Q"&&be.push(he.x1,he.y1,he.x,he.y),be}(pe[le]));return ve.push(ge),ve}(H[$].getPath(U,D,V).commands),se=0;se<ne.length;se++)for(var de=function(pe,ge){for(var ge=function(je,Te){if(g(je)!=="object")je=Te;else for(var Me in Te)je[Me]===void 0&&(je[Me]=Te[Me]);return je}(ge,{sampleFactor:.1,simplifyThreshold:0}),ve=p(pe,0,1),le=ve/(ve*ge.sampleFactor),he=[],be=0;be<ve;be+=le)he.push(p(pe,be));return ge.simplifyThreshold&&function(Ae){for(var je=1<arguments.length&&arguments[1]!==void 0?arguments[1]:0,Te=0,Me=Ae.length-1;3<Ae.length&&0<=Me;--Me)a(o(Ae,Me-1),o(Ae,Me),o(Ae,Me+1),je)&&(Ae.splice(Me%Ae.length,1),Te++)}(he,ge.simplifyThreshold),he}(ne[se],G),_e=0;_e<de.length;_e++)de[_e].x+=C,J.push(de[_e]);C+=H[$].advanceWidth*this._scale(V)}D+=this.parent._renderer._textLeading}return J}},{key:"_getGlyphs",value:function(A){return this.font.stringToGlyphs(A)}},{key:"_getPath",value:function(A,W,D,V){var G=(V&&V.renderer&&V.renderer._pInst||this.parent)._renderer,W=this._handleAlignment(G,A,W,D);return this.font.getPath(A,W.x,W.y,G._textSize,V)}},{key:"_getPathData",value:function(A,U,D,V){var G=3;return typeof A=="string"&&2<arguments.length?A=this._getPath(A,U,D,V):g(U)==="object"&&(V=U),V&&typeof V.decimals=="number"&&(G=V.decimals),A.toPathData(G)}},{key:"_getSVG",value:function(A,U,D,V){var G=3;return typeof A=="string"&&2<arguments.length?A=this._getPath(A,U,D,V):g(U)==="object"&&(V=U),V&&(typeof V.decimals=="number"&&(G=V.decimals),typeof V.strokeWidth=="number"&&(A.strokeWidth=V.strokeWidth),V.fill!==void 0&&(A.fill=V.fill),V.stroke!==void 0&&(A.stroke=V.stroke)),A.toSVG(G)}},{key:"_renderPath",value:function(J,Y,z,V){var G=V&&V.renderer||this.parent._renderer,W=G.drawingContext,J=(g(J)==="object"&&J.commands?J:this._getPath(J,Y,z,V)).commands,Q=(W.beginPath(),!0),Y=!1,z=void 0;try{for(var ee,ie=J[Symbol.iterator]();!(Q=(ee=ie.next()).done);Q=!0){var C=ee.value;C.type==="M"?W.moveTo(C.x,C.y):C.type==="L"?W.lineTo(C.x,C.y):C.type==="C"?W.bezierCurveTo(C.x1,C.y1,C.x2,C.y2,C.x,C.y):C.type==="Q"?W.quadraticCurveTo(C.x1,C.y1,C.x,C.y):C.type==="Z"&&W.closePath()}}catch(B){Y=!0,z=B}finally{try{Q||ie.return==null||ie.return()}finally{if(Y)throw z}}return G._doStroke&&G._strokeSet&&!G._clipping&&W.stroke(),G._doFill&&!G._clipping&&(G._fillSet||G._setFill(s._DEFAULT_TEXT_FILL),W.fill()),this}},{key:"_textWidth",value:function(A,U){return this.font.getAdvanceWidth(A,U)}},{key:"_textAscent",value:function(A){return this.font.ascender*this._scale(A)}},{key:"_textDescent",value:function(A){return-this.font.descender*this._scale(A)}},{key:"_scale",value:function(A){return 1/this.font.unitsPerEm*(A||this.parent._renderer._textSize)}},{key:"_handleAlignment",value:function(A,U,D,V,G){var W=A._textSize;switch(G===void 0&&(G=this._textWidth(U,W)),A._textAlign){case s.CENTER:D-=G/2;break;case s.RIGHT:D-=G}switch(A._textBaseline){case s.TOP:V+=this._textAscent(W);break;case s.CENTER:V+=this._textAscent(W)/2;break;case s.BOTTOM:V-=this._textDescent(W)}return{x:D,y:V}}}])&&y(I.prototype,F),M}(),t=f.default,x.default=t},{"../core/constants":269,"../core/main":280,"core-js/modules/es.array.concat":152,"core-js/modules/es.array.fill":155,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.join":165,"core-js/modules/es.array.slice":168,"core-js/modules/es.array.splice":170,"core-js/modules/es.function.name":173,"core-js/modules/es.number.to-fixed":180,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.to-string":187,"core-js/modules/es.regexp.exec":192,"core-js/modules/es.string.iterator":197,"core-js/modules/es.string.replace":201,"core-js/modules/es.string.split":203,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.iterator":243}],319:[function(t,j,x){t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.array-buffer.constructor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.array-buffer.constructor"),t("core-js/modules/es.object.to-string"),Object.defineProperty(x,"__esModule",{value:!0}),x.default=void 0,t=(t=t("../core/main"))&&t.__esModule?t:{default:t},t.default.prototype.append=function(d,f){return d.push(f),d},t.default.prototype.arrayCopy=function(d,f,s,c,g){var y,o;d=g!==void 0?(o=Math.min(g,d.length),y=c,d.slice(f,o+f)):(o=s!==void 0?(o=s,Math.min(o,d.length)):d.length,s=f,d.slice(y=0,o)),Array.prototype.splice.apply(s,[y,o].concat(d))},t.default.prototype.concat=function(d,f){return d.concat(f)},t.default.prototype.reverse=function(d){return d.reverse()},t.default.prototype.shorten=function(d){return d.pop(),d},t.default.prototype.shuffle=function(d,f){for(var s,c,g=ArrayBuffer&&ArrayBuffer.isView&&ArrayBuffer.isView(d),y=(d=f||g?d:d.slice()).length;1<y;)s=this.random(0,1)*y|0,c=d[--y],d[y]=d[s],d[s]=c;return d},t.default.prototype.sort=function(d,c){var s=c?d.slice(0,Math.min(c,d.length)):d,c=c?d.slice(Math.min(c,d.length)):[];return(s=typeof s[0]=="string"?s.sort():s.sort(function(g,y){return g-y})).concat(c)},t.default.prototype.splice=function(d,f,s){return Array.prototype.splice.apply(d,[s,0].concat(f)),d},t.default.prototype.subset=function(d,f,s){return s!==void 0?d.slice(f,f+s):d.slice(f,d.length)},t=t.default,x.default=t},{"../core/main":280,"core-js/modules/es.array-buffer.constructor":151,"core-js/modules/es.array.concat":152,"core-js/modules/es.array.slice":168,"core-js/modules/es.array.splice":170,"core-js/modules/es.object.to-string":187}],320:[function(t,j,x){t("core-js/modules/es.array.map"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.repeat"),t("core-js/modules/es.array.map"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.repeat"),Object.defineProperty(x,"__esModule",{value:!0}),x.default=void 0;var d=(t=t("../core/main"))&&t.__esModule?t:{default:t};d.default.prototype.float=function(f){return f instanceof Array?f.map(parseFloat):parseFloat(f)},d.default.prototype.int=function(f){var s=1<arguments.length&&arguments[1]!==void 0?arguments[1]:10;return f===1/0||f==="Infinity"?1/0:f===-1/0||f==="-Infinity"?-1/0:typeof f=="string"?parseInt(f,s):typeof f=="number"?0|f:typeof f=="boolean"?f?1:0:f instanceof Array?f.map(function(c){return d.default.prototype.int(c,s)}):void 0},d.default.prototype.str=function(f){return f instanceof Array?f.map(d.default.prototype.str):String(f)},d.default.prototype.boolean=function(f){return typeof f=="number"?f!==0:typeof f=="string"?f.toLowerCase()==="true":typeof f=="boolean"?f:f instanceof Array?f.map(d.default.prototype.boolean):void 0},d.default.prototype.byte=function(f){return f=d.default.prototype.int(f,10),typeof f=="number"?(f+128)%256-128:f instanceof Array?f.map(d.default.prototype.byte):void 0},d.default.prototype.char=function(f){return typeof f!="number"||isNaN(f)?f instanceof Array?f.map(d.default.prototype.char):typeof f=="string"?d.default.prototype.char(parseInt(f,10)):void 0:String.fromCharCode(f)},d.default.prototype.unchar=function(f){return typeof f=="string"&&f.length===1?f.charCodeAt(0):f instanceof Array?f.map(d.default.prototype.unchar):void 0},d.default.prototype.hex=function(f,s){if(s=s??8,f instanceof Array)return f.map(function(g){return d.default.prototype.hex(g,s)});if(f===1/0||f===-1/0)return(f===1/0?"F":"0").repeat(s);if(typeof f=="number"){f<0&&(f=4294967295+f+1);for(var c=Number(f).toString(16).toUpperCase();c.length<s;)c="0".concat(c);return c=c.length>=s?c.substring(c.length-s,c.length):c}},d.default.prototype.unhex=function(f){return f instanceof Array?f.map(d.default.prototype.unhex):parseInt("0x".concat(f),16)},t=d.default,x.default=t},{"../core/main":280,"core-js/modules/es.array.map":167,"core-js/modules/es.number.constructor":178,"core-js/modules/es.object.to-string":187,"core-js/modules/es.regexp.to-string":193,"core-js/modules/es.string.repeat":200}],321:[function(t,j,x){t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.number.to-fixed"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.constructor"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.pad-start"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.number.to-fixed"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.constructor"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.pad-start"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),Object.defineProperty(x,"__esModule",{value:!0}),x.default=void 0;var d=(o=t("../core/main"))&&o.__esModule?o:{default:o};function f(a,i){return function(h){if(Array.isArray(h))return h}(a)||function(h,p){if(Symbol.iterator in Object(h)||Object.prototype.toString.call(h)==="[object Arguments]"){var l=[],m=!0,_=!1,b=void 0;try{for(var T,O=h[Symbol.iterator]();!(m=(T=O.next()).done)&&(l.push(T.value),!p||l.length!==p);m=!0);}catch(k){_=!0,b=k}finally{try{m||O.return==null||O.return()}finally{if(_)throw b}}return l}}(a,i)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function s(a,i,h){var l=f(a.toString().split("."),2),p=l[0],l=l[1];return h===void 0?(p=p.padStart(i,"0"),l?p+"."+l:p):(p=(a=f(a.toFixed(h).toString().split("."),2))[0],l=a[1],p=p.padStart(i,"0"),l===void 0?p:p+"."+l)}function c(l,i){var h=(l=l.toString()).indexOf("."),p=h!==-1?l.substring(h):"",l=(l=h!==-1?l.substring(0,h):l).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",");if(i===0)p="";else if(i!==void 0)if(i>p.length)for(var m=i-(p+=h===-1?".":"").length+1,_=0;_<m;_++)p+="0";else p=p.substring(0,i+1);return l+p}function g(a){return 0<parseFloat(a)?"+".concat(a.toString()):a.toString()}function y(a){return 0<=parseFloat(a)?" ".concat(a.toString()):a.toString()}t("../core/friendly_errors/validate_params"),t("../core/friendly_errors/file_errors"),t("../core/friendly_errors/fes_core"),d.default.prototype.join=function(a,i){return d.default._validateParameters("join",arguments),a.join(i)},d.default.prototype.match=function(a,i){return d.default._validateParameters("match",arguments),a.match(i)},d.default.prototype.matchAll=function(a,i){d.default._validateParameters("matchAll",arguments);for(var h=new RegExp(i,"g"),p=h.exec(a),l=[];p!==null;)l.push(p),p=h.exec(a);return l},d.default.prototype.nf=function(a,i,h){return d.default._validateParameters("nf",arguments),a instanceof Array?a.map(function(p){return s(p,i,h)}):Object.prototype.toString.call(a)==="[object Arguments]"?a.length===3?this.nf(a[0],a[1],a[2]):a.length===2?this.nf(a[0],a[1]):this.nf(a[0]):s(a,i,h)},d.default.prototype.nfc=function(a,i){return d.default._validateParameters("nfc",arguments),a instanceof Array?a.map(function(h){return c(h,i)}):c(a,i)},d.default.prototype.nfp=function(){for(var a=arguments.length,i=new Array(a),h=0;h<a;h++)i[h]=arguments[h];d.default._validateParameters("nfp",i);var p=d.default.prototype.nf.apply(this,i);return p instanceof Array?p.map(g):g(p)},d.default.prototype.nfs=function(){for(var a=arguments.length,i=new Array(a),h=0;h<a;h++)i[h]=arguments[h];d.default._validateParameters("nfs",i);var p=d.default.prototype.nf.apply(this,i);return p instanceof Array?p.map(y):y(p)},d.default.prototype.split=function(a,i){return d.default._validateParameters("split",arguments),a.split(i)},d.default.prototype.splitTokens=function(a,i){var h,p;return d.default._validateParameters("splitTokens",arguments),p=i!==void 0?(p=/\]/g.exec(i=i),(h=/\[/g.exec(i))&&p?(i=i.slice(0,p.index)+i.slice(p.index+1),h=/\[/g.exec(i),i=i.slice(0,h.index)+i.slice(h.index+1),new RegExp("[\\[".concat(i,"\\]]"),"g")):p?(i=i.slice(0,p.index)+i.slice(p.index+1),new RegExp("[".concat(i,"\\]]"),"g")):h?(i=i.slice(0,h.index)+i.slice(h.index+1),new RegExp("[".concat(i,"\\[]"),"g")):new RegExp("[".concat(i,"]"),"g")):/\s/g,a.split(p).filter(function(l){return l})},d.default.prototype.trim=function(a){return d.default._validateParameters("trim",arguments),a instanceof Array?a.map(this.trim):a.trim()};var o=d.default;x.default=o},{"../core/friendly_errors/fes_core":271,"../core/friendly_errors/file_errors":272,"../core/friendly_errors/validate_params":275,"../core/main":280,"core-js/modules/es.array.filter":156,"core-js/modules/es.array.index-of":163,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.join":165,"core-js/modules/es.array.map":167,"core-js/modules/es.array.slice":168,"core-js/modules/es.number.to-fixed":180,"core-js/modules/es.object.to-string":187,"core-js/modules/es.regexp.constructor":191,"core-js/modules/es.regexp.exec":192,"core-js/modules/es.regexp.to-string":193,"core-js/modules/es.string.iterator":197,"core-js/modules/es.string.match":198,"core-js/modules/es.string.pad-start":199,"core-js/modules/es.string.replace":201,"core-js/modules/es.string.split":203,"core-js/modules/es.string.trim":206,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/web.dom-collections.iterator":243}],322:[function(t,j,x){Object.defineProperty(x,"__esModule",{value:!0}),x.default=void 0,t=(t=t("../core/main"))&&t.__esModule?t:{default:t},t.default.prototype.day=function(){return new Date().getDate()},t.default.prototype.hour=function(){return new Date().getHours()},t.default.prototype.minute=function(){return new Date().getMinutes()},t.default.prototype.millis=function(){return this._millisStart===-1?0:window.performance.now()-this._millisStart},t.default.prototype.month=function(){return new Date().getMonth()+1},t.default.prototype.second=function(){return new Date().getSeconds()},t.default.prototype.year=function(){return new Date().getFullYear()},t=t.default,x.default=t},{"../core/main":280}],323:[function(t,j,x){function d(a){return(d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i})(a)}function f(a){return(f=typeof Symbol=="function"&&d(Symbol.iterator)==="symbol"?function(i){return d(i)}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":d(i)})(a)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.math.hypot"),t("core-js/modules/es.math.sign"),t("core-js/modules/es.number.to-fixed"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.math.hypot"),t("core-js/modules/es.math.sign"),t("core-js/modules/es.number.to-fixed"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(x,"__esModule",{value:!0}),x.default=void 0;var s=(o=t("../core/main"))&&o.__esModule?o:{default:o},c=(t("./p5.Geometry"),function(a){if(a&&a.__esModule)return a;if(a===null||f(a)!=="object"&&typeof a!="function")return{default:a};var i=g();if(i&&i.has(a))return i.get(a);var h,p={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(h in a){var m;Object.prototype.hasOwnProperty.call(a,h)&&((m=l?Object.getOwnPropertyDescriptor(a,h):null)&&(m.get||m.set)?Object.defineProperty(p,h,m):p[h]=a[h])}return p.default=a,i&&i.set(a,p),p}(t("../core/constants")));function g(){var a;return typeof WeakMap!="function"?null:(a=new WeakMap,g=function(){return a},a)}s.default.prototype.beginGeometry=function(){return this._renderer.beginGeometry()},s.default.prototype.endGeometry=function(){return this._renderer.endGeometry()},s.default.prototype.buildGeometry=function(a){return this._renderer.buildGeometry(a)},s.default.prototype.freeGeometry=function(a){this._renderer._freeBuffers(a.gid)},s.default.prototype.plane=function(){var a,i=0<arguments.length&&arguments[0]!==void 0?arguments[0]:50,h=1<arguments.length&&arguments[1]!==void 0?arguments[1]:i,p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:1,l=3<arguments.length&&arguments[3]!==void 0?arguments[3]:1,m=(this._assert3d("plane"),s.default._validateParameters("plane",arguments),"plane|".concat(p,"|").concat(l));return this._renderer.geometryInHash(m)||((a=new s.default.Geometry(p,l,function(){for(var _,b,T=0;T<=this.detailY;T++)for(var O=T/this.detailY,k=0;k<=this.detailX;k++)_=k/this.detailX,b=new s.default.Vector(_-.5,O-.5,0),this.vertices.push(b),this.uvs.push(_,O)})).computeFaces().computeNormals(),p<=1&&l<=1?a._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on plane objects with more than 1 detailX or 1 detailY"),this._renderer.createBuffers(m,a)),this._renderer.drawBuffersScaled(m,i,h,1),this},s.default.prototype.box=function(a,i,h,p,l){this._assert3d("box"),s.default._validateParameters("box",arguments),a===void 0&&(a=50),i===void 0&&(i=a),h===void 0&&(h=i);var m,_=this._renderer.attributes&&this._renderer.attributes.perPixelLighting,_=(l===void 0&&(l=_?1:4),"box|".concat(p=p===void 0?_?1:4:p,"|").concat(l));return this._renderer.geometryInHash(_)||((m=new s.default.Geometry(p,l,function(){var b=this;this.edges=[[0,1],[1,3],[3,2],[6,7],[8,9],[9,11],[14,15],[16,17],[17,19],[18,19],[20,21],[22,23]],[[0,4,2,6],[1,3,5,7],[0,1,4,5],[2,6,3,7],[0,2,1,3],[4,5,6,7]].forEach(function(T,O){for(var O=4*O,k=0;k<4;k++){var M=T[k],M=new s.default.Vector((2*(1&M)-1)/2,((2&M)-1)/2,((4&M)/2-1)/2);b.vertices.push(M),b.uvs.push(1&k,(2&k)/2)}b.faces.push([O,1+O,2+O]),b.faces.push([2+O,1+O,3+O])})})).computeNormals(),p<=4&&l<=4?m._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on box objects with more than 4 detailX or 4 detailY"),this._renderer.createBuffers(_,m)),this._renderer.drawBuffersScaled(_,a,i,h),this},s.default.prototype.sphere=function(){var a=0<arguments.length&&arguments[0]!==void 0?arguments[0]:50,i=1<arguments.length&&arguments[1]!==void 0?arguments[1]:24,h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:16;return this._assert3d("sphere"),s.default._validateParameters("sphere",arguments),this.ellipsoid(a,a,a,i,h),this};function y(a,i,h,p,l,m,_){a=a<=0?1:a,i=i<0?0:i,h=h<=0?a:h,p=p<3?3:p;for(var b,T,O=(m=m===void 0||m)?-2:0,k=(l=l<1?1:l)+((_=_===void 0?i!==0:_)?2:0),M=Math.atan2(a-i,h),I=Math.sin(M),F=Math.cos(M),A=O;A<=k;++A){var U=A/l,D=h*U,V=void 0,V=A<0?(U=D=0,a):l<A?(D=h,U=1,i):a+(i-a)*U;for(A!==-2&&A!==l+2||(V=0),D-=h/2,b=0;b<p;++b){var G=b/(p-1),J=2*Math.PI*G,W=Math.sin(J),J=Math.cos(J),Q=(this.vertices.push(new s.default.Vector(W*V,D,J*V)),void 0),Q=A<0?new s.default.Vector(0,-1,0):l<A&&i?new s.default.Vector(0,1,0):new s.default.Vector(W*F,I,J*F);this.vertexNormals.push(Q),this.uvs.push(G,U)}}var Y=0;if(m){for(T=0;T<p;++T)this.faces.push([Y+T,Y+p+(T+1)%p,Y+p+T]);Y+=2*p}for(A=0;A<l;++A){for(b=0;b<p;++b){var z=(b+1)%p;this.faces.push([Y+b,Y+z,Y+p+z]),this.faces.push([Y+b,Y+p+z,Y+p+b])}Y+=p}if(_)for(Y+=p,b=0;b<p;++b)this.faces.push([Y+b,Y+(b+1)%p,Y+p])}s.default.prototype.cylinder=function(){var a,i=0<arguments.length&&arguments[0]!==void 0?arguments[0]:50,h=1<arguments.length&&arguments[1]!==void 0?arguments[1]:i,p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:24,l=3<arguments.length&&arguments[3]!==void 0?arguments[3]:1,m=!(4<arguments.length&&arguments[4]!==void 0)||arguments[4],_=!(5<arguments.length&&arguments[5]!==void 0)||arguments[5],b=(this._assert3d("cylinder"),s.default._validateParameters("cylinder",arguments),"cylinder|".concat(p,"|").concat(l,"|").concat(m,"|").concat(_));return this._renderer.geometryInHash(b)||(a=new s.default.Geometry(p,l),y.call(a,1,1,1,p,l,m,_),p<=24&&l<=16?a._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on cylinder objects with more than 24 detailX or 16 detailY"),this._renderer.createBuffers(b,a)),this._renderer.drawBuffersScaled(b,i,h,i),this},s.default.prototype.cone=function(){var a,i=0<arguments.length&&arguments[0]!==void 0?arguments[0]:50,h=1<arguments.length&&arguments[1]!==void 0?arguments[1]:i,p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:24,l=3<arguments.length&&arguments[3]!==void 0?arguments[3]:1,m=!(4<arguments.length&&arguments[4]!==void 0)||arguments[4],_=(this._assert3d("cone"),s.default._validateParameters("cone",arguments),"cone|".concat(p,"|").concat(l,"|").concat(m));return this._renderer.geometryInHash(_)||(a=new s.default.Geometry(p,l),y.call(a,1,0,1,p,l,m,!1),p<=24&&l<=16?a._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on cone objects with more than 24 detailX or 16 detailY"),this._renderer.createBuffers(_,a)),this._renderer.drawBuffersScaled(_,i,h,i),this},s.default.prototype.ellipsoid=function(){var a,i=0<arguments.length&&arguments[0]!==void 0?arguments[0]:50,h=1<arguments.length&&arguments[1]!==void 0?arguments[1]:i,p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:i,l=3<arguments.length&&arguments[3]!==void 0?arguments[3]:24,m=4<arguments.length&&arguments[4]!==void 0?arguments[4]:16,_=(this._assert3d("ellipsoid"),s.default._validateParameters("ellipsoid",arguments),"ellipsoid|".concat(l,"|").concat(m));return this._renderer.geometryInHash(_)||((a=new s.default.Geometry(l,m,function(){for(var b=0;b<=this.detailY;b++)for(var T=b/this.detailY,O=Math.PI*T-Math.PI/2,k=Math.cos(O),M=Math.sin(O),I=0;I<=this.detailX;I++){var F=I/this.detailX,U=2*Math.PI*F,A=Math.cos(U),U=Math.sin(U),U=new s.default.Vector(k*U,M,k*A);this.vertices.push(U),this.vertexNormals.push(U),this.uvs.push(F,T)}})).computeFaces(),l<=24&&m<=24?a._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on ellipsoids with more than 24 detailX or 24 detailY"),this._renderer.createBuffers(_,a)),this._renderer.drawBuffersScaled(_,i,h,p),this},s.default.prototype.torus=function(a,_,h,p){if(this._assert3d("torus"),s.default._validateParameters("torus",arguments),a===void 0)a=50;else if(!a)return;if(_===void 0)_=10;else if(!_)return;h===void 0&&(h=24),p===void 0&&(p=16);var l,m=(_/a).toPrecision(4),_="torus|".concat(m,"|").concat(h,"|").concat(p);return this._renderer.geometryInHash(_)||((l=new s.default.Geometry(h,p,function(){for(var b=0;b<=this.detailY;b++)for(var T=b/this.detailY,O=2*Math.PI*T,k=Math.cos(O),M=Math.sin(O),I=1+m*k,F=0;F<=this.detailX;F++){var A=F/this.detailX,U=2*Math.PI*A,V=Math.cos(U),U=Math.sin(U),D=new s.default.Vector(I*V,I*U,m*M),V=new s.default.Vector(k*V,k*U,M);this.vertices.push(D),this.vertexNormals.push(V),this.uvs.push(A,T)}})).computeFaces(),h<=24&&p<=16?l._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw strokes on torus object with more than 24 detailX or 16 detailY"),this._renderer.createBuffers(_,l)),this._renderer.drawBuffersScaled(_,a,a,a),this},s.default.RendererGL.prototype.point=function(a,i){var h=[];return h.push(new s.default.Vector(a,i,2<arguments.length&&arguments[2]!==void 0?arguments[2]:0)),this._drawPoints(h,this.immediateMode.buffers.point),this},s.default.RendererGL.prototype.triangle=function(_){var i=_[0],h=_[1],p=_[2],l=_[3],m=_[4],_=_[5],b=(this.geometryInHash("tri")||((b=new s.default.Geometry(1,1,function(){var k=[];k.push(new s.default.Vector(0,0,0)),k.push(new s.default.Vector(1,0,0)),k.push(new s.default.Vector(0,1,0)),this.edges=[[0,1],[1,2],[2,0]],this.vertices=k,this.faces=[[0,1,2]],this.uvs=[0,0,1,0,1,1]}))._edgesToVertices(),b.computeNormals(),this.createBuffers("tri",b)),this.uMVMatrix.copy());try{var T=Math.sign(i*l-p*h+p*_-m*l+m*h-i*_),O=new s.default.Matrix([p-i,l-h,0,0,m-i,_-h,0,0,0,0,T,0,i,h,0,1]).mult(this.uMVMatrix);this.uMVMatrix=O,this.drawBuffers("tri")}finally{this.uMVMatrix=b}return this},s.default.RendererGL.prototype.ellipse=function(a){this.arc(a[0],a[1],a[2],a[3],0,c.TWO_PI,c.OPEN,a[4])},s.default.RendererGL.prototype.arc=function(){var a,i=arguments.length<=0?void 0:arguments[0],h=arguments.length<=1?void 0:arguments[1],p=arguments.length<=2?void 0:arguments[2],l=arguments.length<=3?void 0:arguments[3],m=arguments.length<=4?void 0:arguments[4],_=arguments.length<=5?void 0:arguments[5],b=arguments.length<=6?void 0:arguments[6],T=(arguments.length<=7?void 0:arguments[7])||25,O=(Math.abs(_-m)>=c.TWO_PI?"".concat(k="ellipse","|"):"".concat(k="arc","|").concat(m,"|").concat(_,"|").concat(b,"|")).concat(T,"|"),k=(this.geometryInHash(O)||((a=new s.default.Geometry(T,1,function(){if(m.toFixed(10)!==_.toFixed(10)){b!==c.PIE&&b!==void 0||(this.vertices.push(new s.default.Vector(.5,.5,0)),this.uvs.push([.5,.5]));for(var M=0;M<=T;M++){var F=(_-m)*(M/T)+m,I=.5+Math.cos(F)/2,F=.5+Math.sin(F)/2;this.vertices.push(new s.default.Vector(I,F,0)),this.uvs.push([I,F]),M<T-1&&(this.faces.push([0,M+1,M+2]),this.edges.push([M+1,M+2]))}switch(b){case c.PIE:this.faces.push([0,this.vertices.length-2,this.vertices.length-1]),this.edges.push([0,1]),this.edges.push([this.vertices.length-2,this.vertices.length-1]),this.edges.push([0,this.vertices.length-1]);break;case c.CHORD:this.edges.push([0,1]),this.edges.push([0,this.vertices.length-1]);break;case c.OPEN:this.edges.push([0,1]);break;default:this.faces.push([0,this.vertices.length-2,this.vertices.length-1]),this.edges.push([this.vertices.length-2,this.vertices.length-1])}}})).computeNormals(),T<=50?a._edgesToVertices(a):this._doStroke&&console.log("Cannot apply a stroke to an ".concat(k," with more than 50 detail")),this.createBuffers(O,a)),this.uMVMatrix.copy());try{this.uMVMatrix.translate([i,h,0]),this.uMVMatrix.scale(p,l,1),this.drawBuffers(O)}finally{this.uMVMatrix=k}return this},s.default.RendererGL.prototype.rect=function(a){var i=a[0],h=a[1],p=a[2],l=a[3];if(a[4]===void 0){var b=this._pInst._glAttributes.perPixelLighting,m=a[4]||(b?1:24),_=a[5]||(b?1:16),b="rect|".concat(m,"|").concat(_),T=(this.geometryInHash(b)||((T=new s.default.Geometry(m,_,function(){for(var Q=0;Q<=this.detailY;Q++)for(var Y=Q/this.detailY,z=0;z<=this.detailX;z++){var ee=z/this.detailX,ie=new s.default.Vector(ee,Y,0);this.vertices.push(ie),this.uvs.push(ee,Y)}0<m&&0<_&&(this.edges=[[0,m],[m,(m+1)*(_+1)-1],[(m+1)*(_+1)-1,(m+1)*_],[(m+1)*_,0]])})).computeFaces().computeNormals()._edgesToVertices(),this.createBuffers(b,T)),this.uMVMatrix.copy());try{this.uMVMatrix.translate([i,h,0]),this.uMVMatrix.scale(p,l,1),this.drawBuffers(b)}finally{this.uMVMatrix=T}}else{var b=a[4],T=a[5]===void 0?b:a[5],O=a[6]===void 0?T:a[6],a=a[7]===void 0?O:a[7],U=p,k=l,F=((U+=i)<i&&(F=i,i=U,U=F),(k+=h)<h&&(F=h,h=k,k=F),Math.min((U-i)/2,(k-h)/2)),M=(F<b&&(b=F),F<T&&(T=F),F<O&&(O=F),F<a&&(a=F),i),I=h,F=U,i=k,A=(this.beginShape(),T!==0?(this.vertex(F-T,I),this.quadraticVertex(F,I,F,I+T)):this.vertex(F,I),O!==0?(this.vertex(F,i-O),this.quadraticVertex(F,i,F-O,i)):this.vertex(F,i),a!==0?(this.vertex(M+a,i),this.quadraticVertex(M,i,M,i-a)):this.vertex(M,i),b!==0?(this.vertex(M,I+b),this.quadraticVertex(M,I,M+b,I)):this.vertex(M,I),!(this.immediateMode.geometry.uvs.length=0)),h=!1,U=void 0;try{for(var D,V=this.immediateMode.geometry.vertices[Symbol.iterator]();!(A=(D=V.next()).done);A=!0){var G=D.value,W=(G.x-M)/p,J=(G.y-I)/l;this.immediateMode.geometry.uvs.push(W,J)}}catch(C){h=!0,U=C}finally{try{A||V.return==null||V.return()}finally{if(h)throw U}}this.endShape(c.CLOSE)}return this},s.default.RendererGL.prototype.quad=function(a,i,h,p,l,m,_,b,T,O,k,M){var I=12<arguments.length&&arguments[12]!==void 0?arguments[12]:2,F=13<arguments.length&&arguments[13]!==void 0?arguments[13]:2,A="quad|".concat(a,"|").concat(i,"|").concat(h,"|").concat(p,"|").concat(l,"|").concat(m,"|").concat(_,"|").concat(b,"|").concat(T,"|").concat(O,"|").concat(k,"|").concat(M,"|").concat(I,"|").concat(F);if(!this.geometryInHash(A)){var U=new s.default.Geometry(I,F,function(){for(var z=1/(this.detailX-1),ee=1/(this.detailY-1),ie=0;ie<this.detailY;ie++)for(var C=0;C<this.detailX;C++){var B=C*z,H=ie*ee;this.vertices.push(new s.default.Vector((1-B)*((1-H)*a+H*O)+B*((1-H)*p+H*_),(1-B)*((1-H)*i+H*k)+B*((1-H)*l+H*b),(1-B)*((1-H)*h+H*M)+B*((1-H)*m+H*T))),this.uvs.push([B,H])}});U.faces=[];for(var D=0;D<F-1;D++)for(var V=0;V<I-1;V++){var G=V+D*I,W=V+1+(D+1)*I,J=V+(D+1)*I;U.faces.push([G,V+1+D*I,W]),U.faces.push([G,W,J])}U.computeNormals();for(var Q=[U.edges.length=0,2,3,1],Y=0;Y<Q.length;Y++)U.edges.push([Q[Y],Q[(Y+1)%Q.length]]);U._edgesToVertices(),this.createBuffers(A,U)}return this.drawBuffers(A),this},s.default.RendererGL.prototype.bezier=function(a,i,h,p,l,m,_,b,T,O,k,M){arguments.length===8&&(k=b,O=_,b=m,_=l,l=p,p=h,h=m=T=M=0);var I=this._pInst._bezierDetail||20;this.beginShape();for(var F=0;F<=I;F++){var A=Math.pow(1-F/I,3),U=F/I*3*Math.pow(1-F/I,2),D=3*Math.pow(F/I,2)*(1-F/I),V=Math.pow(F/I,3);this.vertex(a*A+p*U+_*D+O*V,i*A+l*U+b*D+k*V,h*A+m*U+T*D+M*V)}return this.endShape(),this},s.default.RendererGL.prototype.curve=function(a,i,h,p,l,m,_,b,T,O,k,M){arguments.length===8&&(O=_,k=b,_=l,b=p,l=p=h,h=m=T=M=0);var I=this._pInst._curveDetail;this.beginShape();for(var F=0;F<=I;F++){var A=.5*Math.pow(F/I,3),U=.5*Math.pow(F/I,2),D=F/I*.5;this.vertex(A*(3*p-a-3*_+O)+U*(2*a-5*p+4*_-O)+D*(-a+_)+2*p*.5,A*(3*l-i-3*b+k)+U*(2*i-5*l+4*b-k)+D*(-i+b)+2*l*.5,A*(3*m-h-3*T+M)+U*(2*h-5*m+4*T-M)+D*(-h+T)+2*m*.5)}return this.endShape(),this},s.default.RendererGL.prototype.line=function(){return arguments.length===6?(this.beginShape(c.LINES),this.vertex(arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1],arguments.length<=2?void 0:arguments[2]),this.vertex(arguments.length<=3?void 0:arguments[3],arguments.length<=4?void 0:arguments[4],arguments.length<=5?void 0:arguments[5]),this.endShape()):arguments.length===4&&(this.beginShape(c.LINES),this.vertex(arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1],0),this.vertex(arguments.length<=2?void 0:arguments[2],arguments.length<=3?void 0:arguments[3],0),this.endShape()),this},s.default.RendererGL.prototype.bezierVertex=function(){if(this.immediateMode._bezierVertex.length===0)throw Error("vertex() must be used once before calling bezierVertex()");var a,i,h,p,l,m,_=[],b=[],T=arguments.length;if(this._lookUpTableBezier.length===0||this._lutBezierDetail!==this._pInst._curveDetail){this._lookUpTableBezier=[],this._lutBezierDetail=this._pInst._curveDetail;for(var O=1/this._lutBezierDetail,k=0,M=1,I=0;k<1;){if(m=parseFloat(k.toFixed(6)),this._lookUpTableBezier[I]=this._bezierCoefficients(m),M.toFixed(6)===O.toFixed(6)){m=parseFloat(M.toFixed(6))+parseFloat(k.toFixed(6)),++I,this._lookUpTableBezier[I]=this._bezierCoefficients(m);break}k+=O,M-=O,++I}}for(var F=this._lookUpTableBezier.length,A=[],U=0;U<4;U++)A.push([]);A[0]=this.immediateMode.geometry.vertexColors.slice(-4),A[3]=this.curFillColor.slice();var D=[];for(U=0;U<4;U++)D.push([]);if(D[0]=this.immediateMode.geometry.vertexStrokeColors.slice(-4),D[3]=this.curStrokeColor.slice(),T===6){this.isBezier=!0;var _=[this.immediateMode._bezierVertex[0],arguments.length<=0?void 0:arguments[0],arguments.length<=2?void 0:arguments[2],arguments.length<=4?void 0:arguments[4]],b=[this.immediateMode._bezierVertex[1],arguments.length<=1?void 0:arguments[1],arguments.length<=3?void 0:arguments[3],arguments.length<=5?void 0:arguments[5]],V=Math.hypot(_[0]-_[1],b[0]-b[1]),W=Math.hypot(_[1]-_[2],b[1]-b[2]),G=Math.hypot(_[2]-_[3],b[2]-b[3]),W=V+W+G;for(V/=W,G/=W,l=0;l<4;l++)A[1].push(A[0][l]*(1-V)+A[3][l]*V),A[2].push(A[0][l]*G+A[3][l]*(1-G)),D[1].push(D[0][l]*(1-V)+D[3][l]*V),D[2].push(D[0][l]*G+D[3][l]*(1-G));for(p=0;p<F;p++){for(this.curFillColor=[0,0,0,0],this.curStrokeColor=[0,0,0,0],U=a=i=0;U<4;U++){for(l=0;l<4;l++)this.curFillColor[l]+=this._lookUpTableBezier[p][U]*A[U][l],this.curStrokeColor[l]+=this._lookUpTableBezier[p][U]*D[U][l];a+=_[U]*this._lookUpTableBezier[p][U],i+=b[U]*this._lookUpTableBezier[p][U]}this.vertex(a,i)}this.curFillColor=A[3],this.curStrokeColor=D[3],this.immediateMode._bezierVertex[0]=arguments.length<=4?void 0:arguments[4],this.immediateMode._bezierVertex[1]=arguments.length<=5?void 0:arguments[5]}else if(T===9){this.isBezier=!0,_=[this.immediateMode._bezierVertex[0],arguments.length<=0?void 0:arguments[0],arguments.length<=3?void 0:arguments[3],arguments.length<=6?void 0:arguments[6]],b=[this.immediateMode._bezierVertex[1],arguments.length<=1?void 0:arguments[1],arguments.length<=4?void 0:arguments[4],arguments.length<=7?void 0:arguments[7]];var J=[this.immediateMode._bezierVertex[2],arguments.length<=2?void 0:arguments[2],arguments.length<=5?void 0:arguments[5],arguments.length<=8?void 0:arguments[8]],Q=Math.hypot(_[0]-_[1],b[0]-b[1],J[0]-J[1]),W=Math.hypot(_[1]-_[2],b[1]-b[2],J[1]-J[2]),Y=Math.hypot(_[2]-_[3],b[2]-b[3],J[2]-J[3]),T=Q+W+Y;for(Q/=T,Y/=T,l=0;l<4;l++)A[1].push(A[0][l]*(1-Q)+A[3][l]*Q),A[2].push(A[0][l]*Y+A[3][l]*(1-Y)),D[1].push(D[0][l]*(1-Q)+D[3][l]*Q),D[2].push(D[0][l]*Y+D[3][l]*(1-Y));for(p=0;p<F;p++){for(this.curFillColor=[0,0,0,0],this.curStrokeColor=[0,0,0,0],U=a=i=h=0;U<4;U++){for(l=0;l<4;l++)this.curFillColor[l]+=this._lookUpTableBezier[p][U]*A[U][l],this.curStrokeColor[l]+=this._lookUpTableBezier[p][U]*D[U][l];a+=_[U]*this._lookUpTableBezier[p][U],i+=b[U]*this._lookUpTableBezier[p][U],h+=J[U]*this._lookUpTableBezier[p][U]}this.vertex(a,i,h)}this.curFillColor=A[3],this.curStrokeColor=D[3],this.immediateMode._bezierVertex[0]=arguments.length<=6?void 0:arguments[6],this.immediateMode._bezierVertex[1]=arguments.length<=7?void 0:arguments[7],this.immediateMode._bezierVertex[2]=arguments.length<=8?void 0:arguments[8]}},s.default.RendererGL.prototype.quadraticVertex=function(){if(this.immediateMode._quadraticVertex.length===0)throw Error("vertex() must be used once before calling quadraticVertex()");var a,i,h,p,l,m,_=[],b=[],T=arguments.length;if(this._lookUpTableQuadratic.length===0||this._lutQuadraticDetail!==this._pInst._curveDetail){this._lookUpTableQuadratic=[],this._lutQuadraticDetail=this._pInst._curveDetail;for(var O=1/this._lutQuadraticDetail,k=0,M=1,I=0;k<1;){if(m=parseFloat(k.toFixed(6)),this._lookUpTableQuadratic[I]=this._quadraticCoefficients(m),M.toFixed(6)===O.toFixed(6)){m=parseFloat(M.toFixed(6))+parseFloat(k.toFixed(6)),++I,this._lookUpTableQuadratic[I]=this._quadraticCoefficients(m);break}k+=O,M-=O,++I}}for(var F=this._lookUpTableQuadratic.length,A=[],U=0;U<3;U++)A.push([]);A[0]=this.immediateMode.geometry.vertexColors.slice(-4),A[2]=this.curFillColor.slice();var D=[];for(U=0;U<3;U++)D.push([]);if(D[0]=this.immediateMode.geometry.vertexStrokeColors.slice(-4),D[2]=this.curStrokeColor.slice(),T===4){this.isQuadratic=!0;var _=[this.immediateMode._quadraticVertex[0],arguments.length<=0?void 0:arguments[0],arguments.length<=2?void 0:arguments[2]],b=[this.immediateMode._quadraticVertex[1],arguments.length<=1?void 0:arguments[1],arguments.length<=3?void 0:arguments[3]],V=Math.hypot(_[0]-_[1],b[0]-b[1]);for(V/=V+Math.hypot(_[1]-_[2],b[1]-b[2]),l=0;l<4;l++)A[1].push(A[0][l]*(1-V)+A[2][l]*V),D[1].push(D[0][l]*(1-V)+D[2][l]*V);for(p=0;p<F;p++){for(this.curFillColor=[0,0,0,0],this.curStrokeColor=[0,0,0,0],U=a=i=0;U<3;U++){for(l=0;l<4;l++)this.curFillColor[l]+=this._lookUpTableQuadratic[p][U]*A[U][l],this.curStrokeColor[l]+=this._lookUpTableQuadratic[p][U]*D[U][l];a+=_[U]*this._lookUpTableQuadratic[p][U],i+=b[U]*this._lookUpTableQuadratic[p][U]}this.vertex(a,i)}this.curFillColor=A[2],this.curStrokeColor=D[2],this.immediateMode._quadraticVertex[0]=arguments.length<=2?void 0:arguments[2],this.immediateMode._quadraticVertex[1]=arguments.length<=3?void 0:arguments[3]}else if(T===6){this.isQuadratic=!0,_=[this.immediateMode._quadraticVertex[0],arguments.length<=0?void 0:arguments[0],arguments.length<=3?void 0:arguments[3]],b=[this.immediateMode._quadraticVertex[1],arguments.length<=1?void 0:arguments[1],arguments.length<=4?void 0:arguments[4]];var G=[this.immediateMode._quadraticVertex[2],arguments.length<=2?void 0:arguments[2],arguments.length<=5?void 0:arguments[5]],W=Math.hypot(_[0]-_[1],b[0]-b[1],G[0]-G[1]);for(W/=W+Math.hypot(_[1]-_[2],b[1]-b[2],G[1]-G[2]),l=0;l<4;l++)A[1].push(A[0][l]*(1-W)+A[2][l]*W),D[1].push(D[0][l]*(1-W)+D[2][l]*W);for(p=0;p<F;p++){for(this.curFillColor=[0,0,0,0],this.curStrokeColor=[0,0,0,0],U=a=i=h=0;U<3;U++){for(l=0;l<4;l++)this.curFillColor[l]+=this._lookUpTableQuadratic[p][U]*A[U][l],this.curStrokeColor[l]+=this._lookUpTableQuadratic[p][U]*D[U][l];a+=_[U]*this._lookUpTableQuadratic[p][U],i+=b[U]*this._lookUpTableQuadratic[p][U],h+=G[U]*this._lookUpTableQuadratic[p][U]}this.vertex(a,i,h)}this.curFillColor=A[2],this.curStrokeColor=D[2],this.immediateMode._quadraticVertex[0]=arguments.length<=3?void 0:arguments[3],this.immediateMode._quadraticVertex[1]=arguments.length<=4?void 0:arguments[4],this.immediateMode._quadraticVertex[2]=arguments.length<=5?void 0:arguments[5]}},s.default.RendererGL.prototype.curveVertex=function(){var a,i,h,p,l,m,_=[],b=[],T=arguments.length;if(this._lookUpTableBezier.length===0||this._lutBezierDetail!==this._pInst._curveDetail){this._lookUpTableBezier=[],this._lutBezierDetail=this._pInst._curveDetail;for(var O=1/this._lutBezierDetail,k=0,M=1,I=0;k<1;){if(m=parseFloat(k.toFixed(6)),this._lookUpTableBezier[I]=this._bezierCoefficients(m),M.toFixed(6)===O.toFixed(6)){m=parseFloat(M.toFixed(6))+parseFloat(k.toFixed(6)),++I,this._lookUpTableBezier[I]=this._bezierCoefficients(m);break}k+=O,M-=O,++I}}var F=this._lookUpTableBezier.length;if(T===2){if(this.immediateMode._curveVertex.push(arguments.length<=0?void 0:arguments[0]),this.immediateMode._curveVertex.push(arguments.length<=1?void 0:arguments[1]),this.immediateMode._curveVertex.length===8){for(this.isCurve=!0,_=this._bezierToCatmull([this.immediateMode._curveVertex[0],this.immediateMode._curveVertex[2],this.immediateMode._curveVertex[4],this.immediateMode._curveVertex[6]]),b=this._bezierToCatmull([this.immediateMode._curveVertex[1],this.immediateMode._curveVertex[3],this.immediateMode._curveVertex[5],this.immediateMode._curveVertex[7]]),l=0;l<F;l++)i=_[0]*this._lookUpTableBezier[l][0]+_[1]*this._lookUpTableBezier[l][1]+_[2]*this._lookUpTableBezier[l][2]+_[3]*this._lookUpTableBezier[l][3],h=b[0]*this._lookUpTableBezier[l][0]+b[1]*this._lookUpTableBezier[l][1]+b[2]*this._lookUpTableBezier[l][2]+b[3]*this._lookUpTableBezier[l][3],this.vertex(i,h);for(l=0;l<T;l++)this.immediateMode._curveVertex.shift()}}else if(T===3&&(this.immediateMode._curveVertex.push(arguments.length<=0?void 0:arguments[0]),this.immediateMode._curveVertex.push(arguments.length<=1?void 0:arguments[1]),this.immediateMode._curveVertex.push(arguments.length<=2?void 0:arguments[2]),this.immediateMode._curveVertex.length===12)){for(this.isCurve=!0,_=this._bezierToCatmull([this.immediateMode._curveVertex[0],this.immediateMode._curveVertex[3],this.immediateMode._curveVertex[6],this.immediateMode._curveVertex[9]]),b=this._bezierToCatmull([this.immediateMode._curveVertex[1],this.immediateMode._curveVertex[4],this.immediateMode._curveVertex[7],this.immediateMode._curveVertex[10]]),a=this._bezierToCatmull([this.immediateMode._curveVertex[2],this.immediateMode._curveVertex[5],this.immediateMode._curveVertex[8],this.immediateMode._curveVertex[11]]),l=0;l<F;l++)i=_[0]*this._lookUpTableBezier[l][0]+_[1]*this._lookUpTableBezier[l][1]+_[2]*this._lookUpTableBezier[l][2]+_[3]*this._lookUpTableBezier[l][3],h=b[0]*this._lookUpTableBezier[l][0]+b[1]*this._lookUpTableBezier[l][1]+b[2]*this._lookUpTableBezier[l][2]+b[3]*this._lookUpTableBezier[l][3],p=a[0]*this._lookUpTableBezier[l][0]+a[1]*this._lookUpTableBezier[l][1]+a[2]*this._lookUpTableBezier[l][2]+a[3]*this._lookUpTableBezier[l][3],this.vertex(i,h,p);for(l=0;l<T;l++)this.immediateMode._curveVertex.shift()}},s.default.RendererGL.prototype.image=function(a,M,h,I,l,m,_,b,T){this._isErasing&&this.blendMode(this._cachedBlendMode),this._pInst.push(),this._pInst.noLights(),this._pInst.noStroke(),this._pInst.texture(a),this._pInst.textureMode(c.NORMAL);var O=0,k=(M<=a.width&&(O=M/a.width),1),M=(M+I<=a.width&&(k=(M+I)/a.width),0),I=(h<=a.height&&(M=h/a.height),1);h+l<=a.height&&(I=(h+l)/a.height),this.beginShape(),this.vertex(m,_,0,O,M),this.vertex(m+b,_,0,k,M),this.vertex(m+b,_+T,0,k,I),this.vertex(m,_+T,0,O,I),this.endShape(c.CLOSE),this._pInst.pop(),this._isErasing&&this.blendMode(c.REMOVE)};var o=s.default;x.default=o},{"../core/constants":269,"../core/main":280,"./p5.Geometry":332,"core-js/modules/es.array.concat":152,"core-js/modules/es.array.for-each":160,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.slice":168,"core-js/modules/es.math.hypot":175,"core-js/modules/es.math.sign":177,"core-js/modules/es.number.to-fixed":180,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.to-string":187,"core-js/modules/es.string.iterator":197,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.iterator":243}],324:[function(t,j,x){function d(i){return(d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(h){return typeof h}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(i)}function f(i){return(f=typeof Symbol=="function"&&d(Symbol.iterator)==="symbol"?function(h){return d(h)}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":d(h)})(i)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.every"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.every"),t("core-js/modules/es.array.map"),t("core-js/modules/es.object.assign"),Object.defineProperty(x,"__esModule",{value:!0}),x.default=void 0;var s=(a=t("../core/main"))&&a.__esModule?a:{default:a},c=function(i){if(i&&i.__esModule)return i;if(i===null||f(i)!=="object"&&typeof i!="function")return{default:i};var h=g();if(h&&h.has(i))return h.get(i);var p,l={},m=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(p in i){var _;Object.prototype.hasOwnProperty.call(i,p)&&((_=m?Object.getOwnPropertyDescriptor(i,p):null)&&(_.get||_.set)?Object.defineProperty(l,p,_):l[p]=i[p])}return l.default=i,h&&h.set(i,l),l}(t("../core/constants"));function g(){var i;return typeof WeakMap!="function"?null:(i=new WeakMap,g=function(){return i},i)}function y(i){return function(h){if(Array.isArray(h)){for(var p=0,l=new Array(h.length);p<h.length;p++)l[p]=h[p];return l}}(i)||function(h){if(Symbol.iterator in Object(h)||Object.prototype.toString.call(h)==="[object Arguments]")return Array.from(h)}(i)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function o(i,h){for(var p=0;p<h.length;p++){var l=h[p];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(i,l.key,l)}}var a=function(){function i(l){if(!(this instanceof i))throw new TypeError("Cannot call a class as a function");(this.renderer=l)._pInst.push(),this.identityMatrix=new s.default.Matrix,l.uMVMatrix=new s.default.Matrix,this.geometry=new s.default.Geometry,this.geometry.gid="_p5_GeometryBuilder_".concat(i.nextGeometryId),i.nextGeometryId++,this.hasTransform=!1}var h,p;return h=i,(p=[{key:"transformVertices",value:function(l){var m=this;return this.hasTransform?l.map(function(_){return m.renderer.uMVMatrix.multiplyPoint(_)}):l}},{key:"transformNormals",value:function(l){var m=this;return this.hasTransform?l.map(function(_){return m.renderer.uNMatrix.multiplyVec3(_)}):l}},{key:"addGeometry",value:function(l){for(var m,_=this,b=(this.hasTransform=!this.renderer.uMVMatrix.mat4.every(function(O,k){return O===_.identityMatrix.mat4[k]}),this.hasTransform&&this.renderer.uNMatrix.inverseTranspose(this.renderer.uMVMatrix),this.geometry.vertices.length),T=((m=this.geometry.vertices).push.apply(m,y(this.transformVertices(l.vertices))),(m=this.geometry.vertexNormals).push.apply(m,y(this.transformNormals(l.vertexNormals))),(m=this.geometry.uvs).push.apply(m,y(l.uvs)),this.renderer._doFill&&(m=this.geometry.faces).push.apply(m,y(l.faces.map(function(O){return O.map(function(k){return k+b})}))),this.renderer._doStroke&&(m=this.geometry.edges).push.apply(m,y(l.edges.map(function(O){return O.map(function(k){return k+b})}))),y(l.vertexColors));T.length<4*l.vertices.length;)T.push.apply(T,y(this.renderer.curFillColor));(m=this.geometry.vertexColors).push.apply(m,y(T))}},{key:"addImmediate",value:function(){var l=this.renderer.immediateMode.geometry,m=this.renderer.immediateMode.shapeMode,_=[];if(this.renderer._doFill)if(m===c.TRIANGLE_STRIP||m===c.QUAD_STRIP)for(var b=2;b<l.vertices.length;b++)b%2==0?_.push([b,b-1,b-2]):_.push([b,b-2,b-1]);else if(m===c.TRIANGLE_FAN)for(var T=2;T<l.vertices.length;T++)_.push([0,T-1,T]);else for(var O=0;O<l.vertices.length;O+=3)_.push([O,O+1,O+2]);this.addGeometry(Object.assign({},l,{faces:_}))}},{key:"addRetained",value:function(l){this.addGeometry(l.model)}},{key:"finish",value:function(){return this.renderer._pInst.pop(),this.geometry}}])&&o(h.prototype,p),i}();a.nextGeometryId=0,x.default=a},{"../core/constants":269,"../core/main":280,"core-js/modules/es.array.every":154,"core-js/modules/es.array.from":161,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.map":167,"core-js/modules/es.object.assign":181,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.to-string":187,"core-js/modules/es.regexp.to-string":193,"core-js/modules/es.string.iterator":197,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.iterator":243}],325:[function(t,j,x){function d(o){return(d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(o)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.math.hypot"),t("core-js/modules/es.math.sign"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.math.hypot"),t("core-js/modules/es.math.sign"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(x,"__esModule",{value:!0}),x.default=void 0;var f=(y=t("../core/main"))&&y.__esModule?y:{default:y},s=function(o){if(o&&o.__esModule)return o;if(o===null||g(o)!=="object"&&typeof o!="function")return{default:o};var a=c();if(a&&a.has(o))return a.get(o);var i,h={},p=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(i in o){var l;Object.prototype.hasOwnProperty.call(o,i)&&((l=p?Object.getOwnPropertyDescriptor(o,i):null)&&(l.get||l.set)?Object.defineProperty(h,i,l):h[i]=o[i])}return h.default=o,a&&a.set(o,h),h}(t("../core/constants"));function c(){var o;return typeof WeakMap!="function"?null:(o=new WeakMap,c=function(){return o},o)}function g(o){return(g=typeof Symbol=="function"&&d(Symbol.iterator)==="symbol"?function(a){return d(a)}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":d(a)})(o)}f.default.prototype.orbitControl=function(o,a,i,T){var p=this,l=(this._assert3d("orbitControl"),f.default._validateParameters("orbitControl",arguments),this._renderer._curCamera);o===void 0&&(o=1),a===void 0&&(a=o),i===void 0&&(i=1),g(T)!=="object"&&(T={}),this.contextMenuDisabled!==!0&&(this.canvas.oncontextmenu=function(){return!1},this._setProperty("contextMenuDisabled",!0)),this.wheelDefaultDisabled!==!0&&(this.canvas.onwheel=function(){return!1},this._setProperty("wheelDefaultDisabled",!0));var k=T.disableTouchActions;this.touchActionsDisabled===!0||k!==void 0&&!k||(this.canvas.style["touch-action"]="none",this._setProperty("touchActionsDisabled",!0));var m,_,b,k=T.freeRotation,T=k!==void 0&&k,O=[],k=(this.touches.forEach(function(V){p._renderer.prevTouches.forEach(function(G){V.id===G.id&&(G={x:V.x,y:V.y,px:G.x,py:G.y},O.push(G))})}),this._renderer.prevTouches=this.touches,0),M=0,I=0,F=0,A=0,U=this.height<this.width?this.height:this.width,D=!1;return 0<O.length?(D=0<O[0].x&&O[0].x<this.width&&0<O[0].y&&O[0].y<this.height,O.length===1?(M=-o*((m=O[0]).x-m.px)/U,I=a*(m.y-m.py)/U):(m=O[0],_=O[1],k=-(Math.hypot(m.x-_.x,m.y-_.y)-Math.hypot(m.px-_.px,m.py-_.py))*i*4e-4,F=.5*(m.x+_.x)-.5*(m.px+_.px),A=.5*(m.y+_.y)-.5*(m.py+_.py)),0<this.touches.length?D&&(this._renderer.executeRotateAndMove=!0,this._renderer.executeZoom=!0):(this._renderer.executeRotateAndMove=!1,this._renderer.executeZoom=!1)):(D=0<this.mouseX&&this.mouseX<this.width&&0<this.mouseY&&this.mouseY<this.height,this._mouseWheelDeltaY!==0?(k=Math.sign(this._mouseWheelDeltaY)*i,k*=.01,this._mouseWheelDeltaY=0,D&&(this._renderer.executeZoom=!0)):this._renderer.executeZoom=!1,this.mouseIsPressed?(this.mouseButton===this.LEFT?(M=-o*this.movedX/U,I=a*this.movedY/U):this.mouseButton===this.RIGHT&&(F=this.movedX,A=this.movedY*l.yScale),D&&(this._renderer.executeRotateAndMove=!0)):this._renderer.executeRotateAndMove=!1),k!==0&&this._renderer.executeZoom&&(this._renderer.zoomVelocity+=k),.001<Math.abs(this._renderer.zoomVelocity)?(T?l._orbitFree(0,0,this._renderer.zoomVelocity):l._orbit(0,0,this._renderer.zoomVelocity),l.projMatrix.mat4[15]!==0&&(l.projMatrix.mat4[0]*=Math.pow(10,-this._renderer.zoomVelocity),l.projMatrix.mat4[5]*=Math.pow(10,-this._renderer.zoomVelocity),this._renderer.uPMatrix.mat4[0]=l.projMatrix.mat4[0],this._renderer.uPMatrix.mat4[5]=l.projMatrix.mat4[5]),this._renderer.zoomVelocity*=.85):this._renderer.zoomVelocity=0,M===0&&I===0||!this._renderer.executeRotateAndMove||this._renderer.rotateVelocity.add(.6*M,.6*I),1e-6<this._renderer.rotateVelocity.magSq()?(T?l._orbitFree(-this._renderer.rotateVelocity.x,this._renderer.rotateVelocity.y,0):l._orbit(this._renderer.rotateVelocity.x,this._renderer.rotateVelocity.y,0),this._renderer.rotateVelocity.mult(.85)):this._renderer.rotateVelocity.set(0,0),F===0&&A===0||!this._renderer.executeRotateAndMove||(m=2*F/this.width,_=2*-A/this.height,this._renderer.moveVelocity.add(.15*m,.15*_)),1e-6<this._renderer.moveVelocity.magSq()?(i=l._getLocalAxes(),o=l.eyeX-l.centerX,a=l.eyeY-l.centerY,U=l.eyeZ-l.centerZ,D=Math.sqrt(o*o+a*a+U*U),k=new f.default.Vector(l.centerX,l.centerY,l.centerZ),k=l.cameraMatrix.multiplyPoint(k),(k=this._renderer.uPMatrix.multiplyAndNormalizePoint(k)).x-=this._renderer.moveVelocity.x,k.y-=this._renderer.moveVelocity.y,I=(M=this._renderer.uPMatrix.mat4)[15]===0?(b=(M[8]+k.x)/M[0]*D,(M[9]+k.y)/M[5]*D):(b=(k.x-M[12])/M[0],(k.y-M[13])/M[5]),l.setPosition(l.eyeX+b*i.x[0]+I*i.y[0],l.eyeY+b*i.x[1]+I*i.y[1],l.eyeZ+b*i.x[2]+I*i.y[2]),this._renderer.moveVelocity.mult(.85)):this._renderer.moveVelocity.set(0,0),this},f.default.prototype.debugMode=function(){this._assert3d("debugMode");for(var o=arguments.length,a=new Array(o),i=0;i<o;i++)a[i]=arguments[i];f.default._validateParameters("debugMode",a);for(var h=this._registeredMethods.post.length-1;0<=h;h--)this._registeredMethods.post[h].toString()!==this._grid().toString()&&this._registeredMethods.post[h].toString()!==this._axesIcon().toString()||this._registeredMethods.post.splice(h,1);a[0]===s.GRID?this.registerMethod("post",this._grid(a[1],a[2],a[3],a[4],a[5])):a[0]===s.AXES?this.registerMethod("post",this._axesIcon(a[1],a[2],a[3],a[4])):(this.registerMethod("post",this._grid(a[0],a[1],a[2],a[3],a[4])),this.registerMethod("post",this._axesIcon(a[5],a[6],a[7],a[8])))},f.default.prototype.noDebugMode=function(){this._assert3d("noDebugMode");for(var o=this._registeredMethods.post.length-1;0<=o;o--)this._registeredMethods.post[o].toString()!==this._grid().toString()&&this._registeredMethods.post[o].toString()!==this._axesIcon().toString()||this._registeredMethods.post.splice(o,1)},f.default.prototype._grid=function(o,a,i,h,p){o===void 0&&(o=this.width/2),a===void 0&&(a=Math.round(o/30)<4?4:Math.round(o/30)),i===void 0&&(i=0),h===void 0&&(h=0),p===void 0&&(p=0);var l=o/a,m=o/2;return function(){this.push(),this.stroke(255*this._renderer.curStrokeColor[0],255*this._renderer.curStrokeColor[1],255*this._renderer.curStrokeColor[2]),this._renderer.uMVMatrix.set(this._renderer._curCamera.cameraMatrix);for(var _=0;_<=a;_++)this.beginShape(this.LINES),this.vertex(-m+i,h,_*l-m+p),this.vertex(m+i,h,_*l-m+p),this.endShape();for(var b=0;b<=a;b++)this.beginShape(this.LINES),this.vertex(b*l-m+i,h,-m+p),this.vertex(b*l-m+i,h,m+p),this.endShape();this.pop()}},f.default.prototype._axesIcon=function(o,a,i,h){return o===void 0&&(o=40<this.width/20?this.width/20:40),a===void 0&&(a=-this.width/4),i===void 0&&(i=a),h===void 0&&(h=a),function(){this.push(),this._renderer.uMVMatrix.set(this._renderer._curCamera.cameraMatrix),this.strokeWeight(2),this.stroke(255,0,0),this.beginShape(this.LINES),this.vertex(a,i,h),this.vertex(a+o,i,h),this.endShape(),this.stroke(0,255,0),this.beginShape(this.LINES),this.vertex(a,i,h),this.vertex(a,i+o,h),this.endShape(),this.stroke(0,0,255),this.beginShape(this.LINES),this.vertex(a,i,h),this.vertex(a,i,h+o),this.endShape(),this.pop()}};var y=f.default;x.default=y},{"../core/constants":269,"../core/main":280,"core-js/modules/es.array.for-each":160,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.splice":170,"core-js/modules/es.math.hypot":175,"core-js/modules/es.math.sign":177,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.to-string":187,"core-js/modules/es.regexp.to-string":193,"core-js/modules/es.string.iterator":197,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.for-each":242,"core-js/modules/web.dom-collections.iterator":243}],326:[function(t,j,x){t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.filter"),Object.defineProperty(x,"__esModule",{value:!0}),x.default=void 0;var d=(t=t("../core/main"))&&t.__esModule?t:{default:t};d.default.prototype.ambientLight=function(f,s,c,g){this._assert3d("ambientLight"),d.default._validateParameters("ambientLight",arguments);var y=this.color.apply(this,arguments);return this._renderer.ambientLightColors.push(y._array[0],y._array[1],y._array[2]),this._renderer._enableLighting=!0,this},d.default.prototype.specularColor=function(f,s,c){this._assert3d("specularColor"),d.default._validateParameters("specularColor",arguments);var g=this.color.apply(this,arguments);return this._renderer.specularColors=[g._array[0],g._array[1],g._array[2]],this},d.default.prototype.directionalLight=function(f,p,h,g,y,o){this._assert3d("directionalLight"),d.default._validateParameters("directionalLight",arguments),f=f instanceof d.default.Color?f:this.color(f,p,h);var a,i,p=arguments[arguments.length-1],h=typeof p=="number"?(a=arguments[arguments.length-3],i=arguments[arguments.length-2],arguments[arguments.length-1]):(a=p.x,i=p.y,p.z),p=Math.sqrt(a*a+i*i+h*h);return this._renderer.directionalLightDirections.push(a/p,i/p,h/p),this._renderer.directionalLightDiffuseColors.push(f._array[0],f._array[1],f._array[2]),Array.prototype.push.apply(this._renderer.directionalLightSpecularColors,this._renderer.specularColors),this._renderer._enableLighting=!0,this},d.default.prototype.pointLight=function(f,h,p,g,y,o){this._assert3d("pointLight"),d.default._validateParameters("pointLight",arguments),f=f instanceof d.default.Color?f:this.color(f,h,p);var a,i,h=arguments[arguments.length-1],p=typeof h=="number"?(a=arguments[arguments.length-3],i=arguments[arguments.length-2],arguments[arguments.length-1]):(a=h.x,i=h.y,h.z);return this._renderer.pointLightPositions.push(a,i,p),this._renderer.pointLightDiffuseColors.push(f._array[0],f._array[1],f._array[2]),Array.prototype.push.apply(this._renderer.pointLightSpecularColors,this._renderer.specularColors),this._renderer._enableLighting=!0,this},d.default.prototype.imageLight=function(f){this._renderer.activeImageLight=f,this._renderer._enableLighting=!0},d.default.prototype.panorama=function(f){this.filter(this._renderer._getSphereMapping(f))},d.default.prototype.lights=function(){this._assert3d("lights");var f=this.color("rgb(128,128,128)");return this.ambientLight(f),this.directionalLight(f,0,0,-1),this},d.default.prototype.lightFalloff=function(f,s,c){return this._assert3d("lightFalloff"),d.default._validateParameters("lightFalloff",arguments),f<0&&(f=0,console.warn("Value of constant argument in lightFalloff() should be never be negative. Set to 0.")),s<0&&(s=0,console.warn("Value of linear argument in lightFalloff() should be never be negative. Set to 0.")),c<0&&(c=0,console.warn("Value of quadratic argument in lightFalloff() should be never be negative. Set to 0.")),f===0&&s===0&&c===0&&(f=1,console.warn("Either one of the three arguments in lightFalloff() should be greater than zero. Set constant argument to 1.")),this._renderer.constantAttenuation=f,this._renderer.linearAttenuation=s,this._renderer.quadraticAttenuation=c,this},d.default.prototype.spotLight=function(f,s,c,g,y,o,a,i,h,p,l){this._assert3d("spotLight"),d.default._validateParameters("spotLight",arguments);var m,_,b,T=arguments.length;switch(T){case 11:case 10:m=this.color(f,s,c),_=new d.default.Vector(g,y,o),b=new d.default.Vector(a,i,h);break;case 9:f instanceof d.default.Color?(m=f,_=new d.default.Vector(s,c,g),b=new d.default.Vector(y,o,a),p=i,l=h):g instanceof d.default.Vector?(m=this.color(f,s,c),_=g,b=new d.default.Vector(y,o,a),p=i,l=h):a instanceof d.default.Vector?(m=this.color(f,s,c),_=new d.default.Vector(g,y,o),b=a,p=i,l=h):(m=this.color(f,s,c),_=new d.default.Vector(g,y,o),b=new d.default.Vector(a,i,h));break;case 8:p=(b=f instanceof d.default.Color?(m=f,_=new d.default.Vector(s,c,g),new d.default.Vector(y,o,a)):g instanceof d.default.Vector?(m=this.color(f,s,c),_=g,new d.default.Vector(y,o,a)):(m=this.color(f,s,c),_=new d.default.Vector(g,y,o),a),i);break;case 7:f instanceof d.default.Color&&s instanceof d.default.Vector?(m=f,_=s,b=new d.default.Vector(c,g,y),p=o,l=a):f instanceof d.default.Color&&y instanceof d.default.Vector?(m=f,_=new d.default.Vector(s,c,g),b=y,p=o,l=a):g instanceof d.default.Vector&&y instanceof d.default.Vector?(m=this.color(f,s,c),_=g,b=y,p=o,l=a):b=f instanceof d.default.Color?(m=f,_=new d.default.Vector(s,c,g),new d.default.Vector(y,o,a)):g instanceof d.default.Vector?(m=this.color(f,s,c),_=g,new d.default.Vector(y,o,a)):(m=this.color(f,s,c),_=new d.default.Vector(g,y,o),a);break;case 6:g instanceof d.default.Vector&&y instanceof d.default.Vector?(m=this.color(f,s,c),_=g,b=y,p=o):f instanceof d.default.Color&&y instanceof d.default.Vector?(m=f,_=new d.default.Vector(s,c,g),b=y,p=o):f instanceof d.default.Color&&s instanceof d.default.Vector&&(m=f,_=s,b=new d.default.Vector(c,g,y),p=o);break;case 5:f instanceof d.default.Color&&s instanceof d.default.Vector&&c instanceof d.default.Vector?(m=f,_=s,b=c,p=g,l=y):g instanceof d.default.Vector&&y instanceof d.default.Vector?(m=this.color(f,s,c),_=g,b=y):f instanceof d.default.Color&&y instanceof d.default.Vector?(m=f,_=new d.default.Vector(s,c,g),b=y):f instanceof d.default.Color&&s instanceof d.default.Vector&&(m=f,_=s,b=new d.default.Vector(c,g,y));break;case 4:m=f,_=s,b=c,p=g;break;case 3:m=f,_=s,b=c;break;default:return console.warn("Sorry, input for spotlight() is not in prescribed format. Too ".concat(T<3?"few":"many"," arguments were provided")),this}return this._renderer.spotLightDiffuseColors.push(m._array[0],m._array[1],m._array[2]),Array.prototype.push.apply(this._renderer.spotLightSpecularColors,this._renderer.specularColors),this._renderer.spotLightPositions.push(_.x,_.y,_.z),b.normalize(),this._renderer.spotLightDirections.push(b.x,b.y,b.z),p===void 0&&(p=Math.PI/3),l!==void 0&&l<1?(l=1,console.warn("Value of concentration needs to be greater than 1. Setting it to 1")):l===void 0&&(l=100),p=this._renderer._pInst._toRadians(p),this._renderer.spotLightAngle.push(Math.cos(p)),this._renderer.spotLightConc.push(l),this._renderer._enableLighting=!0,this},d.default.prototype.noLights=function(){this._assert3d("noLights");for(var f=arguments.length,s=new Array(f),c=0;c<f;c++)s[c]=arguments[c];return d.default._validateParameters("noLights",s),this._renderer.activeImageLight=null,this._renderer._enableLighting=!1,this._renderer.ambientLightColors.length=0,this._renderer.specularColors=[1,1,1],this._renderer.directionalLightDirections.length=0,this._renderer.directionalLightDiffuseColors.length=0,this._renderer.directionalLightSpecularColors.length=0,this._renderer.pointLightPositions.length=0,this._renderer.pointLightDiffuseColors.length=0,this._renderer.pointLightSpecularColors.length=0,this._renderer.spotLightPositions.length=0,this._renderer.spotLightDirections.length=0,this._renderer.spotLightDiffuseColors.length=0,this._renderer.spotLightSpecularColors.length=0,this._renderer.spotLightAngle.length=0,this._renderer.spotLightConc.length=0,this._renderer.constantAttenuation=1,this._renderer.linearAttenuation=0,this._renderer.quadraticAttenuation=0,this._renderer._useShininess=1,this._renderer._useMetalness=0,this},t=d.default,x.default=t},{"../core/main":280,"core-js/modules/es.array.filter":156}],327:[function(t,j,x){function d(a){return(d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i})(a)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.set"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.set"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(x,"__esModule",{value:!0}),x.default=void 0,t("regenerator-runtime/runtime");var f=(o=t("../core/main"))&&o.__esModule?o:{default:o};function s(a){return function(i){if(Array.isArray(i)){for(var h=0,p=new Array(i.length);h<i.length;h++)p[h]=i[h];return p}}(a)||function(i){if(Symbol.iterator in Object(i)||Object.prototype.toString.call(i)==="[object Arguments]")return Array.from(i)}(a)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function c(a,i,h,p,l,m,_){try{var b=a[m](_),T=b.value}catch(O){return void h(O)}b.done?i(T):Promise.resolve(T).then(p,l)}function g(a){return function(){var i=this,h=arguments;return new Promise(function(p,l){var m=a.apply(i,h);function _(T){c(m,p,l,_,b,"next",T)}function b(T){c(m,p,l,_,b,"throw",T)}_(void 0)})}}function y(a){return(y=typeof Symbol=="function"&&d(Symbol.iterator)==="symbol"?function(i){return d(i)}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":d(i)})(a)}t("./p5.Geometry"),f.default.prototype.loadModel=function(a,i){f.default._validateParameters("loadModel",arguments);var h,p,l=!1,m=!1,_=!1,b=a.slice(-4),T=(i&&y(i)==="object"?(l=i.normalize||!1,h=i.successCallback,p=i.failureCallback,b=i.fileType||b,m=i.flipU||!1,_=i.flipV||!1):typeof i=="boolean"?(l=i,h=arguments[2],p=arguments[3],arguments[4]!==void 0&&(b=arguments[4])):(h=typeof i=="function"?i:void 0,p=arguments[2],arguments[3]!==void 0&&(b=arguments[3])),new f.default.Geometry),O=(T.gid="".concat(a,"|").concat(l),this);function k(){return(k=g(regeneratorRuntime.mark(function I(F){var A,U,D,V;return regeneratorRuntime.wrap(function(G){for(;;)switch(G.prev=G.next){case 0:for(A=[],U=0;U<F.length;U++)(D=F[U].match(/^mtllib (.+)/))&&function(){var W="",J=D[1],Q=a.split("/");W=1<Q.length?(Q.pop(),Q.join("/")+"/"+J):J,A.push(function(){return M.apply(this,arguments)}(W).then(function(Y){return Y?(z=O,ee=W,new Promise(function(ie,C){var B=null,H={};z.loadStrings(ee,function($){for(var ne=0;ne<$.length;++ne){var se,de=$[ne].trim().split(/\s+/);de[0]==="newmtl"?(se=de[1],H[B=se]={}):de[0]==="Kd"?H[B].diffuseColor=[parseFloat(de[1]),parseFloat(de[2]),parseFloat(de[3])]:de[0]==="Ka"?H[B].ambientColor=[parseFloat(de[1]),parseFloat(de[2]),parseFloat(de[3])]:de[0]==="Ks"?H[B].specularColor=[parseFloat(de[1]),parseFloat(de[2]),parseFloat(de[3])]:de[0]==="map_Kd"&&(H[B].texturePath=de[1])}ie(H)},C)})):(console.warn("MTL file not found or error in parsing; proceeding without materials: ".concat(W)),{});var z,ee}).catch(function(Y){return console.warn("Error loading MTL file: ".concat(W),Y),{}}))}();return G.prev=2,G.next=5,Promise.all(A);case 5:return V=G.sent,V=Object.assign.apply(Object,[{}].concat(s(V))),G.abrupt("return",V);case 10:return G.prev=10,G.t0=G.catch(2),G.abrupt("return",{});case 13:case"end":return G.stop()}},I,null,[[2,10]])}))).apply(this,arguments)}function M(){return(M=g(regeneratorRuntime.mark(function I(F){var A;return regeneratorRuntime.wrap(function(U){for(;;)switch(U.prev=U.next){case 0:return U.prev=0,U.next=3,fetch(F,{method:"HEAD"});case 3:return A=U.sent,U.abrupt("return",A.ok);case 7:return U.prev=7,U.t0=U.catch(0),U.abrupt("return",!1);case 10:case"end":return U.stop()}},I,null,[[0,7]])}))).apply(this,arguments)}return b.match(/\.stl$/i)?this.httpDo(a,"GET","arrayBuffer",function(I){(function(F,A){if(function(U){for(var D=new DataView(U),V=[115,111,108,105,100],G=0;G<5;G++)if(function(W,J,Q){for(var Y=0,z=W.length;Y<z;Y++)if(W[Y]!==J.getUint8(Q+Y,!1))return;return 1}(V,D,G))return;return 1}(A))(function(U,D){for(var V,G,W,J,Q,Y,z,ee=new DataView(D),ie=ee.getUint32(80,!0),C=!1,B=0;B<70;B++)ee.getUint32(B,!1)===1129270351&&ee.getUint8(B+4)===82&&ee.getUint8(B+5)===61&&(C=!0,J=[],Q=ee.getUint8(B+6)/255,Y=ee.getUint8(B+7)/255,z=ee.getUint8(B+8)/255);for(var H=0;H<ie;H++){for(var $,ne=84+50*H,se=ee.getFloat32(ne,!0),de=ee.getFloat32(4+ne,!0),_e=ee.getFloat32(8+ne,!0),pe=(C&&($=ee.getUint16(48+ne,!0),W=32768&$?(V=Q,G=Y,z):(V=(31&$)/31,G=($>>5&31)/31,($>>10&31)/31)),new f.default.Vector(se,de,_e)),ge=1;ge<=3;ge++){var ve=ne+12*ge,ve=new f.default.Vector(ee.getFloat32(ve,!0),ee.getFloat32(4+ve,!0),ee.getFloat32(8+ve,!0));U.vertices.push(ve),U.vertexNormals.push(pe),C&&J.push(V,G,W)}U.faces.push([3*H,3*H+1,3*H+2]),U.uvs.push([0,0],[0,0],[0,0])}})(F,A);else{if(A=new DataView(A),!("TextDecoder"in window))return console.warn("Sorry, ASCII STL loading only works in browsers that support TextDecoder (https://caniuse.com/#feat=textencoder)");A=new TextDecoder("utf-8").decode(A).split(`
`),function(U,D){for(var V,G,W="",J=[],Q=0;Q<D.length;++Q){for(var Y=D[Q].trim(),z=Y.split(" "),ee=0;ee<z.length;++ee)z[ee]===""&&z.splice(ee,1);if(z.length!==0)switch(W){case"":if(z[0]!=="solid")return console.error(Y),console.error('Invalid state "'.concat(z[0],'", should be "solid"'));W="solid";break;case"solid":if(z[0]!=="facet"||z[1]!=="normal")return console.error(Y),console.error('Invalid state "'.concat(z[0],'", should be "facet normal"'));V=new f.default.Vector(parseFloat(z[2]),parseFloat(z[3]),parseFloat(z[4])),U.vertexNormals.push(V,V,V),W="facet normal";break;case"facet normal":if(z[0]!=="outer"||z[1]!=="loop")return console.error(Y),console.error('Invalid state "'.concat(z[0],'", should be "outer loop"'));W="vertex";break;case"vertex":if(z[0]==="vertex")G=new f.default.Vector(parseFloat(z[1]),parseFloat(z[2]),parseFloat(z[3])),U.vertices.push(G),U.uvs.push([0,0]),J.push(U.vertices.indexOf(G));else{if(z[0]!=="endloop")return console.error(Y),console.error('Invalid state "'.concat(z[0],'", should be "vertex" or "endloop"'));U.faces.push(J),J=[],W="endloop"}break;case"endloop":if(z[0]!=="endfacet")return console.error(Y),console.error('Invalid state "'.concat(z[0],'", should be "endfacet"'));W="endfacet";break;case"endfacet":if(z[0]!=="endsolid"){if(z[0]!=="facet"||z[1]!=="normal")return console.error(Y),console.error('Invalid state "'.concat(z[0],'", should be "endsolid" or "facet normal"'));V=new f.default.Vector(parseFloat(z[2]),parseFloat(z[3]),parseFloat(z[4])),U.vertexNormals.push(V,V,V),W="facet normal"}break;default:console.error('Invalid state "'.concat(W,'"'))}}}(F,A)}})(T,I),l&&T.normalize(),m&&T.flipU(),_&&T.flipV(),O._decrementPreload(),typeof h=="function"&&h(T)},p):b.match(/\.obj$/i)?this.loadStrings(a,function(){var I=g(regeneratorRuntime.mark(function F(A){var U;return regeneratorRuntime.wrap(function(D){for(;;)switch(D.prev=D.next){case 0:return D.prev=0,D.next=3,function(){return k.apply(this,arguments)}(A);case 3:U=D.sent,function(V,G){for(var W=2<arguments.length&&arguments[2]!==void 0?arguments[2]:{},J={v:[],vt:[],vn:[]},Q={},Y=null,z=new Set,ee=!1,ie=!1,C=0;C<G.length;++C){var B=G[C].trim().split(/\b\s+/);if(0<B.length){if(B[0]==="usemtl")Y=B[1];else if(B[0]==="v"||B[0]==="vn"){var H=new f.default.Vector(parseFloat(B[1]),parseFloat(B[2]),parseFloat(B[3]));J[B[0]].push(H)}else if(B[0]==="vt")H=[parseFloat(B[1]),1-parseFloat(B[2])],J[B[0]].push(H);else if(B[0]==="f")for(var $=3;$<B.length;++$){for(var ne=[],se=[1,$-1,$],de=0;de<se.length;++de){for(var _e,pe=B[se[de]],ge=pe.split("/"),ve=0;ve<ge.length;ve++)ge[ve]=parseInt(ge[ve])-1;Q[pe]||(Q[pe]={}),Q[pe][Y]===void 0?(_e=V.vertices.length,V.vertices.push(J.v[ge[0]].copy()),V.uvs.push(J.vt[ge[1]]?J.vt[ge[1]].slice():[0,0]),V.vertexNormals.push(J.vn[ge[2]]?J.vn[ge[2]].copy():new f.default.Vector),Q[pe][Y]=_e,ne.push(_e),Y&&W[Y]&&W[Y].diffuseColor&&z.add(J.v[ge[0]])):ne.push(Q[pe][Y])}if(ne[0]!==ne[1]&&ne[0]!==ne[2]&&ne[1]!==ne[2])if(V.faces.push(ne),Y&&W[Y]&&W[Y].diffuseColor){ee=ee=!0;for(var le=W[Y].diffuseColor,he=0;he<ne.length;he++)V.vertexColors.push(le[0]),V.vertexColors.push(le[1]),V.vertexColors.push(le[2])}else ie=!0}}}if(V.vertexNormals.length===0&&V.computeNormals(),ee===ie)throw new Error("Model coloring is inconsistent. Either all vertices should have colors or none should.")}(T,A,U),D.next=11;break;case 7:return D.prev=7,D.t0=D.catch(0),p?p(D.t0):f.default._friendlyError("Error during parsing: "+D.t0.message),D.abrupt("return");case 11:return D.prev=11,l&&T.normalize(),m&&T.flipU(),_&&T.flipV(),O._decrementPreload(),typeof h=="function"&&h(T),D.finish(11);case 18:case"end":return D.stop()}},F,null,[[0,7,11,18]])}));return function(F){return I.apply(this,arguments)}}(),p):(f.default._friendlyFileLoadError(3,a),p?p():f.default._friendlyError("Sorry, the file type is invalid. Only OBJ and STL files are supported.")),T},f.default.prototype.model=function(a){this._assert3d("model"),f.default._validateParameters("model",arguments),0<a.vertices.length&&(this._renderer.geometryInHash(a.gid)||(a.edges.length===0&&a._makeTriangleEdges(),a._edgesToVertices(),this._renderer.createBuffers(a.gid,a)),this._renderer.drawBuffers(a.gid))};var o=f.default;x.default=o},{"../core/main":280,"./p5.Geometry":332,"core-js/modules/es.array.concat":152,"core-js/modules/es.array.from":161,"core-js/modules/es.array.index-of":163,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.join":165,"core-js/modules/es.array.slice":168,"core-js/modules/es.array.splice":170,"core-js/modules/es.object.assign":181,"core-js/modules/es.object.to-string":187,"core-js/modules/es.promise":188,"core-js/modules/es.regexp.exec":192,"core-js/modules/es.regexp.to-string":193,"core-js/modules/es.set":194,"core-js/modules/es.string.iterator":197,"core-js/modules/es.string.match":198,"core-js/modules/es.string.split":203,"core-js/modules/es.string.trim":206,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/web.dom-collections.iterator":243,"regenerator-runtime/runtime":257}],328:[function(t,j,x){function d(o){return(d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(o)}function f(o){return(f=typeof Symbol=="function"&&d(Symbol.iterator)==="symbol"?function(a){return d(a)}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":d(a)})(o)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(x,"__esModule",{value:!0}),x.default=void 0;var s=(y=t("../core/main"))&&y.__esModule?y:{default:y},c=function(o){if(o&&o.__esModule)return o;if(o===null||f(o)!=="object"&&typeof o!="function")return{default:o};var a=g();if(a&&a.has(o))return a.get(o);var i,h={},p=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(i in o){var l;Object.prototype.hasOwnProperty.call(o,i)&&((l=p?Object.getOwnPropertyDescriptor(o,i):null)&&(l.get||l.set)?Object.defineProperty(h,i,l):h[i]=o[i])}return h.default=o,a&&a.set(o,h),h}(t("../core/constants"));function g(){var o;return typeof WeakMap!="function"?null:(o=new WeakMap,g=function(){return o},o)}t("./p5.Texture"),s.default.prototype.loadShader=function(o,a,i,h){s.default._validateParameters("loadShader",arguments),h=h||console.error;function p(){m._decrementPreload(),i&&i(l)}var l=new s.default.Shader,m=this,_=!1,b=!1;return this.loadStrings(o,function(T){l._vertSrc=T.join(`
`),b=!0,_&&p()},h),this.loadStrings(a,function(T){l._fragSrc=T.join(`
`),_=!0,b&&p()},h),l},s.default.prototype.createShader=function(o,a){return s.default._validateParameters("createShader",arguments),new s.default.Shader(this._renderer,o,a)},s.default.prototype.createFilterShader=function(o){s.default._validateParameters("createFilterShader",arguments);var a=o.includes("#version 300 es")?`#version 300 es
    uniform mat4 uModelViewMatrix;
    uniform mat4 uProjectionMatrix;

    in vec3 aPosition;
    in vec2 aTexCoord;
    out vec2 vTexCoord;

    void main() {
      // transferring texcoords for the frag shader
      vTexCoord = aTexCoord;

      // copy position with a fourth coordinate for projection (1.0 is normal)
      vec4 positionVec4 = vec4(aPosition, 1.0);

      // project to 3D space
      gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
    }
  `:`
    uniform mat4 uModelViewMatrix;
    uniform mat4 uProjectionMatrix;

    attribute vec3 aPosition;
    // texcoords only come from p5 to vertex shader
    // so pass texcoords on to the fragment shader in a varying variable
    attribute vec2 aTexCoord;
    varying vec2 vTexCoord;

    void main() {
      // transferring texcoords for the frag shader
      vTexCoord = aTexCoord;

      // copy position with a fourth coordinate for projection (1.0 is normal)
      vec4 positionVec4 = vec4(aPosition, 1.0);

      // project to 3D space
      gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
    }
  `,a=new s.default.Shader(this._renderer,a,o);return this._renderer.GL?a.ensureCompiledOnContext(this):a.ensureCompiledOnContext(this._renderer.getFilterGraphicsLayer()),a},s.default.prototype.shader=function(o){return this._assert3d("shader"),s.default._validateParameters("shader",arguments),o.ensureCompiledOnContext(this),o.isStrokeShader()?this._renderer.userStrokeShader=o:(this._renderer.userFillShader=o,this._renderer._useNormalMaterial=!1),this},s.default.prototype.resetShader=function(){return this._renderer.userFillShader=this._renderer.userStrokeShader=null,this},s.default.prototype.texture=function(o){return this._assert3d("texture"),s.default._validateParameters("texture",arguments),o.gifProperties&&o._animateGif(this),this._renderer.drawMode=c.TEXTURE,this._renderer._useNormalMaterial=!1,this._renderer._tex=o,this._renderer._setProperty("_doFill",!0),this},s.default.prototype.textureMode=function(o){o!==c.IMAGE&&o!==c.NORMAL?console.warn("You tried to set ".concat(o," textureMode only supports IMAGE & NORMAL ")):this._renderer.textureMode=o},s.default.prototype.textureWrap=function(o){var a=1<arguments.length&&arguments[1]!==void 0?arguments[1]:o,i=(this._renderer.textureWrapX=o,this._renderer.textureWrapY=a,!0),h=!1,p=void 0;try{for(var l,m=this._renderer.textures.values()[Symbol.iterator]();!(i=(l=m.next()).done);i=!0)l.value.setWrapMode(o,a)}catch(_){h=!0,p=_}finally{try{i||m.return==null||m.return()}finally{if(h)throw p}}},s.default.prototype.normalMaterial=function(){this._assert3d("normalMaterial");for(var o=arguments.length,a=new Array(o),i=0;i<o;i++)a[i]=arguments[i];return s.default._validateParameters("normalMaterial",a),this._renderer.drawMode=c.FILL,this._renderer._useSpecularMaterial=!1,this._renderer._useEmissiveMaterial=!1,this._renderer._useNormalMaterial=!0,this._renderer.curFillColor=[1,1,1,1],this._renderer._setProperty("_doFill",!0),this.noStroke(),this},s.default.prototype.ambientMaterial=function(o,a,i){this._assert3d("ambientMaterial"),s.default._validateParameters("ambientMaterial",arguments);var h=s.default.prototype.color.apply(this,arguments);return this._renderer._hasSetAmbient=!0,this._renderer.curAmbientColor=h._array,this._renderer._useNormalMaterial=!1,this._renderer._enableLighting=!0,this._renderer._setProperty("_doFill",!0),this},s.default.prototype.emissiveMaterial=function(o,a,i,h){this._assert3d("emissiveMaterial"),s.default._validateParameters("emissiveMaterial",arguments);var p=s.default.prototype.color.apply(this,arguments);return this._renderer.curEmissiveColor=p._array,this._renderer._useEmissiveMaterial=!0,this._renderer._useNormalMaterial=!1,this._renderer._enableLighting=!0,this},s.default.prototype.specularMaterial=function(o,a,i,h){this._assert3d("specularMaterial"),s.default._validateParameters("specularMaterial",arguments);var p=s.default.prototype.color.apply(this,arguments);return this._renderer.curSpecularColor=p._array,this._renderer._useSpecularMaterial=!0,this._renderer._useNormalMaterial=!1,this._renderer._enableLighting=!0,this},s.default.prototype.shininess=function(o){return this._assert3d("shininess"),s.default._validateParameters("shininess",arguments),this._renderer._useShininess=o=o<1?1:o,this},s.default.prototype.metalness=function(o){return this._assert3d("metalness"),o=1-Math.exp(-o/100),this._renderer._useMetalness=o,this},s.default.RendererGL.prototype._applyColorBlend=function(o,p){var i=this.GL,h=this.drawMode===c.TEXTURE,p=p||this.userFillShader||this.userStrokeShader||this.userPointShader||h||this.curBlendMode!==c.BLEND||o[o.length-1]<1||this._isErasing;return p!==this._isBlending&&(p||this.curBlendMode!==c.BLEND&&this.curBlendMode!==c.ADD?i.enable(i.BLEND):i.disable(i.BLEND),i.depthMask(!0),this._isBlending=p),this._applyBlendMode(),o},s.default.RendererGL.prototype._applyBlendMode=function(){if(this._cachedBlendMode!==this.curBlendMode){var o=this.GL;switch(this.curBlendMode){case c.BLEND:o.blendEquation(o.FUNC_ADD),o.blendFunc(o.ONE,o.ONE_MINUS_SRC_ALPHA);break;case c.ADD:o.blendEquation(o.FUNC_ADD),o.blendFunc(o.ONE,o.ONE);break;case c.REMOVE:o.blendEquation(o.FUNC_ADD),o.blendFunc(o.ZERO,o.ONE_MINUS_SRC_ALPHA);break;case c.MULTIPLY:o.blendEquation(o.FUNC_ADD),o.blendFunc(o.DST_COLOR,o.ONE_MINUS_SRC_ALPHA);break;case c.SCREEN:o.blendEquation(o.FUNC_ADD),o.blendFunc(o.ONE,o.ONE_MINUS_SRC_COLOR);break;case c.EXCLUSION:o.blendEquationSeparate(o.FUNC_ADD,o.FUNC_ADD),o.blendFuncSeparate(o.ONE_MINUS_DST_COLOR,o.ONE_MINUS_SRC_COLOR,o.ONE,o.ONE);break;case c.REPLACE:o.blendEquation(o.FUNC_ADD),o.blendFunc(o.ONE,o.ZERO);break;case c.SUBTRACT:o.blendEquationSeparate(o.FUNC_REVERSE_SUBTRACT,o.FUNC_ADD),o.blendFuncSeparate(o.ONE,o.ONE,o.ONE,o.ONE_MINUS_SRC_ALPHA);break;case c.DARKEST:this.blendExt?(o.blendEquationSeparate(this.blendExt.MIN||this.blendExt.MIN_EXT,o.FUNC_ADD),o.blendFuncSeparate(o.ONE,o.ONE,o.ONE,o.ONE)):console.warn("blendMode(DARKEST) does not work in your browser in WEBGL mode.");break;case c.LIGHTEST:this.blendExt?(o.blendEquationSeparate(this.blendExt.MAX||this.blendExt.MAX_EXT,o.FUNC_ADD),o.blendFuncSeparate(o.ONE,o.ONE,o.ONE,o.ONE)):console.warn("blendMode(LIGHTEST) does not work in your browser in WEBGL mode.");break;default:console.error("Oops! Somehow RendererGL set curBlendMode to an unsupported mode.")}this._isErasing||(this._cachedBlendMode=this.curBlendMode)}};var y=s.default;x.default=y},{"../core/constants":269,"../core/main":280,"./p5.Texture":339,"core-js/modules/es.array.includes":162,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.join":165,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.to-string":187,"core-js/modules/es.string.includes":196,"core-js/modules/es.string.iterator":197,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.iterator":243}],329:[function(t,j,x){t("core-js/modules/es.array.slice"),t("core-js/modules/es.math.hypot"),t("core-js/modules/es.string.sub"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.math.hypot"),t("core-js/modules/es.string.sub"),Object.defineProperty(x,"__esModule",{value:!0}),x.default=void 0;var d=(t=t("../core/main"))&&t.__esModule?t:{default:t};function f(s,c){for(var g=0;g<c.length;g++){var y=c[g];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(s,y.key,y)}}d.default.prototype.camera=function(){var s;this._assert3d("camera");for(var c=arguments.length,g=new Array(c),y=0;y<c;y++)g[y]=arguments[y];return d.default._validateParameters("camera",g),(s=this._renderer._curCamera).camera.apply(s,g),this},d.default.prototype.perspective=function(){var s;this._assert3d("perspective");for(var c=arguments.length,g=new Array(c),y=0;y<c;y++)g[y]=arguments[y];return d.default._validateParameters("perspective",g),(s=this._renderer._curCamera).perspective.apply(s,g),this},d.default.prototype.linePerspective=function(s){if(d.default._validateParameters("linePerspective",arguments),!(this._renderer instanceof d.default.RendererGL))throw new Error("linePerspective() must be called in WebGL mode.");if(s===void 0)return this._renderer._curCamera.useLinePerspective;this._renderer._curCamera.useLinePerspective=s},d.default.prototype.ortho=function(){var s;this._assert3d("ortho");for(var c=arguments.length,g=new Array(c),y=0;y<c;y++)g[y]=arguments[y];return d.default._validateParameters("ortho",g),(s=this._renderer._curCamera).ortho.apply(s,g),this},d.default.prototype.frustum=function(){var s;this._assert3d("frustum");for(var c=arguments.length,g=new Array(c),y=0;y<c;y++)g[y]=arguments[y];return d.default._validateParameters("frustum",g),(s=this._renderer._curCamera).frustum.apply(s,g),this},d.default.prototype.createCamera=function(){this._assert3d("createCamera");var s=new d.default.Camera(this._renderer);return s._computeCameraDefaultSettings(),s._setDefaultCamera(),this._renderer._curCamera=s},d.default.Camera=function(){function s(y){if(!(this instanceof s))throw new TypeError("Cannot call a class as a function");this._renderer=y,this.cameraType="default",this.useLinePerspective=!0,this.cameraMatrix=new d.default.Matrix,this.projMatrix=new d.default.Matrix,this.yScale=1}var c,g;return c=s,(g=[{key:"perspective",value:function(h,o,a,i){this.cameraType=0<arguments.length?"custom":"default",h===void 0?(h=this.defaultCameraFOV,this.cameraFOV=h):this.cameraFOV=this._renderer._pInst._toRadians(h),o===void 0&&(o=this.defaultAspectRatio),a===void 0&&(a=this.defaultCameraNear),i===void 0&&(i=this.defaultCameraFar),a<=1e-4&&(a=.01,console.log("Avoid perspective near plane values close to or below 0. Setting value to 0.01.")),i<a&&console.log("Perspective far plane value is less than near plane value. Nothing will be shown."),this.aspectRatio=o,this.cameraNear=a,this.cameraFar=i,this.projMatrix=d.default.Matrix.identity();var h=1/Math.tan(this.cameraFOV/2),p=1/(this.cameraNear-this.cameraFar);this.projMatrix.set(h/o,0,0,0,0,-h*this.yScale,0,0,0,0,(i+a)*p,-1,0,0,2*i*a*p,0),this._isActive()&&this._renderer.uPMatrix.set(this.projMatrix)}},{key:"ortho",value:function(k,O,a,i,h,p){k===void 0&&(k=-this._renderer.width/2),O===void 0&&(O=+this._renderer.width/2),a===void 0&&(a=-this._renderer.height/2),i===void 0&&(i=+this._renderer.height/2),h===void 0&&(h=0),p===void 0&&(p=Math.max(this._renderer.width,this._renderer.height)+800),this.cameraNear=h;var M=O-k,l=i-a,m=(this.cameraFar=p)-h,_=2/M,b=2/l*this.yScale,T=-2/m,O=-(O+k)/M,k=-(i+a)/l,M=-(p+h)/m;this.projMatrix=d.default.Matrix.identity(),this.projMatrix.set(_,0,0,0,0,-b,0,0,0,0,T,0,O,k,M,1),this._isActive()&&this._renderer.uPMatrix.set(this.projMatrix),this.cameraType="custom"}},{key:"frustum",value:function(k,O,a,i,h,p){k===void 0&&(k=.05*-this._renderer.width),O===void 0&&(O=.05*+this._renderer.width),a===void 0&&(a=.05*+this._renderer.height),i===void 0&&(i=.05*-this._renderer.height),h===void 0&&(h=this.defaultCameraNear),p===void 0&&(p=this.defaultCameraFar),this.cameraNear=h;var M=O-k,l=i-a,m=(this.cameraFar=p)-h,_=2*h/M,b=2*h/l*this.yScale,T=-2*p*h/m,O=(O+k)/M,k=(i+a)/l,M=-(p+h)/m;this.projMatrix=d.default.Matrix.identity(),this.projMatrix.set(_,0,0,0,0,-b,0,0,O,k,M,-1,0,0,T,0),this._isActive()&&this._renderer.uPMatrix.set(this.projMatrix),this.cameraType="custom"}},{key:"_rotateView",value:function(_,o,a,i){var h=this.centerX,p=this.centerY,l=this.centerZ,m=(h-=this.eyeX,p-=this.eyeY,l-=this.eyeZ,d.default.Matrix.identity(this._renderer._pInst)),_=(m.rotate(this._renderer._pInst._toRadians(_),o,a,i),[h*m.mat4[0]+p*m.mat4[4]+l*m.mat4[8],h*m.mat4[1]+p*m.mat4[5]+l*m.mat4[9],h*m.mat4[2]+p*m.mat4[6]+l*m.mat4[10]]);_[0]+=this.eyeX,_[1]+=this.eyeY,_[2]+=this.eyeZ,this.camera(this.eyeX,this.eyeY,this.eyeZ,_[0],_[1],_[2],this.upX,this.upY,this.upZ)}},{key:"pan",value:function(y){var o=this._getLocalAxes();this._rotateView(y,o.y[0],o.y[1],o.y[2])}},{key:"tilt",value:function(y){var o=this._getLocalAxes();this._rotateView(y,o.x[0],o.x[1],o.x[2])}},{key:"lookAt",value:function(y,o,a){this.camera(this.eyeX,this.eyeY,this.eyeZ,y,o,a,this.upX,this.upY,this.upZ)}},{key:"camera",value:function(y,o,a,i,h,p,l,m,_){return y===void 0&&(y=this.defaultEyeX,o=this.defaultEyeY,a=this.defaultEyeZ,i=y,h=o,m=1,_=l=p=0),this.eyeX=y,this.eyeY=o,this.eyeZ=a,i!==void 0&&(this.centerX=i,this.centerY=h,this.centerZ=p),l!==void 0&&(this.upX=l,this.upY=m,this.upZ=_),i=this._getLocalAxes(),this.cameraMatrix.set(i.x[0],i.y[0],i.z[0],0,i.x[1],i.y[1],i.z[1],0,i.x[2],i.y[2],i.z[2],0,0,0,0,1),h=-y,this.cameraMatrix.translate([h,-o,-a]),this._isActive()&&this._renderer.uMVMatrix.set(this.cameraMatrix),this}},{key:"move",value:function(i,h,a){var p=this._getLocalAxes(),i=[p.x[0]*i,p.x[1]*i,p.x[2]*i],h=[p.y[0]*h,p.y[1]*h,p.y[2]*h],p=[p.z[0]*a,p.z[1]*a,p.z[2]*a];this.camera(this.eyeX+i[0]+h[0]+p[0],this.eyeY+i[1]+h[1]+p[1],this.eyeZ+i[2]+h[2]+p[2],this.centerX+i[0]+h[0]+p[0],this.centerY+i[1]+h[1]+p[1],this.centerZ+i[2]+h[2]+p[2],this.upX,this.upY,this.upZ)}},{key:"setPosition",value:function(y,o,a){var i=y-this.eyeX,h=o-this.eyeY,p=a-this.eyeZ;this.camera(y,o,a,this.centerX+i,this.centerY+h,this.centerZ+p,this.upX,this.upY,this.upZ)}},{key:"set",value:function(y){for(var o=0,a=["eyeX","eyeY","eyeZ","centerX","centerY","centerZ","upX","upY","upZ","cameraFOV","aspectRatio","cameraNear","cameraFar","cameraType","yScale"];o<a.length;o++){var i=a[o];this[i]=y[i]}this.cameraMatrix=y.cameraMatrix.copy(),this.projMatrix=y.projMatrix.copy(),this._isActive()&&(this._renderer.uMVMatrix.mat4=this.cameraMatrix.mat4.slice(),this._renderer.uPMatrix.mat4=this.projMatrix.mat4.slice())}},{key:"slerp",value:function(y,o,a){var i,h,p,l,m,_,b,T,O,k,M,I,F,A,U,D,V,G;a===0?this.set(y):a===1?this.set(o):(this.projMatrix.mat4[15]!==0&&(this.projMatrix.mat4[0]=y.projMatrix.mat4[0]*Math.pow(o.projMatrix.mat4[0]/y.projMatrix.mat4[0],a),this.projMatrix.mat4[5]=y.projMatrix.mat4[5]*Math.pow(o.projMatrix.mat4[5]/y.projMatrix.mat4[5],a),this._isActive()&&(this._renderer.uPMatrix.mat4=this.projMatrix.mat4.slice())),l=new d.default.Vector(y.eyeX,y.eyeY,y.eyeZ),m=new d.default.Vector(o.eyeX,o.eyeY,o.eyeZ),D=new d.default.Vector(y.centerX,y.centerY,y.centerZ),G=new d.default.Vector(o.centerX,o.centerY,o.centerZ),p=d.default.Vector.dist(l,D),i=d.default.Vector.dist(m,G),i=p*Math.pow(i/p,a),p=d.default.Vector.sub(l,m),h=1,1e-6<(V=(A=l.copy().sub(m).sub(D).add(G)).magSq())&&(h=d.default.Vector.dot(p,A)/V,h=Math.max(0,Math.min(h,1))),p=d.default.Vector.lerp(d.default.Vector.lerp(l,D,h),d.default.Vector.lerp(m,G,h),a),A=y.cameraMatrix.createSubMatrix3x3(),V=o.cameraMatrix.createSubMatrix3x3(),l=A.row(2),D=V.row(2),m=A.row(1),G=V.row(1),y=new d.default.Vector,o=new d.default.Vector,_=new d.default.Vector,b=new d.default.Vector,1-(T=.5*((A=(V=V.mult3x3(A.copy().transpose3x3())).diagonal())[0]+A[1]+A[2]-1))<1e-7?(y.set(d.default.Vector.lerp(l,D,a)).normalize(),_.set(y).mult(h*i).add(p),b.set(y).mult((h-1)*i).add(p),o.set(d.default.Vector.lerp(m,G,a)).normalize()):(D=1/(1-T),G=Math.max(A[0],A[1],A[2]),I=V.mat3[1]+V.mat3[3],F=V.mat3[2]+V.mat3[6],U=V.mat3[5]+V.mat3[7],G=G===A[0]?(k=.5*I*(D/=O=Math.sqrt((A[0]-T)*D)),M=.5*F*D,.5*(V.mat3[7]-V.mat3[5])/O):G===A[1]?(M=.5*U*(D/=k=Math.sqrt((A[1]-T)*D)),O=.5*I*D,.5*(V.mat3[2]-V.mat3[6])/k):(O=.5*F*(D/=M=Math.sqrt((A[2]-T)*D)),k=.5*U*D,.5*(V.mat3[3]-V.mat3[1])/M),I=a*Math.atan2(G,T),F=Math.cos(I),A=Math.sin(I),(G=new d.default.Matrix("mat3",[F+(U=1-F)*O*O,U*(D=O*k)+A*M,U*(V=M*O)-A*k,U*D-A*M,F+U*k*k,U*(a=k*M)+A*O,U*V+A*k,U*a-A*O,F+U*M*M])).multiplyVec3(l,y),_.set(y).mult(h*i).add(p),b.set(y).mult((h-1)*i).add(p),G.multiplyVec3(m,o)),this.camera(_.x,_.y,_.z,b.x,b.y,b.z,o.x,o.y,o.z))}},{key:"_computeCameraDefaultSettings",value:function(){this.defaultAspectRatio=this._renderer.width/this._renderer.height,this.defaultEyeX=0,this.defaultEyeY=0,this.defaultEyeZ=800,this.defaultCameraFOV=2*Math.atan(this._renderer.height/2/this.defaultEyeZ),this.defaultCenterX=0,this.defaultCenterY=0,this.defaultCenterZ=0,this.defaultCameraNear=.1*this.defaultEyeZ,this.defaultCameraFar=10*this.defaultEyeZ}},{key:"_setDefaultCamera",value:function(){this.cameraFOV=this.defaultCameraFOV,this.aspectRatio=this.defaultAspectRatio,this.eyeX=this.defaultEyeX,this.eyeY=this.defaultEyeY,this.eyeZ=this.defaultEyeZ,this.centerX=this.defaultCenterX,this.centerY=this.defaultCenterY,this.centerZ=this.defaultCenterZ,this.upX=0,this.upY=1,this.upZ=0,this.cameraNear=this.defaultCameraNear,this.cameraFar=this.defaultCameraFar,this.perspective(),this.camera(),this.cameraType="default"}},{key:"_resize",value:function(){this.cameraType==="default"&&(this._computeCameraDefaultSettings(),this.cameraFOV=this.defaultCameraFOV,this.aspectRatio=this.defaultAspectRatio,this.perspective())}},{key:"copy",value:function(){var y=new d.default.Camera(this._renderer);return y.cameraFOV=this.cameraFOV,y.aspectRatio=this.aspectRatio,y.eyeX=this.eyeX,y.eyeY=this.eyeY,y.eyeZ=this.eyeZ,y.centerX=this.centerX,y.centerY=this.centerY,y.centerZ=this.centerZ,y.upX=this.upX,y.upY=this.upY,y.upZ=this.upZ,y.cameraNear=this.cameraNear,y.cameraFar=this.cameraFar,y.cameraType=this.cameraType,y.cameraMatrix=this.cameraMatrix.copy(),y.projMatrix=this.projMatrix.copy(),y.yScale=this.yScale,y}},{key:"_getLocalAxes",value:function(){var y=this.eyeX-this.centerX,o=this.eyeY-this.centerY,a=this.eyeZ-this.centerZ,l=Math.sqrt(y*y+o*o+a*a),l=(l!==0&&(y/=l,o/=l,a/=l),this.upX),i=(m=this.upY)*a-(_=this.upZ)*o,h=-l*a+_*y,p=l*o-m*y,l=o*p-a*h,m=-y*p+a*i,_=y*h-o*i,b=Math.sqrt(i*i+h*h+p*p),b=(b!==0&&(i/=b,h/=b,p/=b),Math.sqrt(l*l+m*m+_*_));return b!==0&&(l/=b,m/=b,_/=b),{x:[i,h,p],y:[l,m,_],z:[y,o,a]}}},{key:"_orbit",value:function(y,b,_){var h=this.eyeX-this.centerX,p=this.eyeY-this.centerY,l=this.eyeZ-this.centerZ,i=Math.hypot(h,p,l),h=new d.default.Vector(h,p,l).normalize(),p=new d.default.Vector(this.upX,this.upY,this.upZ).normalize(),l=d.default.Vector.cross(p,h).normalize(),m=d.default.Vector.cross(l,p),_=((i=(i*=Math.pow(10,_))<this.cameraNear?this.cameraNear:i)>this.cameraFar&&(i=this.cameraFar),Math.acos(Math.max(-1,Math.min(1,d.default.Vector.dot(h,p))))+b),b=y;(_<=0||_>=Math.PI)&&(this.upX*=-1,this.upY*=-1,this.upZ*=-1),p.mult(Math.cos(_)),m.mult(Math.cos(b)*Math.sin(_)),l.mult(Math.sin(b)*Math.sin(_)),h.set(p).add(m).add(l),this.eyeX=i*h.x+this.centerX,this.eyeY=i*h.y+this.centerY,this.eyeZ=i*h.z+this.centerZ,this.camera(this.eyeX,this.eyeY,this.eyeZ,this.centerX,this.centerY,this.centerZ,this.upX,this.upY,this.upZ)}},{key:"_orbitFree",value:function(_,b,O){var h=this.eyeX-this.centerX,p=this.eyeY-this.centerY,l=this.eyeZ-this.centerZ,i=Math.hypot(h,p,l),h=new d.default.Vector(h,p,l).normalize(),p=new d.default.Vector(this.upX,this.upY,this.upZ),l=d.default.Vector.cross(p,h).normalize(),m=d.default.Vector.cross(h,l),k=Math.atan2(b,_),k=(m.mult(Math.sin(k)),l.mult(Math.cos(k)).add(m),Math.sqrt(_*_+b*b)),m=d.default.Vector.cross(h,l),_=((i=(i*=Math.pow(10,O))<this.cameraNear?this.cameraNear:i)>this.cameraFar&&(i=this.cameraFar),Math.cos(k)),b=Math.sin(k),O=p.dot(h),k=p.dot(l),T=O*_+k*b,O=-O*b+k*_,k=p.dot(m);p.x=T*h.x+O*l.x+k*m.x,p.y=T*h.y+O*l.y+k*m.y,p.z=T*h.z+O*l.z+k*m.z,l.mult(-b),h.mult(_).add(l).mult(i),this.camera(h.x+this.centerX,h.y+this.centerY,h.z+this.centerZ,this.centerX,this.centerY,this.centerZ,p.x,p.y,p.z)}},{key:"_isActive",value:function(){return this===this._renderer._curCamera}}])&&f(c.prototype,g),s}(),d.default.prototype.setCamera=function(s){this._renderer._curCamera=s,this._renderer.uPMatrix.set(s.projMatrix)},t=d.default.Camera,x.default=t},{"../core/main":280,"core-js/modules/es.array.slice":168,"core-js/modules/es.math.hypot":175,"core-js/modules/es.string.sub":205}],330:[function(t,j,x){t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.math.log2"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.typed-array.float32-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.math.log2"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.typed-array.float32-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),Object.defineProperty(x,"__esModule",{value:!0}),x.default=void 0,t=(t=t("../core/main"))&&t.__esModule?t:{default:t};function d(f,s){for(var c=0;c<s.length;c++){var g=s[c];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(f,g.key,g)}}t.default.DataArray=function(){function f(){var g=0<arguments.length&&arguments[0]!==void 0?arguments[0]:128,y=this,o=f;if(!(y instanceof o))throw new TypeError("Cannot call a class as a function");this.length=0,this.data=new Float32Array(g),this.initialLength=g}var s,c;return s=f,(c=[{key:"dataArray",value:function(){return this.subArray(0,this.length)}},{key:"clear",value:function(){this.length=0}},{key:"rescale",value:function(){var g;this.length<this.data.length/2&&(g=1<<Math.ceil(Math.log2(this.length)),(g=new Float32Array(g)).set(this.data.subarray(0,this.length),0),this.data=g)}},{key:"reset",value:function(){this.clear(),this.data=new Float32Array(this.initialLength)}},{key:"push",value:function(){for(var g=arguments.length,y=new Array(g),o=0;o<g;o++)y[o]=arguments[o];this.ensureLength(this.length+y.length),this.data.set(y,this.length),this.length+=y.length}},{key:"slice",value:function(g,y){return this.data.slice(g,Math.min(y,this.length))}},{key:"subArray",value:function(g,y){return this.data.subarray(g,Math.min(y,this.length))}},{key:"ensureLength",value:function(g){for(;this.data.length<g;){var y=new Float32Array(2*this.data.length);y.set(this.data,0),this.data=y}}}])&&d(s.prototype,c),f}(),t=t.default.DataArray,x.default=t},{"../core/main":280,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.slice":168,"core-js/modules/es.math.log2":176,"core-js/modules/es.object.to-string":187,"core-js/modules/es.typed-array.copy-within":210,"core-js/modules/es.typed-array.every":211,"core-js/modules/es.typed-array.fill":212,"core-js/modules/es.typed-array.filter":213,"core-js/modules/es.typed-array.find":215,"core-js/modules/es.typed-array.find-index":214,"core-js/modules/es.typed-array.float32-array":216,"core-js/modules/es.typed-array.for-each":218,"core-js/modules/es.typed-array.includes":219,"core-js/modules/es.typed-array.index-of":220,"core-js/modules/es.typed-array.iterator":223,"core-js/modules/es.typed-array.join":224,"core-js/modules/es.typed-array.last-index-of":225,"core-js/modules/es.typed-array.map":226,"core-js/modules/es.typed-array.reduce":228,"core-js/modules/es.typed-array.reduce-right":227,"core-js/modules/es.typed-array.reverse":229,"core-js/modules/es.typed-array.set":230,"core-js/modules/es.typed-array.slice":231,"core-js/modules/es.typed-array.some":232,"core-js/modules/es.typed-array.sort":233,"core-js/modules/es.typed-array.subarray":234,"core-js/modules/es.typed-array.to-locale-string":235,"core-js/modules/es.typed-array.to-string":236}],331:[function(I,j,x){function d(F){return(d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(A){return typeof A}:function(A){return A&&typeof Symbol=="function"&&A.constructor===Symbol&&A!==Symbol.prototype?"symbol":typeof A})(F)}function f(F){return(f=typeof Symbol=="function"&&d(Symbol.iterator)==="symbol"?function(A){return d(A)}:function(A){return A&&typeof Symbol=="function"&&A.constructor===Symbol&&A!==Symbol.prototype?"symbol":d(A)})(F)}I("core-js/modules/es.symbol"),I("core-js/modules/es.symbol.description"),I("core-js/modules/es.symbol.iterator"),I("core-js/modules/es.array.fill"),I("core-js/modules/es.array.includes"),I("core-js/modules/es.array.iterator"),I("core-js/modules/es.object.get-own-property-descriptor"),I("core-js/modules/es.object.get-prototype-of"),I("core-js/modules/es.object.to-string"),I("core-js/modules/es.reflect.construct"),I("core-js/modules/es.reflect.get"),I("core-js/modules/es.regexp.to-string"),I("core-js/modules/es.string.includes"),I("core-js/modules/es.string.iterator"),I("core-js/modules/es.typed-array.float32-array"),I("core-js/modules/es.typed-array.uint8-array"),I("core-js/modules/es.typed-array.uint8-clamped-array"),I("core-js/modules/es.typed-array.copy-within"),I("core-js/modules/es.typed-array.every"),I("core-js/modules/es.typed-array.fill"),I("core-js/modules/es.typed-array.filter"),I("core-js/modules/es.typed-array.find"),I("core-js/modules/es.typed-array.find-index"),I("core-js/modules/es.typed-array.for-each"),I("core-js/modules/es.typed-array.includes"),I("core-js/modules/es.typed-array.index-of"),I("core-js/modules/es.typed-array.iterator"),I("core-js/modules/es.typed-array.join"),I("core-js/modules/es.typed-array.last-index-of"),I("core-js/modules/es.typed-array.map"),I("core-js/modules/es.typed-array.reduce"),I("core-js/modules/es.typed-array.reduce-right"),I("core-js/modules/es.typed-array.reverse"),I("core-js/modules/es.typed-array.set"),I("core-js/modules/es.typed-array.slice"),I("core-js/modules/es.typed-array.some"),I("core-js/modules/es.typed-array.sort"),I("core-js/modules/es.typed-array.subarray"),I("core-js/modules/es.typed-array.to-locale-string"),I("core-js/modules/es.typed-array.to-string"),I("core-js/modules/es.weak-map"),I("core-js/modules/web.dom-collections.iterator"),I("core-js/modules/es.array.fill"),I("core-js/modules/es.array.includes"),I("core-js/modules/es.array.iterator"),I("core-js/modules/es.object.get-prototype-of"),I("core-js/modules/es.object.to-string"),I("core-js/modules/es.string.includes"),I("core-js/modules/es.typed-array.float32-array"),I("core-js/modules/es.typed-array.uint8-array"),I("core-js/modules/es.typed-array.uint8-clamped-array"),I("core-js/modules/es.typed-array.copy-within"),I("core-js/modules/es.typed-array.every"),I("core-js/modules/es.typed-array.fill"),I("core-js/modules/es.typed-array.filter"),I("core-js/modules/es.typed-array.find"),I("core-js/modules/es.typed-array.find-index"),I("core-js/modules/es.typed-array.for-each"),I("core-js/modules/es.typed-array.includes"),I("core-js/modules/es.typed-array.index-of"),I("core-js/modules/es.typed-array.iterator"),I("core-js/modules/es.typed-array.join"),I("core-js/modules/es.typed-array.last-index-of"),I("core-js/modules/es.typed-array.map"),I("core-js/modules/es.typed-array.reduce"),I("core-js/modules/es.typed-array.reduce-right"),I("core-js/modules/es.typed-array.reverse"),I("core-js/modules/es.typed-array.set"),I("core-js/modules/es.typed-array.slice"),I("core-js/modules/es.typed-array.some"),I("core-js/modules/es.typed-array.sort"),I("core-js/modules/es.typed-array.subarray"),I("core-js/modules/es.typed-array.to-locale-string"),I("core-js/modules/es.typed-array.to-string"),Object.defineProperty(x,"__esModule",{value:!0}),x.default=void 0;var s=(M=I("../core/main"))&&M.__esModule?M:{default:M},c=function(F){if(F&&F.__esModule)return F;if(F===null||f(F)!=="object"&&typeof F!="function")return{default:F};var A=o();if(A&&A.has(F))return A.get(F);var U,D={},V=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(U in F){var G;Object.prototype.hasOwnProperty.call(F,U)&&((G=V?Object.getOwnPropertyDescriptor(F,U):null)&&(G.get||G.set)?Object.defineProperty(D,U,G):D[U]=F[U])}return D.default=F,A&&A.set(F,D),D}(I("../core/constants")),g=I("./p5.Texture"),y=I("./p5.RendererGL");function o(){var F;return typeof WeakMap!="function"?null:(F=new WeakMap,o=function(){return F},F)}function a(F,A){return function(U){if(Array.isArray(U))return U}(F)||function(U,D){if(Symbol.iterator in Object(U)||Object.prototype.toString.call(U)==="[object Arguments]"){var V=[],G=!0,W=!1,J=void 0;try{for(var Q,Y=U[Symbol.iterator]();!(G=(Q=Y.next()).done)&&(V.push(Q.value),!D||V.length!==D);G=!0);}catch(z){W=!0,J=z}finally{try{G||Y.return==null||Y.return()}finally{if(W)throw J}}return V}}(F,A)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function i(F,A,U){return A in F?Object.defineProperty(F,A,{value:U,enumerable:!0,configurable:!0,writable:!0}):F[A]=U,F}function h(F,A){if(!(F instanceof A))throw new TypeError("Cannot call a class as a function")}function p(F,A){for(var U=0;U<A.length;U++){var D=A[U];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(F,D.key,D)}}function l(F,A,U){A&&p(F.prototype,A)}function m(F,A,U){return(m=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(W,V,G){var W=function(J,Q){for(;!Object.prototype.hasOwnProperty.call(J,Q)&&(J=T(J))!==null;);return J}(W,V);if(W)return(W=Object.getOwnPropertyDescriptor(W,V)).get?W.get.call(G):W.value})(F,A,U||F)}function _(F,A){return(_=Object.setPrototypeOf||function(U,D){return U.__proto__=D,U})(F,A)}function b(F){return function(){var A,U=T(F),U=(A=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(A=T(this).constructor,Reflect.construct(U,arguments,A)):U.apply(this,arguments),this);if(!A||f(A)!=="object"&&typeof A!="function"){if(U!==void 0)return U;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return A}}function T(F){return(T=Object.setPrototypeOf?Object.getPrototypeOf:function(A){return A.__proto__||Object.getPrototypeOf(A)})(F)}var O=function(F){var A=D;if(typeof F!="function"&&F!==null)throw new TypeError("Super expression must either be null or a function");A.prototype=Object.create(F&&F.prototype,{constructor:{value:A,writable:!0,configurable:!0}}),F&&_(A,F);var U=b(D);function D(V){var G;return h(this,D),(G=U.call(this,V.target._renderer)).fbo=V,G.yScale=-1,G}return l(D,[{key:"_computeCameraDefaultSettings",value:function(){m(T(D.prototype),"_computeCameraDefaultSettings",this).call(this),this.defaultAspectRatio=this.fbo.width/this.fbo.height,this.defaultCameraFOV=2*Math.atan(this.fbo.height/2/this.defaultEyeZ)}}]),D}(s.default.Camera),k=(s.default.FramebufferCamera=O,function(){function F(A,U){h(this,F),this.framebuffer=A,this.property=U}return l(F,[{key:"rawTexture",value:function(){return this.framebuffer[this.property]}},{key:"width",get:function(){return this.framebuffer.width*this.framebuffer.density}},{key:"height",get:function(){return this.framebuffer.height*this.framebuffer.density}}]),F}()),M=(s.default.FramebufferTexture=k,function(){function F(A){var U=this,D=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{},V=(h(this,F),this.target=A,this.target._renderer.framebuffers.add(this),this._isClipApplied=!1,this.pixels=[],this.format=D.format||c.UNSIGNED_BYTE,this.channels=D.channels||(A._renderer._pInst._glAttributes.alpha?c.RGBA:c.RGB),this.useDepth=D.depth===void 0||D.depth,this.depthFormat=D.depthFormat||c.FLOAT,this.textureFiltering=D.textureFiltering||c.LINEAR,D.antialias===void 0?this.antialiasSamples=A._renderer._pInst._glAttributes.antialias?2:0:typeof D.antialias=="number"?this.antialiasSamples=D.antialias:this.antialiasSamples=D.antialias?2:0,this.antialias=0<this.antialiasSamples,this.antialias&&A.webglVersion!==c.WEBGL2&&(console.warn("Antialiasing is unsupported in a WebGL 1 context"),this.antialias=!1),this.density=D.density||A.pixelDensity(),A._renderer.GL);if(this.gl=V,D.width&&D.height?(G=A._renderer._adjustDimensions(D.width,D.height),this.width=G.adjustedWidth,this.height=G.adjustedHeight,this._autoSized=!1):(D.width===void 0!=(D.height===void 0)&&console.warn("Please supply both width and height for a framebuffer to give it a size. Only one was given, so the framebuffer will match the size of its canvas."),this.width=A.width,this.height=A.height,this._autoSized=!0),this._checkIfFormatsAvailable(),D.stencil&&!this.useDepth&&console.warn("A stencil buffer can only be used if also using depth. Since the framebuffer has no depth buffer, the stencil buffer will be ignored."),this.useStencil=this.useDepth&&(D.stencil===void 0||D.stencil),this.framebuffer=V.createFramebuffer(),!this.framebuffer)throw new Error("Unable to create a framebuffer");if(this.antialias&&(this.aaFramebuffer=V.createFramebuffer(),!this.aaFramebuffer))throw new Error("Unable to create a framebuffer for antialiasing");this._recreateTextures();var G=this.target._renderer._curCamera;this.defaultCamera=this.createCamera(),this.filterCamera=this.createCamera(),this.target._renderer._curCamera=G,this.draw(function(){return U.target.clear()})}return l(F,[{key:"resize",value:function(A,U){this._autoSized=!1;var D=this.target._renderer._adjustDimensions(A,U);A=D.adjustedWidth,U=D.adjustedHeight,this.width=A,this.height=U,this._handleResize()}},{key:"pixelDensity",value:function(A){if(!A)return this.density;this._autoSized=!1,this.density=A,this._handleResize()}},{key:"autoSized",value:function(A){if(A===void 0)return this._autoSized;this._autoSized=A,this._handleResize()}},{key:"_checkIfFormatsAvailable",value:function(){var A=this.gl,A=(this.useDepth&&this.target.webglVersion===c.WEBGL&&!A.getExtension("WEBGL_depth_texture")&&(console.warn("Unable to create depth textures in this environment. Falling back to a framebuffer without depth."),this.useDepth=!1),this.useDepth&&this.target.webglVersion===c.WEBGL&&this.depthFormat===c.FLOAT&&(console.warn("FLOAT depth format is unavailable in WebGL 1. Defaulting to UNSIGNED_INT."),this.depthFormat=c.UNSIGNED_INT),[c.UNSIGNED_BYTE,c.FLOAT,c.HALF_FLOAT].includes(this.format)||(console.warn("Unknown Framebuffer format. Please use UNSIGNED_BYTE, FLOAT, or HALF_FLOAT. Defaulting to UNSIGNED_BYTE."),this.format=c.UNSIGNED_BYTE),this.useDepth&&![c.UNSIGNED_INT,c.FLOAT].includes(this.depthFormat)&&(console.warn("Unknown Framebuffer depth format. Please use UNSIGNED_INT or FLOAT. Defaulting to FLOAT."),this.depthFormat=c.FLOAT),(0,g.checkWebGLCapabilities)(this.target._renderer));A.float||this.format!==c.FLOAT||(console.warn("This environment does not support FLOAT textures. Falling back to UNSIGNED_BYTE."),this.format=c.UNSIGNED_BYTE),this.useDepth&&!A.float&&this.depthFormat===c.FLOAT&&(console.warn("This environment does not support FLOAT depth textures. Falling back to UNSIGNED_INT."),this.depthFormat=c.UNSIGNED_INT),A.halfFloat||this.format!==c.HALF_FLOAT||(console.warn("This environment does not support HALF_FLOAT textures. Falling back to UNSIGNED_BYTE."),this.format=c.UNSIGNED_BYTE),this.channels===c.RGB&&[c.FLOAT,c.HALF_FLOAT].includes(this.format)&&(console.warn("FLOAT and HALF_FLOAT formats do not work cross-platform with only RGB channels. Falling back to RGBA."),this.channels=c.RGBA)}},{key:"_recreateTextures",value:function(){var A=this.gl,U=(this._updateSize(),A.getParameter(A.TEXTURE_BINDING_2D)),D=A.getParameter(A.FRAMEBUFFER_BINDING),V=A.createTexture();if(!V)throw new Error("Unable to create color texture");A.bindTexture(A.TEXTURE_2D,V);var G=this._glColorFormat();if(A.texImage2D(A.TEXTURE_2D,0,G.internalFormat,this.width*this.density,this.height*this.density,0,G.format,G.type,null),this.colorTexture=V,A.bindFramebuffer(A.FRAMEBUFFER,this.framebuffer),A.framebufferTexture2D(A.FRAMEBUFFER,A.COLOR_ATTACHMENT0,A.TEXTURE_2D,V,0),this.useDepth){var V=A.createTexture();if(!V)throw new Error("Unable to create depth texture");var W=this._glDepthFormat();A.bindTexture(A.TEXTURE_2D,V),A.texImage2D(A.TEXTURE_2D,0,W.internalFormat,this.width*this.density,this.height*this.density,0,W.format,W.type,null),A.framebufferTexture2D(A.FRAMEBUFFER,this.useStencil?A.DEPTH_STENCIL_ATTACHMENT:A.DEPTH_ATTACHMENT,A.TEXTURE_2D,V,0),this.depthTexture=V}this.antialias&&(this.colorRenderbuffer=A.createRenderbuffer(),A.bindRenderbuffer(A.RENDERBUFFER,this.colorRenderbuffer),A.renderbufferStorageMultisample(A.RENDERBUFFER,Math.max(0,Math.min(this.antialiasSamples,A.getParameter(A.MAX_SAMPLES))),G.internalFormat,this.width*this.density,this.height*this.density),this.useDepth&&(W=this._glDepthFormat(),this.depthRenderbuffer=A.createRenderbuffer(),A.bindRenderbuffer(A.RENDERBUFFER,this.depthRenderbuffer),A.renderbufferStorageMultisample(A.RENDERBUFFER,Math.max(0,Math.min(this.antialiasSamples,A.getParameter(A.MAX_SAMPLES))),W.internalFormat,this.width*this.density,this.height*this.density)),A.bindFramebuffer(A.FRAMEBUFFER,this.aaFramebuffer),A.framebufferRenderbuffer(A.FRAMEBUFFER,A.COLOR_ATTACHMENT0,A.RENDERBUFFER,this.colorRenderbuffer),this.useDepth&&A.framebufferRenderbuffer(A.FRAMEBUFFER,this.useStencil?A.DEPTH_STENCIL_ATTACHMENT:A.DEPTH_ATTACHMENT,A.RENDERBUFFER,this.depthRenderbuffer)),this.useDepth&&(this.depth=new k(this,"depthTexture"),V=A.NEAREST,this.depthP5Texture=new s.default.Texture(this.target._renderer,this.depth,{minFilter:V,magFilter:V}),this.target._renderer.textures.set(this.depth,this.depthP5Texture)),this.color=new k(this,"colorTexture"),G=this.textureFiltering===c.LINEAR?A.LINEAR:A.NEAREST,this.colorP5Texture=new s.default.Texture(this.target._renderer,this.color,{minFilter:G,magFilter:G}),this.target._renderer.textures.set(this.color,this.colorP5Texture),A.bindTexture(A.TEXTURE_2D,U),A.bindFramebuffer(A.FRAMEBUFFER,D)}},{key:"_glColorFormat",value:function(){var A,U,D=this.gl,V=this.format===c.FLOAT?D.FLOAT:this.format===c.HALF_FLOAT?this.target.webglVersion===c.WEBGL2?D.HALF_FLOAT:D.getExtension("OES_texture_half_float").HALF_FLOAT_OES:D.UNSIGNED_BYTE,G=this.channels===c.RGBA?D.RGBA:D.RGB;return{internalFormat:this.target.webglVersion===c.WEBGL2?(i(U={},D.FLOAT,i({},D.RGBA,D.RGBA32F)),i(U,D.HALF_FLOAT,i({},D.RGBA,D.RGBA16F)),i(U,D.UNSIGNED_BYTE,(i(A={},D.RGBA,D.RGBA8),i(A,D.RGB,D.RGB8),A)),U[V][G]):this.format===c.HALF_FLOAT?D.RGBA:G,format:G,type:V}}},{key:"_glDepthFormat",value:function(){var D=this.gl,A=this.useStencil?this.depthFormat===c.FLOAT?D.FLOAT_32_UNSIGNED_INT_24_8_REV:this.target.webglVersion===c.WEBGL2?D.UNSIGNED_INT_24_8:D.getExtension("WEBGL_depth_texture").UNSIGNED_INT_24_8_WEBGL:this.depthFormat===c.FLOAT?D.FLOAT:D.UNSIGNED_INT,U=this.useStencil?D.DEPTH_STENCIL:D.DEPTH_COMPONENT,D=this.useStencil?this.depthFormat===c.FLOAT?D.DEPTH32F_STENCIL8:this.target.webglVersion===c.WEBGL2?D.DEPTH24_STENCIL8:D.DEPTH_STENCIL:this.target.webglVersion===c.WEBGL2?this.depthFormat===c.FLOAT?D.DEPTH_COMPONENT32F:D.DEPTH_COMPONENT24:D.DEPTH_COMPONENT;return{internalFormat:D,format:U,type:A}}},{key:"_updateSize",value:function(){this._autoSized&&(this.width=this.target.width,this.height=this.target.height,this.density=this.target.pixelDensity())}},{key:"_canvasSizeChanged",value:function(){this._autoSized&&this._handleResize()}},{key:"_handleResize",value:function(){var V=this.color,A=this.depth,U=this.colorRenderbuffer,D=this.depthRenderbuffer,V=(this._deleteTexture(V),A&&this._deleteTexture(A),this.gl);U&&V.deleteRenderbuffer(U),D&&V.deleteRenderbuffer(D),this._recreateTextures(),this.defaultCamera._resize()}},{key:"createCamera",value:function(){var A=new O(this);return A._computeCameraDefaultSettings(),A._setDefaultCamera(),this.target._renderer._curCamera=A}},{key:"_deleteTexture",value:function(A){this.gl.deleteTexture(A.rawTexture()),this.target._renderer.textures.delete(A)}},{key:"remove",value:function(){var A=this.gl;this._deleteTexture(this.color),this.depth&&this._deleteTexture(this.depth),A.deleteFramebuffer(this.framebuffer),this.aaFramebuffer&&A.deleteFramebuffer(this.aaFramebuffer),this.depthRenderbuffer&&A.deleteRenderbuffer(this.depthRenderbuffer),this.colorRenderbuffer&&A.deleteRenderbuffer(this.colorRenderbuffer),this.target._renderer.framebuffers.delete(this)}},{key:"begin",value:function(){this.prevFramebuffer=this.target._renderer.activeFramebuffer(),this.prevFramebuffer&&this.prevFramebuffer._beforeEnd(),this.target._renderer.activeFramebuffers.push(this),this._beforeBegin(),this.target.push(),this.target.setCamera(this.defaultCamera),this.target._renderer.uMVMatrix.set(this.target._renderer._curCamera.cameraMatrix),this.target._renderer._applyStencilTestIfClipping()}},{key:"_framebufferToBind",value:function(){return this.antialias?this.aaFramebuffer:this.framebuffer}},{key:"_beforeBegin",value:function(){var A=this.gl;A.bindFramebuffer(A.FRAMEBUFFER,this._framebufferToBind()),this.target._renderer.viewport(this.width*this.density,this.height*this.density)}},{key:"_beforeEnd",value:function(){if(this.antialias){var A=this.gl,U=(A.bindFramebuffer(A.READ_FRAMEBUFFER,this.aaFramebuffer),A.bindFramebuffer(A.DRAW_FRAMEBUFFER,this.framebuffer),[[A.COLOR_BUFFER_BIT,this.colorP5Texture.glMagFilter]]);this.useDepth&&U.push([A.DEPTH_BUFFER_BIT,this.depthP5Texture.glMagFilter]);for(var D=0,V=U;D<V.length;D++){var W=a(V[D],2),G=W[0],W=W[1];A.blitFramebuffer(0,0,this.width*this.density,this.height*this.density,0,0,this.width*this.density,this.height*this.density,G,W)}}}},{key:"end",value:function(){var A=this.gl;if(this.target.pop(),this.target._renderer.activeFramebuffers.pop()!==this)throw new Error("It looks like you've called end() while another Framebuffer is active.");this._beforeEnd(),this.prevFramebuffer?this.prevFramebuffer._beforeBegin():(A.bindFramebuffer(A.FRAMEBUFFER,null),this.target._renderer.viewport(this.target._renderer._origViewport.width,this.target._renderer._origViewport.height)),this.target._renderer._applyStencilTestIfClipping()}},{key:"draw",value:function(A){this.begin(),A(),this.end()}},{key:"loadPixels",value:function(){var A=this.gl,U=this.target._renderer.activeFramebuffer(),D=(A.bindFramebuffer(A.FRAMEBUFFER,this.framebuffer),this._glColorFormat());this.pixels=(0,y.readPixelsWebGL)(this.pixels,A,this.framebuffer,0,0,this.width*this.density,this.height*this.density,D.format,D.type),U?A.bindFramebuffer(A.FRAMEBUFFER,U._framebufferToBind()):A.bindFramebuffer(A.FRAMEBUFFER,null)}},{key:"get",value:function(A,U,D,V){s.default._validateParameters("p5.Framebuffer.get",arguments);var G=this._glColorFormat();if(A===void 0&&U===void 0)U=A=0,D=this.width,V=this.height;else if(D===void 0&&V===void 0)return(A<0||U<0||A>=this.width||U>=this.height)&&(console.warn("The x and y values passed to p5.Framebuffer.get are outside of its range and will be clamped."),A=this.target.constrain(A,0,this.width-1),U=this.target.constrain(U,0,this.height-1)),(0,y.readPixelWebGL)(this.gl,this.framebuffer,A*this.density,U*this.density,G.format,G.type);A=this.target.constrain(A,0,this.width-1),U=this.target.constrain(U,0,this.height-1),D=this.target.constrain(D,1,this.width-A),V=this.target.constrain(V,1,this.height-U);for(var W=(0,y.readPixelsWebGL)(void 0,this.gl,this.framebuffer,A*this.density,U*this.density,D*this.density,V*this.density,G.format,G.type),J=new Uint8ClampedArray(D*V*this.density*this.density*4),Q=(J.fill(255),G.type===this.gl.RGB?3:4),Y=0;Y<V*this.density;Y++)for(var z=0;z<D*this.density;z++)for(var ee=0;ee<4;ee++){var ie,C=4*(Y*D*this.density+z)+ee;ee<Q&&(ie=Q==4?C:(Y*D*this.density+z)*Q+ee,J[C]=W[ie])}return A=new s.default.Image(D*this.density,V*this.density),A.imageData=A.canvas.getContext("2d").createImageData(A.width,A.height),A.imageData.data.set(J),A.pixels=A.imageData.data,A.updatePixels(),this.density!==1&&A.resize(D,V),A}},{key:"updatePixels",value:function(){var A=this.gl,U=(this.colorP5Texture.bindTexture(),this._glColorFormat()),D=U.format===A.RGBA?4:3,D=this.width*this.height*this.density*this.density*D,V=U.type===A.UNSIGNED_BYTE?Uint8Array:Float32Array;if(!(this.pixels instanceof V)||this.pixels.length!==D)throw new Error("The pixels array has not been set correctly. Please call loadPixels() before updatePixels().");A.texImage2D(A.TEXTURE_2D,0,U.internalFormat,this.width*this.density,this.height*this.density,0,U.format,U.type,this.pixels),this.colorP5Texture.unbindTexture(),V=this.target._renderer.activeFramebuffer(),this.antialias?(this.begin(),this.target.push(),this.target.imageMode(this.target.CENTER),this.target.resetMatrix(),this.target.noStroke(),this.target.clear(),this.target.image(this,0,0),this.target.pop(),this.useDepth&&(A.clearDepth(1),A.clear(A.DEPTH_BUFFER_BIT)),this.end()):(A.bindFramebuffer(A.FRAMEBUFFER,this.framebuffer),this.useDepth&&(A.clearDepth(1),A.clear(A.DEPTH_BUFFER_BIT)),V?A.bindFramebuffer(A.FRAMEBUFFER,V._framebufferToBind()):A.bindFramebuffer(A.FRAMEBUFFER,null))}}]),F}()),I=s.default.Framebuffer=M;x.default=I},{"../core/constants":269,"../core/main":280,"./p5.RendererGL":337,"./p5.Texture":339,"core-js/modules/es.array.fill":155,"core-js/modules/es.array.includes":162,"core-js/modules/es.array.iterator":164,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.get-prototype-of":185,"core-js/modules/es.object.to-string":187,"core-js/modules/es.reflect.construct":189,"core-js/modules/es.reflect.get":190,"core-js/modules/es.regexp.to-string":193,"core-js/modules/es.string.includes":196,"core-js/modules/es.string.iterator":197,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.typed-array.copy-within":210,"core-js/modules/es.typed-array.every":211,"core-js/modules/es.typed-array.fill":212,"core-js/modules/es.typed-array.filter":213,"core-js/modules/es.typed-array.find":215,"core-js/modules/es.typed-array.find-index":214,"core-js/modules/es.typed-array.float32-array":216,"core-js/modules/es.typed-array.for-each":218,"core-js/modules/es.typed-array.includes":219,"core-js/modules/es.typed-array.index-of":220,"core-js/modules/es.typed-array.iterator":223,"core-js/modules/es.typed-array.join":224,"core-js/modules/es.typed-array.last-index-of":225,"core-js/modules/es.typed-array.map":226,"core-js/modules/es.typed-array.reduce":228,"core-js/modules/es.typed-array.reduce-right":227,"core-js/modules/es.typed-array.reverse":229,"core-js/modules/es.typed-array.set":230,"core-js/modules/es.typed-array.slice":231,"core-js/modules/es.typed-array.some":232,"core-js/modules/es.typed-array.sort":233,"core-js/modules/es.typed-array.subarray":234,"core-js/modules/es.typed-array.to-locale-string":235,"core-js/modules/es.typed-array.to-string":236,"core-js/modules/es.typed-array.uint8-array":239,"core-js/modules/es.typed-array.uint8-clamped-array":240,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.iterator":243}],332:[function(t,j,x){function d(i){return(d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(h){return typeof h}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(i)}function f(i){return(f=typeof Symbol=="function"&&d(Symbol.iterator)==="symbol"?function(h){return d(h)}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":d(h)})(i)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.flat"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.unscopables.flat"),t("core-js/modules/es.map"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.set"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.sub"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.flat"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.unscopables.flat"),t("core-js/modules/es.map"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.set"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.sub"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(x,"__esModule",{value:!0}),x.default=void 0;var s=(a=t("../core/main"))&&a.__esModule?a:{default:a},c=function(i){if(i&&i.__esModule)return i;if(i===null||f(i)!=="object"&&typeof i!="function")return{default:i};var h=g();if(h&&h.has(i))return h.get(i);var p,l={},m=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(p in i){var _;Object.prototype.hasOwnProperty.call(i,p)&&((_=m?Object.getOwnPropertyDescriptor(i,p):null)&&(_.get||_.set)?Object.defineProperty(l,p,_):l[p]=i[p])}return l.default=i,h&&h.set(i,l),l}(t("../core/constants"));function g(){var i;return typeof WeakMap!="function"?null:(i=new WeakMap,g=function(){return i},i)}function y(i){return function(h){if(Array.isArray(h)){for(var p=0,l=new Array(h.length);p<h.length;p++)l[p]=h[p];return l}}(i)||function(h){if(Symbol.iterator in Object(h)||Object.prototype.toString.call(h)==="[object Arguments]")return Array.from(h)}(i)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function o(i,h){for(var p=0;p<h.length;p++){var l=h[p];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(i,l.key,l)}}s.default.Geometry=function(){function i(l,m,_){if(!(this instanceof i))throw new TypeError("Cannot call a class as a function");this.vertices=[],this.boundingBoxCache=null,this.lineVertices=new s.default.DataArray,this.lineTangentsIn=new s.default.DataArray,this.lineTangentsOut=new s.default.DataArray,this.lineSides=new s.default.DataArray,this.vertexNormals=[],this.faces=[],this.uvs=[],this.edges=[],this.vertexColors=[],this.vertexStrokeColors=[],this.lineVertexColors=new s.default.DataArray,this.detailX=l!==void 0?l:1,this.detailY=m!==void 0?m:1,this.dirtyFlags={},this._hasFillTransparency=void 0,this._hasStrokeTransparency=void 0,_ instanceof Function&&_.call(this)}var h,p;return h=i,(p=[{key:"calculateBoundingBox",value:function(){if(!this.boundingBoxCache){for(var l=new s.default.Vector(Number.MAX_VALUE,Number.MAX_VALUE,Number.MAX_VALUE),m=new s.default.Vector(Number.MIN_VALUE,Number.MIN_VALUE,Number.MIN_VALUE),_=0;_<this.vertices.length;_++){var b=this.vertices[_];l.x=Math.min(l.x,b.x),l.y=Math.min(l.y,b.y),l.z=Math.min(l.z,b.z),m.x=Math.max(m.x,b.x),m.y=Math.max(m.y,b.y),m.z=Math.max(m.z,b.z)}var T=new s.default.Vector(m.x-l.x,m.y-l.y,m.z-l.z),O=new s.default.Vector((l.x+m.x)/2,(l.y+m.y)/2,(l.z+m.z)/2);this.boundingBoxCache={min:l,max:m,size:T,offset:O}}return this.boundingBoxCache}},{key:"reset",value:function(){this._hasFillTransparency=void 0,this._hasStrokeTransparency=void 0,this.lineVertices.clear(),this.lineTangentsIn.clear(),this.lineTangentsOut.clear(),this.lineSides.clear(),this.vertices.length=0,this.edges.length=0,this.vertexColors.length=0,this.vertexStrokeColors.length=0,this.lineVertexColors.clear(),this.vertexNormals.length=0,this.uvs.length=0,this.dirtyFlags={}}},{key:"hasFillTransparency",value:function(){if(this._hasFillTransparency===void 0){this._hasFillTransparency=!1;for(var l=0;l<this.vertexColors.length;l+=4)if(this.vertexColors[l+3]<1){this._hasFillTransparency=!0;break}}return this._hasFillTransparency}},{key:"hasStrokeTransparency",value:function(){if(this._hasStrokeTransparency===void 0){this._hasStrokeTransparency=!1;for(var l=0;l<this.lineVertexColors.length;l+=4)if(this.lineVertexColors[l+3]<1){this._hasStrokeTransparency=!0;break}}return this._hasStrokeTransparency}},{key:"clearColors",value:function(){return this.vertexColors=[],this}},{key:"flipU",value:function(){this.uvs=this.uvs.flat().map(function(l,m){return m%2==0?1-l:l})}},{key:"flipV",value:function(){this.uvs=this.uvs.flat().map(function(l,m){return m%2==0?l:1-l})}},{key:"computeFaces",value:function(){this.faces.length=0;for(var l,m,_,b=this.detailX+1,T=0;T<this.detailY;T++)for(var O=0;O<this.detailX;O++)m=(T+1)*b+O+1,this.faces.push([T*b+O,l=T*b+O+1,_=(T+1)*b+O]),this.faces.push([_,l,m]);return this}},{key:"_getFaceNormal",value:function(m){var m=this.faces[m],_=this.vertices[m[0]],T=this.vertices[m[1]],m=this.vertices[m[2]],T=s.default.Vector.sub(T,_),m=s.default.Vector.sub(m,_),_=s.default.Vector.cross(T,m),b=s.default.Vector.mag(_),T=b/(s.default.Vector.mag(T)*s.default.Vector.mag(m));return T===0||isNaN(T)?(console.warn("p5.Geometry.prototype._getFaceNormal:","face has colinear sides or a repeated vertex"),_):(1<T&&(T=1),_.mult(Math.asin(T)/b))}},{key:"computeNormals",value:function(){var l,m=this,_=0<arguments.length&&arguments[0]!==void 0?arguments[0]:c.FLAT,b=(1<arguments.length&&arguments[1]!==void 0?arguments[1]:{}).roundToPrecision,T=this.vertexNormals,O=this.vertices,k=this.faces;if(_===c.SMOOTH){for(var M={},I=[],F=Math.pow(10,b===void 0?3:b),A=function(W){return Math.round(W*F)/F},U=function(W){return"".concat(A(W.x),",").concat(A(W.y),",").concat(A(W.z))},D=0;D<O.length;D++){var V=O[D],G=U(V);M[G]===void 0&&(M[G]=I.length,I.push(V))}k.forEach(function(W){for(var J=0;J<3;++J){var Q=W[J],Q=O[Q],Q=U(Q);W[J]=M[Q]}}),this.edges.forEach(function(W){for(var J=0;J<2;++J){var Q=W[J],Q=O[Q],Q=U(Q);W[J]=M[Q]}}),this.vertices=O=I}for(l=T.length=0;l<O.length;++l)T.push(new s.default.Vector);for(k.forEach(function(W,J){for(var Q=m._getFaceNormal(J),Y=0;Y<3;++Y){var z=W[Y];T[z].add(Q)}}),l=0;l<O.length;++l)T[l].normalize();return this}},{key:"averageNormals",value:function(){for(var l=0;l<=this.detailY;l++){var m=this.detailX+1,_=s.default.Vector.add(this.vertexNormals[l*m],this.vertexNormals[l*m+this.detailX]),_=s.default.Vector.div(_,2);this.vertexNormals[l*m]=_,this.vertexNormals[l*m+this.detailX]=_}return this}},{key:"averagePoleNormals",value:function(){for(var l=new s.default.Vector(0,0,0),m=0;m<this.detailX;m++)l.add(this.vertexNormals[m]);for(var l=s.default.Vector.div(l,this.detailX),_=0;_<this.detailX;_++)this.vertexNormals[_]=l;l=new s.default.Vector(0,0,0);for(var b=this.vertices.length-1;b>this.vertices.length-1-this.detailX;b--)l.add(this.vertexNormals[b]);l=s.default.Vector.div(l,this.detailX);for(var T=this.vertices.length-1;T>this.vertices.length-1-this.detailX;T--)this.vertexNormals[T]=l;return this}},{key:"_makeTriangleEdges",value:function(){for(var l=this.edges.length=0;l<this.faces.length;l++)this.edges.push([this.faces[l][0],this.faces[l][1]]),this.edges.push([this.faces[l][1],this.faces[l][2]]),this.edges.push([this.faces[l][2],this.faces[l][0]]);return this}},{key:"_edgesToVertices",value:function(){this.lineVertices.clear(),this.lineTangentsIn.clear(),this.lineTangentsOut.clear(),this.lineSides.clear();for(var l,m=new Map,_=new Set,b=0;b<this.edges.length;b++){var T,O=this.edges[b-1],k=this.edges[b],M=this.vertices[k[0]],I=this.vertices[k[1]],F=0<this.vertexStrokeColors.length?this.vertexStrokeColors.slice(4*k[0],4*(k[0]+1)):[0,0,0,0],A=0<this.vertexStrokeColors.length?this.vertexStrokeColors.slice(4*k[1],4*(k[1]+1)):[0,0,0,0],U=I.copy().sub(M).normalize(),D=0<U.magSq();D&&this._addSegment(M,I,F,A,U),0<b&&O[1]===k[0]?_.has(k[0])||(_.add(k[0]),m.delete(k[0]),l&&D&&U.dot(l)<1-1e-8&&this._addJoin(M,l,U,F)):(D&&!_.has(k[0])&&((T=m.get(k[0]))?(this._addJoin(M,T.dir,U,F),m.delete(k[0]),_.add(k[0])):m.set(k[0],{point:M,dir:U.copy().mult(-1),color:F})),l&&!_.has(O[1])&&((T=m.get(O[1]))?(this._addJoin(this.vertices[O[1]],l,T.dir.copy().mult(-1),F),m.delete(O[1]),_.add(O[1])):m.set(O[1],{point:this.vertices[O[1]],dir:l,color:F}),l=void 0)),b!==this.edges.length-1||_.has(k[1])||((M=m.get(k[1]))?(this._addJoin(I,U,M.dir.copy().mult(-1),A),m.delete(k[1]),_.add(k[1])):m.set(k[1],{point:I,dir:U,color:A})),D&&(l=U)}var V=!0,G=!1,W=void 0;try{for(var J,Q=m.values()[Symbol.iterator]();!(V=(J=Q.next()).done);V=!0){var Y=J.value,z=Y.point,ee=Y.dir,ie=Y.color;this._addCap(z,ee,ie)}}catch(C){G=!0,W=C}finally{try{V||Q.return==null||Q.return()}finally{if(G)throw W}}return this}},{key:"_addSegment",value:function(O,k,_,b,T){var O=O.array(),k=k.array(),M=T.array();this.lineSides.push(1,1,-1,1,-1,-1);for(var I=0,F=[this.lineTangentsIn,this.lineTangentsOut];I<F.length;I++)for(var A=F[I],U=0;U<6;U++)A.push.apply(A,y(M));return(T=this.lineVertices).push.apply(T,y(O).concat(y(k),y(O),y(k),y(k),y(O))),(T=this.lineVertexColors).push.apply(T,y(_).concat(y(b),y(_),y(b),y(b),y(_))),this}},{key:"_addCap",value:function(l,m,_){for(var b,T=l.array(),O=m.array(),k=[0,0,0],M=0;M<6;M++)(b=this.lineVertices).push.apply(b,y(T)),(b=this.lineTangentsIn).push.apply(b,y(O)),(b=this.lineTangentsOut).push.apply(b,k),(b=this.lineVertexColors).push.apply(b,y(_));return this.lineSides.push(-1,2,-2,1,2,-1),this}},{key:"_addJoin",value:function(l,m,_,b){for(var T,O=l.array(),k=m.array(),M=_.array(),I=0;I<12;I++)(T=this.lineVertices).push.apply(T,y(O)),(T=this.lineTangentsIn).push.apply(T,y(k)),(T=this.lineTangentsOut).push.apply(T,y(M)),(T=this.lineVertexColors).push.apply(T,y(b));return this.lineSides.push(-1,-3,-2,-1,0,-3),this.lineSides.push(3,1,2,3,0,1),this}},{key:"normalize",value:function(){if(0<this.vertices.length){for(var l=this.vertices[0].copy(),m=this.vertices[0].copy(),_=0;_<this.vertices.length;_++)l.x=Math.max(l.x,this.vertices[_].x),m.x=Math.min(m.x,this.vertices[_].x),l.y=Math.max(l.y,this.vertices[_].y),m.y=Math.min(m.y,this.vertices[_].y),l.z=Math.max(l.z,this.vertices[_].z),m.z=Math.min(m.z,this.vertices[_].z);for(var b=s.default.Vector.lerp(l,m,.5),T=s.default.Vector.sub(l,m),O=200/Math.max(Math.max(T.x,T.y),T.z),k=0;k<this.vertices.length;k++)this.vertices[k].sub(b),this.vertices[k].mult(O)}return this}}])&&o(h.prototype,p),i}();var a=s.default.Geometry;x.default=a},{"../core/constants":269,"../core/main":280,"core-js/modules/es.array.concat":152,"core-js/modules/es.array.flat":159,"core-js/modules/es.array.for-each":160,"core-js/modules/es.array.from":161,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.map":167,"core-js/modules/es.array.slice":168,"core-js/modules/es.array.unscopables.flat":172,"core-js/modules/es.map":174,"core-js/modules/es.number.constructor":178,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.to-string":187,"core-js/modules/es.regexp.to-string":193,"core-js/modules/es.set":194,"core-js/modules/es.string.iterator":197,"core-js/modules/es.string.sub":205,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.for-each":242,"core-js/modules/web.dom-collections.iterator":243}],333:[function(g,j,x){g("core-js/modules/es.array.iterator"),g("core-js/modules/es.object.to-string"),g("core-js/modules/es.typed-array.float32-array"),g("core-js/modules/es.typed-array.copy-within"),g("core-js/modules/es.typed-array.every"),g("core-js/modules/es.typed-array.fill"),g("core-js/modules/es.typed-array.filter"),g("core-js/modules/es.typed-array.find"),g("core-js/modules/es.typed-array.find-index"),g("core-js/modules/es.typed-array.for-each"),g("core-js/modules/es.typed-array.includes"),g("core-js/modules/es.typed-array.index-of"),g("core-js/modules/es.typed-array.iterator"),g("core-js/modules/es.typed-array.join"),g("core-js/modules/es.typed-array.last-index-of"),g("core-js/modules/es.typed-array.map"),g("core-js/modules/es.typed-array.reduce"),g("core-js/modules/es.typed-array.reduce-right"),g("core-js/modules/es.typed-array.reverse"),g("core-js/modules/es.typed-array.set"),g("core-js/modules/es.typed-array.slice"),g("core-js/modules/es.typed-array.some"),g("core-js/modules/es.typed-array.sort"),g("core-js/modules/es.typed-array.subarray"),g("core-js/modules/es.typed-array.to-locale-string"),g("core-js/modules/es.typed-array.to-string"),g("core-js/modules/es.array.iterator"),g("core-js/modules/es.object.to-string"),g("core-js/modules/es.typed-array.float32-array"),g("core-js/modules/es.typed-array.copy-within"),g("core-js/modules/es.typed-array.every"),g("core-js/modules/es.typed-array.fill"),g("core-js/modules/es.typed-array.filter"),g("core-js/modules/es.typed-array.find"),g("core-js/modules/es.typed-array.find-index"),g("core-js/modules/es.typed-array.for-each"),g("core-js/modules/es.typed-array.includes"),g("core-js/modules/es.typed-array.index-of"),g("core-js/modules/es.typed-array.iterator"),g("core-js/modules/es.typed-array.join"),g("core-js/modules/es.typed-array.last-index-of"),g("core-js/modules/es.typed-array.map"),g("core-js/modules/es.typed-array.reduce"),g("core-js/modules/es.typed-array.reduce-right"),g("core-js/modules/es.typed-array.reverse"),g("core-js/modules/es.typed-array.set"),g("core-js/modules/es.typed-array.slice"),g("core-js/modules/es.typed-array.some"),g("core-js/modules/es.typed-array.sort"),g("core-js/modules/es.typed-array.subarray"),g("core-js/modules/es.typed-array.to-locale-string"),g("core-js/modules/es.typed-array.to-string"),Object.defineProperty(x,"__esModule",{value:!0}),x.default=void 0;var d=(g=g("../core/main"))&&g.__esModule?g:{default:g};function f(y,o){for(var a=0;a<o.length;a++){var i=o[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(y,i.key,i)}}var s=Array,c=function(y){return Array.isArray(y)},g=(typeof Float32Array<"u"&&(s=Float32Array,c=function(y){return Array.isArray(y)||y instanceof Float32Array}),d.default.Matrix=function(){function y(){var h=this,p=y;if(h instanceof p)return arguments.length&&((h=arguments.length-1)<0||arguments.length<=h?void 0:arguments[h])instanceof d.default&&(this.p5=(p=arguments.length-1)<0||arguments.length<=p?void 0:arguments[p]),(arguments.length<=0?void 0:arguments[0])==="mat3"?this.mat3=Array.isArray(arguments.length<=1?void 0:arguments[1])?arguments.length<=1?void 0:arguments[1]:new s([1,0,0,0,1,0,0,0,1]):this.mat4=Array.isArray(arguments.length<=0?void 0:arguments[0])?arguments.length<=0?void 0:arguments[0]:new s([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this;throw new TypeError("Cannot call a class as a function")}var o,a,i;return o=y,i=[{key:"identity",value:function(h){return new d.default.Matrix(h)}}],(a=[{key:"set",value:function(h){var p=arguments;if(h instanceof d.default.Matrix?p=h.mat4:c(h)&&(p=h),p.length!==16)d.default._friendlyError("Expected 16 values but received ".concat(p.length,"."),"p5.Matrix.set");else for(var l=0;l<16;l++)this.mat4[l]=p[l];return this}},{key:"get",value:function(){return new d.default.Matrix(this.mat4,this.p5)}},{key:"copy",value:function(){var h;return this.mat3!==void 0?((h=new d.default.Matrix("mat3",this.p5)).mat3[0]=this.mat3[0],h.mat3[1]=this.mat3[1],h.mat3[2]=this.mat3[2],h.mat3[3]=this.mat3[3],h.mat3[4]=this.mat3[4],h.mat3[5]=this.mat3[5],h.mat3[6]=this.mat3[6],h.mat3[7]=this.mat3[7],h.mat3[8]=this.mat3[8]):((h=new d.default.Matrix(this.p5)).mat4[0]=this.mat4[0],h.mat4[1]=this.mat4[1],h.mat4[2]=this.mat4[2],h.mat4[3]=this.mat4[3],h.mat4[4]=this.mat4[4],h.mat4[5]=this.mat4[5],h.mat4[6]=this.mat4[6],h.mat4[7]=this.mat4[7],h.mat4[8]=this.mat4[8],h.mat4[9]=this.mat4[9],h.mat4[10]=this.mat4[10],h.mat4[11]=this.mat4[11],h.mat4[12]=this.mat4[12],h.mat4[13]=this.mat4[13],h.mat4[14]=this.mat4[14],h.mat4[15]=this.mat4[15]),h}},{key:"transpose",value:function(h){var p,l,m,_,b,T;return h instanceof d.default.Matrix?(p=h.mat4[1],l=h.mat4[2],m=h.mat4[3],_=h.mat4[6],b=h.mat4[7],T=h.mat4[11],this.mat4[0]=h.mat4[0],this.mat4[1]=h.mat4[4],this.mat4[2]=h.mat4[8],this.mat4[3]=h.mat4[12],this.mat4[4]=p,this.mat4[5]=h.mat4[5],this.mat4[6]=h.mat4[9],this.mat4[7]=h.mat4[13],this.mat4[8]=l,this.mat4[9]=_,this.mat4[10]=h.mat4[10],this.mat4[11]=h.mat4[14],this.mat4[12]=m,this.mat4[13]=b,this.mat4[14]=T,this.mat4[15]=h.mat4[15]):c(h)&&(p=h[1],l=h[2],m=h[3],_=h[6],b=h[7],T=h[11],this.mat4[0]=h[0],this.mat4[1]=h[4],this.mat4[2]=h[8],this.mat4[3]=h[12],this.mat4[4]=p,this.mat4[5]=h[5],this.mat4[6]=h[9],this.mat4[7]=h[13],this.mat4[8]=l,this.mat4[9]=_,this.mat4[10]=h[10],this.mat4[11]=h[14],this.mat4[12]=m,this.mat4[13]=b,this.mat4[14]=T,this.mat4[15]=h[15]),this}},{key:"invert",value:function(W){W instanceof d.default.Matrix?(p=W.mat4[0],l=W.mat4[1],m=W.mat4[2],_=W.mat4[3],b=W.mat4[4],T=W.mat4[5],O=W.mat4[6],k=W.mat4[7],M=W.mat4[8],I=W.mat4[9],F=W.mat4[10],A=W.mat4[11],U=W.mat4[12],D=W.mat4[13],V=W.mat4[14],G=W.mat4[15]):c(W)&&(p=W[0],l=W[1],m=W[2],_=W[3],b=W[4],T=W[5],O=W[6],k=W[7],M=W[8],I=W[9],F=W[10],A=W[11],U=W[12],D=W[13],V=W[14],G=W[15]);var p,l,m,_,b,T,O,k,M,I,F,A,U,D,V,G,W=p*T-l*b,J=p*O-m*b,Q=p*k-_*b,Y=l*O-m*T,z=l*k-_*T,ee=m*k-_*O,ie=M*D-I*U,C=M*V-F*U,B=M*G-A*U,H=I*V-F*D,$=I*G-A*D,ne=F*G-A*V,se=W*ne-J*$+Q*H+Y*B-z*C+ee*ie;return se?(this.mat4[0]=(T*ne-O*$+k*H)*(se=1/se),this.mat4[1]=(m*$-l*ne-_*H)*se,this.mat4[2]=(D*ee-V*z+G*Y)*se,this.mat4[3]=(F*z-I*ee-A*Y)*se,this.mat4[4]=(O*B-b*ne-k*C)*se,this.mat4[5]=(p*ne-m*B+_*C)*se,this.mat4[6]=(V*Q-U*ee-G*J)*se,this.mat4[7]=(M*ee-F*Q+A*J)*se,this.mat4[8]=(b*$-T*B+k*ie)*se,this.mat4[9]=(l*B-p*$-_*ie)*se,this.mat4[10]=(U*z-D*Q+G*W)*se,this.mat4[11]=(I*Q-M*z-A*W)*se,this.mat4[12]=(T*C-b*H-O*ie)*se,this.mat4[13]=(p*H-l*C+m*ie)*se,this.mat4[14]=(D*J-U*Y-V*W)*se,this.mat4[15]=(M*Y-I*J+F*W)*se,this):null}},{key:"invert3x3",value:function(){var h=this.mat3[0],p=this.mat3[1],l=this.mat3[2],m=this.mat3[3],_=this.mat3[4],b=this.mat3[5],T=this.mat3[6],O=this.mat3[7],k=this.mat3[8],M=k*_-b*O,I=-k*m+b*T,F=O*m-_*T,A=h*M+p*I+l*F;return A?(this.mat3[0]=M*(A=1/A),this.mat3[1]=(-k*p+l*O)*A,this.mat3[2]=(b*p-l*_)*A,this.mat3[3]=I*A,this.mat3[4]=(k*h-l*T)*A,this.mat3[5]=(-b*h+l*m)*A,this.mat3[6]=F*A,this.mat3[7]=(-O*h+p*T)*A,this.mat3[8]=(_*h-p*m)*A,this):null}},{key:"transpose3x3",value:function(h){var p=(h=h===void 0?this.mat3:h)[1],l=h[2],m=h[5];return this.mat3[0]=h[0],this.mat3[1]=h[3],this.mat3[2]=h[6],this.mat3[3]=p,this.mat3[4]=h[4],this.mat3[5]=h[7],this.mat3[6]=l,this.mat3[7]=m,this.mat3[8]=h[8],this}},{key:"inverseTranspose",value:function(h){if(h=h.mat4,this.mat3===void 0?d.default._friendlyError("sorry, this function only works with mat3"):(this.mat3[0]=h[0],this.mat3[1]=h[1],this.mat3[2]=h[2],this.mat3[3]=h[4],this.mat3[4]=h[5],this.mat3[5]=h[6],this.mat3[6]=h[8],this.mat3[7]=h[9],this.mat3[8]=h[10]),h=this.invert3x3(),h)h.transpose3x3(this.mat3);else for(var p=0;p<9;p++)this.mat3[p]=0;return this}},{key:"determinant",value:function(){var h=this.mat4[0]*this.mat4[5]-this.mat4[1]*this.mat4[4],p=this.mat4[0]*this.mat4[6]-this.mat4[2]*this.mat4[4],l=this.mat4[0]*this.mat4[7]-this.mat4[3]*this.mat4[4],m=this.mat4[1]*this.mat4[6]-this.mat4[2]*this.mat4[5],_=this.mat4[1]*this.mat4[7]-this.mat4[3]*this.mat4[5],b=this.mat4[2]*this.mat4[7]-this.mat4[3]*this.mat4[6],T=this.mat4[8]*this.mat4[13]-this.mat4[9]*this.mat4[12],O=this.mat4[8]*this.mat4[14]-this.mat4[10]*this.mat4[12],k=this.mat4[8]*this.mat4[15]-this.mat4[11]*this.mat4[12],M=this.mat4[9]*this.mat4[14]-this.mat4[10]*this.mat4[13],I=this.mat4[9]*this.mat4[15]-this.mat4[11]*this.mat4[13];return h*(this.mat4[10]*this.mat4[15]-this.mat4[11]*this.mat4[14])-p*I+l*M+m*k-_*O+b*T}},{key:"mult",value:function(l){var p;if(l===this||l===this.mat4)p=this.copy().mat4;else if(l instanceof d.default.Matrix)p=l.mat4;else if(c(l))p=l;else{if(arguments.length!==16)return;p=arguments}var l=this.mat4[0],m=this.mat4[1],_=this.mat4[2],b=this.mat4[3];return this.mat4[0]=l*p[0]+m*p[4]+_*p[8]+b*p[12],this.mat4[1]=l*p[1]+m*p[5]+_*p[9]+b*p[13],this.mat4[2]=l*p[2]+m*p[6]+_*p[10]+b*p[14],this.mat4[3]=l*p[3]+m*p[7]+_*p[11]+b*p[15],l=this.mat4[4],m=this.mat4[5],_=this.mat4[6],b=this.mat4[7],this.mat4[4]=l*p[0]+m*p[4]+_*p[8]+b*p[12],this.mat4[5]=l*p[1]+m*p[5]+_*p[9]+b*p[13],this.mat4[6]=l*p[2]+m*p[6]+_*p[10]+b*p[14],this.mat4[7]=l*p[3]+m*p[7]+_*p[11]+b*p[15],l=this.mat4[8],m=this.mat4[9],_=this.mat4[10],b=this.mat4[11],this.mat4[8]=l*p[0]+m*p[4]+_*p[8]+b*p[12],this.mat4[9]=l*p[1]+m*p[5]+_*p[9]+b*p[13],this.mat4[10]=l*p[2]+m*p[6]+_*p[10]+b*p[14],this.mat4[11]=l*p[3]+m*p[7]+_*p[11]+b*p[15],l=this.mat4[12],m=this.mat4[13],_=this.mat4[14],b=this.mat4[15],this.mat4[12]=l*p[0]+m*p[4]+_*p[8]+b*p[12],this.mat4[13]=l*p[1]+m*p[5]+_*p[9]+b*p[13],this.mat4[14]=l*p[2]+m*p[6]+_*p[10]+b*p[14],this.mat4[15]=l*p[3]+m*p[7]+_*p[11]+b*p[15],this}},{key:"apply",value:function(l){var p;if(l===this||l===this.mat4)p=this.copy().mat4;else if(l instanceof d.default.Matrix)p=l.mat4;else if(c(l))p=l;else{if(arguments.length!==16)return;p=arguments}var l=this.mat4,m=l[0],_=l[4],b=l[8],T=l[12],m=(l[0]=p[0]*m+p[1]*_+p[2]*b+p[3]*T,l[4]=p[4]*m+p[5]*_+p[6]*b+p[7]*T,l[8]=p[8]*m+p[9]*_+p[10]*b+p[11]*T,l[12]=p[12]*m+p[13]*_+p[14]*b+p[15]*T,l[1]),_=l[5],b=l[9],T=l[13],m=(l[1]=p[0]*m+p[1]*_+p[2]*b+p[3]*T,l[5]=p[4]*m+p[5]*_+p[6]*b+p[7]*T,l[9]=p[8]*m+p[9]*_+p[10]*b+p[11]*T,l[13]=p[12]*m+p[13]*_+p[14]*b+p[15]*T,l[2]),_=l[6],b=l[10],T=l[14],m=(l[2]=p[0]*m+p[1]*_+p[2]*b+p[3]*T,l[6]=p[4]*m+p[5]*_+p[6]*b+p[7]*T,l[10]=p[8]*m+p[9]*_+p[10]*b+p[11]*T,l[14]=p[12]*m+p[13]*_+p[14]*b+p[15]*T,l[3]),_=l[7],b=l[11],T=l[15];return l[3]=p[0]*m+p[1]*_+p[2]*b+p[3]*T,l[7]=p[4]*m+p[5]*_+p[6]*b+p[7]*T,l[11]=p[8]*m+p[9]*_+p[10]*b+p[11]*T,l[15]=p[12]*m+p[13]*_+p[14]*b+p[15]*T,this}},{key:"scale",value:function(h,p,l){return h instanceof d.default.Vector?(p=h.y,l=h.z,h=h.x):h instanceof Array&&(p=h[1],l=h[2],h=h[0]),this.mat4[0]*=h,this.mat4[1]*=h,this.mat4[2]*=h,this.mat4[3]*=h,this.mat4[4]*=p,this.mat4[5]*=p,this.mat4[6]*=p,this.mat4[7]*=p,this.mat4[8]*=l,this.mat4[9]*=l,this.mat4[10]*=l,this.mat4[11]*=l,this}},{key:"rotate",value:function(W,$,H,m){$ instanceof d.default.Vector?(H=$.y,m=$.z,$=$.x):$ instanceof Array&&(H=$[1],m=$[2],$=$[0]);var _=Math.sqrt($*$+H*H+m*m),_=($*=1/_,H*=1/_,m*=1/_,this.mat4[0]),b=this.mat4[1],T=this.mat4[2],O=this.mat4[3],k=this.mat4[4],M=this.mat4[5],I=this.mat4[6],F=this.mat4[7],A=this.mat4[8],U=this.mat4[9],D=this.mat4[10],V=this.mat4[11],G=Math.sin(W),W=Math.cos(W),J=1-W,Q=$*$*J+W,Y=H*$*J+m*G,z=m*$*J-H*G,ee=$*H*J-m*G,ie=H*H*J+W,C=m*H*J+$*G,B=$*m*J+H*G,H=H*m*J-$*G,$=m*m*J+W;return this.mat4[0]=_*Q+k*Y+A*z,this.mat4[1]=b*Q+M*Y+U*z,this.mat4[2]=T*Q+I*Y+D*z,this.mat4[3]=O*Q+F*Y+V*z,this.mat4[4]=_*ee+k*ie+A*C,this.mat4[5]=b*ee+M*ie+U*C,this.mat4[6]=T*ee+I*ie+D*C,this.mat4[7]=O*ee+F*ie+V*C,this.mat4[8]=_*B+k*H+A*$,this.mat4[9]=b*B+M*H+U*$,this.mat4[10]=T*B+I*H+D*$,this.mat4[11]=O*B+F*H+V*$,this}},{key:"translate",value:function(m){var p=m[0],l=m[1],m=m[2]||0;this.mat4[12]+=this.mat4[0]*p+this.mat4[4]*l+this.mat4[8]*m,this.mat4[13]+=this.mat4[1]*p+this.mat4[5]*l+this.mat4[9]*m,this.mat4[14]+=this.mat4[2]*p+this.mat4[6]*l+this.mat4[10]*m,this.mat4[15]+=this.mat4[3]*p+this.mat4[7]*l+this.mat4[11]*m}},{key:"rotateX",value:function(h){this.rotate(h,1,0,0)}},{key:"rotateY",value:function(h){this.rotate(h,0,1,0)}},{key:"rotateZ",value:function(h){this.rotate(h,0,0,1)}},{key:"perspective",value:function(_,p,l,m){var _=1/Math.tan(_/2),b=1/(l-m);return this.mat4[0]=_/p,this.mat4[1]=0,this.mat4[2]=0,this.mat4[3]=0,this.mat4[4]=0,this.mat4[5]=_,this.mat4[6]=0,this.mat4[7]=0,this.mat4[8]=0,this.mat4[9]=0,this.mat4[10]=(m+l)*b,this.mat4[11]=-1,this.mat4[12]=0,this.mat4[13]=0,this.mat4[14]=2*m*l*b,this.mat4[15]=0,this}},{key:"ortho",value:function(h,p,l,m,_,b){var T=1/(h-p),O=1/(l-m),k=1/(_-b);return this.mat4[0]=-2*T,this.mat4[1]=0,this.mat4[2]=0,this.mat4[3]=0,this.mat4[4]=0,this.mat4[5]=-2*O,this.mat4[6]=0,this.mat4[7]=0,this.mat4[8]=0,this.mat4[9]=0,this.mat4[10]=2*k,this.mat4[11]=0,this.mat4[12]=(h+p)*T,this.mat4[13]=(m+l)*O,this.mat4[14]=(b+_)*k,this.mat4[15]=1,this}},{key:"multiplyVec4",value:function(h,p,l,m){var _=new Array(4),b=this.mat4;return _[0]=b[0]*h+b[4]*p+b[8]*l+b[12]*m,_[1]=b[1]*h+b[5]*p+b[9]*l+b[13]*m,_[2]=b[2]*h+b[6]*p+b[10]*l+b[14]*m,_[3]=b[3]*h+b[7]*p+b[11]*l+b[15]*m,_}},{key:"multiplyPoint",value:function(l){var m=l.x,p=l.y,l=l.z,m=this.multiplyVec4(m,p,l,1);return new d.default.Vector(m[0],m[1],m[2])}},{key:"multiplyAndNormalizePoint",value:function(l){var m=l.x,p=l.y,l=l.z,m=this.multiplyVec4(m,p,l,1);return m[0]/=m[3],m[1]/=m[3],m[2]/=m[3],new d.default.Vector(m[0],m[1],m[2])}},{key:"multiplyDirection",value:function(l){var m=l.x,p=l.y,l=l.z,m=this.multiplyVec4(m,p,l,0);return new d.default.Vector(m[0],m[1],m[2])}},{key:"mult3x3",value:function(l){var p;if(l===this||l===this.mat3)p=this.copy().mat3;else if(l instanceof d.default.Matrix)p=l.mat3;else if(c(l))p=l;else{if(arguments.length!==9)return;p=arguments}var l=this.mat3[0],m=this.mat3[1],_=this.mat3[2];return this.mat3[0]=l*p[0]+m*p[3]+_*p[6],this.mat3[1]=l*p[1]+m*p[4]+_*p[7],this.mat3[2]=l*p[2]+m*p[5]+_*p[8],l=this.mat3[3],m=this.mat3[4],_=this.mat3[5],this.mat3[3]=l*p[0]+m*p[3]+_*p[6],this.mat3[4]=l*p[1]+m*p[4]+_*p[7],this.mat3[5]=l*p[2]+m*p[5]+_*p[8],l=this.mat3[6],m=this.mat3[7],_=this.mat3[8],this.mat3[6]=l*p[0]+m*p[3]+_*p[6],this.mat3[7]=l*p[1]+m*p[4]+_*p[7],this.mat3[8]=l*p[2]+m*p[5]+_*p[8],this}},{key:"column",value:function(h){return new d.default.Vector(this.mat3[3*h],this.mat3[3*h+1],this.mat3[3*h+2])}},{key:"row",value:function(h){return new d.default.Vector(this.mat3[h],this.mat3[h+3],this.mat3[h+6])}},{key:"diagonal",value:function(){return this.mat3!==void 0?[this.mat3[0],this.mat3[4],this.mat3[8]]:[this.mat4[0],this.mat4[5],this.mat4[10],this.mat4[15]]}},{key:"multiplyVec3",value:function(h,p){return(p=p===void 0?h.copy():p).x=this.row(0).dot(h),p.y=this.row(1).dot(h),p.z=this.row(2).dot(h),p}},{key:"createSubMatrix3x3",value:function(){var h=new d.default.Matrix("mat3");return h.mat3[0]=this.mat4[0],h.mat3[1]=this.mat4[1],h.mat3[2]=this.mat4[2],h.mat3[3]=this.mat4[4],h.mat3[4]=this.mat4[5],h.mat3[5]=this.mat4[6],h.mat3[6]=this.mat4[8],h.mat3[7]=this.mat4[9],h.mat3[8]=this.mat4[10],h}}])&&f(o.prototype,a),i&&f(o,i),y}(),d.default.Matrix);x.default=g},{"../core/main":280,"core-js/modules/es.array.iterator":164,"core-js/modules/es.object.to-string":187,"core-js/modules/es.typed-array.copy-within":210,"core-js/modules/es.typed-array.every":211,"core-js/modules/es.typed-array.fill":212,"core-js/modules/es.typed-array.filter":213,"core-js/modules/es.typed-array.find":215,"core-js/modules/es.typed-array.find-index":214,"core-js/modules/es.typed-array.float32-array":216,"core-js/modules/es.typed-array.for-each":218,"core-js/modules/es.typed-array.includes":219,"core-js/modules/es.typed-array.index-of":220,"core-js/modules/es.typed-array.iterator":223,"core-js/modules/es.typed-array.join":224,"core-js/modules/es.typed-array.last-index-of":225,"core-js/modules/es.typed-array.map":226,"core-js/modules/es.typed-array.reduce":228,"core-js/modules/es.typed-array.reduce-right":227,"core-js/modules/es.typed-array.reverse":229,"core-js/modules/es.typed-array.set":230,"core-js/modules/es.typed-array.slice":231,"core-js/modules/es.typed-array.some":232,"core-js/modules/es.typed-array.sort":233,"core-js/modules/es.typed-array.subarray":234,"core-js/modules/es.typed-array.to-locale-string":235,"core-js/modules/es.typed-array.to-string":236}],334:[function(t,j,x){t("core-js/modules/es.array.map"),t("core-js/modules/es.array.map"),Object.defineProperty(x,"__esModule",{value:!0}),x.default=void 0,t=(t=t("../core/main"))&&t.__esModule?t:{default:t};function d(f,s){for(var c=0;c<s.length;c++){var g=s[c];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(f,g.key,g)}}t.default.RenderBuffer=function(){function f(g,y,o,a,i,h){if(!(this instanceof f))throw new TypeError("Cannot call a class as a function");this.size=g,this.src=y,this.dst=o,this.attr=a,this._renderer=i,this.map=h}var s,c;return s=f,(c=[{key:"_prepareBuffer",value:function(g,y){var o,a,i,l=y.attributes,h=this._renderer.GL,p=g.model||g,l=l[this.attr];l&&(o=g[this.dst],0<(a=p[this.src]).length?((i=!o)&&(g[this.dst]=o=h.createBuffer()),h.bindBuffer(h.ARRAY_BUFFER,o),!i&&p.dirtyFlags[this.src]===!1||(i=(g=this.map)?g(a):a,this._renderer._bindBuffer(o,h.ARRAY_BUFFER,i),p.dirtyFlags[this.src]=!1),y.enableAttrib(l,this.size)):(g=l.location)!==-1&&this._renderer.registerEnabled.has(g)&&(h.disableVertexAttribArray(g),this._renderer.registerEnabled.delete(g)))}}])&&d(s.prototype,c),f}(),t=t.default.RenderBuffer,x.default=t},{"../core/main":280,"core-js/modules/es.array.map":167}],335:[function(t,j,x){function d(i){return(d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(h){return typeof h}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(i)}function f(i){return(f=typeof Symbol=="function"&&d(Symbol.iterator)==="symbol"?function(h){return d(h)}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":d(h)})(i)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.find-index"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.map"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.find-index"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.map"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(x,"__esModule",{value:!0}),x.default=void 0;var s=(a=t("../core/main"))&&a.__esModule?a:{default:a},c=function(i){if(i&&i.__esModule)return i;if(i===null||f(i)!=="object"&&typeof i!="function")return{default:i};var h=g();if(h&&h.has(i))return h.get(i);var p,l={},m=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(p in i){var _;Object.prototype.hasOwnProperty.call(i,p)&&((_=m?Object.getOwnPropertyDescriptor(i,p):null)&&(_.get||_.set)?Object.defineProperty(l,p,_):l[p]=i[p])}return l.default=i,h&&h.set(i,l),l}(t("../core/constants"));function g(){var i;return typeof WeakMap!="function"?null:(i=new WeakMap,g=function(){return i},i)}function y(i){return function(h){if(Array.isArray(h)){for(var p=0,l=new Array(h.length);p<h.length;p++)l[p]=h[p];return l}}(i)||function(h){if(Symbol.iterator in Object(h)||Object.prototype.toString.call(h)==="[object Arguments]")return Array.from(h)}(i)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}t("./p5.RenderBuffer"),s.default.RendererGL.prototype.beginShape=function(i){return this.immediateMode.shapeMode=i!==void 0?i:c.TESS,this.immediateMode.geometry.reset(),this.immediateMode.contourIndices=[],this};var o={vertices:1,vertexNormals:1,vertexColors:4,vertexStrokeColors:4,uvs:2},a=(s.default.RendererGL.prototype.beginContour=function(){if(this.immediateMode.shapeMode!==c.TESS)throw new Error("WebGL mode can only use contours with beginShape(TESS).");this.immediateMode.contourIndices.push(this.immediateMode.geometry.vertices.length)},s.default.RendererGL.prototype.vertex=function(i,h){if(this.immediateMode.shapeMode===c.QUADS&&this.immediateMode.geometry.vertices.length%6==3)for(var p in o){var l=o[p],p=this.immediateMode.geometry[p];p.push.apply(p,y(p.slice(p.length-3*l,p.length-2*l)).concat(y(p.slice(p.length-l,p.length))))}var m,_,b=m=_=0,T=(arguments.length===3?b=arguments[2]:arguments.length===4?(m=arguments[2],_=arguments[3]):arguments.length===5&&(b=arguments[2],m=arguments[3],_=arguments[4]),new s.default.Vector(i,h,b)),T=(this.immediateMode.geometry.vertices.push(T),this.immediateMode.geometry.vertexNormals.push(this._currentNormal),this.curFillColor||[.5,.5,.5,1]),T=(this.immediateMode.geometry.vertexColors.push(T[0],T[1],T[2],T[3]),this.curStrokeColor||[.5,.5,.5,1]);return this.immediateMode.geometry.vertexStrokeColors.push(T[0],T[1],T[2],T[3]),this.textureMode!==c.IMAGE||this.isProcessingVertices||(this._tex!==null?0<this._tex.width&&0<this._tex.height&&(m/=this._tex.width,_/=this._tex.height):this.userFillShader===void 0&&this.userStrokeShader===void 0&&this.userPointShader===void 0&&this._tex===null&&4<=arguments.length&&console.warn("You must first call texture() before using vertex() with image based u and v coordinates")),this.immediateMode.geometry.uvs.push(m,_),this.immediateMode._bezierVertex[0]=i,this.immediateMode._bezierVertex[1]=h,this.immediateMode._bezierVertex[2]=b,this.immediateMode._quadraticVertex[0]=i,this.immediateMode._quadraticVertex[1]=h,this.immediateMode._quadraticVertex[2]=b,this},s.default.RendererGL.prototype.normal=function(i,h,p){return i instanceof s.default.Vector?this._currentNormal=i:this._currentNormal=new s.default.Vector(i,h,p),this},s.default.RendererGL.prototype.endShape=function(i,h,p,l,m,_){var b,T=6<arguments.length&&arguments[6]!==void 0?arguments[6]:1;return this.immediateMode.shapeMode===c.POINTS?this._drawPoints(this.immediateMode.geometry.vertices,this.immediateMode.buffers.point):(this.immediateMode.geometry.vertices.length===3&&this.immediateMode.shapeMode===c.TESS&&(this.immediateMode.shapeMode,c.TRIANGLES),this.isProcessingVertices=!0,this._processVertices.apply(this,arguments),b=this.isProcessingVertices=!1,this.immediateMode.shapeMode!==c.LINE_STRIP&&this.immediateMode.shapeMode!==c.LINES||(this.immediateMode.shapeMode=c.TRIANGLE_FAN,b=!0),this.immediateMode.shapeMode===c.QUADS?this.immediateMode.shapeMode=c.TRIANGLES:this.immediateMode.shapeMode===c.QUAD_STRIP&&(this.immediateMode.shapeMode=c.TRIANGLE_STRIP),this._doFill&&!b&&!this.geometryBuilder&&3<=this.immediateMode.geometry.vertices.length&&this._drawImmediateFill(T),this._doStroke&&!this.geometryBuilder&&1<=this.immediateMode.geometry.lineVertices.length&&this._drawImmediateStroke(),this.geometryBuilder&&this.geometryBuilder.addImmediate(),this.isBezier=!1,this.isQuadratic=!1,this.isCurve=!1,this.immediateMode._bezierVertex.length=0,this.immediateMode._quadraticVertex.length=0,this.immediateMode._curveVertex.length=0),this},s.default.RendererGL.prototype._processVertices=function(i){var h;this.immediateMode.geometry.vertices.length!==0&&(h=this._doStroke,i=i===c.CLOSE,h&&(this.immediateMode.geometry.edges=this._calculateEdges(this.immediateMode.shapeMode,this.immediateMode.geometry.vertices,i),this.geometryBuilder||this.immediateMode.geometry._edgesToVertices()),h=this.immediateMode.shapeMode===c.TESS,i=0<this.immediateMode.contourIndices.length,this._doFill&&(this.isBezier||this.isQuadratic||this.isCurve||h||i)&&this.immediateMode.shapeMode!==c.LINES&&this._tesselateShape())},s.default.RendererGL.prototype._calculateEdges=function(i,h,p){var l=[],m=0,_=this.immediateMode.contourIndices.slice(),b=0;switch(i){case c.TRIANGLE_STRIP:for(m=0;m<h.length-2;m++)l.push([m,m+1]),l.push([m,m+2]);l.push([m,m+1]);break;case c.TRIANGLE_FAN:for(m=1;m<h.length-1;m++)l.push([0,m]),l.push([m,m+1]);l.push([0,h.length-1]);break;case c.TRIANGLES:for(m=0;m<h.length-2;m+=3)l.push([m,m+1]),l.push([m+1,m+2]),l.push([m+2,m]);break;case c.LINES:for(m=0;m<h.length-1;m+=2)l.push([m,m+1]);break;case c.QUADS:for(m=0;m<h.length-5;m+=6)l.push([m,m+1]),l.push([m+1,m+2]),l.push([m+3,m+5]),l.push([m+4,m+5]);break;case c.QUAD_STRIP:for(m=0;m<h.length-2;m+=2)l.push([m,m+1]),l.push([m,m+2]),l.push([m+1,m+3]);l.push([m,m+1]);break;default:for(m=0;m<h.length;m++)m+1<h.length&&m+1!==_[0]?l.push([m,m+1]):((p||b)&&l.push([m,b]),0<_.length&&(b=_.shift()))}return i!==c.TESS&&p&&l.push([h.length-1,0]),l},s.default.RendererGL.prototype._tesselateShape=function(){for(var i=this,h=(this.immediateMode.shapeMode=c.TRIANGLES,[[]]),p=0;p<this.immediateMode.geometry.vertices.length;p++)0<this.immediateMode.contourIndices.length&&this.immediateMode.contourIndices[0]===p&&(this.immediateMode.contourIndices.shift(),h.push([])),h[h.length-1].push(this.immediateMode.geometry.vertices[p].x,this.immediateMode.geometry.vertices[p].y,this.immediateMode.geometry.vertices[p].z,this.immediateMode.geometry.uvs[2*p],this.immediateMode.geometry.uvs[2*p+1],this.immediateMode.geometry.vertexColors[4*p],this.immediateMode.geometry.vertexColors[4*p+1],this.immediateMode.geometry.vertexColors[4*p+2],this.immediateMode.geometry.vertexColors[4*p+3],this.immediateMode.geometry.vertexNormals[p].x,this.immediateMode.geometry.vertexNormals[p].y,this.immediateMode.geometry.vertexNormals[p].z);for(var l,m=this._triangulate(h),_=this.immediateMode.geometry.vertices,b=(this.immediateMode.geometry.vertices=[],this.immediateMode.geometry.vertexNormals=[],this.immediateMode.geometry.uvs=[],[]),T=0,O=m.length;T<O;T+=s.default.RendererGL.prototype.tessyVertexSize)b.push.apply(b,y(m.slice(T+5,T+9))),this.normal.apply(this,y(m.slice(T+9,T+12))),this.vertex.apply(this,y(m.slice(T,T+5)));this.geometryBuilder&&(l=new Map,this.immediateMode.geometry.edges=this.immediateMode.geometry.edges.map(function(k){return k.map(function(M){if(!l.has(M)){var I=_[M],F=i.immediateMode.geometry.vertices.findIndex(function(J){return I.x===J.x&&I.y===J.y&&I.z===J.z});if(F===-1){for(var A=1/0,U=0,D=0;D<i.immediateMode.geometry.vertices.length;D++){var G=i.immediateMode.geometry.vertices[D],W=I.x-G.x,V=I.y-G.y,G=I.z-G.z,W=W*W+V*V+G*G;W<A&&(A=W,U=D)}F=U}l.set(M,F)}return l.get(M)})})),this.immediateMode.geometry.vertexColors=b},s.default.RendererGL.prototype._drawImmediateFill=function(){var i,h=0<arguments.length&&arguments[0]!==void 0?arguments[0]:1,p=this.GL,l=(this._useVertexColor=0<this.immediateMode.geometry.vertexColors.length,i=this._getImmediateFillShader(),this._setFillUniforms(i),!0),m=!1,_=void 0;try{for(var b,T=this.immediateMode.buffers.fill[Symbol.iterator]();!(l=(b=T.next()).done);l=!0)b.value._prepareBuffer(this.immediateMode.geometry,i)}catch(O){m=!0,_=O}finally{try{l||T.return==null||T.return()}finally{if(m)throw _}}if(i.disableRemainingAttributes(),this._applyColorBlend(this.curFillColor,this.immediateMode.geometry.hasFillTransparency()),h===1)p.drawArrays(this.immediateMode.shapeMode,0,this.immediateMode.geometry.vertices.length);else try{p.drawArraysInstanced(this.immediateMode.shapeMode,0,this.immediateMode.geometry.vertices.length,h)}catch{console.log(" p5.js says: Instancing is only supported in WebGL2 mode")}i.unbindShader()},s.default.RendererGL.prototype._drawImmediateStroke=function(){var i=this.GL,h=(this._useLineColor=0<this.immediateMode.geometry.vertexStrokeColors.length,this._getImmediateStrokeShader()),p=(this._setStrokeUniforms(h),!0),l=!1,m=void 0;try{for(var _,b=this.immediateMode.buffers.stroke[Symbol.iterator]();!(p=(_=b.next()).done);p=!0)_.value._prepareBuffer(this.immediateMode.geometry,h)}catch(T){l=!0,m=T}finally{try{p||b.return==null||b.return()}finally{if(l)throw m}}h.disableRemainingAttributes(),this._applyColorBlend(this.curStrokeColor,this.immediateMode.geometry.hasFillTransparency()),i.drawArrays(i.TRIANGLES,0,this.immediateMode.geometry.lineVertices.length/3),h.unbindShader()},s.default.RendererGL);x.default=a},{"../core/constants":269,"../core/main":280,"./p5.RenderBuffer":334,"core-js/modules/es.array.concat":152,"core-js/modules/es.array.fill":155,"core-js/modules/es.array.find-index":157,"core-js/modules/es.array.from":161,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.map":167,"core-js/modules/es.array.slice":168,"core-js/modules/es.map":174,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.to-string":187,"core-js/modules/es.regexp.to-string":193,"core-js/modules/es.string.iterator":197,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.iterator":243}],336:[function(t,j,x){function d(o){return(d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(o)}function f(o){return(f=typeof Symbol=="function"&&d(Symbol.iterator)==="symbol"?function(a){return d(a)}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":d(a)})(o)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.some"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.typed-array.float32-array"),t("core-js/modules/es.typed-array.uint16-array"),t("core-js/modules/es.typed-array.uint32-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.some"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.typed-array.float32-array"),t("core-js/modules/es.typed-array.uint16-array"),t("core-js/modules/es.typed-array.uint32-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(x,"__esModule",{value:!0}),x.default=void 0;var s=(y=t("../core/main"))&&y.__esModule?y:{default:y},c=(t("./p5.RendererGL"),t("./p5.RenderBuffer"),function(o){if(o&&o.__esModule)return o;if(o===null||f(o)!=="object"&&typeof o!="function")return{default:o};var a=g();if(a&&a.has(o))return a.get(o);var i,h={},p=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(i in o){var l;Object.prototype.hasOwnProperty.call(o,i)&&((l=p?Object.getOwnPropertyDescriptor(o,i):null)&&(l.get||l.set)?Object.defineProperty(h,i,l):h[i]=o[i])}return h.default=o,a&&a.set(o,h),h}(t("../core/constants")));function g(){var o;return typeof WeakMap!="function"?null:(o=new WeakMap,g=function(){return o},o)}s.default.RendererGL.prototype.freeGeometry=function(o){o.gid?this._freeBuffers(o.gid):console.warn("The model you passed to freeGeometry does not have an id!")},s.default.RendererGL.prototype._initBufferDefaults=function(o){var a;return this._freeBuffers(o),1e3<Object.keys(this.retainedMode.geometry).length&&(a=Object.keys(this.retainedMode.geometry)[0],this._freeBuffers(a)),this.retainedMode.geometry[o]={}},s.default.RendererGL.prototype._freeBuffers=function(o){var a,i=this.retainedMode.geometry[o];function h(p){var l=!0,m=!1,_=void 0;try{for(var b,T=p[Symbol.iterator]();!(l=(b=T.next()).done);l=!0){var O=b.value;i[O.dst]&&(a.deleteBuffer(i[O.dst]),i[O.dst]=null)}}catch(k){m=!0,_=k}finally{try{l||T.return==null||T.return()}finally{if(m)throw _}}}i&&(delete this.retainedMode.geometry[o],a=this.GL,i.indexBuffer&&a.deleteBuffer(i.indexBuffer),h(this.retainedMode.buffers.stroke),h(this.retainedMode.buffers.fill))},s.default.RendererGL.prototype.createBuffers=function(m,a){var i,h,p,l=this.GL,m=this._initBufferDefaults(m),_=(m.model=a,m.indexBuffer);return a.faces.length?(_=_||(m.indexBuffer=l.createBuffer()),p=(h=(i=s.default.RendererGL.prototype._flatten(a.faces)).some(function(b){return 65535<b}))?Uint32Array:Uint16Array,this._bindBuffer(_,l.ELEMENT_ARRAY_BUFFER,i,p),m.indexBufferType=h?l.UNSIGNED_INT:l.UNSIGNED_SHORT,m.vertexCount=3*a.faces.length):(_&&(l.deleteBuffer(_),m.indexBuffer=null),m.vertexCount=a.vertices?a.vertices.length:0),m.lineVertexCount=a.lineVertices?a.lineVertices.length/3:0,m},s.default.RendererGL.prototype.drawBuffers=function(o){var a=this.GL,i=this.retainedMode.geometry[o];if(!this.geometryBuilder&&this._doFill&&0<this.retainedMode.geometry[o].vertexCount){this._useVertexColor=0<i.model.vertexColors.length;var h=this._getRetainedFillShader(),p=(this._setFillUniforms(h),!0),l=!1,m=void 0;try{for(var _,b=this.retainedMode.buffers.fill[Symbol.iterator]();!(p=(_=b.next()).done);p=!0)_.value._prepareBuffer(i,h)}catch(I){l=!0,m=I}finally{try{p||b.return==null||b.return()}finally{if(l)throw m}}h.disableRemainingAttributes(),i.indexBuffer&&this._bindBuffer(i.indexBuffer,a.ELEMENT_ARRAY_BUFFER),this._applyColorBlend(this.curFillColor,i.model.hasFillTransparency()),this._drawElements(a.TRIANGLES,o),h.unbindShader()}if(!this.geometryBuilder&&this._doStroke&&0<i.lineVertexCount){this._useLineColor=0<i.model.vertexStrokeColors.length;var T=this._getRetainedStrokeShader(),O=(this._setStrokeUniforms(T),!0),l=!1,m=void 0;try{for(var k,M=this.retainedMode.buffers.stroke[Symbol.iterator]();!(O=(k=M.next()).done);O=!0)k.value._prepareBuffer(i,T)}catch(A){l=!0,m=A}finally{try{O||M.return==null||M.return()}finally{if(l)throw m}}T.disableRemainingAttributes(),this._applyColorBlend(this.curStrokeColor,i.model.hasStrokeTransparency()),this._drawArrays(a.TRIANGLES,o),T.unbindShader()}return this.geometryBuilder&&this.geometryBuilder.addRetained(i),this},s.default.RendererGL.prototype.drawBuffersScaled=function(o,a,i,h){var p=this.uMVMatrix.copy();try{this.uMVMatrix.scale(a,i,h),this.drawBuffers(o)}finally{this.uMVMatrix=p}},s.default.RendererGL.prototype._drawArrays=function(o,a){return this.GL.drawArrays(o,0,this.retainedMode.geometry[a].lineVertexCount),this},s.default.RendererGL.prototype._drawElements=function(o,i){var i=this.retainedMode.geometry[i],h=this.GL;if(i.indexBuffer){if(this._pInst.webglVersion!==c.WEBGL2&&i.indexBufferType===h.UNSIGNED_INT&&!h.getExtension("OES_element_index_uint"))throw new Error("Unable to render a 3d model with > 65535 triangles. Your web browser does not support the WebGL Extension OES_element_index_uint.");h.drawElements(h.TRIANGLES,i.vertexCount,i.indexBufferType,0)}else h.drawArrays(o||h.TRIANGLES,0,i.vertexCount)},s.default.RendererGL.prototype._drawPoints=function(o,a){var i=this.GL,h=this._getImmediatePointShader();this._setPointUniforms(h),this._bindBuffer(a,i.ARRAY_BUFFER,this._vToNArray(o),Float32Array,i.STATIC_DRAW),h.enableAttrib(h.attributes.aPosition,3),this._applyColorBlend(this.curStrokeColor),i.drawArrays(i.Points,0,o.length),h.unbindShader()};var y=s.default.RendererGL;x.default=y},{"../core/constants":269,"../core/main":280,"./p5.RenderBuffer":334,"./p5.RendererGL":337,"core-js/modules/es.array.fill":155,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.some":169,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.keys":186,"core-js/modules/es.object.to-string":187,"core-js/modules/es.string.iterator":197,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.typed-array.copy-within":210,"core-js/modules/es.typed-array.every":211,"core-js/modules/es.typed-array.fill":212,"core-js/modules/es.typed-array.filter":213,"core-js/modules/es.typed-array.find":215,"core-js/modules/es.typed-array.find-index":214,"core-js/modules/es.typed-array.float32-array":216,"core-js/modules/es.typed-array.for-each":218,"core-js/modules/es.typed-array.includes":219,"core-js/modules/es.typed-array.index-of":220,"core-js/modules/es.typed-array.iterator":223,"core-js/modules/es.typed-array.join":224,"core-js/modules/es.typed-array.last-index-of":225,"core-js/modules/es.typed-array.map":226,"core-js/modules/es.typed-array.reduce":228,"core-js/modules/es.typed-array.reduce-right":227,"core-js/modules/es.typed-array.reverse":229,"core-js/modules/es.typed-array.set":230,"core-js/modules/es.typed-array.slice":231,"core-js/modules/es.typed-array.some":232,"core-js/modules/es.typed-array.sort":233,"core-js/modules/es.typed-array.subarray":234,"core-js/modules/es.typed-array.to-locale-string":235,"core-js/modules/es.typed-array.to-string":236,"core-js/modules/es.typed-array.uint16-array":237,"core-js/modules/es.typed-array.uint32-array":238,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.iterator":243}],337:[function(D,j,x){function d(Y){return(d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(z){return typeof z}:function(z){return z&&typeof Symbol=="function"&&z.constructor===Symbol&&z!==Symbol.prototype?"symbol":typeof z})(Y)}function f(Y){return(f=typeof Symbol=="function"&&d(Symbol.iterator)==="symbol"?function(z){return d(z)}:function(z){return z&&typeof Symbol=="function"&&z.constructor===Symbol&&z!==Symbol.prototype?"symbol":d(z)})(Y)}D("core-js/modules/es.symbol"),D("core-js/modules/es.symbol.description"),D("core-js/modules/es.symbol.iterator"),D("core-js/modules/es.array.concat"),D("core-js/modules/es.array.copy-within"),D("core-js/modules/es.array.every"),D("core-js/modules/es.array.fill"),D("core-js/modules/es.array.flat"),D("core-js/modules/es.array.flat-map"),D("core-js/modules/es.array.from"),D("core-js/modules/es.array.includes"),D("core-js/modules/es.array.iterator"),D("core-js/modules/es.array.map"),D("core-js/modules/es.array.slice"),D("core-js/modules/es.array.some"),D("core-js/modules/es.array.unscopables.flat"),D("core-js/modules/es.array.unscopables.flat-map"),D("core-js/modules/es.map"),D("core-js/modules/es.object.assign"),D("core-js/modules/es.object.get-own-property-descriptor"),D("core-js/modules/es.object.get-prototype-of"),D("core-js/modules/es.object.to-string"),D("core-js/modules/es.reflect.construct"),D("core-js/modules/es.reflect.get"),D("core-js/modules/es.regexp.to-string"),D("core-js/modules/es.set"),D("core-js/modules/es.string.includes"),D("core-js/modules/es.string.iterator"),D("core-js/modules/es.typed-array.float32-array"),D("core-js/modules/es.typed-array.float64-array"),D("core-js/modules/es.typed-array.int16-array"),D("core-js/modules/es.typed-array.uint8-array"),D("core-js/modules/es.typed-array.uint16-array"),D("core-js/modules/es.typed-array.uint32-array"),D("core-js/modules/es.typed-array.copy-within"),D("core-js/modules/es.typed-array.every"),D("core-js/modules/es.typed-array.fill"),D("core-js/modules/es.typed-array.filter"),D("core-js/modules/es.typed-array.find"),D("core-js/modules/es.typed-array.find-index"),D("core-js/modules/es.typed-array.for-each"),D("core-js/modules/es.typed-array.includes"),D("core-js/modules/es.typed-array.index-of"),D("core-js/modules/es.typed-array.iterator"),D("core-js/modules/es.typed-array.join"),D("core-js/modules/es.typed-array.last-index-of"),D("core-js/modules/es.typed-array.map"),D("core-js/modules/es.typed-array.reduce"),D("core-js/modules/es.typed-array.reduce-right"),D("core-js/modules/es.typed-array.reverse"),D("core-js/modules/es.typed-array.set"),D("core-js/modules/es.typed-array.slice"),D("core-js/modules/es.typed-array.some"),D("core-js/modules/es.typed-array.sort"),D("core-js/modules/es.typed-array.subarray"),D("core-js/modules/es.typed-array.to-locale-string"),D("core-js/modules/es.typed-array.to-string"),D("core-js/modules/es.weak-map"),D("core-js/modules/web.dom-collections.iterator"),D("core-js/modules/es.symbol"),D("core-js/modules/es.symbol.description"),D("core-js/modules/es.symbol.iterator"),D("core-js/modules/es.array.concat"),D("core-js/modules/es.array.copy-within"),D("core-js/modules/es.array.every"),D("core-js/modules/es.array.fill"),D("core-js/modules/es.array.flat"),D("core-js/modules/es.array.flat-map"),D("core-js/modules/es.array.from"),D("core-js/modules/es.array.includes"),D("core-js/modules/es.array.iterator"),D("core-js/modules/es.array.map"),D("core-js/modules/es.array.slice"),D("core-js/modules/es.array.some"),D("core-js/modules/es.array.unscopables.flat"),D("core-js/modules/es.array.unscopables.flat-map"),D("core-js/modules/es.map"),D("core-js/modules/es.object.assign"),D("core-js/modules/es.object.to-string"),D("core-js/modules/es.set"),D("core-js/modules/es.string.includes"),D("core-js/modules/es.string.iterator"),D("core-js/modules/es.typed-array.float32-array"),D("core-js/modules/es.typed-array.float64-array"),D("core-js/modules/es.typed-array.int16-array"),D("core-js/modules/es.typed-array.uint8-array"),D("core-js/modules/es.typed-array.uint16-array"),D("core-js/modules/es.typed-array.uint32-array"),D("core-js/modules/es.typed-array.copy-within"),D("core-js/modules/es.typed-array.every"),D("core-js/modules/es.typed-array.fill"),D("core-js/modules/es.typed-array.filter"),D("core-js/modules/es.typed-array.find"),D("core-js/modules/es.typed-array.find-index"),D("core-js/modules/es.typed-array.for-each"),D("core-js/modules/es.typed-array.includes"),D("core-js/modules/es.typed-array.index-of"),D("core-js/modules/es.typed-array.iterator"),D("core-js/modules/es.typed-array.join"),D("core-js/modules/es.typed-array.last-index-of"),D("core-js/modules/es.typed-array.map"),D("core-js/modules/es.typed-array.reduce"),D("core-js/modules/es.typed-array.reduce-right"),D("core-js/modules/es.typed-array.reverse"),D("core-js/modules/es.typed-array.set"),D("core-js/modules/es.typed-array.slice"),D("core-js/modules/es.typed-array.some"),D("core-js/modules/es.typed-array.sort"),D("core-js/modules/es.typed-array.subarray"),D("core-js/modules/es.typed-array.to-locale-string"),D("core-js/modules/es.typed-array.to-string"),D("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(x,"__esModule",{value:!0}),x.readPixelsWebGL=J,x.readPixelWebGL=Q,x.default=void 0;var s=i(D("../core/main")),c=function(Y){if(Y&&Y.__esModule)return Y;if(Y===null||f(Y)!=="object"&&typeof Y!="function")return{default:Y};var z=a();if(z&&z.has(Y))return z.get(Y);var ee,ie={},C=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(ee in Y){var B;Object.prototype.hasOwnProperty.call(Y,ee)&&((B=C?Object.getOwnPropertyDescriptor(Y,ee):null)&&(B.get||B.set)?Object.defineProperty(ie,ee,B):ie[ee]=Y[ee])}return ie.default=Y,z&&z.set(Y,ie),ie}(D("../core/constants")),g=i(D("./GeometryBuilder")),y=i(D("libtess")),o=(D("./p5.Shader"),D("./p5.Camera"),D("../core/p5.Renderer"),D("./p5.Matrix"),D("./p5.Framebuffer"),D("path"),D("./p5.Texture"));function a(){var Y;return typeof WeakMap!="function"?null:(Y=new WeakMap,a=function(){return Y},Y)}function i(Y){return Y&&Y.__esModule?Y:{default:Y}}function h(Y){return function(z){if(Array.isArray(z)){for(var ee=0,ie=new Array(z.length);ee<z.length;ee++)ie[ee]=z[ee];return ie}}(Y)||function(z){if(Symbol.iterator in Object(z)||Object.prototype.toString.call(z)==="[object Arguments]")return Array.from(z)}(Y)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function p(Y,z){for(var ee=0;ee<z.length;ee++){var ie=z[ee];ie.enumerable=ie.enumerable||!1,ie.configurable=!0,"value"in ie&&(ie.writable=!0),Object.defineProperty(Y,ie.key,ie)}}function l(Y,z,ee){return(l=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(H,C,B){var H=function($,ne){for(;!Object.prototype.hasOwnProperty.call($,ne)&&($=T($))!==null;);return $}(H,C);if(H)return(H=Object.getOwnPropertyDescriptor(H,C)).get?H.get.call(B):H.value})(Y,z,ee||Y)}function m(Y,z){return(m=Object.setPrototypeOf||function(ee,ie){return ee.__proto__=ie,ee})(Y,z)}function _(Y){return function(){var z,ee,ie=T(Y);return z=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(z=T(this).constructor,Reflect.construct(ie,arguments,z)):ie.apply(this,arguments),ie=this,!(ee=z)||f(ee)!=="object"&&typeof ee!="function"?b(ie):ee}}function b(Y){if(Y===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Y}function T(Y){return(T=Object.setPrototypeOf?Object.getPrototypeOf:function(z){return z.__proto__||Object.getPrototypeOf(z)})(Y)}function O(Y,z,ee){z in Y?Object.defineProperty(Y,z,{value:ee,enumerable:!0,configurable:!0,writable:!0}):Y[z]=ee}function k(Y,z){U+="#define STROKE_CAP_".concat(Y," ").concat(z,`
`),F[c[Y]]=z}function M(Y,z){U+="#define STROKE_JOIN_".concat(Y," ").concat(z,`
`),A[c[Y]]=z}var I,F={},A={},U="",D=(k("ROUND",0),k("PROJECT",1),k("SQUARE",2),M("ROUND",0),M("MITER",1),M("BEVEL",2),`#define PI 3.141592

precision highp float;
precision highp int;

uniform mat4 uViewMatrix;

uniform bool uUseLighting;

uniform int uAmbientLightCount;
uniform vec3 uAmbientColor[5];
uniform mat3 uCameraRotation;
uniform int uDirectionalLightCount;
uniform vec3 uLightingDirection[5];
uniform vec3 uDirectionalDiffuseColors[5];
uniform vec3 uDirectionalSpecularColors[5];

uniform int uPointLightCount;
uniform vec3 uPointLightLocation[5];
uniform vec3 uPointLightDiffuseColors[5];	
uniform vec3 uPointLightSpecularColors[5];

uniform int uSpotLightCount;
uniform float uSpotLightAngle[5];
uniform float uSpotLightConc[5];
uniform vec3 uSpotLightDiffuseColors[5];
uniform vec3 uSpotLightSpecularColors[5];
uniform vec3 uSpotLightLocation[5];
uniform vec3 uSpotLightDirection[5];

uniform bool uSpecular;
uniform float uShininess;
uniform float metallic;

uniform float uConstantAttenuation;
uniform float uLinearAttenuation;
uniform float uQuadraticAttenuation;

// setting from  _setImageLightUniforms()
// boolean to initiate the calculateImageDiffuse and calculateImageSpecular
uniform bool uUseImageLight;
// texture for use in calculateImageDiffuse
uniform sampler2D environmentMapDiffused;
// texture for use in calculateImageSpecular
uniform sampler2D environmentMapSpecular;
// roughness for use in calculateImageSpecular
uniform float levelOfDetail;

const float specularFactor = 2.0;
const float diffuseFactor = 0.73;

struct LightResult {
  float specular;
  float diffuse;
};

float _phongSpecular(
  vec3 lightDirection,
  vec3 viewDirection,
  vec3 surfaceNormal,
  float shininess) {

  vec3 R = reflect(lightDirection, surfaceNormal);
  return pow(max(0.0, dot(R, viewDirection)), shininess);
}

float _lambertDiffuse(vec3 lightDirection, vec3 surfaceNormal) {
  return max(0.0, dot(-lightDirection, surfaceNormal));
}

LightResult _light(vec3 viewDirection, vec3 normal, vec3 lightVector) {

  vec3 lightDir = normalize(lightVector);

  //compute our diffuse & specular terms
  LightResult lr;
  float specularIntensity = mix(1.0, 0.4, metallic);
  float diffuseIntensity = mix(1.0, 0.1, metallic);
  if (uSpecular)
    lr.specular = (_phongSpecular(lightDir, viewDirection, normal, uShininess)) * specularIntensity;
    lr.diffuse = _lambertDiffuse(lightDir, normal) * diffuseIntensity;
  return lr;
}

// converts the range of "value" from [min1 to max1] to [min2 to max2]
float map(float value, float min1, float max1, float min2, float max2) {
  return min2 + (value - min1) * (max2 - min2) / (max1 - min1);
}

vec2 mapTextureToNormal( vec3 v ){
  // x = r sin(phi) cos(theta)   
  // y = r cos(phi)  
  // z = r sin(phi) sin(theta)
  float phi = acos( v.y );
  // if phi is 0, then there are no x, z components
  float theta = 0.0;
  // else 
  theta = acos(v.x / sin(phi));
  float sinTheta = v.z / sin(phi);
  if (sinTheta < 0.0) {
    // Turn it into -theta, but in the 0-2PI range
    theta = 2.0 * PI - theta;
  }
  theta = theta / (2.0 * 3.14159);
  phi = phi / 3.14159 ;
  
  vec2 angles = vec2( fract(theta + 0.25), 1.0 - phi );
  return angles;
}


vec3 calculateImageDiffuse( vec3 vNormal, vec3 vViewPosition ){
  // make 2 seperate builds 
  vec3 worldCameraPosition =  vec3(0.0, 0.0, 0.0);  // hardcoded world camera position
  vec3 worldNormal = normalize(vNormal * uCameraRotation);
  vec2 newTexCoor = mapTextureToNormal( worldNormal );
  vec4 texture = TEXTURE( environmentMapDiffused, newTexCoor );
  // this is to make the darker sections more dark
  // png and jpg usually flatten the brightness so it is to reverse that
  return mix(smoothstep(vec3(0.0), vec3(1.0), texture.xyz), vec3(0.0), metallic);
}

vec3 calculateImageSpecular( vec3 vNormal, vec3 vViewPosition ){
  vec3 worldCameraPosition =  vec3(0.0, 0.0, 0.0);
  vec3 worldNormal = normalize(vNormal);
  vec3 lightDirection = normalize( vViewPosition - worldCameraPosition );
  vec3 R = reflect(lightDirection, worldNormal) * uCameraRotation;
  vec2 newTexCoor = mapTextureToNormal( R );
#ifdef WEBGL2
  vec4 outColor = textureLod(environmentMapSpecular, newTexCoor, levelOfDetail);
#else
  vec4 outColor = TEXTURE(environmentMapSpecular, newTexCoor);
#endif
  // this is to make the darker sections more dark
  // png and jpg usually flatten the brightness so it is to reverse that
  return mix(
    pow(outColor.xyz, vec3(10)),
    pow(outColor.xyz, vec3(1.2)),
    metallic 
  );
}

void totalLight(
  vec3 modelPosition,
  vec3 normal,
  out vec3 totalDiffuse,
  out vec3 totalSpecular
) {

  totalSpecular = vec3(0.0);

  if (!uUseLighting) {
    totalDiffuse = vec3(1.0);
    return;
  }

  totalDiffuse = vec3(0.0);

  vec3 viewDirection = normalize(-modelPosition);

  for (int j = 0; j < 5; j++) {
    if (j < uDirectionalLightCount) {
      vec3 lightVector = (uViewMatrix * vec4(uLightingDirection[j], 0.0)).xyz;
      vec3 lightColor = uDirectionalDiffuseColors[j];
      vec3 specularColor = uDirectionalSpecularColors[j];
      LightResult result = _light(viewDirection, normal, lightVector);
      totalDiffuse += result.diffuse * lightColor;
      totalSpecular += result.specular * lightColor * specularColor;
    }

    if (j < uPointLightCount) {
      vec3 lightPosition = (uViewMatrix * vec4(uPointLightLocation[j], 1.0)).xyz;
      vec3 lightVector = modelPosition - lightPosition;
      //calculate attenuation
      float lightDistance = length(lightVector);
      float lightFalloff = 1.0 / (uConstantAttenuation + lightDistance * uLinearAttenuation + (lightDistance * lightDistance) * uQuadraticAttenuation);
      vec3 lightColor = lightFalloff * uPointLightDiffuseColors[j];
      vec3 specularColor = lightFalloff * uPointLightSpecularColors[j];

      LightResult result = _light(viewDirection, normal, lightVector);
      totalDiffuse += result.diffuse * lightColor;
      totalSpecular += result.specular * lightColor * specularColor;
    }

    if(j < uSpotLightCount) {
      vec3 lightPosition = (uViewMatrix * vec4(uSpotLightLocation[j], 1.0)).xyz;
      vec3 lightVector = modelPosition - lightPosition;
    
      float lightDistance = length(lightVector);
      float lightFalloff = 1.0 / (uConstantAttenuation + lightDistance * uLinearAttenuation + (lightDistance * lightDistance) * uQuadraticAttenuation);

      vec3 lightDirection = (uViewMatrix * vec4(uSpotLightDirection[j], 0.0)).xyz;
      float spotDot = dot(normalize(lightVector), normalize(lightDirection));
      float spotFalloff;
      if(spotDot < uSpotLightAngle[j]) {
        spotFalloff = 0.0;
      }
      else {
        spotFalloff = pow(spotDot, uSpotLightConc[j]);
      }
      lightFalloff *= spotFalloff;

      vec3 lightColor = uSpotLightDiffuseColors[j];
      vec3 specularColor = uSpotLightSpecularColors[j];
     
      LightResult result = _light(viewDirection, normal, lightVector);
      
      totalDiffuse += result.diffuse * lightColor * lightFalloff;
      totalSpecular += result.specular * lightColor * specularColor * lightFalloff;
    }
  }

  if( uUseImageLight ){
    totalDiffuse += calculateImageDiffuse(normal, modelPosition);
    totalSpecular += calculateImageSpecular(normal, modelPosition);
  }

  totalDiffuse *= diffuseFactor;
  totalSpecular *= specularFactor;
}
`),V={sphereMappingFrag:`#define PI 3.141592

precision highp float;
  
uniform sampler2D uSampler;
uniform mat3 uNewNormalMatrix;
uniform float uFovY;
uniform float uAspect;

varying vec2 vTexCoord;
  
void main() {
    float uFovX = uFovY * uAspect; 
    vec4 newTexColor = texture2D(uSampler, vTexCoord);
    float angleY = mix(uFovY/2.0,  -uFovY/2.0, vTexCoord.y);
    float angleX = mix(uFovX/2.0, -uFovX/2.0, vTexCoord.x);
    vec3 rotatedNormal = vec3( angleX, angleY, 1.0 );
    rotatedNormal = uNewNormalMatrix * normalize(rotatedNormal);
    vec2 suv;
    suv.y = 0.5 + 0.5 * (-rotatedNormal.y);
    suv.x = atan(rotatedNormal.z, rotatedNormal.x) / (2.0 * PI) + 0.5;
    newTexColor = texture2D(uSampler, suv.xy);
    gl_FragColor = newTexColor;
}
`,immediateVert:`IN vec3 aPosition;
IN vec4 aVertexColor;

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
uniform float uResolution;
uniform float uPointSize;

OUT vec4 vColor;
void main(void) {
  vec4 positionVec4 = vec4(aPosition, 1.0);
  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
  vColor = aVertexColor;
  gl_PointSize = uPointSize;
}
`,vertexColorVert:`IN vec3 aPosition;
IN vec4 aVertexColor;

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;

OUT vec4 vColor;

void main(void) {
  vec4 positionVec4 = vec4(aPosition, 1.0);
  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
  vColor = aVertexColor;
}
`,vertexColorFrag:`IN vec4 vColor;
void main(void) {
  OUT_COLOR = vec4(vColor.rgb, 1.) * vColor.a;
}
`,normalVert:`IN vec3 aPosition;
IN vec3 aNormal;
IN vec2 aTexCoord;
IN vec4 aVertexColor;

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
uniform mat3 uNormalMatrix;

uniform vec4 uMaterialColor;
uniform bool uUseVertexColor;

OUT vec3 vVertexNormal;
OUT highp vec2 vVertTexCoord;
OUT vec4 vColor;

void main(void) {
  vec4 positionVec4 = vec4(aPosition, 1.0);
  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
  vVertexNormal = normalize(vec3( uNormalMatrix * aNormal ));
  vVertTexCoord = aTexCoord;
  vColor = (uUseVertexColor ? aVertexColor : uMaterialColor);
}
`,normalFrag:`IN vec3 vVertexNormal;
void main(void) {
  OUT_COLOR = vec4(vVertexNormal, 1.0);
}
`,basicFrag:`IN vec4 vColor;
void main(void) {
  OUT_COLOR = vec4(vColor.rgb, 1.) * vColor.a;
}
`,lightVert:D+`// include lighting.glgl

IN vec3 aPosition;
IN vec3 aNormal;
IN vec2 aTexCoord;
IN vec4 aVertexColor;

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
uniform mat3 uNormalMatrix;

uniform bool uUseVertexColor;
uniform vec4 uMaterialColor;

OUT highp vec2 vVertTexCoord;
OUT vec3 vDiffuseColor;
OUT vec3 vSpecularColor;
OUT vec4 vColor;

void main(void) {

  vec4 viewModelPosition = uModelViewMatrix * vec4(aPosition, 1.0);
  gl_Position = uProjectionMatrix * viewModelPosition;

  vec3 vertexNormal = normalize(uNormalMatrix * aNormal);
  vVertTexCoord = aTexCoord;

  totalLight(viewModelPosition.xyz, vertexNormal, vDiffuseColor, vSpecularColor);

  for (int i = 0; i < 8; i++) {
    if (i < uAmbientLightCount) {
      vDiffuseColor += uAmbientColor[i];
    }
  }
  
  vColor = (uUseVertexColor ? aVertexColor : uMaterialColor);
}
`,lightTextureFrag:`uniform vec4 uTint;
uniform sampler2D uSampler;
uniform bool isTexture;
uniform bool uEmissive;

IN highp vec2 vVertTexCoord;
IN vec3 vDiffuseColor;
IN vec3 vSpecularColor;
IN vec4 vColor;

void main(void) {
  if(uEmissive && !isTexture) {
    OUT_COLOR = vColor;
  }
  else {
    vec4 baseColor = isTexture
      // Textures come in with premultiplied alpha. To apply tint and still have
      // premultiplied alpha output, we need to multiply the RGB channels by the
      // tint RGB, and all channels by the tint alpha.
      ? TEXTURE(uSampler, vVertTexCoord) * vec4(uTint.rgb/255., 1.) * (uTint.a/255.)
      // Colors come in with unmultiplied alpha, so we need to multiply the RGB
      // channels by alpha to convert it to premultiplied alpha.
      : vec4(vColor.rgb * vColor.a, vColor.a);
    OUT_COLOR = vec4(baseColor.rgb * vDiffuseColor + vSpecularColor, baseColor.a);
  }
}
`,phongVert:`precision highp int;

IN vec3 aPosition;
IN vec3 aNormal;
IN vec2 aTexCoord;
IN vec4 aVertexColor;

uniform vec3 uAmbientColor[5];

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
uniform mat3 uNormalMatrix;
uniform int uAmbientLightCount;

uniform bool uUseVertexColor;
uniform vec4 uMaterialColor;

OUT vec3 vNormal;
OUT vec2 vTexCoord;
OUT vec3 vViewPosition;
OUT vec3 vAmbientColor;
OUT vec4 vColor;

void main(void) {

  vec4 viewModelPosition = uModelViewMatrix * vec4(aPosition, 1.0);

  // Pass varyings to fragment shader
  vViewPosition = viewModelPosition.xyz;
  gl_Position = uProjectionMatrix * viewModelPosition;  

  vNormal = uNormalMatrix * aNormal;
  vTexCoord = aTexCoord;

  // TODO: this should be a uniform
  vAmbientColor = vec3(0.0);
  for (int i = 0; i < 5; i++) {
    if (i < uAmbientLightCount) {
      vAmbientColor += uAmbientColor[i];
    }
  }
  
  vColor = (uUseVertexColor ? aVertexColor : uMaterialColor);
}
`,phongFrag:D+`// include lighting.glsl
precision highp int;

uniform bool uHasSetAmbient;
uniform vec4 uSpecularMatColor;
uniform vec4 uAmbientMatColor;
uniform vec4 uEmissiveMatColor;

uniform vec4 uTint;
uniform sampler2D uSampler;
uniform bool isTexture;

IN vec3 vNormal;
IN vec2 vTexCoord;
IN vec3 vViewPosition;
IN vec3 vAmbientColor;
IN vec4 vColor;

void main(void) {

  vec3 diffuse;
  vec3 specular;
  totalLight(vViewPosition, normalize(vNormal), diffuse, specular);

  // Calculating final color as result of all lights (plus emissive term).

  vec4 baseColor = isTexture
    // Textures come in with premultiplied alpha. To apply tint and still have
    // premultiplied alpha output, we need to multiply the RGB channels by the
    // tint RGB, and all channels by the tint alpha.
    ? TEXTURE(uSampler, vTexCoord) * vec4(uTint.rgb/255., 1.) * (uTint.a/255.)
    // Colors come in with unmultiplied alpha, so we need to multiply the RGB
    // channels by alpha to convert it to premultiplied alpha.
    : vec4(vColor.rgb * vColor.a, vColor.a);
  OUT_COLOR = vec4(diffuse * baseColor.rgb + 
                    vAmbientColor * (
                      uHasSetAmbient ? uAmbientMatColor.rgb : baseColor.rgb
                    ) + 
                    specular * uSpecularMatColor.rgb + 
                    uEmissiveMatColor.rgb, baseColor.a);
}
`,fontVert:`IN vec3 aPosition;
IN vec2 aTexCoord;
uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;

uniform vec4 uGlyphRect;
uniform float uGlyphOffset;

OUT vec2 vTexCoord;
OUT float w;

void main() {
  vec4 positionVec4 = vec4(aPosition, 1.0);

  // scale by the size of the glyph's rectangle
  positionVec4.xy *= uGlyphRect.zw - uGlyphRect.xy;

  // Expand glyph bounding boxes by 1px on each side to give a bit of room
  // for antialiasing
  vec3 newOrigin = (uModelViewMatrix * vec4(0., 0., 0., 1.)).xyz;
  vec3 newDX = (uModelViewMatrix * vec4(1., 0., 0., 1.)).xyz;
  vec3 newDY = (uModelViewMatrix * vec4(0., 1., 0., 1.)).xyz;
  vec2 pixelScale = vec2(
    1. / length(newOrigin - newDX),
    1. / length(newOrigin - newDY)
  );
  vec2 offset = pixelScale * normalize(aTexCoord - vec2(0.5, 0.5)) * vec2(1., -1.);
  vec2 textureOffset = offset * (1. / vec2(
    uGlyphRect.z - uGlyphRect.x,
    uGlyphRect.w - uGlyphRect.y
  ));

  // move to the corner of the glyph
  positionVec4.xy += uGlyphRect.xy;

  // move to the letter's line offset
  positionVec4.x += uGlyphOffset;

  positionVec4.xy += offset;
  
  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
  vTexCoord = aTexCoord + textureOffset;
  w = gl_Position.w;
}
`,fontFrag:`#ifndef WEBGL2
#extension GL_OES_standard_derivatives : enable
#endif

#if 0
  // simulate integer math using floats
	#define int float
	#define ivec2 vec2
	#define INT(x) float(x)

	int ifloor(float v) { return floor(v); }
	ivec2 ifloor(vec2 v) { return floor(v); }

#else
  // use native integer math
	precision highp int;
	#define INT(x) x

	int ifloor(float v) { return int(v); }
	int ifloor(int v) { return v; }
	ivec2 ifloor(vec2 v) { return ivec2(v); }

#endif

uniform sampler2D uSamplerStrokes;
uniform sampler2D uSamplerRowStrokes;
uniform sampler2D uSamplerRows;
uniform sampler2D uSamplerColStrokes;
uniform sampler2D uSamplerCols;

uniform ivec2 uStrokeImageSize;
uniform ivec2 uCellsImageSize;
uniform ivec2 uGridImageSize;

uniform ivec2 uGridOffset;
uniform ivec2 uGridSize;
uniform vec4 uMaterialColor;

IN vec2 vTexCoord;

// some helper functions
int ROUND(float v) { return ifloor(v + 0.5); }
ivec2 ROUND(vec2 v) { return ifloor(v + 0.5); }
float saturate(float v) { return clamp(v, 0.0, 1.0); }
vec2 saturate(vec2 v) { return clamp(v, 0.0, 1.0); }

int mul(float v1, int v2) {
  return ifloor(v1 * float(v2));
}

ivec2 mul(vec2 v1, ivec2 v2) {
  return ifloor(v1 * vec2(v2) + 0.5);
}

// unpack a 16-bit integer from a float vec2
int getInt16(vec2 v) {
  ivec2 iv = ROUND(v * 255.0);
  return iv.x * INT(128) + iv.y;
}

vec2 pixelScale;
vec2 coverage = vec2(0.0);
vec2 weight = vec2(0.5);
const float minDistance = 1.0/8192.0;
const float hardness = 1.05; // amount of antialias

// the maximum number of curves in a glyph
const int N = INT(250);

// retrieves an indexed pixel from a sampler
vec4 getTexel(sampler2D sampler, int pos, ivec2 size) {
  int width = size.x;
  int y = ifloor(pos / width);
  int x = pos - y * width;  // pos % width

  return TEXTURE(sampler, (vec2(x, y) + 0.5) / vec2(size));
}

void calulateCrossings(vec2 p0, vec2 p1, vec2 p2, out vec2 C1, out vec2 C2) {

  // get the coefficients of the quadratic in t
  vec2 a = p0 - p1 * 2.0 + p2;
  vec2 b = p0 - p1;
  vec2 c = p0 - vTexCoord;

  // found out which values of 't' it crosses the axes
  vec2 surd = sqrt(max(vec2(0.0), b * b - a * c));
  vec2 t1 = ((b - surd) / a).yx;
  vec2 t2 = ((b + surd) / a).yx;

  // approximate straight lines to avoid rounding errors
  if (abs(a.y) < 0.001)
    t1.x = t2.x = c.y / (2.0 * b.y);

  if (abs(a.x) < 0.001)
    t1.y = t2.y = c.x / (2.0 * b.x);

  // plug into quadratic formula to find the corrdinates of the crossings
  C1 = ((a * t1 - b * 2.0) * t1 + c) * pixelScale;
  C2 = ((a * t2 - b * 2.0) * t2 + c) * pixelScale;
}

void coverageX(vec2 p0, vec2 p1, vec2 p2) {

  vec2 C1, C2;
  calulateCrossings(p0, p1, p2, C1, C2);

  // determine on which side of the x-axis the points lie
  bool y0 = p0.y > vTexCoord.y;
  bool y1 = p1.y > vTexCoord.y;
  bool y2 = p2.y > vTexCoord.y;

  // could web be under the curve (after t1)?
  if (y1 ? !y2 : y0) {
    // add the coverage for t1
    coverage.x += saturate(C1.x + 0.5);
    // calculate the anti-aliasing for t1
    weight.x = min(weight.x, abs(C1.x));
  }

  // are we outside the curve (after t2)?
  if (y1 ? !y0 : y2) {
    // subtract the coverage for t2
    coverage.x -= saturate(C2.x + 0.5);
    // calculate the anti-aliasing for t2
    weight.x = min(weight.x, abs(C2.x));
  }
}

// this is essentially the same as coverageX, but with the axes swapped
void coverageY(vec2 p0, vec2 p1, vec2 p2) {

  vec2 C1, C2;
  calulateCrossings(p0, p1, p2, C1, C2);

  bool x0 = p0.x > vTexCoord.x;
  bool x1 = p1.x > vTexCoord.x;
  bool x2 = p2.x > vTexCoord.x;

  if (x1 ? !x2 : x0) {
    coverage.y -= saturate(C1.y + 0.5);
    weight.y = min(weight.y, abs(C1.y));
  }

  if (x1 ? !x0 : x2) {
    coverage.y += saturate(C2.y + 0.5);
    weight.y = min(weight.y, abs(C2.y));
  }
}

void main() {

  // calculate the pixel scale based on screen-coordinates
  pixelScale = hardness / fwidth(vTexCoord);

  // which grid cell is this pixel in?
  ivec2 gridCoord = ifloor(vTexCoord * vec2(uGridSize));

  // intersect curves in this row
  {
    // the index into the row info bitmap
    int rowIndex = gridCoord.y + uGridOffset.y;
    // fetch the info texel
    vec4 rowInfo = getTexel(uSamplerRows, rowIndex, uGridImageSize);
    // unpack the rowInfo
    int rowStrokeIndex = getInt16(rowInfo.xy);
    int rowStrokeCount = getInt16(rowInfo.zw);

    for (int iRowStroke = INT(0); iRowStroke < N; iRowStroke++) {
      if (iRowStroke >= rowStrokeCount)
        break;

      // each stroke is made up of 3 points: the start and control point
      // and the start of the next curve.
      // fetch the indices of this pair of strokes:
      vec4 strokeIndices = getTexel(uSamplerRowStrokes, rowStrokeIndex++, uCellsImageSize);

      // unpack the stroke index
      int strokePos = getInt16(strokeIndices.xy);

      // fetch the two strokes
      vec4 stroke0 = getTexel(uSamplerStrokes, strokePos + INT(0), uStrokeImageSize);
      vec4 stroke1 = getTexel(uSamplerStrokes, strokePos + INT(1), uStrokeImageSize);

      // calculate the coverage
      coverageX(stroke0.xy, stroke0.zw, stroke1.xy);
    }
  }

  // intersect curves in this column
  {
    int colIndex = gridCoord.x + uGridOffset.x;
    vec4 colInfo = getTexel(uSamplerCols, colIndex, uGridImageSize);
    int colStrokeIndex = getInt16(colInfo.xy);
    int colStrokeCount = getInt16(colInfo.zw);
    
    for (int iColStroke = INT(0); iColStroke < N; iColStroke++) {
      if (iColStroke >= colStrokeCount)
        break;

      vec4 strokeIndices = getTexel(uSamplerColStrokes, colStrokeIndex++, uCellsImageSize);

      int strokePos = getInt16(strokeIndices.xy);
      vec4 stroke0 = getTexel(uSamplerStrokes, strokePos + INT(0), uStrokeImageSize);
      vec4 stroke1 = getTexel(uSamplerStrokes, strokePos + INT(1), uStrokeImageSize);
      coverageY(stroke0.xy, stroke0.zw, stroke1.xy);
    }
  }

  weight = saturate(1.0 - weight * 2.0);
  float distance = max(weight.x + weight.y, minDistance); // manhattan approx.
  float antialias = abs(dot(coverage, weight) / distance);
  float cover = min(abs(coverage.x), abs(coverage.y));
  OUT_COLOR = vec4(uMaterialColor.rgb, 1.) * uMaterialColor.a;
  OUT_COLOR *= saturate(max(antialias, cover));
}
`,lineVert:U+`/*
  Part of the Processing project - http://processing.org
  Copyright (c) 2012-15 The Processing Foundation
  Copyright (c) 2004-12 Ben Fry and Casey Reas
  Copyright (c) 2001-04 Massachusetts Institute of Technology
  This library is free software; you can redistribute it and/or
  modify it under the terms of the GNU Lesser General Public
  License as published by the Free Software Foundation, version 2.1.
  This library is distributed in the hope that it will be useful,
  but WITHOUT ANY WARRANTY; without even the implied warranty of
  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
  Lesser General Public License for more details.
  You should have received a copy of the GNU Lesser General
  Public License along with this library; if not, write to the
  Free Software Foundation, Inc., 59 Temple Place, Suite 330,
  Boston, MA  02111-1307  USA
*/

#define PROCESSING_LINE_SHADER

precision mediump int;

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
uniform float uStrokeWeight;

uniform bool uUseLineColor;
uniform vec4 uMaterialColor;

uniform vec4 uViewport;
uniform int uPerspective;
uniform int uStrokeJoin;

IN vec4 aPosition;
IN vec3 aTangentIn;
IN vec3 aTangentOut;
IN float aSide;
IN vec4 aVertexColor;

OUT vec4 vColor;
OUT vec2 vTangent;
OUT vec2 vCenter;
OUT vec2 vPosition;
OUT float vMaxDist;
OUT float vCap;
OUT float vJoin;

vec2 lineIntersection(vec2 aPoint, vec2 aDir, vec2 bPoint, vec2 bDir) {
  // Rotate and translate so a starts at the origin and goes out to the right
  bPoint -= aPoint;
  vec2 rotatedBFrom = vec2(
    bPoint.x*aDir.x + bPoint.y*aDir.y,
    bPoint.y*aDir.x - bPoint.x*aDir.y
  );
  vec2 bTo = bPoint + bDir;
  vec2 rotatedBTo = vec2(
    bTo.x*aDir.x + bTo.y*aDir.y,
    bTo.y*aDir.x - bTo.x*aDir.y
  );
  float intersectionDistance =
    rotatedBTo.x + (rotatedBFrom.x - rotatedBTo.x) * rotatedBTo.y /
    (rotatedBTo.y - rotatedBFrom.y);
  return aPoint + aDir * intersectionDistance;
}

void main() {
  // Caps have one of either the in or out tangent set to 0
  vCap = (aTangentIn == vec3(0.)) != (aTangentOut == (vec3(0.)))
    ? 1. : 0.;

  // Joins have two unique, defined tangents
  vJoin = (
    aTangentIn != vec3(0.) &&
    aTangentOut != vec3(0.) &&
    aTangentIn != aTangentOut
  ) ? 1. : 0.;

  vec4 posp = uModelViewMatrix * aPosition;
  vec4 posqIn = uModelViewMatrix * (aPosition + vec4(aTangentIn, 0));
  vec4 posqOut = uModelViewMatrix * (aPosition + vec4(aTangentOut, 0));

  float facingCamera = pow(
    // The word space tangent's z value is 0 if it's facing the camera
    abs(normalize(posqIn-posp).z),

    // Using pow() here to ramp \`facingCamera\` up from 0 to 1 really quickly
    // so most lines get scaled and don't get clipped
    0.25
  );

  // using a scale <1 moves the lines towards the camera
  // in order to prevent popping effects due to half of
  // the line disappearing behind the geometry faces.
  float scale = mix(1., 0.995, facingCamera);

  // Moving vertices slightly toward the camera
  // to avoid depth-fighting with the fill triangles.
  // Discussed here:
  // http://www.opengl.org/discussion_boards/ubbthreads.php?ubb=showflat&Number=252848  
  posp.xyz = posp.xyz * scale;
  posqIn.xyz = posqIn.xyz * scale;
  posqOut.xyz = posqOut.xyz * scale;

  vec4 p = uProjectionMatrix * posp;
  vec4 qIn = uProjectionMatrix * posqIn;
  vec4 qOut = uProjectionMatrix * posqOut;
  vCenter = p.xy;

  // formula to convert from clip space (range -1..1) to screen space (range 0..[width or height])
  // screen_p = (p.xy/p.w + <1,1>) * 0.5 * uViewport.zw

  // prevent division by W by transforming the tangent formula (div by 0 causes
  // the line to disappear, see https://github.com/processing/processing/issues/5183)
  // t = screen_q - screen_p
  //
  // tangent is normalized and we don't care which aDirection it points to (+-)
  // t = +- normalize( screen_q - screen_p )
  // t = +- normalize( (q.xy/q.w+<1,1>)*0.5*uViewport.zw - (p.xy/p.w+<1,1>)*0.5*uViewport.zw )
  //
  // extract common factor, <1,1> - <1,1> cancels out
  // t = +- normalize( (q.xy/q.w - p.xy/p.w) * 0.5 * uViewport.zw )
  //
  // convert to common divisor
  // t = +- normalize( ((q.xy*p.w - p.xy*q.w) / (p.w*q.w)) * 0.5 * uViewport.zw )
  //
  // remove the common scalar divisor/factor, not needed due to normalize and +-
  // (keep uViewport - can't remove because it has different components for x and y
  //  and corrects for aspect ratio, see https://github.com/processing/processing/issues/5181)
  // t = +- normalize( (q.xy*p.w - p.xy*q.w) * uViewport.zw )

  vec2 tangentIn = normalize((qIn.xy*p.w - p.xy*qIn.w) * uViewport.zw);
  vec2 tangentOut = normalize((qOut.xy*p.w - p.xy*qOut.w) * uViewport.zw);

  vec2 curPerspScale;
  if(uPerspective == 1) {
    // Perspective ---
    // convert from world to clip by multiplying with projection scaling factor
    // to get the right thickness (see https://github.com/processing/processing/issues/5182)

    // The y value of the projection matrix may be flipped if rendering to a Framebuffer.
    // Multiplying again by its sign here negates the flip to get just the scale.
    curPerspScale = (uProjectionMatrix * vec4(1, sign(uProjectionMatrix[1][1]), 0, 0)).xy;
  } else {
    // No Perspective ---
    // multiply by W (to cancel out division by W later in the pipeline) and
    // convert from screen to clip (derived from clip to screen above)
    curPerspScale = p.w / (0.5 * uViewport.zw);
  }

  vec2 offset;
  if (vJoin == 1.) {
    vTangent = normalize(tangentIn + tangentOut);
    vec2 normalIn = vec2(-tangentIn.y, tangentIn.x);
    vec2 normalOut = vec2(-tangentOut.y, tangentOut.x);
    float side = sign(aSide);
    float sideEnum = abs(aSide);

    // We generate vertices for joins on either side of the centerline, but
    // the "elbow" side is the only one needing a join. By not setting the
    // offset for the other side, all its vertices will end up in the same
    // spot and not render, effectively discarding it.
    if (sign(dot(tangentOut, vec2(-tangentIn.y, tangentIn.x))) != side) {
      // Side enums:
      //   1: the side going into the join
      //   2: the middle of the join
      //   3: the side going out of the join
      if (sideEnum == 2.) {
        // Calculate the position + tangent on either side of the join, and
        // find where the lines intersect to find the elbow of the join
        vec2 c = (posp.xy/posp.w + vec2(1.,1.)) * 0.5 * uViewport.zw;
        vec2 intersection = lineIntersection(
          c + (side * normalIn * uStrokeWeight / 2.),
          tangentIn,
          c + (side * normalOut * uStrokeWeight / 2.),
          tangentOut
        );
        offset = (intersection - c);

        // When lines are thick and the angle of the join approaches 180, the
        // elbow might be really far from the center. We'll apply a limit to
        // the magnitude to avoid lines going across the whole screen when this
        // happens.
        float mag = length(offset);
        float maxMag = 3. * uStrokeWeight;
        if (mag > maxMag) {
          offset *= maxMag / mag;
        }
      } else if (sideEnum == 1.) {
        offset = side * normalIn * uStrokeWeight / 2.;
      } else if (sideEnum == 3.) {
        offset = side * normalOut * uStrokeWeight / 2.;
      }
    }
    if (uStrokeJoin == STROKE_JOIN_BEVEL) {
      vec2 avgNormal = vec2(-vTangent.y, vTangent.x);
      vMaxDist = abs(dot(avgNormal, normalIn * uStrokeWeight / 2.));
    } else {
      vMaxDist = uStrokeWeight / 2.;
    }
  } else {
    vec2 tangent = aTangentIn == vec3(0.) ? tangentOut : tangentIn;
    vTangent = tangent;
    vec2 normal = vec2(-tangent.y, tangent.x);

    float normalOffset = sign(aSide);
    // Caps will have side values of -2 or 2 on the edge of the cap that
    // extends out from the line
    float tangentOffset = abs(aSide) - 1.;
    offset = (normal * normalOffset + tangent * tangentOffset) *
      uStrokeWeight * 0.5;
    vMaxDist = uStrokeWeight / 2.;
  }
  vPosition = vCenter + offset;

  gl_Position.xy = p.xy + offset.xy * curPerspScale;
  gl_Position.zw = p.zw;
  
  vColor = (uUseLineColor ? aVertexColor : uMaterialColor);
}
`,lineFrag:U+`precision mediump int;

uniform vec4 uMaterialColor;
uniform int uStrokeCap;
uniform int uStrokeJoin;
uniform float uStrokeWeight;

IN vec4 vColor;
IN vec2 vTangent;
IN vec2 vCenter;
IN vec2 vPosition;
IN float vMaxDist;
IN float vCap;
IN float vJoin;

float distSquared(vec2 a, vec2 b) {
  vec2 aToB = b - a;
  return dot(aToB, aToB);
}

void main() {
  if (vCap > 0.) {
    if (
      uStrokeCap == STROKE_CAP_ROUND &&
      distSquared(vPosition, vCenter) > uStrokeWeight * uStrokeWeight * 0.25
    ) {
      discard;
    } else if (
      uStrokeCap == STROKE_CAP_SQUARE &&
      dot(vPosition - vCenter, vTangent) > 0.
    ) {
      discard;
    }
    // Use full area for PROJECT
  } else if (vJoin > 0.) {
    if (
      uStrokeJoin == STROKE_JOIN_ROUND &&
      distSquared(vPosition, vCenter) > uStrokeWeight * uStrokeWeight * 0.25
    ) {
      discard;
    } else if (uStrokeJoin == STROKE_JOIN_BEVEL) {
      vec2 normal = vec2(-vTangent.y, vTangent.x);
      if (abs(dot(vPosition - vCenter, normal)) > vMaxDist) {
        discard;
      }
    }
    // Use full area for MITER
  }
  OUT_COLOR = vec4(vColor.rgb, 1.) * vColor.a;
}
`,pointVert:`IN vec3 aPosition;
uniform float uPointSize;
OUT float vStrokeWeight;
uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
void main() {
	vec4 positionVec4 =  vec4(aPosition, 1.0);
	gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
	gl_PointSize = uPointSize;
	vStrokeWeight = uPointSize;
}
`,pointFrag:`precision mediump int;
uniform vec4 uMaterialColor;
IN float vStrokeWeight;

void main(){
  float mask = 0.0;

  // make a circular mask using the gl_PointCoord (goes from 0 - 1 on a point)
  // might be able to get a nicer edge on big strokeweights with smoothstep but slightly less performant

  mask = step(0.98, length(gl_PointCoord * 2.0 - 1.0));

  // if strokeWeight is 1 or less lets just draw a square
  // this prevents weird artifacting from carving circles when our points are really small
  // if strokeWeight is larger than 1, we just use it as is

  mask = mix(0.0, mask, clamp(floor(vStrokeWeight - 0.5),0.0,1.0));

  // throw away the borders of the mask
  // otherwise we get weird alpha blending issues

  if(mask > 0.98){
    discard;
  }

  OUT_COLOR = vec4(uMaterialColor.rgb, 1.) * uMaterialColor.a;
}
`,imageLightVert:`precision highp float;
attribute vec3 aPosition;
attribute vec3 aNormal;
attribute vec2 aTexCoord;

varying vec3 localPos;
varying vec3 vWorldNormal;
varying vec3 vWorldPosition;
varying vec2 vTexCoord;

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
uniform mat3 uNormalMatrix;

void main() {
  // Multiply the position by the matrix.
  vec4 viewModelPosition = uModelViewMatrix * vec4(aPosition, 1.0);
  gl_Position = uProjectionMatrix * viewModelPosition;  
  
  // orient the normals and pass to the fragment shader
  vWorldNormal = uNormalMatrix * aNormal;
  
  // send the view position to the fragment shader
  vWorldPosition = (uModelViewMatrix * vec4(aPosition, 1.0)).xyz;
  
  localPos = vWorldPosition;
  vTexCoord = aTexCoord;
}


/*
in the vertex shader we'll compute the world position and world oriented normal of the vertices and pass those to the fragment shader as varyings.
*/
`,imageLightDiffusedFrag:`precision highp float;
varying vec3 localPos;

// the HDR cubemap converted (can be from an equirectangular environment map.)
uniform sampler2D environmentMap;
varying vec2 vTexCoord;

const float PI = 3.14159265359;

vec2 nTOE( vec3 v ){
  // x = r sin(phi) cos(theta)   
  // y = r cos(phi)  
  // z = r sin(phi) sin(theta)
  float phi = acos( v.y );
  // if phi is 0, then there are no x, z components
  float theta = 0.0;
  // else 
  theta = acos(v.x / sin(phi));
  float sinTheta = v.z / sin(phi);
  if (sinTheta < 0.0) {
    // Turn it into -theta, but in the 0-2PI range
    theta = 2.0 * PI - theta;
  }
  theta = theta / (2.0 * 3.14159);
  phi = phi / 3.14159 ;
  
  vec2 angles = vec2( phi, theta );
  return angles;
}

float random(vec2 p) {
  vec3 p3  = fract(vec3(p.xyx) * .1031);
  p3 += dot(p3, p3.yzx + 33.33);
  return fract((p3.x + p3.y) * p3.z);
}

void main()
{   	 
	// the sample direction equals the hemisphere's orientation
  float phi = vTexCoord.x * 2.0 * PI;
  float theta = vTexCoord.y * PI;
  float x = sin(theta) * cos(phi);
  float y = sin(theta) * sin(phi);
  float z = cos(theta);
  vec3 normal = vec3( x, y, z);

	// Discretely sampling the hemisphere given the integral's
  // spherical coordinates translates to the following fragment code:
	vec3 irradiance = vec3(0.0);  
	vec3 up	= vec3(0.0, 1.0, 0.0);
	vec3 right = normalize(cross(up, normal));
	up = normalize(cross(normal, right));

	//  We specify a fixed sampleDelta delta value to traverse
  // the hemisphere; decreasing or increasing the sample delta
  // will increase or decrease the accuracy respectively.
	const float sampleDelta = 0.100;
	float nrSamples = 0.0;
  float randomOffset = random(gl_FragCoord.xy) * sampleDelta;
	for(float rawPhi = 0.0; rawPhi < 2.0 * PI; rawPhi += sampleDelta)
	{
    float phi = rawPhi + randomOffset;
    for(float rawTheta = 0.0; rawTheta < ( 0.5 ) * PI; rawTheta += sampleDelta)
    {
      float theta = rawTheta + randomOffset;
      // spherical to cartesian (in tangent space) // tangent space to world // add each sample result to irradiance
      float x = sin(theta) * cos(phi);
      float y = sin(theta) * sin(phi);
      float z = cos(theta);
      vec3 tangentSample = vec3( x, y, z);
      
      vec3 sampleVec = tangentSample.x * right + tangentSample.y * up + tangentSample.z * normal;
        irradiance += (texture2D(environmentMap, nTOE(sampleVec)).xyz) * cos(theta) * sin(theta);
      nrSamples++;
    }
	}
	// divide by the total number of samples taken, giving us the average sampled irradiance.
	irradiance = PI * irradiance * (1.0 / float(nrSamples )) ;
  
 
	gl_FragColor = vec4(irradiance, 1.0);
}`,imageLightSpecularFrag:`precision highp float;\r
varying vec3 localPos;\r
varying vec2 vTexCoord;\r
\r
// our texture\r
uniform sampler2D environmentMap;\r
uniform float roughness;\r
\r
const float PI = 3.14159265359;\r
\r
float VanDerCorput(int bits);\r
vec2 HammersleyNoBitOps(int i, int N);\r
vec3 ImportanceSampleGGX(vec2 Xi, vec3 N, float roughness);\r
\r
\r
vec2 nTOE( vec3 v ){\r
  // x = r sin(phi) cos(theta)   \r
  // y = r cos(phi)  \r
  // z = r sin(phi) sin(theta)\r
  float phi = acos( v.y );\r
  // if phi is 0, then there are no x, z components\r
  float theta = 0.0;\r
  // else \r
  theta = acos(v.x / sin(phi));\r
  float sinTheta = v.z / sin(phi);\r
  if (sinTheta < 0.0) {\r
    // Turn it into -theta, but in the 0-2PI range\r
    theta = 2.0 * PI - theta;\r
  }\r
  theta = theta / (2.0 * 3.14159);\r
  phi = phi / 3.14159 ;\r
  \r
  vec2 angles = vec2( phi, theta );\r
  return angles;\r
}\r
\r
\r
void main(){\r
  const int SAMPLE_COUNT = 400; // 4096\r
  int lowRoughnessLimit = int(pow(2.0,(roughness+0.1)*20.0));\r
  float totalWeight = 0.0;\r
  vec3 prefilteredColor = vec3(0.0);\r
  float phi = vTexCoord.x * 2.0 * PI;\r
  float theta = vTexCoord.y * PI;\r
  float x = sin(theta) * cos(phi);\r
  float y = sin(theta) * sin(phi);\r
  float z = cos(theta);\r
  vec3 N = vec3(x,y,z);\r
  vec3 V = N;\r
  for (int i = 0; i < SAMPLE_COUNT; ++i)\r
  {\r
    // break at smaller sample numbers for low roughness levels\r
    if(i == lowRoughnessLimit)\r
    {\r
      break;\r
    }\r
    vec2 Xi = HammersleyNoBitOps(i, SAMPLE_COUNT);\r
    vec3 H = ImportanceSampleGGX(Xi, N, roughness);\r
    vec3 L = normalize(2.0 * dot(V, H) * H - V);\r
\r
    float NdotL = max(dot(N, L), 0.0);\r
    if (NdotL > 0.0)\r
    {\r
      prefilteredColor += texture2D(environmentMap, nTOE(L)).xyz * NdotL;\r
      totalWeight += NdotL;\r
    }\r
  }\r
  prefilteredColor = prefilteredColor / totalWeight;\r
\r
  gl_FragColor = vec4(prefilteredColor, 1.0);\r
}\r
\r
vec3 ImportanceSampleGGX(vec2 Xi, vec3 N, float roughness){\r
  float a = roughness * roughness;\r
\r
  float phi = 2.0 * PI * Xi.x;\r
  float cosTheta = sqrt((1.0 - Xi.y) / (1.0 + (a * a - 1.0) * Xi.y));\r
  float sinTheta = sqrt(1.0 - cosTheta * cosTheta);\r
  // from spherical coordinates to cartesian coordinates\r
  vec3 H;\r
  H.x = cos(phi) * sinTheta;\r
  H.y = sin(phi) * sinTheta;\r
  H.z = cosTheta;\r
\r
  // from tangent-space vector to world-space sample vector\r
  vec3 up = abs(N.z) < 0.999 ? vec3(0.0, 0.0, 1.0) : vec3(1.0, 0.0, 0.0);\r
  vec3 tangent = normalize(cross(up, N));\r
  vec3 bitangent = cross(N, tangent);\r
\r
  vec3 sampleVec = tangent * H.x + bitangent * H.y + N * H.z;\r
  return normalize(sampleVec);\r
}\r
\r
\r
float VanDerCorput(int n, int base)\r
{\r
#ifdef WEBGL2\r
\r
    uint bits = uint(n);\r
    bits = (bits << 16u) | (bits >> 16u);\r
    bits = ((bits & 0x55555555u) << 1u) | ((bits & 0xAAAAAAAAu) >> 1u);\r
    bits = ((bits & 0x33333333u) << 2u) | ((bits & 0xCCCCCCCCu) >> 2u);\r
    bits = ((bits & 0x0F0F0F0Fu) << 4u) | ((bits & 0xF0F0F0F0u) >> 4u);\r
    bits = ((bits & 0x00FF00FFu) << 8u) | ((bits & 0xFF00FF00u) >> 8u);\r
    return float(bits) * 2.3283064365386963e-10; // / 0x100000000\r
\r
#else\r
\r
  float invBase = 1.0 / float(base);\r
  float denom = 1.0;\r
  float result = 0.0;\r
\r
\r
  for (int i = 0; i < 32; ++i)\r
  {\r
        if (n > 0)\r
        {\r
        denom = mod(float(n), 2.0);\r
        result += denom * invBase;\r
        invBase = invBase / 2.0;\r
        n = int(float(n) / 2.0);\r
        }\r
  }\r
\r
\r
  return result;\r
\r
#endif\r
}\r
\r
vec2 HammersleyNoBitOps(int i, int N)\r
{\r
  return vec2(float(i) / float(N), VanDerCorput(i, 2));\r
}\r
`},G=V.sphereMappingFrag;for(I in V)V[I]=`#ifdef WEBGL2

#define IN in
#define OUT out

#ifdef FRAGMENT_SHADER
out vec4 outColor;
#define OUT_COLOR outColor
#endif
#define TEXTURE texture

#else

#ifdef FRAGMENT_SHADER
#define IN varying
#else
#define IN attribute
#endif
#define OUT varying
#define TEXTURE texture2D

#ifdef FRAGMENT_SHADER
#define OUT_COLOR gl_FragColor
#endif

#endif
`+V[I];O(D={},c.GRAY,`precision highp float;

varying vec2 vTexCoord;

uniform sampler2D tex0;

float luma(vec3 color) {
  // weighted grayscale with luminance values
  return dot(color, vec3(0.2126, 0.7152, 0.0722));
}

void main() {
  vec4 tex = texture2D(tex0, vTexCoord);
  float gray = luma(tex.rgb);
  gl_FragColor = vec4(gray, gray, gray, tex.a);
}
`),O(D,c.ERODE,`// Reduces the bright areas in an image

precision highp float;

varying vec2 vTexCoord;

uniform sampler2D tex0;
uniform vec2 texelSize;

float luma(vec3 color) {
  // weighted grayscale with luminance values
  // weights 77, 151, 28 taken from src/image/filters.js
  return dot(color, vec3(0.300781, 0.589844, 0.109375));
}

void main() {
  vec4 color = texture2D(tex0, vTexCoord);
  float lum = luma(color.rgb);

  // set current color as the darkest neighbor color

  vec4 neighbors[4];
  neighbors[0] = texture2D(tex0, vTexCoord + vec2( texelSize.x, 0.0));
  neighbors[1] = texture2D(tex0, vTexCoord + vec2(-texelSize.x, 0.0));
  neighbors[2] = texture2D(tex0, vTexCoord + vec2(0.0,  texelSize.y));
  neighbors[3] = texture2D(tex0, vTexCoord + vec2(0.0, -texelSize.y));

  for (int i = 0; i < 4; i++) {
    vec4 neighborColor = neighbors[i];
    float neighborLum = luma(neighborColor.rgb);

    if (neighborLum < lum) {
      color = neighborColor;
      lum = neighborLum;
    }
  }

  gl_FragColor = color;
}
`),O(D,c.DILATE,`// Increase the bright areas in an image

precision highp float;

varying vec2 vTexCoord;

uniform sampler2D tex0;
uniform vec2 texelSize;

float luma(vec3 color) {
  // weighted grayscale with luminance values
  // weights 77, 151, 28 taken from src/image/filters.js
  return dot(color, vec3(0.300781, 0.589844, 0.109375));
}

void main() {
  vec4 color = texture2D(tex0, vTexCoord);
  float lum = luma(color.rgb);

  // set current color as the brightest neighbor color

  vec4 neighbors[4];
  neighbors[0] = texture2D(tex0, vTexCoord + vec2( texelSize.x, 0.0));
  neighbors[1] = texture2D(tex0, vTexCoord + vec2(-texelSize.x, 0.0));
  neighbors[2] = texture2D(tex0, vTexCoord + vec2(0.0,  texelSize.y));
  neighbors[3] = texture2D(tex0, vTexCoord + vec2(0.0, -texelSize.y));

  for (int i = 0; i < 4; i++) {
    vec4 neighborColor = neighbors[i];
    float neighborLum = luma(neighborColor.rgb);

    if (neighborLum > lum) {
      color = neighborColor;
      lum = neighborLum;
    }
  }

  gl_FragColor = color;
}
`),O(D,c.BLUR,`precision highp float;

// Two-pass blur filter, unweighted kernel.
// See also a similar blur at Adam Ferriss' repo of shader examples:
// https://github.com/aferriss/p5jsShaderExamples/blob/gh-pages/4_image-effects/4-9_single-pass-blur/effect.frag


uniform sampler2D tex0;
varying vec2 vTexCoord;
uniform vec2 direction;
uniform vec2 canvasSize;
uniform float radius;

float random(vec2 p) {
  vec3 p3  = fract(vec3(p.xyx) * .1031);
  p3 += dot(p3, p3.yzx + 33.33);
  return fract((p3.x + p3.y) * p3.z);
}

// This isn't a real Gaussian weight, it's a quadratic weight. It's what the
// CPU mode's blur uses though, so we also use it here to match.
float quadWeight(float x, float e) {
  return pow(e-abs(x), 2.);
}

void main(){
  vec2 uv = vTexCoord;

  // A reasonable maximum number of samples
  const float maxSamples = 64.0;

  float numSamples = floor(7. * radius);
  if (fract(numSamples / 2.) == 0.) {
    numSamples++;
  }
  vec4 avg = vec4(0.0);
  float total = 0.0;

  // Calculate the spacing to avoid skewing if numSamples > maxSamples
  float spacing = 1.0;
  if (numSamples > maxSamples) {
    spacing = numSamples / maxSamples;
    numSamples = maxSamples;
  }

  float randomOffset = (spacing - 1.0) * mix(-0.5, 0.5, random(gl_FragCoord.xy));
  for (float i = 0.0; i < maxSamples; i++) {
    if (i >= numSamples) break;

    float sample = i * spacing - (numSamples - 1.0) * 0.5 * spacing + randomOffset;
    vec2 sampleCoord = uv + vec2(sample, sample) / canvasSize * direction;
    float weight = quadWeight(sample, (numSamples - 1.0) * 0.5 * spacing);

    avg += weight * texture2D(tex0, sampleCoord);
    total += weight;
  }

  avg /= total;
  gl_FragColor = avg;
}
`),O(D,c.POSTERIZE,`// Limit color space for a stylized cartoon / poster effect

precision highp float;

varying vec2 vTexCoord;

uniform sampler2D tex0;
uniform float filterParameter;

vec3 quantize(vec3 color, float n) {
  // restrict values to N options/bins
  // and floor each channel to nearest value
  //
  // eg. when N = 5, values = 0.0, 0.25, 0.50, 0.75, 1.0
  // then quantize (0.1, 0.7, 0.9) -> (0.0, 0.5, 1.0)

  color = color * n;
  color = floor(color);
  color = color / (n - 1.0);
  return color;
}

void main() {
  vec4 color = texture2D(tex0, vTexCoord);

  vec3 restrictedColor = quantize(color.rgb / color.a, filterParameter);

  gl_FragColor = vec4(restrictedColor.rgb * color.a, color.a);
}
`),O(D,c.OPAQUE,`// Set alpha channel to entirely opaque

precision highp float;

varying vec2 vTexCoord;

uniform sampler2D tex0;

void main() {
  vec4 color = texture2D(tex0, vTexCoord);
  gl_FragColor = vec4(color.rgb / color.a, 1.0);
}
`),O(D,c.INVERT,`// Set each pixel to inverse value
// Note that original INVERT does not change the opacity, so this follows suit

precision highp float;

varying vec2 vTexCoord;

uniform sampler2D tex0;

void main() {
vec4 color = texture2D(tex0, vTexCoord);
vec3 origColor = color.rgb / color.a;
vec3 invertedColor = vec3(1.0) - origColor;
gl_FragColor = vec4(invertedColor * color.a, color.a);
}
`),O(D,c.THRESHOLD,`// Convert pixels to either white or black, 
// depending on if their luma is above or below filterParameter

precision highp float;

varying vec2 vTexCoord;

uniform sampler2D tex0;
uniform float filterParameter;

float luma(vec3 color) {
  // weighted grayscale with luminance values
  return dot(color, vec3(0.2126, 0.7152, 0.0722));
}

void main() {
  vec4 color = texture2D(tex0, vTexCoord);
  float gray = luma(color.rgb / color.a);
  // floor() used to match src/image/filters.js
  float threshold = floor(filterParameter * 255.0) / 255.0;
  float blackOrWhite = step(threshold, gray);
  gl_FragColor = vec4(vec3(blackOrWhite) * color.a, color.a);
}
`);var W=D;function J(Y,z,_e,ie,C,B,H,$,ne,se){var de=z.getParameter(z.FRAMEBUFFER_BINDING),_e=(z.bindFramebuffer(z.FRAMEBUFFER,_e),$===z.RGBA?4:3),pe=B*H*_e,ge=ne===z.UNSIGNED_BYTE?Uint8Array:Float32Array;if(Y instanceof ge&&Y.length===pe||(Y=new ge(pe)),z.readPixels(ie,se?se-C-H:C,B,H,$,ne,Y),z.bindFramebuffer(z.FRAMEBUFFER,de),se)for(var ve=Math.floor(H/2),le=new ge(B*_e),he=0;he<ve;he++){var be=he*B*4,Ae=(H-he-1)*B*4;le.set(Y.subarray(be,be+4*B)),Y.copyWithin(be,Ae,Ae+4*B),Y.set(le,Ae)}return Y}function Q(Y,ne,ee,ie,C,B,H){var $=Y.getParameter(Y.FRAMEBUFFER_BINDING),ne=(Y.bindFramebuffer(Y.FRAMEBUFFER,ne),C===Y.RGBA?4:3),ne=new(B===Y.UNSIGNED_BYTE?Uint8Array:Float32Array)(ne);return Y.readPixels(ee,H?H-ie-1:ie,1,1,C,B,ne),Y.bindFramebuffer(Y.FRAMEBUFFER,$),Array.from(ne)}s.default.prototype.setAttributes=function(Y,z){if(this._glAttributes===void 0)console.log("You are trying to use setAttributes on a p5.Graphics object that does not use a WEBGL renderer.");else{var ee=!0;if(z!==void 0?(this._glAttributes===null&&(this._glAttributes={}),this._glAttributes[Y]!==z&&(this._glAttributes[Y]=z,ee=!1)):Y instanceof Object&&this._glAttributes!==Y&&(this._glAttributes=Y,ee=!1),this._renderer.isP3D&&!ee){if(!this._setupDone){for(var ie in this._renderer.retainedMode.geometry)if(this._renderer.retainedMode.geometry.hasOwnProperty(ie))return void s.default._friendlyError("Sorry, Could not set the attributes, you need to call setAttributes() before calling the other drawing methods in setup()")}this.push(),this._renderer._resetContext(),this.pop(),this._renderer._curCamera&&(this._renderer._curCamera._renderer=this._renderer)}}},s.default.RendererGL=function(Y){var z=ie;if(typeof Y!="function"&&Y!==null)throw new TypeError("Super expression must either be null or a function");z.prototype=Object.create(Y&&Y.prototype,{constructor:{value:z,writable:!0,configurable:!0}}),Y&&m(z,Y);var ee=_(ie);function ie(C,B,H,$){if(this instanceof ie)return(C=ee.call(this,C,B,H))._setAttributeDefaults(B),C._initContext(),C.isP3D=!0,C.geometryBuilder=void 0,C.GL=C.drawingContext,C._pInst._setProperty("drawingContext",C.drawingContext),C._isErasing=!1,C._clipDepths=[],C._isClipApplied=!1,C._stencilTestOn=!1,C._enableLighting=!1,C.ambientLightColors=[],C.mixedAmbientLight=[],C.mixedSpecularColor=[],C.specularColors=[1,1,1],C.directionalLightDirections=[],C.directionalLightDiffuseColors=[],C.directionalLightSpecularColors=[],C.pointLightPositions=[],C.pointLightDiffuseColors=[],C.pointLightSpecularColors=[],C.spotLightPositions=[],C.spotLightDirections=[],C.spotLightDiffuseColors=[],C.spotLightSpecularColors=[],C.spotLightAngle=[],C.spotLightConc=[],C.activeImageLight=null,C.diffusedTextures=new Map,C.specularTextures=new Map,C.drawMode=c.FILL,C.curFillColor=C._cachedFillStyle=[1,1,1,1],C.curAmbientColor=C._cachedFillStyle=[1,1,1,1],C.curSpecularColor=C._cachedFillStyle=[0,0,0,0],C.curEmissiveColor=C._cachedFillStyle=[0,0,0,0],C.curStrokeColor=C._cachedStrokeStyle=[0,0,0,1],C.curBlendMode=c.BLEND,C.preEraseBlend=void 0,C._cachedBlendMode=void 0,C.webglVersion===c.WEBGL2?C.blendExt=C.GL:C.blendExt=C.GL.getExtension("EXT_blend_minmax"),C._isBlending=!1,C._hasSetAmbient=!1,C._useSpecularMaterial=!1,C._useEmissiveMaterial=!1,C._useNormalMaterial=!1,C._useShininess=1,C._useMetalness=0,C._useLineColor=!1,C._useVertexColor=!1,C.registerEnabled=new Set,C._tint=[255,255,255,255],C.constantAttenuation=1,C.linearAttenuation=0,C.quadraticAttenuation=0,C.uMVMatrix=new s.default.Matrix,C.uPMatrix=new s.default.Matrix,C.uNMatrix=new s.default.Matrix("mat3"),C.curMatrix=new s.default.Matrix("mat3"),C._currentNormal=new s.default.Vector(0,0,1),C._curCamera=new s.default.Camera(b(C)),C._curCamera._computeCameraDefaultSettings(),C._curCamera._setDefaultCamera(),C.filterCamera=new s.default.Camera(b(C)),C.filterCamera._computeCameraDefaultSettings(),C.filterCamera._setDefaultCamera(),C.prevTouches=[],C.zoomVelocity=0,C.rotateVelocity=new s.default.Vector(0,0),C.moveVelocity=new s.default.Vector(0,0),C.executeZoom=!1,C.executeRotateAndMove=!1,C.specularShader=void 0,C.sphereMapping=void 0,C.diffusedShader=void 0,C._defaultLightShader=void 0,C._defaultImmediateModeShader=void 0,C._defaultNormalShader=void 0,C._defaultColorShader=void 0,C._defaultPointShader=void 0,C.userFillShader=void 0,C.userStrokeShader=void 0,C.userPointShader=void 0,C.retainedMode={geometry:{},buffers:{stroke:[new s.default.RenderBuffer(4,"lineVertexColors","lineColorBuffer","aVertexColor",b(C)),new s.default.RenderBuffer(3,"lineVertices","lineVerticesBuffer","aPosition",b(C)),new s.default.RenderBuffer(3,"lineTangentsIn","lineTangentsInBuffer","aTangentIn",b(C)),new s.default.RenderBuffer(3,"lineTangentsOut","lineTangentsOutBuffer","aTangentOut",b(C)),new s.default.RenderBuffer(1,"lineSides","lineSidesBuffer","aSide",b(C))],fill:[new s.default.RenderBuffer(3,"vertices","vertexBuffer","aPosition",b(C),C._vToNArray),new s.default.RenderBuffer(3,"vertexNormals","normalBuffer","aNormal",b(C),C._vToNArray),new s.default.RenderBuffer(4,"vertexColors","colorBuffer","aVertexColor",b(C)),new s.default.RenderBuffer(3,"vertexAmbients","ambientBuffer","aAmbientColor",b(C)),new s.default.RenderBuffer(2,"uvs","uvBuffer","aTexCoord",b(C),C._flatten)],text:[new s.default.RenderBuffer(3,"vertices","vertexBuffer","aPosition",b(C),C._vToNArray),new s.default.RenderBuffer(2,"uvs","uvBuffer","aTexCoord",b(C),C._flatten)]}},C.immediateMode={geometry:new s.default.Geometry,shapeMode:c.TRIANGLE_FAN,contourIndices:[],_bezierVertex:[],_quadraticVertex:[],_curveVertex:[],buffers:{fill:[new s.default.RenderBuffer(3,"vertices","vertexBuffer","aPosition",b(C),C._vToNArray),new s.default.RenderBuffer(3,"vertexNormals","normalBuffer","aNormal",b(C),C._vToNArray),new s.default.RenderBuffer(4,"vertexColors","colorBuffer","aVertexColor",b(C)),new s.default.RenderBuffer(3,"vertexAmbients","ambientBuffer","aAmbientColor",b(C)),new s.default.RenderBuffer(2,"uvs","uvBuffer","aTexCoord",b(C),C._flatten)],stroke:[new s.default.RenderBuffer(4,"lineVertexColors","lineColorBuffer","aVertexColor",b(C)),new s.default.RenderBuffer(3,"lineVertices","lineVerticesBuffer","aPosition",b(C)),new s.default.RenderBuffer(3,"lineTangentsIn","lineTangentsInBuffer","aTangentIn",b(C)),new s.default.RenderBuffer(3,"lineTangentsOut","lineTangentsOutBuffer","aTangentOut",b(C)),new s.default.RenderBuffer(1,"lineSides","lineSidesBuffer","aSide",b(C))],point:C.GL.createBuffer()}},C.pointSize=5,C.curStrokeWeight=1,C.curStrokeCap=c.ROUND,C.curStrokeJoin=c.ROUND,C.textures=new Map,C.framebuffers=new Set,C.activeFramebuffers=[],C.filterShader=void 0,C.filterLayer=void 0,C.filterLayerTemp=void 0,C.defaultFilterShaders={},C.textureMode=c.IMAGE,C.textureWrapX=c.CLAMP,C.textureWrapY=c.CLAMP,C._tex=null,C._curveTightness=6,C._lookUpTableBezier=[],C._lookUpTableQuadratic=[],C._lutBezierDetail=0,C._lutQuadraticDetail=0,C.isProcessingVertices=!1,C._tessy=C._initTessy(),C.fontInfos={},C._curShader=void 0,C;throw new TypeError("Cannot call a class as a function")}return z=ie,(Y=[{key:"beginGeometry",value:function(){if(this.geometryBuilder)throw new Error("It looks like `beginGeometry()` is being called while another p5.Geometry is already being build.");this.geometryBuilder=new g.default(this)}},{key:"endGeometry",value:function(){var C;if(this.geometryBuilder)return C=this.geometryBuilder.finish(),this.geometryBuilder=void 0,C;throw new Error("Make sure you call beginGeometry() before endGeometry()!")}},{key:"buildGeometry",value:function(C){return this.beginGeometry(),C(),this.endGeometry()}},{key:"_setAttributeDefaults",value:function(C){var B={alpha:!0,depth:!0,stencil:!0,antialias:navigator.userAgent.toLowerCase().includes("safari"),premultipliedAlpha:!0,preserveDrawingBuffer:!0,perPixelLighting:!0,version:2};C._glAttributes===null?C._glAttributes=B:C._glAttributes=Object.assign(B,C._glAttributes)}},{key:"_initContext",value:function(){if(this._pInst._glAttributes.version!==1&&(this.drawingContext=this.canvas.getContext("webgl2",this._pInst._glAttributes)),this.webglVersion=this.drawingContext?c.WEBGL2:c.WEBGL,this._pInst._setProperty("webglVersion",this.webglVersion),this.drawingContext||(this.drawingContext=this.canvas.getContext("webgl",this._pInst._glAttributes)||this.canvas.getContext("experimental-webgl",this._pInst._glAttributes)),this.drawingContext===null)throw new Error("Error creating webgl context");var C=this.drawingContext;C.enable(C.DEPTH_TEST),C.depthFunc(C.LEQUAL),C.viewport(0,0,C.drawingBufferWidth,C.drawingBufferHeight),C.pixelStorei(C.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),this._viewport=this.drawingContext.getParameter(this.drawingContext.VIEWPORT)}},{key:"_getParam",value:function(){var C=this.drawingContext;return C.getParameter(C.MAX_TEXTURE_SIZE)}},{key:"_adjustDimensions",value:function(C,B){this._maxTextureSize||(this._maxTextureSize=this._getParam());var $=this._maxTextureSize,$=(s.default.prototype._maxAllowedPixelDimensions,Math.floor($/this.pixelDensity())),H=Math.min(C,$),$=Math.min(B,$);return H===C&&$===B||console.warn("Warning: The requested width/height exceeds hardware limits. "+"Adjusting dimensions to width: ".concat(H,", height: ").concat($,".")),{adjustedWidth:H,adjustedHeight:$}}},{key:"_resetContext",value:function(C,B){var H,$=this.width,ne=this.height,de=this.canvas.id,se=this._pInst instanceof s.default.Graphics,de=(se?((H=this._pInst).canvas.parentNode.removeChild(H.canvas),H.canvas=document.createElement("canvas"),(H._pInst._userNode||document.body).appendChild(H.canvas),s.default.Element.call(H,H.canvas,H._pInst),H.width=$,H.height=ne):((H=this.canvas)&&H.parentNode.removeChild(H),(H=document.createElement("canvas")).id=de,(this._pInst._userNode||document.body).appendChild(H),this._pInst.canvas=H,this.canvas=H),new s.default.RendererGL(this._pInst.canvas,this._pInst,!se));this._pInst._setProperty("_renderer",de),de.resize($,ne),de._applyDefaults(),se||this._pInst._elements.push(de),typeof B=="function"&&setTimeout(function(){B.apply(window._renderer,C)},0)}},{key:"_update",value:function(){this.uMVMatrix.set(this._curCamera.cameraMatrix),this.ambientLightColors.length=0,this.specularColors=[1,1,1],this.directionalLightDirections.length=0,this.directionalLightDiffuseColors.length=0,this.directionalLightSpecularColors.length=0,this.pointLightPositions.length=0,this.pointLightDiffuseColors.length=0,this.pointLightSpecularColors.length=0,this.spotLightPositions.length=0,this.spotLightDirections.length=0,this.spotLightDiffuseColors.length=0,this.spotLightSpecularColors.length=0,this.spotLightAngle.length=0,this.spotLightConc.length=0,this._enableLighting=!1,this._tint=[255,255,255,255],this.GL.clearStencil(0),this.GL.clear(this.GL.DEPTH_BUFFER_BIT|this.GL.STENCIL_BUFFER_BIT),this.GL.disable(this.GL.STENCIL_TEST)}},{key:"background",value:function(){var $=($=this._pInst).color.apply($,arguments),C=$.levels[0]/255,B=$.levels[1]/255,H=$.levels[2]/255,$=$.levels[3]/255;this.clear(C,B,H,$)}},{key:"fill",value:function(C,B,H,$){var ne=s.default.prototype.color.apply(this._pInst,arguments);this.curFillColor=ne._array,this.drawMode=c.FILL,this._useNormalMaterial=!1,this._tex=null}},{key:"stroke",value:function(C,B,H,$){var ne=s.default.prototype.color.apply(this._pInst,arguments);this.curStrokeColor=ne._array}},{key:"strokeCap",value:function(C){this.curStrokeCap=C}},{key:"strokeJoin",value:function(C){this.curStrokeJoin=C}},{key:"getFilterLayer",value:function(){return this.filterLayer||(this.filterLayer=this._pInst.createFramebuffer()),this.filterLayer}},{key:"getFilterLayerTemp",value:function(){return this.filterLayerTemp||(this.filterLayerTemp=this._pInst.createFramebuffer()),this.filterLayerTemp}},{key:"matchSize",value:function(C,B){C.width===B.width&&C.height===B.height||C.resize(B.width,B.height),C.pixelDensity()!==B.pixelDensity()&&C.pixelDensity(B.pixelDensity())}},{key:"filter",value:function(){var C,B,H=this,$=this.getFilterLayer(),ne=void 0,se=void 0,de=(typeof(arguments.length<=0?void 0:arguments[0])=="string"?(se=arguments.length<=0?void 0:arguments[0],O(C={},c.BLUR,3),O(C,c.POSTERIZE,4),O(C,c.THRESHOLD,.5),ne=se in(C=C)&&(arguments.length<=1?void 0:arguments[1])===void 0?C[se]:arguments.length<=1?void 0:arguments[1],se in this.defaultFilterShaders||(this.defaultFilterShaders[se]=new s.default.Shader($._renderer,`uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;

attribute vec3 aPosition;
// texcoords only come from p5 to vertex shader
// so pass texcoords on to the fragment shader in a varying variable
attribute vec2 aTexCoord;
varying vec2 vTexCoord;

void main() {
  // transferring texcoords for the frag shader
  vTexCoord = aTexCoord;

  // copy position with a fourth coordinate for projection (1.0 is normal)
  vec4 positionVec4 = vec4(aPosition, 1.0);

  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
}
`,W[se])),this.filterShader=this.defaultFilterShaders[se]):this.filterShader=arguments.length<=0?void 0:arguments[0],this.activeFramebuffer()||this),_e=(this.matchSize($,de),$.draw(function(){return H._pInst.clear()}),[1/(de.width*de.pixelDensity()),1/(de.height*de.pixelDensity())]);se===c.BLUR?(B=this.getFilterLayerTemp(),this.matchSize(B,de),this._pInst.push(),this._pInst.noStroke(),this._pInst.blendMode(c.BLEND),this._pInst.shader(this.filterShader),this.filterShader.setUniform("texelSize",_e),this.filterShader.setUniform("canvasSize",[de.width,de.height]),this.filterShader.setUniform("radius",Math.max(1,ne)),B.draw(function(){H.filterShader.setUniform("direction",[1,0]),H.filterShader.setUniform("tex0",de),H._pInst.clear(),H._pInst.shader(H.filterShader),H._pInst.noLights(),H._pInst.plane(de.width,de.height)}),$.draw(function(){H.filterShader.setUniform("direction",[0,1]),H.filterShader.setUniform("tex0",B),H._pInst.clear(),H._pInst.shader(H.filterShader),H._pInst.noLights(),H._pInst.plane(de.width,de.height)}),this._pInst.pop()):$.draw(function(){H._pInst.noStroke(),H._pInst.blendMode(c.BLEND),H._pInst.shader(H.filterShader),H.filterShader.setUniform("tex0",de),H.filterShader.setUniform("texelSize",_e),H.filterShader.setUniform("canvasSize",[de.width,de.height]),H.filterShader.setUniform("filterParameter",ne),H._pInst.noLights(),H._pInst.plane(de.width,de.height)}),this._pInst.push(),this._pInst.noStroke(),this.clear(),this._pInst.push(),this._pInst.imageMode(c.CORNER),this._pInst.blendMode(c.BLEND),de.filterCamera._resize(),this._pInst.setCamera(de.filterCamera),this._pInst.resetMatrix(),this._pInst.image($,-de.width/2,-de.height/2,de.width,de.height),this._pInst.clearDepth(),this._pInst.pop(),this._pInst.pop()}},{key:"pixelDensity",value:function(C){return C?this._pInst.pixelDensity(C):this._pInst.pixelDensity()}},{key:"blendMode",value:function(C){C===c.DARKEST||C===c.LIGHTEST||C===c.ADD||C===c.BLEND||C===c.SUBTRACT||C===c.SCREEN||C===c.EXCLUSION||C===c.REPLACE||C===c.MULTIPLY||C===c.REMOVE?this.curBlendMode=C:C!==c.BURN&&C!==c.OVERLAY&&C!==c.HARD_LIGHT&&C!==c.SOFT_LIGHT&&C!==c.DODGE||console.warn("BURN, OVERLAY, HARD_LIGHT, SOFT_LIGHT, and DODGE only work for blendMode in 2D mode.")}},{key:"erase",value:function(C,B){this._isErasing||(this.preEraseBlend=this.curBlendMode,this._isErasing=!0,this.blendMode(c.REMOVE),this._cachedFillStyle=this.curFillColor.slice(),this.curFillColor=[1,1,1,C/255],this._cachedStrokeStyle=this.curStrokeColor.slice(),this.curStrokeColor=[1,1,1,B/255])}},{key:"noErase",value:function(){this._isErasing&&(this.curFillColor=this._cachedFillStyle.slice(),this.curStrokeColor=this._cachedStrokeStyle.slice(),this.curBlendMode=this.preEraseBlend,this.blendMode(this.preEraseBlend),this._isErasing=!1,this._applyBlendMode())}},{key:"drawTarget",value:function(){return this.activeFramebuffers[this.activeFramebuffers.length-1]||this}},{key:"beginClip",value:function(){var C=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},C=(l(T(ie.prototype),"beginClip",this).call(this,C),this.drawTarget()._isClipApplied=!0,this.GL);C.clearStencil(0),C.clear(C.STENCIL_BUFFER_BIT),C.enable(C.STENCIL_TEST),this._stencilTestOn=!0,C.stencilFunc(C.ALWAYS,1,255),C.stencilOp(C.KEEP,C.KEEP,C.REPLACE),C.disable(C.DEPTH_TEST),this._pInst.push(),this._pInst.resetShader(),this._doFill&&this._pInst.fill(0,0),this._doStroke&&this._pInst.stroke(0,0)}},{key:"endClip",value:function(){this._pInst.pop();var C=this.GL;C.stencilOp(C.KEEP,C.KEEP,C.KEEP),C.stencilFunc(this._clipInvert?C.EQUAL:C.NOTEQUAL,0,255),C.enable(C.DEPTH_TEST),this._clipDepths.push(this._pushPopDepth),l(T(ie.prototype),"endClip",this).call(this)}},{key:"_clearClip",value:function(){this.GL.clearStencil(1),this.GL.clear(this.GL.STENCIL_BUFFER_BIT),0<this._clipDepths.length&&this._clipDepths.pop(),this.drawTarget()._isClipApplied=!1}},{key:"strokeWeight",value:function(C){this.curStrokeWeight!==C&&(this.pointSize=C,this.curStrokeWeight=C)}},{key:"_getPixel",value:function(C,B){var H=this.GL;return Q(H,null,C,B,H.RGBA,H.UNSIGNED_BYTE,this._pInst.height*this._pInst.pixelDensity())}},{key:"loadPixels",value:function(){var C,B,H=this._pixelsState;this._pInst._glAttributes.preserveDrawingBuffer!==!0?console.log("loadPixels only works in WebGL when preserveDrawingBuffer is true."):(C=this._pInst._pixelDensity,B=this.GL,H._setProperty("pixels",J(H.pixels,B,null,0,0,this.width*C,this.height*C,B.RGBA,B.UNSIGNED_BYTE,this.height*C)))}},{key:"updatePixels",value:function(){var C=this._getTempFramebuffer();C.pixels=this._pixelsState.pixels,C.updatePixels(),this._pInst.push(),this._pInst.resetMatrix(),this._pInst.clear(),this._pInst.imageMode(c.CENTER),this._pInst.image(C,0,0),this._pInst.pop(),this.GL.clearDepth(1),this.GL.clear(this.GL.DEPTH_BUFFER_BIT)}},{key:"_getTempFramebuffer",value:function(){return this._tempFramebuffer||(this._tempFramebuffer=this._pInst.createFramebuffer({format:c.UNSIGNED_BYTE,useDepth:this._pInst._glAttributes.depth,depthFormat:c.UNSIGNED_INT,antialias:this._pInst._glAttributes.antialias})),this._tempFramebuffer}},{key:"geometryInHash",value:function(C){return this.retainedMode.geometry[C]!==void 0}},{key:"viewport",value:function(C,B){this._viewport=[0,0,C,B],this.GL.viewport(0,0,C,B)}},{key:"resize",value:function(ne,$){s.default.Renderer.prototype.resize.call(this,ne,$),this._origViewport={width:this.GL.drawingBufferWidth,height:this.GL.drawingBufferHeight},this.viewport(this._origViewport.width,this._origViewport.height),this._curCamera._resize();var ne=this._pixelsState,H=(ne.pixels!==void 0&&ne._setProperty("pixels",new Uint8Array(this.GL.drawingBufferWidth*this.GL.drawingBufferHeight*4)),!0),$=!1,ne=void 0;try{for(var se,de=this.framebuffers[Symbol.iterator]();!(H=(se=de.next()).done);H=!0)se.value._canvasSizeChanged()}catch(_e){$=!0,ne=_e}finally{try{H||de.return==null||de.return()}finally{if($)throw ne}}}},{key:"clear",value:function(){var C=(arguments.length<=0?void 0:arguments[0])||0,B=(arguments.length<=1?void 0:arguments[1])||0,H=(arguments.length<=2?void 0:arguments[2])||0,$=(arguments.length<=3?void 0:arguments[3])||0,ne=this.activeFramebuffer();ne&&ne.format===c.UNSIGNED_BYTE&&!ne.antialias&&$===0&&($=1e-10),this.GL.clearColor(C*$,B*$,H*$,$),this.GL.clearDepth(1),this.GL.clear(this.GL.COLOR_BUFFER_BIT|this.GL.DEPTH_BUFFER_BIT)}},{key:"clearDepth",value:function(){this.GL.clearDepth(0<arguments.length&&arguments[0]!==void 0?arguments[0]:1),this.GL.clear(this.GL.DEPTH_BUFFER_BIT)}},{key:"applyMatrix",value:function(C,B,H,$,ne,se){arguments.length===16?s.default.Matrix.prototype.apply.apply(this.uMVMatrix,arguments):this.uMVMatrix.apply([C,B,0,0,H,$,0,0,0,0,1,0,ne,se,0,1])}},{key:"translate",value:function(C,B,H){return C instanceof s.default.Vector&&(H=C.z,B=C.y,C=C.x),this.uMVMatrix.translate([C,B,H]),this}},{key:"scale",value:function(C,B,H){return this.uMVMatrix.scale(C,B,H),this}},{key:"rotate",value:function(C,B){return B===void 0?this.rotateZ(C):(s.default.Matrix.prototype.rotate.apply(this.uMVMatrix,arguments),this)}},{key:"rotateX",value:function(C){return this.rotate(C,1,0,0),this}},{key:"rotateY",value:function(C){return this.rotate(C,0,1,0),this}},{key:"rotateZ",value:function(C){return this.rotate(C,0,0,1),this}},{key:"push",value:function(){var C=s.default.Renderer.prototype.push.apply(this),B=C.properties;return B.uMVMatrix=this.uMVMatrix.copy(),B.uPMatrix=this.uPMatrix.copy(),B._curCamera=this._curCamera,this._curCamera=this._curCamera.copy(),B.ambientLightColors=this.ambientLightColors.slice(),B.specularColors=this.specularColors.slice(),B.directionalLightDirections=this.directionalLightDirections.slice(),B.directionalLightDiffuseColors=this.directionalLightDiffuseColors.slice(),B.directionalLightSpecularColors=this.directionalLightSpecularColors.slice(),B.pointLightPositions=this.pointLightPositions.slice(),B.pointLightDiffuseColors=this.pointLightDiffuseColors.slice(),B.pointLightSpecularColors=this.pointLightSpecularColors.slice(),B.spotLightPositions=this.spotLightPositions.slice(),B.spotLightDirections=this.spotLightDirections.slice(),B.spotLightDiffuseColors=this.spotLightDiffuseColors.slice(),B.spotLightSpecularColors=this.spotLightSpecularColors.slice(),B.spotLightAngle=this.spotLightAngle.slice(),B.spotLightConc=this.spotLightConc.slice(),B.userFillShader=this.userFillShader,B.userStrokeShader=this.userStrokeShader,B.userPointShader=this.userPointShader,B.pointSize=this.pointSize,B.curStrokeWeight=this.curStrokeWeight,B.curStrokeColor=this.curStrokeColor,B.curFillColor=this.curFillColor,B.curAmbientColor=this.curAmbientColor,B.curSpecularColor=this.curSpecularColor,B.curEmissiveColor=this.curEmissiveColor,B._hasSetAmbient=this._hasSetAmbient,B._useSpecularMaterial=this._useSpecularMaterial,B._useEmissiveMaterial=this._useEmissiveMaterial,B._useShininess=this._useShininess,B._useMetalness=this._useMetalness,B.constantAttenuation=this.constantAttenuation,B.linearAttenuation=this.linearAttenuation,B.quadraticAttenuation=this.quadraticAttenuation,B._enableLighting=this._enableLighting,B._useNormalMaterial=this._useNormalMaterial,B._tex=this._tex,B.drawMode=this.drawMode,B._currentNormal=this._currentNormal,B.curBlendMode=this.curBlendMode,B.activeImageLight=this.activeImageLight,C}},{key:"pop",value:function(){var C;0<this._clipDepths.length&&this._pushPopDepth===this._clipDepths[this._clipDepths.length-1]&&this._clearClip();for(var B=arguments.length,H=new Array(B),$=0;$<B;$++)H[$]=arguments[$];(C=l(T(ie.prototype),"pop",this)).call.apply(C,[this].concat(H)),this._applyStencilTestIfClipping()}},{key:"_applyStencilTestIfClipping",value:function(){var C=this.drawTarget();C._isClipApplied!==this._stencilTestOn&&(C._isClipApplied?(this.GL.enable(this.GL.STENCIL_TEST),this._stencilTestOn=!0):(this.GL.disable(this.GL.STENCIL_TEST),this._stencilTestOn=!1))}},{key:"resetMatrix",value:function(){return this.uMVMatrix.set(this._curCamera.cameraMatrix),this}},{key:"_getImmediateStrokeShader",value:function(){var C=this.userStrokeShader;return C&&C.isStrokeShader()?C:this._getLineShader()}},{key:"_getRetainedStrokeShader",value:function(){return this._getImmediateStrokeShader()}},{key:"_getSphereMapping",value:function(C){return this.sphereMapping||(this.sphereMapping=this._pInst.createFilterShader(G)),this.uNMatrix.inverseTranspose(this.uMVMatrix),this.uNMatrix.invert3x3(this.uNMatrix),this.sphereMapping.setUniform("uFovY",this._curCamera.cameraFOV),this.sphereMapping.setUniform("uAspect",this._curCamera.aspectRatio),this.sphereMapping.setUniform("uNewNormalMatrix",this.uNMatrix.mat3),this.sphereMapping.setUniform("uSampler",C),this.sphereMapping}},{key:"_getImmediateFillShader",value:function(){var C=this.userFillShader;if(this._useNormalMaterial&&(!C||!C.isNormalShader()))return this._getNormalShader();if(this._enableLighting){if(!C||!C.isLightShader())return this._getLightShader()}else if(this._tex){if(!C||!C.isTextureShader())return this._getLightShader()}else if(!C)return this._getImmediateModeShader();return C}},{key:"_getRetainedFillShader",value:function(){if(this._useNormalMaterial)return this._getNormalShader();var C=this.userFillShader;if(this._enableLighting){if(!C||!C.isLightShader())return this._getLightShader()}else if(this._tex){if(!C||!C.isTextureShader())return this._getLightShader()}else if(!C)return this._getColorShader();return C}},{key:"_getImmediatePointShader",value:function(){var C=this.userPointShader;return C&&C.isPointShader()?C:this._getPointShader()}},{key:"_getRetainedLineShader",value:function(){return this._getImmediateLineShader()}},{key:"_getLightShader",value:function(){return this._defaultLightShader||(this._pInst._glAttributes.perPixelLighting?this._defaultLightShader=new s.default.Shader(this,this._webGL2CompatibilityPrefix("vert","highp")+V.phongVert,this._webGL2CompatibilityPrefix("frag","highp")+V.phongFrag):this._defaultLightShader=new s.default.Shader(this,this._webGL2CompatibilityPrefix("vert","highp")+V.lightVert,this._webGL2CompatibilityPrefix("frag","highp")+V.lightTextureFrag)),this._defaultLightShader}},{key:"_getImmediateModeShader",value:function(){return this._defaultImmediateModeShader||(this._defaultImmediateModeShader=new s.default.Shader(this,this._webGL2CompatibilityPrefix("vert","mediump")+V.immediateVert,this._webGL2CompatibilityPrefix("frag","mediump")+V.vertexColorFrag)),this._defaultImmediateModeShader}},{key:"_getNormalShader",value:function(){return this._defaultNormalShader||(this._defaultNormalShader=new s.default.Shader(this,this._webGL2CompatibilityPrefix("vert","mediump")+V.normalVert,this._webGL2CompatibilityPrefix("frag","mediump")+V.normalFrag)),this._defaultNormalShader}},{key:"_getColorShader",value:function(){return this._defaultColorShader||(this._defaultColorShader=new s.default.Shader(this,this._webGL2CompatibilityPrefix("vert","mediump")+V.normalVert,this._webGL2CompatibilityPrefix("frag","mediump")+V.basicFrag)),this._defaultColorShader}},{key:"_getPointShader",value:function(){return this._defaultPointShader||(this._defaultPointShader=new s.default.Shader(this,this._webGL2CompatibilityPrefix("vert","mediump")+V.pointVert,this._webGL2CompatibilityPrefix("frag","mediump")+V.pointFrag)),this._defaultPointShader}},{key:"_getLineShader",value:function(){return this._defaultLineShader||(this._defaultLineShader=new s.default.Shader(this,this._webGL2CompatibilityPrefix("vert","mediump")+V.lineVert,this._webGL2CompatibilityPrefix("frag","mediump")+V.lineFrag)),this._defaultLineShader}},{key:"_getFontShader",value:function(){return this._defaultFontShader||(this.webglVersion===c.WEBGL&&this.GL.getExtension("OES_standard_derivatives"),this._defaultFontShader=new s.default.Shader(this,this._webGL2CompatibilityPrefix("vert","mediump")+V.fontVert,this._webGL2CompatibilityPrefix("frag","mediump")+V.fontFrag)),this._defaultFontShader}},{key:"_webGL2CompatibilityPrefix",value:function(C,B){var H="";return this.webglVersion===c.WEBGL2&&(H+=`#version 300 es
#define WEBGL2
`),C==="vert"?H+=`#define VERTEX_SHADER
`:C==="frag"&&(H+=`#define FRAGMENT_SHADER
`),B&&(H+="precision ".concat(B,` float;
`)),H}},{key:"_getEmptyTexture",value:function(){var C;return this._emptyTexture||((C=new s.default.Image(1,1)).set(0,0,255),this._emptyTexture=new s.default.Texture(this,C)),this._emptyTexture}},{key:"getTexture",value:function(C){C instanceof s.default.Framebuffer&&(C=C.color);var B=this.textures.get(C);return B||(B=new s.default.Texture(this,C),this.textures.set(C,B),B)}},{key:"getDiffusedTexture",value:function(C){var B,H,$=this;return this.diffusedTextures.get(C)!=null?this.diffusedTextures.get(C):(B=Math.floor(C.height/C.width*200),H=this._pInst.createFramebuffer({width:200,height:B,density:1}),this.diffusedShader||(this.diffusedShader=this._pInst.createShader(V.imageLightVert,V.imageLightDiffusedFrag)),H.draw(function(){$._pInst.shader($.diffusedShader),$.diffusedShader.setUniform("environmentMap",C),$._pInst.noStroke(),$._pInst.rectMode(c.CENTER),$._pInst.noLights(),$._pInst.rect(0,0,200,B)}),this.diffusedTextures.set(C,H),H)}},{key:"getSpecularTexture",value:function(C){var B=this;if(this.specularTextures.get(C)!=null)return this.specularTextures.get(C);for(var H,$=[],ne=this._pInst.createFramebuffer({width:512,height:512,density:1}),se=Math.log(512)/Math.log(2),de=(this.specularShader||(this.specularShader=this._pInst.createShader(V.imageLightVert,V.imageLightSpecularFrag)),512);1<=de;de/=2)(function(_e){ne.resize(_e,_e);var pe=1-Math.log(_e)/Math.log(2)/se;ne.draw(function(){B._pInst.shader(B.specularShader),B._pInst.clear(),B.specularShader.setUniform("environmentMap",C),B.specularShader.setUniform("roughness",pe),B._pInst.noStroke(),B._pInst.noLights(),B._pInst.plane(_e,_e)}),$.push(ne.get().drawingContext.getImageData(0,0,_e,_e))})(de);return ne.remove(),H=new o.MipmapTexture(this,$,{}),this.specularTextures.set(C,H),H}},{key:"activeFramebuffer",value:function(){return this.activeFramebuffers[this.activeFramebuffers.length-1]||null}},{key:"createFramebuffer",value:function(C){return new s.default.Framebuffer(this,C)}},{key:"_setStrokeUniforms",value:function(C){C.bindShader(),C.setUniform("uUseLineColor",this._useLineColor),C.setUniform("uMaterialColor",this.curStrokeColor),C.setUniform("uStrokeWeight",this.curStrokeWeight),C.setUniform("uStrokeCap",F[this.curStrokeCap]),C.setUniform("uStrokeJoin",A[this.curStrokeJoin])}},{key:"_setFillUniforms",value:function(C){var B=this,H=(C.bindShader(),this.mixedSpecularColor=h(this.curSpecularColor),0<this._useMetalness&&(this.mixedSpecularColor=this.mixedSpecularColor.map(function($,ne){return B.curFillColor[ne]*B._useMetalness+$*(1-B._useMetalness)})),C.setUniform("uUseVertexColor",this._useVertexColor),C.setUniform("uMaterialColor",this.curFillColor),C.setUniform("isTexture",!!this._tex),this._tex&&C.setUniform("uSampler",this._tex),C.setUniform("uTint",this._tint),C.setUniform("uHasSetAmbient",this._hasSetAmbient),C.setUniform("uAmbientMatColor",this.curAmbientColor),C.setUniform("uSpecularMatColor",this.mixedSpecularColor),C.setUniform("uEmissiveMatColor",this.curEmissiveColor),C.setUniform("uSpecular",this._useSpecularMaterial),C.setUniform("uEmissive",this._useEmissiveMaterial),C.setUniform("uShininess",this._useShininess),C.setUniform("metallic",this._useMetalness),this._setImageLightUniforms(C),C.setUniform("uUseLighting",this._enableLighting),this.pointLightDiffuseColors.length/3),H=(C.setUniform("uPointLightCount",H),C.setUniform("uPointLightLocation",this.pointLightPositions),C.setUniform("uPointLightDiffuseColors",this.pointLightDiffuseColors),C.setUniform("uPointLightSpecularColors",this.pointLightSpecularColors),this.directionalLightDiffuseColors.length/3),H=(C.setUniform("uDirectionalLightCount",H),C.setUniform("uLightingDirection",this.directionalLightDirections),C.setUniform("uDirectionalDiffuseColors",this.directionalLightDiffuseColors),C.setUniform("uDirectionalSpecularColors",this.directionalLightSpecularColors),this.ambientLightColors.length/3),H=(this.mixedAmbientLight=h(this.ambientLightColors),0<this._useMetalness&&(this.mixedAmbientLight=this.mixedAmbientLight.map(function($){return $-=B._useMetalness,Math.max(0,$)})),C.setUniform("uAmbientLightCount",H),C.setUniform("uAmbientColor",this.mixedAmbientLight),this.spotLightDiffuseColors.length/3);C.setUniform("uSpotLightCount",H),C.setUniform("uSpotLightAngle",this.spotLightAngle),C.setUniform("uSpotLightConc",this.spotLightConc),C.setUniform("uSpotLightDiffuseColors",this.spotLightDiffuseColors),C.setUniform("uSpotLightSpecularColors",this.spotLightSpecularColors),C.setUniform("uSpotLightLocation",this.spotLightPositions),C.setUniform("uSpotLightDirection",this.spotLightDirections),C.setUniform("uConstantAttenuation",this.constantAttenuation),C.setUniform("uLinearAttenuation",this.linearAttenuation),C.setUniform("uQuadraticAttenuation",this.quadraticAttenuation),C.bindTextures()}},{key:"_setImageLightUniforms",value:function(C){var B,H;C.setUniform("uUseImageLight",this.activeImageLight!=null),this.activeImageLight&&(B=this.getDiffusedTexture(this.activeImageLight),C.setUniform("environmentMapDiffused",B),B=this.getSpecularTexture(this.activeImageLight),H=20/this._useShininess,C.setUniform("levelOfDetail",8*H),C.setUniform("environmentMapSpecular",B))}},{key:"_setPointUniforms",value:function(C){C.bindShader(),C.setUniform("uMaterialColor",this.curStrokeColor),C.setUniform("uPointSize",this.pointSize*this._pInst._pixelDensity)}},{key:"_bindBuffer",value:function(C,B,H,$,ne){B=B||this.GL.ARRAY_BUFFER,this.GL.bindBuffer(B,C),H!==void 0&&((C=H)instanceof s.default.DataArray?C=H.dataArray():C instanceof($||Float32Array)||(C=new($||Float32Array)(C)),this.GL.bufferData(B,C,ne||this.GL.STATIC_DRAW))}},{key:"_arraysEqual",value:function(C,B){return C.length===B.length&&C.every(function(H,$){return H===B[$]})}},{key:"_isTypedArray",value:function(C){return[Float32Array,Float64Array,Int16Array,Uint16Array,Uint32Array].some(function(B){return C instanceof B})}},{key:"_flatten",value:function(C){return C.flat()}},{key:"_vToNArray",value:function(C){return C.flatMap(function(B){return[B.x,B.y,B.z]})}},{key:"_bezierCoefficients",value:function(C){var B=C*C,H=1-C,$=H*H;return[$*H,3*$*C,3*H*B,B*C]}},{key:"_quadraticCoefficients",value:function(C){var B=1-C;return[B*B,2*B*C,C*C]}},{key:"_bezierToCatmull",value:function(C){return[C[1],C[1]+(C[2]-C[0])/this._curveTightness,C[2]-(C[3]-C[1])/this._curveTightness,C[2]]}},{key:"_initTessy",value:function(){var C=new y.default.GluTesselator;return C.gluTessCallback(y.default.gluEnum.GLU_TESS_VERTEX_DATA,function(B,H){var $=!0,ne=!1,se=void 0;try{for(var de,_e=B[Symbol.iterator]();!($=(de=_e.next()).done);$=!0){var pe=de.value;H.push(pe)}}catch(ge){ne=!0,se=ge}finally{try{$||_e.return==null||_e.return()}finally{if(ne)throw se}}}),C.gluTessCallback(y.default.gluEnum.GLU_TESS_BEGIN,function(B){B!==y.default.primitiveType.GL_TRIANGLES&&console.log("expected TRIANGLES but got type: ".concat(B))}),C.gluTessCallback(y.default.gluEnum.GLU_TESS_ERROR,function(B){console.log("error callback"),console.log("error number: ".concat(B))}),C.gluTessCallback(y.default.gluEnum.GLU_TESS_COMBINE,function(B,H,$){for(var ne=new Array(s.default.RendererGL.prototype.tessyVertexSize).fill(0),se=0;se<$.length;se++)for(var de=0;de<ne.length;de++)$[se]!==0&&H[se]&&(ne[de]+=H[se][de]*$[se]);return ne}),C.gluTessCallback(y.default.gluEnum.GLU_TESS_EDGE_FLAG,function(B){}),C.gluTessProperty(y.default.gluEnum.GLU_TESS_WINDING_RULE,y.default.windingRule.GLU_TESS_WINDING_NONZERO),C}},{key:"_triangulate",value:function(C){var B=C[0]?C[0][2]:void 0,H=!0,$=!0,pe=!1,ve=void 0;try{for(var ne,se=C[Symbol.iterator]();!($=(ne=se.next()).done);$=!0)for(var de=ne.value,_e=0;_e<de.length;_e+=s.default.RendererGL.prototype.tessyVertexSize)if(de[_e+2]!==B){H=!1;break}}catch(Me){pe=!0,ve=Me}finally{try{$||se.return==null||se.return()}finally{if(pe)throw ve}}H?this._tessy.gluTessNormal(0,0,1):this._tessy.gluTessNormal(0,0,0);var pe=[],ge=(this._tessy.gluTessBeginPolygon(pe),!0),ve=!1,le=void 0;try{for(var he,be=C[Symbol.iterator]();!(ge=(he=be.next()).done);ge=!0){var Ae=he.value;this._tessy.gluTessBeginContour();for(var je=0;je<Ae.length;je+=s.default.RendererGL.prototype.tessyVertexSize){var Te=Ae.slice(je,je+s.default.RendererGL.prototype.tessyVertexSize);this._tessy.gluTessVertex(Te,Te)}this._tessy.gluTessEndContour()}}catch(Me){ve=!0,le=Me}finally{try{ge||be.return==null||be.return()}finally{if(ve)throw le}}return this._tessy.gluTessEndPolygon(),pe}}])&&p(z.prototype,Y),ie}(s.default.Renderer),s.default.prototype._assert3d=function(Y){if(!this._renderer.isP3D)throw new Error("".concat(Y,"() is only supported in WEBGL mode. If you'd like to use 3D graphics and WebGL, see  https://p5js.org/examples/form-3d-primitives.html for more information."))},s.default.RendererGL.prototype.tessyVertexSize=12,D=s.default.RendererGL,x.default=D},{"../core/constants":269,"../core/main":280,"../core/p5.Renderer":283,"./GeometryBuilder":324,"./p5.Camera":329,"./p5.Framebuffer":331,"./p5.Matrix":333,"./p5.Shader":338,"./p5.Texture":339,"core-js/modules/es.array.concat":152,"core-js/modules/es.array.copy-within":153,"core-js/modules/es.array.every":154,"core-js/modules/es.array.fill":155,"core-js/modules/es.array.flat":159,"core-js/modules/es.array.flat-map":158,"core-js/modules/es.array.from":161,"core-js/modules/es.array.includes":162,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.map":167,"core-js/modules/es.array.slice":168,"core-js/modules/es.array.some":169,"core-js/modules/es.array.unscopables.flat":172,"core-js/modules/es.array.unscopables.flat-map":171,"core-js/modules/es.map":174,"core-js/modules/es.object.assign":181,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.get-prototype-of":185,"core-js/modules/es.object.to-string":187,"core-js/modules/es.reflect.construct":189,"core-js/modules/es.reflect.get":190,"core-js/modules/es.regexp.to-string":193,"core-js/modules/es.set":194,"core-js/modules/es.string.includes":196,"core-js/modules/es.string.iterator":197,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.typed-array.copy-within":210,"core-js/modules/es.typed-array.every":211,"core-js/modules/es.typed-array.fill":212,"core-js/modules/es.typed-array.filter":213,"core-js/modules/es.typed-array.find":215,"core-js/modules/es.typed-array.find-index":214,"core-js/modules/es.typed-array.float32-array":216,"core-js/modules/es.typed-array.float64-array":217,"core-js/modules/es.typed-array.for-each":218,"core-js/modules/es.typed-array.includes":219,"core-js/modules/es.typed-array.index-of":220,"core-js/modules/es.typed-array.int16-array":221,"core-js/modules/es.typed-array.iterator":223,"core-js/modules/es.typed-array.join":224,"core-js/modules/es.typed-array.last-index-of":225,"core-js/modules/es.typed-array.map":226,"core-js/modules/es.typed-array.reduce":228,"core-js/modules/es.typed-array.reduce-right":227,"core-js/modules/es.typed-array.reverse":229,"core-js/modules/es.typed-array.set":230,"core-js/modules/es.typed-array.slice":231,"core-js/modules/es.typed-array.some":232,"core-js/modules/es.typed-array.sort":233,"core-js/modules/es.typed-array.subarray":234,"core-js/modules/es.typed-array.to-locale-string":235,"core-js/modules/es.typed-array.to-string":236,"core-js/modules/es.typed-array.uint16-array":237,"core-js/modules/es.typed-array.uint32-array":238,"core-js/modules/es.typed-array.uint8-array":239,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.iterator":243,libtess:252,path:255}],338:[function(t,j,x){t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.some"),t("core-js/modules/es.function.name"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.some"),t("core-js/modules/es.function.name"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(x,"__esModule",{value:!0}),x.default=void 0;var d=(t=t("../core/main"))&&t.__esModule?t:{default:t};function f(s,c){for(var g=0;g<c.length;g++){var y=c[g];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(s,y.key,y)}}d.default.Shader=function(){function s(y,o,a){if(!(this instanceof s))throw new TypeError("Cannot call a class as a function");this._renderer=y,this._vertSrc=o,this._fragSrc=a,this._vertShader=-1,this._fragShader=-1,this._glProgram=0,this._loadedAttributes=!1,this.attributes={},this._loadedUniforms=!1,this.uniforms={},this._bound=!1,this.samplers=[]}var c,g;return c=s,(g=[{key:"init",value:function(){if(this._glProgram===0){var y=this._renderer.GL;if(this._vertShader=y.createShader(y.VERTEX_SHADER),y.shaderSource(this._vertShader,this._vertSrc),y.compileShader(this._vertShader),!y.getShaderParameter(this._vertShader,y.COMPILE_STATUS))return d.default._friendlyError("Yikes! An error occurred compiling the vertex shader:".concat(y.getShaderInfoLog(this._vertShader))),null;if(this._fragShader=y.createShader(y.FRAGMENT_SHADER),y.shaderSource(this._fragShader,this._fragSrc),y.compileShader(this._fragShader),!y.getShaderParameter(this._fragShader,y.COMPILE_STATUS))return d.default._friendlyError("Darn! An error occurred compiling the fragment shader:".concat(y.getShaderInfoLog(this._fragShader))),null;this._glProgram=y.createProgram(),y.attachShader(this._glProgram,this._vertShader),y.attachShader(this._glProgram,this._fragShader),y.linkProgram(this._glProgram),y.getProgramParameter(this._glProgram,y.LINK_STATUS)||d.default._friendlyError("Snap! Error linking shader program: ".concat(y.getProgramInfoLog(this._glProgram))),this._loadAttributes(),this._loadUniforms()}return this}},{key:"copyToContext",value:function(y){var o=new d.default.Shader(y._renderer,this._vertSrc,this._fragSrc);return o.ensureCompiledOnContext(y),o}},{key:"ensureCompiledOnContext",value:function(y){if(this._glProgram!==0&&this._renderer!==y._renderer)throw new Error("The shader being run is attached to a different context. Do you need to copy it to this context first with .copyToContext()?");this._glProgram===0&&(this._renderer=y._renderer,this.init())}},{key:"_loadAttributes",value:function(){if(!this._loadedAttributes){this.attributes={};for(var y=this._renderer.GL,o=y.getProgramParameter(this._glProgram,y.ACTIVE_ATTRIBUTES),a=0;a<o;++a){var i=y.getActiveAttrib(this._glProgram,a),h=i.name,p=y.getAttribLocation(this._glProgram,h),l={};l.name=h,l.location=p,l.index=a,l.type=i.type,l.size=i.size,this.attributes[h]=l}this._loadedAttributes=!0}}},{key:"_loadUniforms",value:function(){if(!this._loadedUniforms){for(var y=this._renderer.GL,o=y.getProgramParameter(this._glProgram,y.ACTIVE_UNIFORMS),a=0,i=0;i<o;++i){var h=y.getActiveUniform(this._glProgram,i),p={},l=(p.location=y.getUniformLocation(this._glProgram,h.name),p.size=h.size,h.name);1<h.size&&(l=l.substring(0,l.indexOf("[0]"))),p.name=l,p.type=h.type,p._cachedData=void 0,p.type===y.SAMPLER_2D&&(p.samplerIndex=a,a++,this.samplers.push(p)),p.isArray=1<h.size||p.type===y.FLOAT_MAT3||p.type===y.FLOAT_MAT4||p.type===y.FLOAT_VEC2||p.type===y.FLOAT_VEC3||p.type===y.FLOAT_VEC4||p.type===y.INT_VEC2||p.type===y.INT_VEC4||p.type===y.INT_VEC3,this.uniforms[l]=p}this._loadedUniforms=!0}}},{key:"compile",value:function(){}},{key:"bindShader",value:function(){this.init(),this._bound||(this.useProgram(),this._bound=!0,this._setMatrixUniforms(),this.setUniform("uViewport",this._renderer._viewport))}},{key:"unbindShader",value:function(){return this._bound&&(this.unbindTextures(),this._bound=!1),this}},{key:"bindTextures",value:function(){var y=this._renderer.GL,o=!0,a=!1,i=void 0;try{for(var h,p=this.samplers[Symbol.iterator]();!(o=(h=p.next()).done);o=!0){var l=h.value,m=l.texture;m===void 0&&(m=this._renderer._getEmptyTexture()),y.activeTexture(y.TEXTURE0+l.samplerIndex),m.bindTexture(),m.update(),y.uniform1i(l.location,l.samplerIndex)}}catch(_){a=!0,i=_}finally{try{o||p.return==null||p.return()}finally{if(a)throw i}}}},{key:"updateTextures",value:function(){var y=!0,o=!1,a=void 0;try{for(var i,h=this.samplers[Symbol.iterator]();!(y=(i=h.next()).done);y=!0){var p=i.value.texture;p&&p.update()}}catch(l){o=!0,a=l}finally{try{y||h.return==null||h.return()}finally{if(o)throw a}}}},{key:"unbindTextures",value:function(){var y=!0,o=!1,a=void 0;try{for(var i,h=this.samplers[Symbol.iterator]();!(y=(i=h.next()).done);y=!0){var p=i.value;this.setUniform(p.name,this._renderer._getEmptyTexture())}}catch(l){o=!0,a=l}finally{try{y||h.return==null||h.return()}finally{if(o)throw a}}}},{key:"_setMatrixUniforms",value:function(){var y=this._renderer._curCamera.cameraMatrix,o=this._renderer.uPMatrix,a=this._renderer.uMVMatrix,i=a.copy();i.mult(o),this.isStrokeShader()&&this.setUniform("uPerspective",this._renderer._curCamera.useLinePerspective?1:0),this.setUniform("uViewMatrix",y.mat4),this.setUniform("uProjectionMatrix",o.mat4),this.setUniform("uModelViewMatrix",a.mat4),this.setUniform("uModelViewProjectionMatrix",i.mat4),this.uniforms.uNormalMatrix&&(this._renderer.uNMatrix.inverseTranspose(this._renderer.uMVMatrix),this.setUniform("uNormalMatrix",this._renderer.uNMatrix.mat3)),this.uniforms.uCameraRotation&&(this._renderer.curMatrix.inverseTranspose(this._renderer._curCamera.cameraMatrix),this.setUniform("uCameraRotation",this._renderer.curMatrix.mat3))}},{key:"useProgram",value:function(){var y=this._renderer.GL;return this._renderer._curShader!==this&&(y.useProgram(this._glProgram),this._renderer._curShader=this),this}},{key:"setUniform",value:function(y,o){var a=this.uniforms[y];if(a){var i=this._renderer.GL;if(a.isArray){if(a._cachedData&&this._renderer._arraysEqual(a._cachedData,o))return;a._cachedData=o.slice(0)}else{if(a._cachedData&&a._cachedData===o)return;Array.isArray(o)?a._cachedData=o.slice(0):a._cachedData=o}var h=a.location;switch(this.useProgram(),a.type){case i.BOOL:o===!0?i.uniform1i(h,1):i.uniform1i(h,0);break;case i.INT:1<a.size?o.length&&i.uniform1iv(h,o):i.uniform1i(h,o);break;case i.FLOAT:1<a.size?o.length&&i.uniform1fv(h,o):i.uniform1f(h,o);break;case i.FLOAT_MAT3:i.uniformMatrix3fv(h,!1,o);break;case i.FLOAT_MAT4:i.uniformMatrix4fv(h,!1,o);break;case i.FLOAT_VEC2:1<a.size?o.length&&i.uniform2fv(h,o):i.uniform2f(h,o[0],o[1]);break;case i.FLOAT_VEC3:1<a.size?o.length&&i.uniform3fv(h,o):i.uniform3f(h,o[0],o[1],o[2]);break;case i.FLOAT_VEC4:1<a.size?o.length&&i.uniform4fv(h,o):i.uniform4f(h,o[0],o[1],o[2],o[3]);break;case i.INT_VEC2:1<a.size?o.length&&i.uniform2iv(h,o):i.uniform2i(h,o[0],o[1]);break;case i.INT_VEC3:1<a.size?o.length&&i.uniform3iv(h,o):i.uniform3i(h,o[0],o[1],o[2]);break;case i.INT_VEC4:1<a.size?o.length&&i.uniform4iv(h,o):i.uniform4i(h,o[0],o[1],o[2],o[3]);break;case i.SAMPLER_2D:i.activeTexture(i.TEXTURE0+a.samplerIndex),a.texture=o instanceof d.default.Texture?o:this._renderer.getTexture(o),i.uniform1i(h,a.samplerIndex),a.texture.src.gifProperties&&a.texture.src._animateGif(this._renderer._pInst)}return this}}},{key:"isLightShader",value:function(){return[this.attributes.aNormal,this.uniforms.uUseLighting,this.uniforms.uAmbientLightCount,this.uniforms.uDirectionalLightCount,this.uniforms.uPointLightCount,this.uniforms.uAmbientColor,this.uniforms.uDirectionalDiffuseColors,this.uniforms.uDirectionalSpecularColors,this.uniforms.uPointLightLocation,this.uniforms.uPointLightDiffuseColors,this.uniforms.uPointLightSpecularColors,this.uniforms.uLightingDirection,this.uniforms.uSpecular].some(function(y){return y!==void 0})}},{key:"isNormalShader",value:function(){return this.attributes.aNormal!==void 0}},{key:"isTextureShader",value:function(){return 0<this.samplers.length}},{key:"isColorShader",value:function(){return this.attributes.aVertexColor!==void 0||this.uniforms.uMaterialColor!==void 0}},{key:"isTexLightShader",value:function(){return this.isLightShader()&&this.isTextureShader()}},{key:"isStrokeShader",value:function(){return this.uniforms.uStrokeWeight!==void 0}},{key:"enableAttrib",value:function(y,o,a,i,h,p){var l;return y&&(y=y.location)!==-1&&(l=this._renderer.GL,this._renderer.registerEnabled.has(y)||(l.enableVertexAttribArray(y),this._renderer.registerEnabled.add(y)),this._renderer.GL.vertexAttribPointer(y,o,a||l.FLOAT,i||!1,h||0,p||0)),this}},{key:"disableRemainingAttributes",value:function(){var y=this,o=!0,a=!1,i=void 0;try{for(var h,p=this._renderer.registerEnabled.values()[Symbol.iterator]();!(o=(h=p.next()).done);o=!0)(function(){var l=h.value;Object.keys(y.attributes).some(function(m){return y.attributes[m].location===l})||(y._renderer.GL.disableVertexAttribArray(l),y._renderer.registerEnabled.delete(l))})()}catch(l){a=!0,i=l}finally{try{o||p.return==null||p.return()}finally{if(a)throw i}}}}])&&f(c.prototype,g),s}(),t=d.default.Shader,x.default=t},{"../core/main":280,"core-js/modules/es.array.index-of":163,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.slice":168,"core-js/modules/es.array.some":169,"core-js/modules/es.function.name":173,"core-js/modules/es.object.keys":186,"core-js/modules/es.object.to-string":187,"core-js/modules/es.string.iterator":197,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/web.dom-collections.iterator":243}],339:[function(t,j,x){function d(_){return(d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(b){return typeof b}:function(b){return b&&typeof Symbol=="function"&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b})(_)}function f(_){return(f=typeof Symbol=="function"&&d(Symbol.iterator)==="symbol"?function(b){return d(b)}:function(b){return b&&typeof Symbol=="function"&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":d(b)})(_)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.get-prototype-of"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.reflect.construct"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),Object.defineProperty(x,"__esModule",{value:!0}),x.checkWebGLCapabilities=m,x.default=x.MipmapTexture=void 0;var s=(l=t("../core/main"))&&l.__esModule?l:{default:l},c=function(_){if(_&&_.__esModule)return _;if(_===null||f(_)!=="object"&&typeof _!="function")return{default:_};var b=g();if(b&&b.has(_))return b.get(_);var T,O={},k=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(T in _){var M;Object.prototype.hasOwnProperty.call(_,T)&&((M=k?Object.getOwnPropertyDescriptor(_,T):null)&&(M.get||M.set)?Object.defineProperty(O,T,M):O[T]=_[T])}return O.default=_,b&&b.set(_,O),O}(t("../core/constants"));function g(){var _;return typeof WeakMap!="function"?null:(_=new WeakMap,g=function(){return _},_)}function y(_,b){return(y=Object.setPrototypeOf||function(T,O){return T.__proto__=O,T})(_,b)}function o(_){return function(){var b,T=a(_),T=(b=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(b=a(this).constructor,Reflect.construct(T,arguments,b)):T.apply(this,arguments),this);if(!b||f(b)!=="object"&&typeof b!="function"){if(T!==void 0)return T;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return b}}function a(_){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(b){return b.__proto__||Object.getPrototypeOf(b)})(_)}function i(_,b){if(!(_ instanceof b))throw new TypeError("Cannot call a class as a function")}function h(_,b){for(var T=0;T<b.length;T++){var O=b[T];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(_,O.key,O)}}function p(_,b,T){b&&h(_.prototype,b)}s.default.Texture=function(){function _(I,T,M){i(this,_),this._renderer=I;var k=this._renderer.GL,M=(M=M||{},this.src=T,this.glTex=void 0,this.glTarget=k.TEXTURE_2D,this.glFormat=M.format||k.RGBA,this.mipmaps=!1,this.glMinFilter=M.minFilter||k.LINEAR,this.glMagFilter=M.magFilter||k.LINEAR,this.glWrapS=M.wrapS||k.CLAMP_TO_EDGE,this.glWrapT=M.wrapT||k.CLAMP_TO_EDGE,this.glDataType=M.dataType||k.UNSIGNED_BYTE,m(I)),I=(this.glFormat!==k.HALF_FLOAT||M.halfFloat||(console.log("This device does not support dataType HALF_FLOAT. Falling back to FLOAT."),this.glDataType=k.FLOAT),this.glFormat!==k.HALF_FLOAT||this.glMinFilter!==k.LINEAR&&this.glMagFilter!==k.LINEAR||M.halfFloatLinear||(console.log("This device does not support linear filtering for dataType FLOAT. Falling back to NEAREST."),this.glMinFilter===k.LINEAR&&(this.glMinFilter=k.NEAREST),this.glMagFilter===k.LINEAR&&(this.glMagFilter=k.NEAREST)),this.glFormat!==k.FLOAT||M.float||(console.log("This device does not support dataType FLOAT. Falling back to UNSIGNED_BYTE."),this.glDataType=k.UNSIGNED_BYTE),this.glFormat!==k.FLOAT||this.glMinFilter!==k.LINEAR&&this.glMagFilter!==k.LINEAR||M.floatLinear||(console.log("This device does not support linear filtering for dataType FLOAT. Falling back to NEAREST."),this.glMinFilter===k.LINEAR&&(this.glMinFilter=k.NEAREST),this.glMagFilter===k.LINEAR&&(this.glMagFilter=k.NEAREST)),this.isSrcMediaElement=s.default.MediaElement!==void 0&&T instanceof s.default.MediaElement,this._videoPrevUpdateTime=0,this.isSrcHTMLElement=s.default.Element!==void 0&&T instanceof s.default.Element&&!(T instanceof s.default.Graphics)&&!(T instanceof s.default.Renderer),this.isSrcP5Image=T instanceof s.default.Image,this.isSrcP5Graphics=T instanceof s.default.Graphics,this.isSrcP5Renderer=T instanceof s.default.Renderer,this.isImageData=typeof ImageData<"u"&&T instanceof ImageData,this.isFramebufferTexture=T instanceof s.default.FramebufferTexture,this._getTextureDataFromSource());return this.width=I.width,this.height=I.height,this.init(I),this}return p(_,[{key:"_getTextureDataFromSource",value:function(){var b;return this.isFramebufferTexture?b=this.src.rawTexture():this.isSrcP5Image?b=this.src.canvas:this.isSrcMediaElement||this.isSrcP5Graphics||this.isSrcP5Renderer||this.isSrcHTMLElement?b=this.src.elt:this.isImageData&&(b=this.src),b}},{key:"init",value:function(b){var T,O=this._renderer.GL;this.isFramebufferTexture||(this.glTex=O.createTexture()),this.glWrapS=this._renderer.textureWrapX,this.glWrapT=this._renderer.textureWrapY,this.setWrapMode(this.glWrapS,this.glWrapT),this.bindTexture(),O.texParameteri(O.TEXTURE_2D,O.TEXTURE_MAG_FILTER,this.glMagFilter),O.texParameteri(O.TEXTURE_2D,O.TEXTURE_MIN_FILTER,this.glMinFilter),this.isFramebufferTexture||(this.width===0||this.height===0||this.isSrcMediaElement&&!this.src.loadedmetadata?(T=new Uint8Array([1,1,1,1]),O.texImage2D(this.glTarget,0,O.RGBA,1,1,0,this.glFormat,this.glDataType,T)):O.texImage2D(this.glTarget,0,this.glFormat,this.glFormat,this.glDataType,b))}},{key:"update",value:function(){var b,T,O,k=this.src;return k.width!==0&&k.height!==0&&!this.isFramebufferTexture&&(b=this._getTextureDataFromSource(),T=!1,O=this._renderer.GL,b.width!==this.width||b.height!==this.height?(T=!0,this.width=b.width||k.width,this.height=b.height||k.height,this.isSrcP5Image?k.setModified(!1):(this.isSrcMediaElement||this.isSrcHTMLElement)&&k.setModified(!0)):this.isSrcP5Image?k.isModified()&&k.setModified(!(T=!0)):this.isSrcMediaElement?k.isModified()?k.setModified(!(T=!0)):k.loadedmetadata&&this._videoPrevUpdateTime!==k.time()&&(this._videoPrevUpdateTime=k.time(),T=!0):this.isImageData?k._dirty&&(T=!(k._dirty=!1)):T=!0,T&&(this.bindTexture(),O.texImage2D(this.glTarget,0,this.glFormat,this.glFormat,this.glDataType,b)),T)}},{key:"bindTexture",value:function(){return this._renderer.GL.bindTexture(this.glTarget,this.getTexture()),this}},{key:"unbindTexture",value:function(){this._renderer.GL.bindTexture(this.glTarget,null)}},{key:"getTexture",value:function(){return this.isFramebufferTexture?this.src.rawTexture():this.glTex}},{key:"setInterpolation",value:function(b,T){var O=this._renderer.GL;this.glMinFilter=this.glFilter(b),this.glMagFilter=this.glFilter(T),this.bindTexture(),O.texParameteri(O.TEXTURE_2D,O.TEXTURE_MIN_FILTER,this.glMinFilter),O.texParameteri(O.TEXTURE_2D,O.TEXTURE_MAG_FILTER,this.glMagFilter),this.unbindTexture()}},{key:"glFilter",value:function(b){var T=this._renderer.GL;return b===c.NEAREST?T.NEAREST:T.LINEAR}},{key:"setWrapMode",value:function(b,T){function O(F){return(F&F-1)==0}var k=this._renderer.GL,I=this._getTextureDataFromSource(),I=I.naturalWidth&&I.naturalHeight?(M=I.naturalWidth,I.naturalHeight):(M=this.width,this.height),M=O(M),I=O(I);b===c.REPEAT?this._renderer.webglVersion===c.WEBGL2||M&&I?this.glWrapS=k.REPEAT:(console.warn("You tried to set the wrap mode to REPEAT but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapS=k.CLAMP_TO_EDGE):b===c.MIRROR?this._renderer.webglVersion===c.WEBGL2||M&&I?this.glWrapS=k.MIRRORED_REPEAT:(console.warn("You tried to set the wrap mode to MIRROR but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapS=k.CLAMP_TO_EDGE):this.glWrapS=k.CLAMP_TO_EDGE,T===c.REPEAT?this._renderer.webglVersion===c.WEBGL2||M&&I?this.glWrapT=k.REPEAT:(console.warn("You tried to set the wrap mode to REPEAT but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapT=k.CLAMP_TO_EDGE):T===c.MIRROR?this._renderer.webglVersion===c.WEBGL2||M&&I?this.glWrapT=k.MIRRORED_REPEAT:(console.warn("You tried to set the wrap mode to MIRROR but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapT=k.CLAMP_TO_EDGE):this.glWrapT=k.CLAMP_TO_EDGE,this.bindTexture(),k.texParameteri(k.TEXTURE_2D,k.TEXTURE_WRAP_S,this.glWrapS),k.texParameteri(k.TEXTURE_2D,k.TEXTURE_WRAP_T,this.glWrapT),this.unbindTexture()}}]),_}();var l=function(_){var b=O;if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function");b.prototype=Object.create(_&&_.prototype,{constructor:{value:b,writable:!0,configurable:!0}}),_&&y(b,_);var T=o(O);function O(k,M,I){return i(this,O),M=(k=T.call(this,k,M,I))._renderer.GL,k.glMinFilter===M.LINEAR&&(k.glMinFilter=M.LINEAR_MIPMAP_LINEAR),k}return p(O,[{key:"glFilter",value:function(k){return this._renderer.GL.LINEAR_MIPMAP_LINEAR}},{key:"_getTextureDataFromSource",value:function(){return this.src}},{key:"init",value:function(k){var M=this._renderer.GL;this.glTex=M.createTexture(),this.bindTexture();for(var I=0;I<k.length;I++)M.texImage2D(this.glTarget,I,this.glFormat,this.glFormat,this.glDataType,k[I]);this.glMinFilter=M.LINEAR_MIPMAP_LINEAR,M.texParameteri(M.TEXTURE_2D,M.TEXTURE_MAG_FILTER,this.glMagFilter),M.texParameteri(M.TEXTURE_2D,M.TEXTURE_MIN_FILTER,this.glMinFilter),this.unbindTexture()}},{key:"update",value:function(){}}]),O}(s.default.Texture);function m(k){var b=k.GL,k=k.webglVersion,T=k===c.WEBGL2?b.getExtension("EXT_color_buffer_float")&&b.getExtension("EXT_float_blend"):b.getExtension("OES_texture_float"),O=T&&b.getExtension("OES_texture_float_linear"),k=k===c.WEBGL2?b.getExtension("EXT_color_buffer_float"):b.getExtension("OES_texture_half_float");return{float:T,floatLinear:O,halfFloat:k,halfFloatLinear:k&&b.getExtension("OES_texture_half_float_linear")}}x.MipmapTexture=l,t=s.default.Texture,x.default=t},{"../core/constants":269,"../core/main":280,"core-js/modules/es.array.iterator":164,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.get-prototype-of":185,"core-js/modules/es.object.to-string":187,"core-js/modules/es.reflect.construct":189,"core-js/modules/es.regexp.to-string":193,"core-js/modules/es.string.iterator":197,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.typed-array.copy-within":210,"core-js/modules/es.typed-array.every":211,"core-js/modules/es.typed-array.fill":212,"core-js/modules/es.typed-array.filter":213,"core-js/modules/es.typed-array.find":215,"core-js/modules/es.typed-array.find-index":214,"core-js/modules/es.typed-array.for-each":218,"core-js/modules/es.typed-array.includes":219,"core-js/modules/es.typed-array.index-of":220,"core-js/modules/es.typed-array.iterator":223,"core-js/modules/es.typed-array.join":224,"core-js/modules/es.typed-array.last-index-of":225,"core-js/modules/es.typed-array.map":226,"core-js/modules/es.typed-array.reduce":228,"core-js/modules/es.typed-array.reduce-right":227,"core-js/modules/es.typed-array.reverse":229,"core-js/modules/es.typed-array.set":230,"core-js/modules/es.typed-array.slice":231,"core-js/modules/es.typed-array.some":232,"core-js/modules/es.typed-array.sort":233,"core-js/modules/es.typed-array.subarray":234,"core-js/modules/es.typed-array.to-locale-string":235,"core-js/modules/es.typed-array.to-string":236,"core-js/modules/es.typed-array.uint8-array":239,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.iterator":243}],340:[function(t,j,x){function d(_){return(d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(b){return typeof b}:function(b){return b&&typeof Symbol=="function"&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b})(_)}function f(_){return(f=typeof Symbol=="function"&&d(Symbol.iterator)==="symbol"?function(b){return d(b)}:function(b){return b&&typeof Symbol=="function"&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":d(b)})(_)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.sub"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.sub"),t("core-js/modules/web.dom-collections.iterator");var s,c=(s=t("../core/main"))&&s.__esModule?s:{default:s},g=function(_){if(_&&_.__esModule)return _;if(_===null||f(_)!=="object"&&typeof _!="function")return{default:_};var b=y();if(b&&b.has(_))return b.get(_);var T,O={},k=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(T in _){var M;Object.prototype.hasOwnProperty.call(_,T)&&((M=k?Object.getOwnPropertyDescriptor(_,T):null)&&(M.get||M.set)?Object.defineProperty(O,T,M):O[T]=_[T])}return O.default=_,b&&b.set(_,O),O}(t("../core/constants"));function y(){var _;return typeof WeakMap!="function"?null:(_=new WeakMap,y=function(){return _},_)}function o(_,b){if(!(_ instanceof b))throw new TypeError("Cannot call a class as a function")}function a(_,b){for(var T=0;T<b.length;T++){var O=b[T];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(_,O.key,O)}}function i(_,b,T){b&&a(_.prototype,b)}t("./p5.Shader"),t("./p5.RendererGL.Retained"),c.default.RendererGL.prototype._applyTextProperties=function(){},c.default.RendererGL.prototype.textWidth=function(_){return this._isOpenType()?this._textFont._textWidth(_,this._textSize):0};var h=function(){function _(b,T){o(this,_),this.width=b,this.height=T,this.infos=[]}return i(_,[{key:"findImage",value:function(b){var T,O,k=this.width*this.height;if(k<b)throw new Error("font is too complex to render in 3D");for(var M=this.infos.length-1;0<=M;--M){var I=this.infos[M];if(I.index+b<k){O=(T=I).imageData;break}}if(!T){try{O=new ImageData(this.width,this.height)}catch{var F=document.getElementsByTagName("canvas")[0],A=!F,U=(F||((F=document.createElement("canvas")).style.display="none",document.body.appendChild(F)),F.getContext("2d"));U&&(O=U.createImageData(this.width,this.height)),A&&document.body.removeChild(F)}this.infos.push(T={index:0,imageData:O})}return U=T.index,T.index+=b,O._dirty=!0,{imageData:O,index:U}}}]),_}();function p(I,b,T,O,k){var M=I.imageData.data,I=4*I.index++;M[I++]=b,M[I++]=T,M[I++]=O,M[+I]=k}var l=Math.sqrt(3),m=function(){function _(b){o(this,_),this.font=b,this.strokeImageInfos=new h(64,64),this.colDimImageInfos=new h(64,64),this.rowDimImageInfos=new h(64,64),this.colCellImageInfos=new h(64,64),this.rowCellImageInfos=new h(64,64),this.glyphInfos={}}return i(_,[{key:"getGlyphInfo",value:function(b){var T=this.glyphInfos[b.index];if(!T){var O=b.getBoundingBox(),k=O.x1,M=O.y1,I=O.x2-k,F=O.y2-M,A=b.path.commands;if(I==0||F==0||!A.length)return this.glyphInfos[b.index]={};for(var U=[],D=[],V=[],G=8;0<=G;--G)V.push([]);for(G=8;0<=G;--G)D.push([]);var W,J,Q,Y,z=function(){function nt(ot,ut,at,Oe){o(this,nt),this.p0=ot,this.c0=ut,this.c1=at,this.p1=Oe}return i(nt,[{key:"toQuadratic",value:function(){return{x:this.p0.x,y:this.p0.y,x1:this.p1.x,y1:this.p1.y,cx:(3*(this.c0.x+this.c1.x)-(this.p0.x+this.p1.x))/4,cy:(3*(this.c0.y+this.c1.y)-(this.p0.y+this.p1.y))/4}}},{key:"quadError",value:function(){return c.default.Vector.sub(c.default.Vector.sub(this.p1,this.p0),c.default.Vector.mult(c.default.Vector.sub(this.c1,this.c0),3)).mag()/2}},{key:"split",value:function(Xe){var ut=c.default.Vector.lerp(this.p0,this.c0,Xe),Oe=c.default.Vector.lerp(this.c0,this.c1,Xe),at=c.default.Vector.lerp(ut,Oe,Xe),Oe=(this.c1=c.default.Vector.lerp(this.c1,this.p1,Xe),this.c0=c.default.Vector.lerp(Oe,this.c1,Xe),c.default.Vector.lerp(at,this.c0,Xe)),Xe=new nt(this.p0,ut,at,Oe);return this.p0=Oe,Xe}},{key:"splitInflections",value:function(){var ot=c.default.Vector.sub(this.c0,this.p0),ut=c.default.Vector.sub(c.default.Vector.sub(this.c1,this.c0),ot),at=c.default.Vector.sub(c.default.Vector.sub(c.default.Vector.sub(this.p1,this.c1),ot),c.default.Vector.mult(ut,2)),Oe=[],Xe=ut.x*at.y-ut.y*at.x;return Xe!==0&&0<=(ot=(at=ot.x*at.y-ot.y*at.x)*at-4*Xe*(ot.x*ut.y-ot.y*ut.x))&&(Xe<0&&(Xe=-Xe,at=-at),ot=(-at+(ut=Math.sqrt(ot)))/(2*Xe),0<(at=(-at-ut)/(2*Xe))&&at<1&&(Oe.push(this.split(at)),ot=1-(1-ot)/(1-at)),0<ot&&ot<1&&Oe.push(this.split(ot))),Oe.push(this),Oe}}]),nt}(),ee=!0,ie=!1,C=void 0;try{for(var B,H=A[Symbol.iterator]();!(ee=(B=H.next()).done);ee=!0){var $=B.value,ne=($.x-k)/I,se=($.y-M)/F;if(!Ne(W,J,ne,se)){switch($.type){case"M":Q=ne,Y=se;break;case"L":qe(W,J,ne,se);break;case"Q":var de=($.x1-k)/I,_e=($.y1-M)/F;Te([W,ne,de],[J,se,_e],{x:W,y:J,cx:de,cy:_e});break;case"Z":Ne(W,J,Q,Y)?U.push({x:W,y:J}):(qe(W,J,Q,Y),U.push({x:Q,y:Y}));break;case"C":for(var pe=function(ce,Ie,ze,at,Oe,Xe,De,oe){var ce=new z(new c.default.Vector(ce,Ie),new c.default.Vector(ze,at),new c.default.Vector(Oe,Xe),new c.default.Vector(De,oe)).splitInflections(),re=[],fe=30/l,ke=!0,Ie=!1,ze=void 0;try{for(var Je,rt=ce[Symbol.iterator]();!(ke=(Je=rt.next()).done);ke=!0){for(var st=Je.value,lt=[],Ct=void 0;!(.125<=(Ct=fe/st.quadError()));){var kt=Math.pow(Ct,.3333333333333333),mt=st.split(kt),Mt=st.split(1-kt/(1-kt));re.push(mt),lt.push(st),st=Mt}Ct<1&&re.push(st.split(.5)),re.push(st),Array.prototype.push.apply(re,lt.reverse())}}catch(St){Ie=!0,ze=St}finally{try{ke||rt.return==null||rt.return()}finally{if(Ie)throw ze}}return re}(W,J,($.x1-k)/I,($.y1-M)/F,($.x2-k)/I,($.y2-M)/F,ne,se),ge=0;ge<pe.length;ge++){var ve=pe[ge].toQuadratic();Te([ve.x,ve.x1,ve.cx],[ve.y,ve.y1,ve.cy],ve)}break;default:throw new Error("unknown command type: ".concat($.type))}W=ne,J=se}}}catch(nt){ie=!0,C=nt}finally{try{ee||H.return==null||H.return()}finally{if(ie)throw C}}for(var le=U.length,he=this.strokeImageInfos.findImage(le),be=he.index,Ae=0;Ae<le;++Ae){var je=U[Ae];p(he,Me(je.x),Me(je.y),Me(je.cx),Me(je.cy))}(T=this.glyphInfos[b.index]={glyph:b,uGlyphRect:[O.x1,-O.y1,O.x2,-O.y2],strokeImageInfo:he,strokes:U,colInfo:ct(V,this.colDimImageInfos,this.colCellImageInfos),rowInfo:ct(D,this.rowDimImageInfos,this.rowCellImageInfos)}).uGridOffset=[T.colInfo.dimOffset,T.rowInfo.dimOffset]}return T;function Te(nt,ot,ut){var at=U.length;function Oe(re,fe,ke){for(var Ie=re.length;0<Ie--;){var ze=re[Ie];ze<fe&&(fe=ze),ke<ze&&(ke=ze)}return{min:fe,max:ke}}U.push(ut);for(var ut=Oe(nt,1,0),nt=Math.max(Math.floor(9*ut.min-.5),0),Xe=Math.min(Math.ceil(9*ut.max+.5),9),De=nt;De<Xe;++De)V[De].push(at);for(var ut=Oe(ot,1,0),nt=Math.max(Math.floor(9*ut.min-.5),0),oe=Math.min(Math.ceil(9*ut.max+.5),9),ce=nt;ce<oe;++ce)D[ce].push(at)}function Me(nt){return(nt=(ut=255)*nt)<(ot=0)?ot:ut<nt?ut:nt;var ot,ut}function qe(nt,ot,ut,at){Te([nt,ut],[ot,at],{x:nt,y:ot,cx:(nt+ut)/2,cy:(ot+at)/2})}function Ne(nt,ot,ut,at){return Math.abs(ut-nt)<1e-5&&Math.abs(at-ot)<1e-5}function ct(nt,ot,ut){for(var at=nt.length,Oe=ot.findImage(at),ot=Oe.index,Xe=0,De=0;De<at;++De)Xe+=nt[De].length;for(var oe=ut.findImage(Xe),ce=0;ce<at;++ce){var re=nt[ce],fe=re.length,ke=oe.index;p(Oe,ke>>7,127&ke,fe>>7,127&fe);for(var Ie=0;Ie<fe;++Ie){var ze=re[Ie]+be;p(oe,ze>>7,127&ze,0,0)}}return{cellImageInfo:oe,dimOffset:ot,dimImageInfo:Oe}}}}]),_}();c.default.RendererGL.prototype._renderText=function(_,b,T,O,k){if(this._textFont&&typeof this._textFont!="string"){if(!(k<=O)&&this._doFill){if(this._isOpenType()){_.push();var k=this._doStroke,M=this.drawMode,I=(this._doStroke=!1,this.drawMode=g.TEXTURE,this._textFont.font),F=(F=this._textFont._fontInfo)||(this._textFont._fontInfo=new m(I)),T=this._textFont._handleAlignment(this,b,T,O),O=this._textSize/I.unitsPerEm,A=(this.translate(T.x,T.y,0),this.scale(O,O,1),this.GL),T=!this._defaultFontShader,U=this._getFontShader(),D=(U.init(),U.bindShader(),T&&(U.setUniform("uGridImageSize",[64,64]),U.setUniform("uCellsImageSize",[64,64]),U.setUniform("uStrokeImageSize",[64,64]),U.setUniform("uGridSize",[9,9])),this._applyColorBlend(this.curFillColor),this.retainedMode.geometry.glyph),V=(D||((O=this._textGeom=new c.default.Geometry(1,1,function(){for(var ge=0;ge<=1;ge++)for(var ve=0;ve<=1;ve++)this.vertices.push(new c.default.Vector(ve,ge,0)),this.uvs.push(ve,ge)})).computeFaces().computeNormals(),D=this.createBuffers("glyph",O)),!0),T=!1,O=void 0;try{for(var G,W=this.retainedMode.buffers.text[Symbol.iterator]();!(V=(G=W.next()).done);V=!0)G.value._prepareBuffer(D,U)}catch(ge){T=!0,O=ge}finally{try{V||W.return==null||W.return()}finally{if(T)throw O}}this._bindBuffer(D.indexBuffer,A.ELEMENT_ARRAY_BUFFER),U.setUniform("uMaterialColor",this.curFillColor),A.pixelStorei(A.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1);try{var J=0,Q=null,Y=I.stringToGlyphs(b),z=!0,ee=!1,ie=void 0;try{for(var C,B=Y[Symbol.iterator]();!(z=(C=B.next()).done);z=!0){var H,$,ne=C.value,se=(Q&&(J+=I.getKerningValue(Q,ne)),F.getGlyphInfo(ne));se.uGlyphRect&&(H=se.rowInfo,$=se.colInfo,U.setUniform("uSamplerStrokes",se.strokeImageInfo.imageData),U.setUniform("uSamplerRowStrokes",H.cellImageInfo.imageData),U.setUniform("uSamplerRows",H.dimImageInfo.imageData),U.setUniform("uSamplerColStrokes",$.cellImageInfo.imageData),U.setUniform("uSamplerCols",$.dimImageInfo.imageData),U.setUniform("uGridOffset",se.uGridOffset),U.setUniform("uGlyphRect",se.uGlyphRect),U.setUniform("uGlyphOffset",J),U.bindTextures(),A.drawElements(A.TRIANGLES,6,this.GL.UNSIGNED_SHORT,0)),J+=ne.advanceWidth,Q=ne}}catch(ge){ee=!0,ie=ge}finally{try{z||B.return==null||B.return()}finally{if(ee)throw ie}}}finally{U.unbindShader(),this._doStroke=k,this.drawMode=M,A.pixelStorei(A.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),_.pop()}}else console.log("WEBGL: only Opentype (.otf) and Truetype (.ttf) fonts are supported");return _}}else console.log("WEBGL: you must load and set a font before drawing text. See `loadFont` and `textFont` for more details.")}},{"../core/constants":269,"../core/main":280,"./p5.RendererGL.Retained":336,"./p5.Shader":338,"core-js/modules/es.array.iterator":164,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.to-string":187,"core-js/modules/es.regexp.exec":192,"core-js/modules/es.string.iterator":197,"core-js/modules/es.string.split":203,"core-js/modules/es.string.sub":205,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.iterator":243}]},{},[264])(264)})})(hm);var Mg=hm.exports;const Og=kg(Mg);function Ag(P,r){return new Og(P,r)}function Bp(P){var r;(r=P.current)==null||r.remove(),P.current=null}function Pg(P){const{sketch:r,children:v,...t}=P,j=So.useRef(null),x=So.useRef(null);return So.useEffect(()=>{j.current!==null&&(Bp(x),x.current=Ag(r,j.current))},[r]),So.useEffect(()=>{var d,f;(f=(d=x.current)==null?void 0:d.updateWithProps)==null||f.call(d,t)},[t,j]),So.useEffect(()=>()=>Bp(x),[]),mu.jsx("div",{ref:j,className:Cg,children:v})}function Rg(P){const{sketch:r,fallback:v}=P;return r===void 0?(console.error("[ReactP5Wrapper] The `sketch` prop is required."),v!==void 0?mu.jsx(mu.Fragment,{children:v}):null):mu.jsx(Pg,{...P})}const Ig=So.memo(Rg,Tg),dm="15.1.22",Vp=(P,r,v)=>({endTime:r,insertTime:v,type:"exponentialRampToValue",value:P}),Gp=(P,r,v)=>({endTime:r,insertTime:v,type:"linearRampToValue",value:P}),Th=(P,r)=>({startTime:r,type:"setValue",value:P}),fm=(P,r,v)=>({duration:v,startTime:r,type:"setValueCurve",values:P}),pm=(P,r,{startTime:v,target:t,timeConstant:j})=>t+(r-t)*Math.exp((v-P)/j),qi=P=>P.type==="exponentialRampToValue",vu=P=>P.type==="linearRampToValue",jo=P=>qi(P)||vu(P),Lh=P=>P.type==="setValue",zs=P=>P.type==="setValueCurve",_u=(P,r,v,t)=>{const j=P[r];return j===void 0?t:jo(j)||Lh(j)?j.value:zs(j)?j.values[j.values.length-1]:pm(v,_u(P,r-1,j.startTime,t),j)},zp=(P,r,v,t,j)=>v===void 0?[t.insertTime,j]:jo(v)?[v.endTime,v.value]:Lh(v)?[v.startTime,v.value]:zs(v)?[v.startTime+v.duration,v.values[v.values.length-1]]:[v.startTime,_u(P,r-1,v.startTime,j)],kh=P=>P.type==="cancelAndHold",Eh=P=>P.type==="cancelScheduledValues",xo=P=>kh(P)||Eh(P)?P.cancelTime:qi(P)||vu(P)?P.endTime:P.startTime,Hp=(P,r,v,{endTime:t,value:j})=>v===j?j:0<v&&0<j||v<0&&j<0?v*(j/v)**((P-r)/(t-r)):0,Wp=(P,r,v,{endTime:t,value:j})=>v+(P-r)/(t-r)*(j-v),Dg=(P,r)=>{const v=Math.floor(r),t=Math.ceil(r);return v===t?P[v]:(1-(r-v))*P[v]+(1-(t-r))*P[t]},Lg=(P,{duration:r,startTime:v,values:t})=>{const j=(P-v)/r*(t.length-1);return Dg(t,j)},hu=P=>P.type==="setTarget";class Ng{constructor(r){this._automationEvents=[],this._currenTime=0,this._defaultValue=r}[Symbol.iterator](){return this._automationEvents[Symbol.iterator]()}add(r){const v=xo(r);if(kh(r)||Eh(r)){const t=this._automationEvents.findIndex(x=>Eh(r)&&zs(x)?x.startTime+x.duration>=v:xo(x)>=v),j=this._automationEvents[t];if(t!==-1&&(this._automationEvents=this._automationEvents.slice(0,t)),kh(r)){const x=this._automationEvents[this._automationEvents.length-1];if(j!==void 0&&jo(j)){if(x!==void 0&&hu(x))throw new Error("The internal list is malformed.");const d=x===void 0?j.insertTime:zs(x)?x.startTime+x.duration:xo(x),f=x===void 0?this._defaultValue:zs(x)?x.values[x.values.length-1]:x.value,s=qi(j)?Hp(v,d,f,j):Wp(v,d,f,j),c=qi(j)?Vp(s,v,this._currenTime):Gp(s,v,this._currenTime);this._automationEvents.push(c)}if(x!==void 0&&hu(x)&&this._automationEvents.push(Th(this.getValue(v),v)),x!==void 0&&zs(x)&&x.startTime+x.duration>v){const d=v-x.startTime,f=(x.values.length-1)/x.duration,s=Math.max(2,1+Math.ceil(d*f)),c=d/(s-1)*f,g=x.values.slice(0,s);if(c<1)for(let y=1;y<s;y+=1){const o=c*y%1;g[y]=x.values[y-1]*(1-o)+x.values[y]*o}this._automationEvents[this._automationEvents.length-1]=fm(g,x.startTime,d)}}}else{const t=this._automationEvents.findIndex(d=>xo(d)>v),j=t===-1?this._automationEvents[this._automationEvents.length-1]:this._automationEvents[t-1];if(j!==void 0&&zs(j)&&xo(j)+j.duration>v)return!1;const x=qi(r)?Vp(r.value,r.endTime,this._currenTime):vu(r)?Gp(r.value,v,this._currenTime):r;if(t===-1)this._automationEvents.push(x);else{if(zs(r)&&v+r.duration>xo(this._automationEvents[t]))return!1;this._automationEvents.splice(t,0,x)}}return!0}flush(r){const v=this._automationEvents.findIndex(t=>xo(t)>r);if(v>1){const t=this._automationEvents.slice(v-1),j=t[0];hu(j)&&t.unshift(Th(_u(this._automationEvents,v-2,j.startTime,this._defaultValue),j.startTime)),this._automationEvents=t}}getValue(r){if(this._automationEvents.length===0)return this._defaultValue;const v=this._automationEvents.findIndex(d=>xo(d)>r),t=this._automationEvents[v],j=(v===-1?this._automationEvents.length:v)-1,x=this._automationEvents[j];if(x!==void 0&&hu(x)&&(t===void 0||!jo(t)||t.insertTime>r))return pm(r,_u(this._automationEvents,j-1,x.startTime,this._defaultValue),x);if(x!==void 0&&Lh(x)&&(t===void 0||!jo(t)))return x.value;if(x!==void 0&&zs(x)&&(t===void 0||!jo(t)||x.startTime+x.duration>r))return r<x.startTime+x.duration?Lg(r,x):x.values[x.values.length-1];if(x!==void 0&&jo(x)&&(t===void 0||!jo(t)))return x.value;if(t!==void 0&&qi(t)){const[d,f]=zp(this._automationEvents,j,x,t,this._defaultValue);return Hp(r,d,f,t)}if(t!==void 0&&vu(t)){const[d,f]=zp(this._automationEvents,j,x,t,this._defaultValue);return Wp(r,d,f,t)}return this._defaultValue}}const Fg=P=>({cancelTime:P,type:"cancelAndHold"}),Ug=P=>({cancelTime:P,type:"cancelScheduledValues"}),Bg=(P,r)=>({endTime:r,type:"exponentialRampToValue",value:P}),Vg=(P,r)=>({endTime:r,type:"linearRampToValue",value:P}),Gg=(P,r,v)=>({startTime:r,target:P,timeConstant:v,type:"setTarget"}),zg=()=>new DOMException("","AbortError"),Hg=P=>(r,v,[t,j,x],d)=>{P(r[j],[v,t,x],f=>f[0]===v&&f[1]===t,d)},Wg=P=>(r,v,t)=>{const j=[];for(let x=0;x<t.numberOfInputs;x+=1)j.push(new Set);P.set(r,{activeInputs:j,outputs:new Set,passiveInputs:new WeakMap,renderer:v})},qg=P=>(r,v)=>{P.set(r,{activeInputs:new Set,passiveInputs:new WeakMap,renderer:v})},Yi=new WeakSet,mm=new WeakMap,Nh=new WeakMap,ym=new WeakMap,Fh=new WeakMap,Mu=new WeakMap,gm=new WeakMap,Ch=new WeakMap,Mh=new WeakMap,Oh=new WeakMap,vm={construct(){return vm}},Xg=P=>{try{const r=new Proxy(P,vm);new r}catch{return!1}return!0},qp=/^import(?:(?:[\s]+[\w]+|(?:[\s]+[\w]+[\s]*,)?[\s]*\{[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?(?:[\s]*,[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?)*[\s]*}|(?:[\s]+[\w]+[\s]*,)?[\s]*\*[\s]+as[\s]+[\w]+)[\s]+from)?(?:[\s]*)("([^"\\]|\\.)+"|'([^'\\]|\\.)+')(?:[\s]*);?/,Xp=(P,r)=>{const v=[];let t=P.replace(/^[\s]+/,""),j=t.match(qp);for(;j!==null;){const x=j[1].slice(1,-1),d=j[0].replace(/([\s]+)?;?$/,"").replace(x,new URL(x,r).toString());v.push(d),t=t.slice(j[0].length).replace(/^[\s]+/,""),j=t.match(qp)}return[v.join(";"),t]},Yp=P=>{if(P!==void 0&&!Array.isArray(P))throw new TypeError("The parameterDescriptors property of given value for processorCtor is not an array.")},Qp=P=>{if(!Xg(P))throw new TypeError("The given value for processorCtor should be a constructor.");if(P.prototype===null||typeof P.prototype!="object")throw new TypeError("The given value for processorCtor should have a prototype.")},Yg=(P,r,v,t,j,x,d,f,s,c,g,y,o)=>{let a=0;return(i,h,p={credentials:"omit"})=>{const l=g.get(i);if(l!==void 0&&l.has(h))return Promise.resolve();const m=c.get(i);if(m!==void 0){const T=m.get(h);if(T!==void 0)return T}const _=x(i),b=_.audioWorklet===void 0?j(h).then(([T,O])=>{const[k,M]=Xp(T,O),I=`${k};((a,b)=>{(a[b]=a[b]||[]).push((AudioWorkletProcessor,global,registerProcessor,sampleRate,self,window)=>{${M}
})})(window,'_AWGS')`;return v(I)}).then(()=>{const T=o._AWGS.pop();if(T===void 0)throw new SyntaxError;t(_.currentTime,_.sampleRate,()=>T(class{},void 0,(O,k)=>{if(O.trim()==="")throw r();const M=Mh.get(_);if(M!==void 0){if(M.has(O))throw r();Qp(k),Yp(k.parameterDescriptors),M.set(O,k)}else Qp(k),Yp(k.parameterDescriptors),Mh.set(_,new Map([[O,k]]))},_.sampleRate,void 0,void 0))}):Promise.all([j(h),Promise.resolve(P(y,y))]).then(([[T,O],k])=>{const M=a+1;a=M;const[I,F]=Xp(T,O),V=`${I};((AudioWorkletProcessor,registerProcessor)=>{${F}
})(${k?"AudioWorkletProcessor":"class extends AudioWorkletProcessor {__b=new WeakSet();constructor(){super();(p=>p.postMessage=(q=>(m,t)=>q.call(p,m,t?t.filter(u=>!this.__b.has(u)):t))(p.postMessage))(this.port)}}"},(n,p)=>registerProcessor(n,class extends p{${k?"":"__c = (a) => a.forEach(e=>this.__b.add(e.buffer));"}process(i,o,p){${k?"":"i.forEach(this.__c);o.forEach(this.__c);this.__c(Object.values(p));"}return super.process(i.map(j=>j.some(k=>k.length===0)?[]:j),o,p)}}));registerProcessor('__sac${M}',class extends AudioWorkletProcessor{process(){return !1}})`,G=new Blob([V],{type:"application/javascript; charset=utf-8"}),W=URL.createObjectURL(G);return _.audioWorklet.addModule(W,p).then(()=>{if(f(_))return _;const J=d(_);return J.audioWorklet.addModule(W,p).then(()=>J)}).then(J=>{if(s===null)throw new SyntaxError;try{new s(J,`__sac${M}`)}catch{throw new SyntaxError}}).finally(()=>URL.revokeObjectURL(W))});return m===void 0?c.set(i,new Map([[h,b]])):m.set(h,b),b.then(()=>{const T=g.get(i);T===void 0?g.set(i,new Set([h])):T.add(h)}).finally(()=>{const T=c.get(i);T!==void 0&&T.delete(h)}),b}},ds=(P,r)=>{const v=P.get(r);if(v===void 0)throw new Error("A value with the given key could not be found.");return v},Ou=(P,r)=>{const v=Array.from(P).filter(r);if(v.length>1)throw Error("More than one element was found.");if(v.length===0)throw Error("No element was found.");const[t]=v;return P.delete(t),t},_m=(P,r,v,t)=>{const j=ds(P,r),x=Ou(j,d=>d[0]===v&&d[1]===t);return j.size===0&&P.delete(r),x},Ha=P=>ds(gm,P),Qi=P=>{if(Yi.has(P))throw new Error("The AudioNode is already stored.");Yi.add(P),Ha(P).forEach(r=>r(!0))},bm=P=>"port"in P,Wa=P=>{if(!Yi.has(P))throw new Error("The AudioNode is not stored.");Yi.delete(P),Ha(P).forEach(r=>r(!1))},Ah=(P,r)=>{!bm(P)&&r.every(v=>v.size===0)&&Wa(P)},Qg=(P,r,v,t,j,x,d,f,s,c,g,y,o)=>{const a=new WeakMap;return(i,h,p,l,m)=>{const{activeInputs:_,passiveInputs:b}=x(h),{outputs:T}=x(i),O=f(i),k=M=>{const I=s(h),F=s(i);if(M){const A=_m(b,i,p,l);P(_,i,A,!1),!m&&!y(i)&&v(F,I,p,l),o(h)&&Qi(h)}else{const A=t(_,i,p,l);r(b,l,A,!1),!m&&!y(i)&&j(F,I,p,l);const U=d(h);if(U===0)g(h)&&Ah(h,_);else{const D=a.get(h);D!==void 0&&clearTimeout(D),a.set(h,setTimeout(()=>{g(h)&&Ah(h,_)},U*1e3))}}};return c(T,[h,p,l],M=>M[0]===h&&M[1]===p&&M[2]===l,!0)?(O.add(k),g(i)?P(_,i,[p,l,k],!0):r(b,l,[i,p,k],!0),!0):!1}},$g=P=>(r,v,[t,j,x],d)=>{const f=r.get(t);f===void 0?r.set(t,new Set([[j,v,x]])):P(f,[j,v,x],s=>s[0]===j&&s[1]===v,d)},Jg=P=>(r,v)=>{const t=P(r,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});v.connect(t).connect(r.destination);const j=()=>{v.removeEventListener("ended",j),v.disconnect(t),t.disconnect()};v.addEventListener("ended",j)},Zg=P=>(r,v)=>{P(r).add(v)},Kg={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",fftSize:2048,maxDecibels:-30,minDecibels:-100,smoothingTimeConstant:.8},ev=(P,r,v,t,j,x)=>class extends P{constructor(f,s){const c=j(f),g={...Kg,...s},y=t(c,g),o=x(c)?r():null;super(f,!1,y,o),this._nativeAnalyserNode=y}get fftSize(){return this._nativeAnalyserNode.fftSize}set fftSize(f){this._nativeAnalyserNode.fftSize=f}get frequencyBinCount(){return this._nativeAnalyserNode.frequencyBinCount}get maxDecibels(){return this._nativeAnalyserNode.maxDecibels}set maxDecibels(f){const s=this._nativeAnalyserNode.maxDecibels;if(this._nativeAnalyserNode.maxDecibels=f,!(f>this._nativeAnalyserNode.minDecibels))throw this._nativeAnalyserNode.maxDecibels=s,v()}get minDecibels(){return this._nativeAnalyserNode.minDecibels}set minDecibels(f){const s=this._nativeAnalyserNode.minDecibels;if(this._nativeAnalyserNode.minDecibels=f,!(this._nativeAnalyserNode.maxDecibels>f))throw this._nativeAnalyserNode.minDecibels=s,v()}get smoothingTimeConstant(){return this._nativeAnalyserNode.smoothingTimeConstant}set smoothingTimeConstant(f){this._nativeAnalyserNode.smoothingTimeConstant=f}getByteFrequencyData(f){this._nativeAnalyserNode.getByteFrequencyData(f)}getByteTimeDomainData(f){this._nativeAnalyserNode.getByteTimeDomainData(f)}getFloatFrequencyData(f){this._nativeAnalyserNode.getFloatFrequencyData(f)}getFloatTimeDomainData(f){this._nativeAnalyserNode.getFloatTimeDomainData(f)}},cn=(P,r)=>P.context===r,tv=(P,r,v)=>()=>{const t=new WeakMap,j=async(x,d)=>{let f=r(x);if(!cn(f,d)){const c={channelCount:f.channelCount,channelCountMode:f.channelCountMode,channelInterpretation:f.channelInterpretation,fftSize:f.fftSize,maxDecibels:f.maxDecibels,minDecibels:f.minDecibels,smoothingTimeConstant:f.smoothingTimeConstant};f=P(d,c)}return t.set(d,f),await v(x,d,f),f};return{render(x,d){const f=t.get(d);return f!==void 0?Promise.resolve(f):j(x,d)}}},bu=P=>{try{P.copyToChannel(new Float32Array(1),0,-1)}catch{return!1}return!0},Es=()=>new DOMException("","IndexSizeError"),Uh=P=>{P.getChannelData=(r=>v=>{try{return r.call(P,v)}catch(t){throw t.code===12?Es():t}})(P.getChannelData)},rv={numberOfChannels:1},nv=(P,r,v,t,j,x,d,f)=>{let s=null;return class wm{constructor(g){if(j===null)throw new Error("Missing the native OfflineAudioContext constructor.");const{length:y,numberOfChannels:o,sampleRate:a}={...rv,...g};s===null&&(s=new j(1,1,44100));const i=t!==null&&r(x,x)?new t({length:y,numberOfChannels:o,sampleRate:a}):s.createBuffer(o,y,a);if(i.numberOfChannels===0)throw v();return typeof i.copyFromChannel!="function"?(d(i),Uh(i)):r(bu,()=>bu(i))||f(i),P.add(i),i}static[Symbol.hasInstance](g){return g!==null&&typeof g=="object"&&Object.getPrototypeOf(g)===wm.prototype||P.has(g)}}},Fn=-34028234663852886e22,pn=34028234663852886e22,Hs=P=>Yi.has(P),sv={buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1},ov=(P,r,v,t,j,x,d,f)=>class extends P{constructor(c,g){const y=x(c),o={...sv,...g},a=j(y,o),i=d(y),h=i?r():null;super(c,!1,a,h),this._audioBufferSourceNodeRenderer=h,this._isBufferNullified=!1,this._isBufferSet=o.buffer!==null,this._nativeAudioBufferSourceNode=a,this._onended=null,this._playbackRate=v(this,i,a.playbackRate,pn,Fn)}get buffer(){return this._isBufferNullified?null:this._nativeAudioBufferSourceNode.buffer}set buffer(c){if(this._nativeAudioBufferSourceNode.buffer=c,c!==null){if(this._isBufferSet)throw t();this._isBufferSet=!0}}get loop(){return this._nativeAudioBufferSourceNode.loop}set loop(c){this._nativeAudioBufferSourceNode.loop=c}get loopEnd(){return this._nativeAudioBufferSourceNode.loopEnd}set loopEnd(c){this._nativeAudioBufferSourceNode.loopEnd=c}get loopStart(){return this._nativeAudioBufferSourceNode.loopStart}set loopStart(c){this._nativeAudioBufferSourceNode.loopStart=c}get onended(){return this._onended}set onended(c){const g=typeof c=="function"?f(this,c):null;this._nativeAudioBufferSourceNode.onended=g;const y=this._nativeAudioBufferSourceNode.onended;this._onended=y!==null&&y===g?c:y}get playbackRate(){return this._playbackRate}start(c=0,g=0,y){if(this._nativeAudioBufferSourceNode.start(c,g,y),this._audioBufferSourceNodeRenderer!==null&&(this._audioBufferSourceNodeRenderer.start=y===void 0?[c,g]:[c,g,y]),this.context.state!=="closed"){Qi(this);const o=()=>{this._nativeAudioBufferSourceNode.removeEventListener("ended",o),Hs(this)&&Wa(this)};this._nativeAudioBufferSourceNode.addEventListener("ended",o)}}stop(c=0){this._nativeAudioBufferSourceNode.stop(c),this._audioBufferSourceNodeRenderer!==null&&(this._audioBufferSourceNodeRenderer.stop=c)}},iv=(P,r,v,t,j)=>()=>{const x=new WeakMap;let d=null,f=null;const s=async(c,g)=>{let y=v(c);const o=cn(y,g);if(!o){const a={buffer:y.buffer,channelCount:y.channelCount,channelCountMode:y.channelCountMode,channelInterpretation:y.channelInterpretation,loop:y.loop,loopEnd:y.loopEnd,loopStart:y.loopStart,playbackRate:y.playbackRate.value};y=r(g,a),d!==null&&y.start(...d),f!==null&&y.stop(f)}return x.set(g,y),o?await P(g,c.playbackRate,y.playbackRate):await t(g,c.playbackRate,y.playbackRate),await j(c,g,y),y};return{set start(c){d=c},set stop(c){f=c},render(c,g){const y=x.get(g);return y!==void 0?Promise.resolve(y):s(c,g)}}},av=P=>"playbackRate"in P,lv=P=>"frequency"in P&&"gain"in P,uv=P=>"offset"in P,cv=P=>!("frequency"in P)&&"gain"in P,hv=P=>"detune"in P&&"frequency"in P&&!("gain"in P),dv=P=>"pan"in P,mn=P=>ds(mm,P),qa=P=>ds(ym,P),Ph=(P,r)=>{const{activeInputs:v}=mn(P);v.forEach(j=>j.forEach(([x])=>{r.includes(P)||Ph(x,[...r,P])}));const t=av(P)?[P.playbackRate]:bm(P)?Array.from(P.parameters.values()):lv(P)?[P.Q,P.detune,P.frequency,P.gain]:uv(P)?[P.offset]:cv(P)?[P.gain]:hv(P)?[P.detune,P.frequency]:dv(P)?[P.pan]:[];for(const j of t){const x=qa(j);x!==void 0&&x.activeInputs.forEach(([d])=>Ph(d,r))}Hs(P)&&Wa(P)},xm=P=>{Ph(P.destination,[])},fv=P=>P===void 0||typeof P=="number"||typeof P=="string"&&(P==="balanced"||P==="interactive"||P==="playback"),pv=(P,r,v,t,j,x,d,f,s)=>class extends P{constructor(g={}){if(s===null)throw new Error("Missing the native AudioContext constructor.");let y;try{y=new s(g)}catch(i){throw i.code===12&&i.message==="sampleRate is not in range"?v():i}if(y===null)throw t();if(!fv(g.latencyHint))throw new TypeError(`The provided value '${g.latencyHint}' is not a valid enum value of type AudioContextLatencyCategory.`);if(g.sampleRate!==void 0&&y.sampleRate!==g.sampleRate)throw v();super(y,2);const{latencyHint:o}=g,{sampleRate:a}=y;if(this._baseLatency=typeof y.baseLatency=="number"?y.baseLatency:o==="balanced"?512/a:o==="interactive"||o===void 0?256/a:o==="playback"?1024/a:Math.max(2,Math.min(128,Math.round(o*a/128)))*128/a,this._nativeAudioContext=y,s.name==="webkitAudioContext"?(this._nativeGainNode=y.createGain(),this._nativeOscillatorNode=y.createOscillator(),this._nativeGainNode.gain.value=1e-37,this._nativeOscillatorNode.connect(this._nativeGainNode).connect(y.destination),this._nativeOscillatorNode.start()):(this._nativeGainNode=null,this._nativeOscillatorNode=null),this._state=null,y.state==="running"){this._state="suspended";const i=()=>{this._state==="suspended"&&(this._state=null),y.removeEventListener("statechange",i)};y.addEventListener("statechange",i)}}get baseLatency(){return this._baseLatency}get state(){return this._state!==null?this._state:this._nativeAudioContext.state}close(){return this.state==="closed"?this._nativeAudioContext.close().then(()=>{throw r()}):(this._state==="suspended"&&(this._state=null),this._nativeAudioContext.close().then(()=>{this._nativeGainNode!==null&&this._nativeOscillatorNode!==null&&(this._nativeOscillatorNode.stop(),this._nativeGainNode.disconnect(),this._nativeOscillatorNode.disconnect()),xm(this)}))}createMediaElementSource(g){return new j(this,{mediaElement:g})}createMediaStreamDestination(){return new x(this)}createMediaStreamSource(g){return new d(this,{mediaStream:g})}createMediaStreamTrackSource(g){return new f(this,{mediaStreamTrack:g})}resume(){return this._state==="suspended"?new Promise((g,y)=>{const o=()=>{this._nativeAudioContext.removeEventListener("statechange",o),this._nativeAudioContext.state==="running"?g():this.resume().then(g,y)};this._nativeAudioContext.addEventListener("statechange",o)}):this._nativeAudioContext.resume().catch(g=>{throw g===void 0||g.code===15?r():g})}suspend(){return this._nativeAudioContext.suspend().catch(g=>{throw g===void 0?r():g})}},mv=(P,r,v,t,j,x,d,f)=>class extends P{constructor(c,g){const y=x(c),o=d(y),a=j(y,g,o),i=o?r(f):null;super(c,!1,a,i),this._isNodeOfNativeOfflineAudioContext=o,this._nativeAudioDestinationNode=a}get channelCount(){return this._nativeAudioDestinationNode.channelCount}set channelCount(c){if(this._isNodeOfNativeOfflineAudioContext)throw t();if(c>this._nativeAudioDestinationNode.maxChannelCount)throw v();this._nativeAudioDestinationNode.channelCount=c}get channelCountMode(){return this._nativeAudioDestinationNode.channelCountMode}set channelCountMode(c){if(this._isNodeOfNativeOfflineAudioContext)throw t();this._nativeAudioDestinationNode.channelCountMode=c}get maxChannelCount(){return this._nativeAudioDestinationNode.maxChannelCount}},yv=P=>{const r=new WeakMap,v=async(t,j)=>{const x=j.destination;return r.set(j,x),await P(t,j,x),x};return{render(t,j){const x=r.get(j);return x!==void 0?Promise.resolve(x):v(t,j)}}},gv=(P,r,v,t,j,x,d,f)=>(s,c)=>{const g=c.listener,y=()=>{const T=new Float32Array(1),O=r(c,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:9}),k=d(c);let M=!1,I=[0,0,-1,0,1,0],F=[0,0,0];const A=()=>{if(M)return;M=!0;const G=t(c,256,9,0);G.onaudioprocess=({inputBuffer:W})=>{const J=[x(W,T,0),x(W,T,1),x(W,T,2),x(W,T,3),x(W,T,4),x(W,T,5)];J.some((Y,z)=>Y!==I[z])&&(g.setOrientation(...J),I=J);const Q=[x(W,T,6),x(W,T,7),x(W,T,8)];Q.some((Y,z)=>Y!==F[z])&&(g.setPosition(...Q),F=Q)},O.connect(G)},U=G=>W=>{W!==I[G]&&(I[G]=W,g.setOrientation(...I))},D=G=>W=>{W!==F[G]&&(F[G]=W,g.setPosition(...F))},V=(G,W,J)=>{const Q=v(c,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:W});Q.connect(O,0,G),Q.start(),Object.defineProperty(Q.offset,"defaultValue",{get(){return W}});const Y=P({context:s},k,Q.offset,pn,Fn);return f(Y,"value",z=>()=>z.call(Y),z=>ee=>{try{z.call(Y,ee)}catch(ie){if(ie.code!==9)throw ie}A(),k&&J(ee)}),Y.cancelAndHoldAtTime=(z=>k?()=>{throw j()}:(...ee)=>{const ie=z.apply(Y,ee);return A(),ie})(Y.cancelAndHoldAtTime),Y.cancelScheduledValues=(z=>k?()=>{throw j()}:(...ee)=>{const ie=z.apply(Y,ee);return A(),ie})(Y.cancelScheduledValues),Y.exponentialRampToValueAtTime=(z=>k?()=>{throw j()}:(...ee)=>{const ie=z.apply(Y,ee);return A(),ie})(Y.exponentialRampToValueAtTime),Y.linearRampToValueAtTime=(z=>k?()=>{throw j()}:(...ee)=>{const ie=z.apply(Y,ee);return A(),ie})(Y.linearRampToValueAtTime),Y.setTargetAtTime=(z=>k?()=>{throw j()}:(...ee)=>{const ie=z.apply(Y,ee);return A(),ie})(Y.setTargetAtTime),Y.setValueAtTime=(z=>k?()=>{throw j()}:(...ee)=>{const ie=z.apply(Y,ee);return A(),ie})(Y.setValueAtTime),Y.setValueCurveAtTime=(z=>k?()=>{throw j()}:(...ee)=>{const ie=z.apply(Y,ee);return A(),ie})(Y.setValueCurveAtTime),Y};return{forwardX:V(0,0,U(0)),forwardY:V(1,0,U(1)),forwardZ:V(2,-1,U(2)),positionX:V(6,0,D(0)),positionY:V(7,0,D(1)),positionZ:V(8,0,D(2)),upX:V(3,0,U(3)),upY:V(4,1,U(4)),upZ:V(5,0,U(5))}},{forwardX:o,forwardY:a,forwardZ:i,positionX:h,positionY:p,positionZ:l,upX:m,upY:_,upZ:b}=g.forwardX===void 0?y():g;return{get forwardX(){return o},get forwardY(){return a},get forwardZ(){return i},get positionX(){return h},get positionY(){return p},get positionZ(){return l},get upX(){return m},get upY(){return _},get upZ(){return b}}},wu=P=>"context"in P,Xa=P=>wu(P[0]),fi=(P,r,v,t)=>{for(const j of P)if(v(j)){if(t)return!1;throw Error("The set contains at least one similar element.")}return P.add(r),!0},$p=(P,r,[v,t],j)=>{fi(P,[r,v,t],x=>x[0]===r&&x[1]===v,j)},Jp=(P,[r,v,t],j)=>{const x=P.get(r);x===void 0?P.set(r,new Set([[v,t]])):fi(x,[v,t],d=>d[0]===v,j)},ta=P=>"inputs"in P,xu=(P,r,v,t)=>{if(ta(r)){const j=r.inputs[t];return P.connect(j,v,0),[j,v,0]}return P.connect(r,v,t),[r,v,t]},jm=(P,r,v)=>{for(const t of P)if(t[0]===r&&t[1]===v)return P.delete(t),t;return null},vv=(P,r,v)=>Ou(P,t=>t[0]===r&&t[1]===v),Sm=(P,r)=>{if(!Ha(P).delete(r))throw new Error("Missing the expected event listener.")},Tm=(P,r,v)=>{const t=ds(P,r),j=Ou(t,x=>x[0]===v);return t.size===0&&P.delete(r),j},ju=(P,r,v,t)=>{ta(r)?P.disconnect(r.inputs[t],v,0):P.disconnect(r,v,t)},mr=P=>ds(Nh,P),Ba=P=>ds(Fh,P),hi=P=>Ch.has(P),yu=P=>!Yi.has(P),Zp=(P,r)=>new Promise(v=>{if(r!==null)v(!0);else{const t=P.createScriptProcessor(256,1,1),j=P.createGain(),x=P.createBuffer(1,2,44100),d=x.getChannelData(0);d[0]=1,d[1]=1;const f=P.createBufferSource();f.buffer=x,f.loop=!0,f.connect(t).connect(P.destination),f.connect(j),f.disconnect(j),t.onaudioprocess=s=>{const c=s.inputBuffer.getChannelData(0);Array.prototype.some.call(c,g=>g===1)?v(!0):v(!1),f.stop(),t.onaudioprocess=null,f.disconnect(t),t.disconnect(P.destination)},f.start()}}),jh=(P,r)=>{const v=new Map;for(const t of P)for(const j of t){const x=v.get(j);v.set(j,x===void 0?1:x+1)}v.forEach((t,j)=>r(j,t))},Su=P=>"context"in P,_v=P=>{const r=new Map;P.connect=(v=>(t,j=0,x=0)=>{const d=Su(t)?v(t,j,x):v(t,j),f=r.get(t);return f===void 0?r.set(t,[{input:x,output:j}]):f.every(s=>s.input!==x||s.output!==j)&&f.push({input:x,output:j}),d})(P.connect.bind(P)),P.disconnect=(v=>(t,j,x)=>{if(v.apply(P),t===void 0)r.clear();else if(typeof t=="number")for(const[d,f]of r){const s=f.filter(c=>c.output!==t);s.length===0?r.delete(d):r.set(d,s)}else if(r.has(t))if(j===void 0)r.delete(t);else{const d=r.get(t);if(d!==void 0){const f=d.filter(s=>s.output!==j&&(s.input!==x||x===void 0));f.length===0?r.delete(t):r.set(t,f)}}for(const[d,f]of r)f.forEach(s=>{Su(d)?P.connect(d,s.output,s.input):P.connect(d,s.output)})})(P.disconnect)},bv=(P,r,v,t)=>{const{activeInputs:j,passiveInputs:x}=qa(r),{outputs:d}=mn(P),f=Ha(P),s=c=>{const g=mr(P),y=Ba(r);if(c){const o=Tm(x,P,v);$p(j,P,o,!1),!t&&!hi(P)&&g.connect(y,v)}else{const o=vv(j,P,v);Jp(x,o,!1),!t&&!hi(P)&&g.disconnect(y,v)}};return fi(d,[r,v],c=>c[0]===r&&c[1]===v,!0)?(f.add(s),Hs(P)?$p(j,P,[v,s],!0):Jp(x,[P,v,s],!0),!0):!1},wv=(P,r,v,t)=>{const{activeInputs:j,passiveInputs:x}=mn(r),d=jm(j[t],P,v);return d===null?[_m(x,P,v,t)[2],!1]:[d[2],!0]},xv=(P,r,v)=>{const{activeInputs:t,passiveInputs:j}=qa(r),x=jm(t,P,v);return x===null?[Tm(j,P,v)[1],!1]:[x[2],!0]},Bh=(P,r,v,t,j)=>{const[x,d]=wv(P,v,t,j);if(x!==null&&(Sm(P,x),d&&!r&&!hi(P)&&ju(mr(P),mr(v),t,j)),Hs(v)){const{activeInputs:f}=mn(v);Ah(v,f)}},Vh=(P,r,v,t)=>{const[j,x]=xv(P,v,t);j!==null&&(Sm(P,j),x&&!r&&!hi(P)&&mr(P).disconnect(Ba(v),t))},jv=(P,r)=>{const v=mn(P),t=[];for(const j of v.outputs)Xa(j)?Bh(P,r,...j):Vh(P,r,...j),t.push(j[0]);return v.outputs.clear(),t},Sv=(P,r,v)=>{const t=mn(P),j=[];for(const x of t.outputs)x[1]===v&&(Xa(x)?Bh(P,r,...x):Vh(P,r,...x),j.push(x[0]),t.outputs.delete(x));return j},Tv=(P,r,v,t,j)=>{const x=mn(P);return Array.from(x.outputs).filter(d=>d[0]===v&&(t===void 0||d[1]===t)&&(j===void 0||d[2]===j)).map(d=>(Xa(d)?Bh(P,r,...d):Vh(P,r,...d),x.outputs.delete(d),d[0]))},kv=(P,r,v,t,j,x,d,f,s,c,g,y,o,a,i,h)=>class extends c{constructor(l,m,_,b){super(_),this._context=l,this._nativeAudioNode=_;const T=g(l);y(T)&&v(Zp,()=>Zp(T,h))!==!0&&_v(_),Nh.set(this,_),gm.set(this,new Set),l.state!=="closed"&&m&&Qi(this),P(this,b,_)}get channelCount(){return this._nativeAudioNode.channelCount}set channelCount(l){this._nativeAudioNode.channelCount=l}get channelCountMode(){return this._nativeAudioNode.channelCountMode}set channelCountMode(l){this._nativeAudioNode.channelCountMode=l}get channelInterpretation(){return this._nativeAudioNode.channelInterpretation}set channelInterpretation(l){this._nativeAudioNode.channelInterpretation=l}get context(){return this._context}get numberOfInputs(){return this._nativeAudioNode.numberOfInputs}get numberOfOutputs(){return this._nativeAudioNode.numberOfOutputs}connect(l,m=0,_=0){if(m<0||m>=this._nativeAudioNode.numberOfOutputs)throw j();const b=g(this._context),T=i(b);if(o(l)||a(l))throw x();if(wu(l)){const M=mr(l);try{const F=xu(this._nativeAudioNode,M,m,_),A=yu(this);(T||A)&&this._nativeAudioNode.disconnect(...F),this.context.state!=="closed"&&!A&&yu(l)&&Qi(l)}catch(F){throw F.code===12?x():F}if(r(this,l,m,_,T)){const F=s([this],l);jh(F,t(T))}return l}const O=Ba(l);if(O.name==="playbackRate"&&O.maxValue===1024)throw d();try{this._nativeAudioNode.connect(O,m),(T||yu(this))&&this._nativeAudioNode.disconnect(O,m)}catch(M){throw M.code===12?x():M}if(bv(this,l,m,T)){const M=s([this],l);jh(M,t(T))}}disconnect(l,m,_){let b;const T=g(this._context),O=i(T);if(l===void 0)b=jv(this,O);else if(typeof l=="number"){if(l<0||l>=this.numberOfOutputs)throw j();b=Sv(this,O,l)}else{if(m!==void 0&&(m<0||m>=this.numberOfOutputs)||wu(l)&&_!==void 0&&(_<0||_>=l.numberOfInputs))throw j();if(b=Tv(this,O,l,m,_),b.length===0)throw x()}for(const k of b){const M=s([this],k);jh(M,f)}}},Ev=(P,r,v,t,j,x,d,f,s,c,g,y,o)=>(a,i,h,p=null,l=null)=>{const m=h.value,_=new Ng(m),b=i?t(_):null,T={get defaultValue(){return m},get maxValue(){return p===null?h.maxValue:p},get minValue(){return l===null?h.minValue:l},get value(){return h.value},set value(O){h.value=O,T.setValueAtTime(O,a.context.currentTime)},cancelAndHoldAtTime(O){if(typeof h.cancelAndHoldAtTime=="function")b===null&&_.flush(a.context.currentTime),_.add(j(O)),h.cancelAndHoldAtTime(O);else{const k=Array.from(_).pop();b===null&&_.flush(a.context.currentTime),_.add(j(O));const M=Array.from(_).pop();h.cancelScheduledValues(O),k!==M&&M!==void 0&&(M.type==="exponentialRampToValue"?h.exponentialRampToValueAtTime(M.value,M.endTime):M.type==="linearRampToValue"?h.linearRampToValueAtTime(M.value,M.endTime):M.type==="setValue"?h.setValueAtTime(M.value,M.startTime):M.type==="setValueCurve"&&h.setValueCurveAtTime(M.values,M.startTime,M.duration))}return T},cancelScheduledValues(O){return b===null&&_.flush(a.context.currentTime),_.add(x(O)),h.cancelScheduledValues(O),T},exponentialRampToValueAtTime(O,k){if(O===0)throw new RangeError;if(!Number.isFinite(k)||k<0)throw new RangeError;const M=a.context.currentTime;return b===null&&_.flush(M),Array.from(_).length===0&&(_.add(c(m,M)),h.setValueAtTime(m,M)),_.add(d(O,k)),h.exponentialRampToValueAtTime(O,k),T},linearRampToValueAtTime(O,k){const M=a.context.currentTime;return b===null&&_.flush(M),Array.from(_).length===0&&(_.add(c(m,M)),h.setValueAtTime(m,M)),_.add(f(O,k)),h.linearRampToValueAtTime(O,k),T},setTargetAtTime(O,k,M){return b===null&&_.flush(a.context.currentTime),_.add(s(O,k,M)),h.setTargetAtTime(O,k,M),T},setValueAtTime(O,k){return b===null&&_.flush(a.context.currentTime),_.add(c(O,k)),h.setValueAtTime(O,k),T},setValueCurveAtTime(O,k,M){const I=O instanceof Float32Array?O:new Float32Array(O);if(y!==null&&y.name==="webkitAudioContext"){const F=k+M,A=a.context.sampleRate,U=Math.ceil(k*A),D=Math.floor(F*A),V=D-U,G=new Float32Array(V);for(let J=0;J<V;J+=1){const Q=(I.length-1)/M*((U+J)/A-k),Y=Math.floor(Q),z=Math.ceil(Q);G[J]=Y===z?I[Y]:(1-(Q-Y))*I[Y]+(1-(z-Q))*I[z]}b===null&&_.flush(a.context.currentTime),_.add(g(G,k,M)),h.setValueCurveAtTime(G,k,M);const W=D/A;W<F&&o(T,G[G.length-1],W),o(T,I[I.length-1],F)}else b===null&&_.flush(a.context.currentTime),_.add(g(I,k,M)),h.setValueCurveAtTime(I,k,M);return T}};return v.set(T,h),r.set(T,a),P(T,b),T},Cv=P=>({replay(r){for(const v of P)if(v.type==="exponentialRampToValue"){const{endTime:t,value:j}=v;r.exponentialRampToValueAtTime(j,t)}else if(v.type==="linearRampToValue"){const{endTime:t,value:j}=v;r.linearRampToValueAtTime(j,t)}else if(v.type==="setTarget"){const{startTime:t,target:j,timeConstant:x}=v;r.setTargetAtTime(j,t,x)}else if(v.type==="setValue"){const{startTime:t,value:j}=v;r.setValueAtTime(j,t)}else if(v.type==="setValueCurve"){const{duration:t,startTime:j,values:x}=v;r.setValueCurveAtTime(x,j,t)}else throw new Error("Can't apply an unknown automation.")}});class km{constructor(r){this._map=new Map(r)}get size(){return this._map.size}entries(){return this._map.entries()}forEach(r,v=null){return this._map.forEach((t,j)=>r.call(v,t,j,this))}get(r){return this._map.get(r)}has(r){return this._map.has(r)}keys(){return this._map.keys()}values(){return this._map.values()}}const Mv={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:1,numberOfOutputs:1,parameterData:{},processorOptions:{}},Ov=(P,r,v,t,j,x,d,f,s,c,g,y,o,a)=>class extends r{constructor(h,p,l){var m;const _=f(h),b=s(_),T=g({...Mv,...l});o(T);const O=Mh.get(_),k=O==null?void 0:O.get(p),M=b||_.state!=="closed"?_:(m=d(_))!==null&&m!==void 0?m:_,I=j(M,b?null:h.baseLatency,c,p,k,T),F=b?t(p,T,k):null;super(h,!0,I,F);const A=[];I.parameters.forEach((D,V)=>{const G=v(this,b,D);A.push([V,G])}),this._nativeAudioWorkletNode=I,this._onprocessorerror=null,this._parameters=new km(A),b&&P(_,this);const{activeInputs:U}=x(this);y(I,U)}get onprocessorerror(){return this._onprocessorerror}set onprocessorerror(h){const p=typeof h=="function"?a(this,h):null;this._nativeAudioWorkletNode.onprocessorerror=p;const l=this._nativeAudioWorkletNode.onprocessorerror;this._onprocessorerror=l!==null&&l===p?h:l}get parameters(){return this._parameters===null?this._nativeAudioWorkletNode.parameters:this._parameters}get port(){return this._nativeAudioWorkletNode.port}};function Tu(P,r,v,t,j){if(typeof P.copyFromChannel=="function")r[v].byteLength===0&&(r[v]=new Float32Array(128)),P.copyFromChannel(r[v],t,j);else{const x=P.getChannelData(t);if(r[v].byteLength===0)r[v]=x.slice(j,j+128);else{const d=new Float32Array(x.buffer,j*Float32Array.BYTES_PER_ELEMENT,128);r[v].set(d)}}}const Em=(P,r,v,t,j)=>{typeof P.copyToChannel=="function"?r[v].byteLength!==0&&P.copyToChannel(r[v],t,j):r[v].byteLength!==0&&P.getChannelData(t).set(r[v],j)},ku=(P,r)=>{const v=[];for(let t=0;t<P;t+=1){const j=[],x=typeof r=="number"?r:r[t];for(let d=0;d<x;d+=1)j.push(new Float32Array(128));v.push(j)}return v},Av=(P,r)=>{const v=ds(Oh,P),t=mr(r);return ds(v,t)},Pv=async(P,r,v,t,j,x,d)=>{const f=r===null?Math.ceil(P.context.length/128)*128:r.length,s=t.channelCount*t.numberOfInputs,c=j.reduce((p,l)=>p+l,0),g=c===0?null:v.createBuffer(c,f,v.sampleRate);if(x===void 0)throw new Error("Missing the processor constructor.");const y=mn(P),o=await Av(v,P),a=ku(t.numberOfInputs,t.channelCount),i=ku(t.numberOfOutputs,j),h=Array.from(P.parameters.keys()).reduce((p,l)=>({...p,[l]:new Float32Array(128)}),{});for(let p=0;p<f;p+=128){if(t.numberOfInputs>0&&r!==null)for(let l=0;l<t.numberOfInputs;l+=1)for(let m=0;m<t.channelCount;m+=1)Tu(r,a[l],m,m,p);x.parameterDescriptors!==void 0&&r!==null&&x.parameterDescriptors.forEach(({name:l},m)=>{Tu(r,h,l,s+m,p)});for(let l=0;l<t.numberOfInputs;l+=1)for(let m=0;m<j[l];m+=1)i[l][m].byteLength===0&&(i[l][m]=new Float32Array(128));try{const l=a.map((_,b)=>y.activeInputs[b].size===0?[]:_),m=d(p/v.sampleRate,v.sampleRate,()=>o.process(l,i,h));if(g!==null)for(let _=0,b=0;_<t.numberOfOutputs;_+=1){for(let T=0;T<j[_];T+=1)Em(g,i[_],T,b+T,p);b+=j[_]}if(!m)break}catch(l){P.dispatchEvent(new ErrorEvent("processorerror",{colno:l.colno,filename:l.filename,lineno:l.lineno,message:l.message}));break}}return g},Rv=(P,r,v,t,j,x,d,f,s,c,g,y,o,a,i,h)=>(p,l,m)=>{const _=new WeakMap;let b=null;const T=async(O,k)=>{let M=g(O),I=null;const F=cn(M,k),A=Array.isArray(l.outputChannelCount)?l.outputChannelCount:Array.from(l.outputChannelCount);if(y===null){const U=A.reduce((W,J)=>W+J,0),D=j(k,{channelCount:Math.max(1,U),channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:Math.max(1,U)}),V=[];for(let W=0;W<O.numberOfOutputs;W+=1)V.push(t(k,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:A[W]}));const G=d(k,{channelCount:l.channelCount,channelCountMode:l.channelCountMode,channelInterpretation:l.channelInterpretation,gain:1});G.connect=r.bind(null,V),G.disconnect=s.bind(null,V),I=[D,V,G]}else F||(M=new y(k,p));if(_.set(k,I===null?M:I[2]),I!==null){if(b===null){if(m===void 0)throw new Error("Missing the processor constructor.");if(o===null)throw new Error("Missing the native OfflineAudioContext constructor.");const J=O.channelCount*O.numberOfInputs,Q=m.parameterDescriptors===void 0?0:m.parameterDescriptors.length,Y=J+Q;b=Pv(O,Y===0?null:await(async()=>{const ee=new o(Y,Math.ceil(O.context.length/128)*128,k.sampleRate),ie=[],C=[];for(let $=0;$<l.numberOfInputs;$+=1)ie.push(d(ee,{channelCount:l.channelCount,channelCountMode:l.channelCountMode,channelInterpretation:l.channelInterpretation,gain:1})),C.push(j(ee,{channelCount:l.channelCount,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:l.channelCount}));const B=await Promise.all(Array.from(O.parameters.values()).map(async $=>{const ne=x(ee,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:$.value});return await a(ee,$,ne.offset),ne})),H=t(ee,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Math.max(1,J+Q)});for(let $=0;$<l.numberOfInputs;$+=1){ie[$].connect(C[$]);for(let ne=0;ne<l.channelCount;ne+=1)C[$].connect(H,ne,$*l.channelCount+ne)}for(const[$,ne]of B.entries())ne.connect(H,0,J+$),ne.start(0);return H.connect(ee.destination),await Promise.all(ie.map($=>i(O,ee,$))),h(ee)})(),k,l,A,m,c)}const U=await b,D=v(k,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),[V,G,W]=I;U!==null&&(D.buffer=U,D.start(0)),D.connect(V);for(let J=0,Q=0;J<O.numberOfOutputs;J+=1){const Y=G[J];for(let z=0;z<A[J];z+=1)V.connect(Y,Q+z,z);Q+=A[J]}return W}if(F)for(const[U,D]of O.parameters.entries())await P(k,D,M.parameters.get(U));else for(const[U,D]of O.parameters.entries())await a(k,D,M.parameters.get(U));return await i(O,k,M),M};return{render(O,k){f(k,O);const M=_.get(k);return M!==void 0?Promise.resolve(M):T(O,k)}}},Iv=(P,r,v,t,j,x,d,f,s,c,g,y,o,a,i,h,p,l,m,_)=>class extends i{constructor(T,O){super(T,O),this._nativeContext=T,this._audioWorklet=P===void 0?void 0:{addModule:(k,M)=>P(this,k,M)}}get audioWorklet(){return this._audioWorklet}createAnalyser(){return new r(this)}createBiquadFilter(){return new j(this)}createBuffer(T,O,k){return new v({length:O,numberOfChannels:T,sampleRate:k})}createBufferSource(){return new t(this)}createChannelMerger(T=6){return new x(this,{numberOfInputs:T})}createChannelSplitter(T=6){return new d(this,{numberOfOutputs:T})}createConstantSource(){return new f(this)}createConvolver(){return new s(this)}createDelay(T=1){return new g(this,{maxDelayTime:T})}createDynamicsCompressor(){return new y(this)}createGain(){return new o(this)}createIIRFilter(T,O){return new a(this,{feedback:O,feedforward:T})}createOscillator(){return new h(this)}createPanner(){return new p(this)}createPeriodicWave(T,O,k={disableNormalization:!1}){return new l(this,{...k,imag:O,real:T})}createStereoPanner(){return new m(this)}createWaveShaper(){return new _(this)}decodeAudioData(T,O,k){return c(this._nativeContext,T).then(M=>(typeof O=="function"&&O(M),M),M=>{throw typeof k=="function"&&k(M),M})}},Dv={Q:1,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",detune:0,frequency:350,gain:0,type:"lowpass"},Lv=(P,r,v,t,j,x,d,f)=>class extends P{constructor(c,g){const y=x(c),o={...Dv,...g},a=j(y,o),i=d(y),h=i?v():null;super(c,!1,a,h),this._Q=r(this,i,a.Q,pn,Fn),this._detune=r(this,i,a.detune,1200*Math.log2(pn),-1200*Math.log2(pn)),this._frequency=r(this,i,a.frequency,c.sampleRate/2,0),this._gain=r(this,i,a.gain,40*Math.log10(pn),Fn),this._nativeBiquadFilterNode=a,f(this,1)}get detune(){return this._detune}get frequency(){return this._frequency}get gain(){return this._gain}get Q(){return this._Q}get type(){return this._nativeBiquadFilterNode.type}set type(c){this._nativeBiquadFilterNode.type=c}getFrequencyResponse(c,g,y){try{this._nativeBiquadFilterNode.getFrequencyResponse(c,g,y)}catch(o){throw o.code===11?t():o}if(c.length!==g.length||g.length!==y.length)throw t()}},Nv=(P,r,v,t,j)=>()=>{const x=new WeakMap,d=async(f,s)=>{let c=v(f);const g=cn(c,s);if(!g){const y={Q:c.Q.value,channelCount:c.channelCount,channelCountMode:c.channelCountMode,channelInterpretation:c.channelInterpretation,detune:c.detune.value,frequency:c.frequency.value,gain:c.gain.value,type:c.type};c=r(s,y)}return x.set(s,c),g?(await P(s,f.Q,c.Q),await P(s,f.detune,c.detune),await P(s,f.frequency,c.frequency),await P(s,f.gain,c.gain)):(await t(s,f.Q,c.Q),await t(s,f.detune,c.detune),await t(s,f.frequency,c.frequency),await t(s,f.gain,c.gain)),await j(f,s,c),c};return{render(f,s){const c=x.get(s);return c!==void 0?Promise.resolve(c):d(f,s)}}},Fv=(P,r)=>(v,t)=>{const j=r.get(v);if(j!==void 0)return j;const x=P.get(v);if(x!==void 0)return x;try{const d=t();return d instanceof Promise?(P.set(v,d),d.catch(()=>!1).then(f=>(P.delete(v),r.set(v,f),f))):(r.set(v,d),d)}catch{return r.set(v,!1),!1}},Uv={channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:6},Bv=(P,r,v,t,j)=>class extends P{constructor(d,f){const s=t(d),c={...Uv,...f},g=v(s,c),y=j(s)?r():null;super(d,!1,g,y)}},Vv=(P,r,v)=>()=>{const t=new WeakMap,j=async(x,d)=>{let f=r(x);if(!cn(f,d)){const c={channelCount:f.channelCount,channelCountMode:f.channelCountMode,channelInterpretation:f.channelInterpretation,numberOfInputs:f.numberOfInputs};f=P(d,c)}return t.set(d,f),await v(x,d,f),f};return{render(x,d){const f=t.get(d);return f!==void 0?Promise.resolve(f):j(x,d)}}},Gv={channelCount:6,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:6},zv=(P,r,v,t,j,x)=>class extends P{constructor(f,s){const c=t(f),g=x({...Gv,...s}),y=v(c,g),o=j(c)?r():null;super(f,!1,y,o)}},Hv=(P,r,v)=>()=>{const t=new WeakMap,j=async(x,d)=>{let f=r(x);if(!cn(f,d)){const c={channelCount:f.channelCount,channelCountMode:f.channelCountMode,channelInterpretation:f.channelInterpretation,numberOfOutputs:f.numberOfOutputs};f=P(d,c)}return t.set(d,f),await v(x,d,f),f};return{render(x,d){const f=t.get(d);return f!==void 0?Promise.resolve(f):j(x,d)}}},Wv=P=>(r,v,t)=>P(v,r,t),qv=P=>(r,v,t=0,j=0)=>{const x=r[t];if(x===void 0)throw P();return Su(v)?x.connect(v,0,j):x.connect(v,0)},Xv=P=>(r,v)=>{const t=P(r,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),j=r.createBuffer(1,2,44100);return t.buffer=j,t.loop=!0,t.connect(v),t.start(),()=>{t.stop(),t.disconnect(v)}},Yv={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",offset:1},Qv=(P,r,v,t,j,x,d)=>class extends P{constructor(s,c){const g=j(s),y={...Yv,...c},o=t(g,y),a=x(g),i=a?v():null;super(s,!1,o,i),this._constantSourceNodeRenderer=i,this._nativeConstantSourceNode=o,this._offset=r(this,a,o.offset,pn,Fn),this._onended=null}get offset(){return this._offset}get onended(){return this._onended}set onended(s){const c=typeof s=="function"?d(this,s):null;this._nativeConstantSourceNode.onended=c;const g=this._nativeConstantSourceNode.onended;this._onended=g!==null&&g===c?s:g}start(s=0){if(this._nativeConstantSourceNode.start(s),this._constantSourceNodeRenderer!==null&&(this._constantSourceNodeRenderer.start=s),this.context.state!=="closed"){Qi(this);const c=()=>{this._nativeConstantSourceNode.removeEventListener("ended",c),Hs(this)&&Wa(this)};this._nativeConstantSourceNode.addEventListener("ended",c)}}stop(s=0){this._nativeConstantSourceNode.stop(s),this._constantSourceNodeRenderer!==null&&(this._constantSourceNodeRenderer.stop=s)}},$v=(P,r,v,t,j)=>()=>{const x=new WeakMap;let d=null,f=null;const s=async(c,g)=>{let y=v(c);const o=cn(y,g);if(!o){const a={channelCount:y.channelCount,channelCountMode:y.channelCountMode,channelInterpretation:y.channelInterpretation,offset:y.offset.value};y=r(g,a),d!==null&&y.start(d),f!==null&&y.stop(f)}return x.set(g,y),o?await P(g,c.offset,y.offset):await t(g,c.offset,y.offset),await j(c,g,y),y};return{set start(c){d=c},set stop(c){f=c},render(c,g){const y=x.get(g);return y!==void 0?Promise.resolve(y):s(c,g)}}},Jv=P=>r=>(P[0]=r,P[0]),Zv={buffer:null,channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",disableNormalization:!1},Kv=(P,r,v,t,j,x)=>class extends P{constructor(f,s){const c=t(f),g={...Zv,...s},y=v(c,g),a=j(c)?r():null;super(f,!1,y,a),this._isBufferNullified=!1,this._nativeConvolverNode=y,g.buffer!==null&&x(this,g.buffer.duration)}get buffer(){return this._isBufferNullified?null:this._nativeConvolverNode.buffer}set buffer(f){if(this._nativeConvolverNode.buffer=f,f===null&&this._nativeConvolverNode.buffer!==null){const s=this._nativeConvolverNode.context;this._nativeConvolverNode.buffer=s.createBuffer(1,1,s.sampleRate),this._isBufferNullified=!0,x(this,0)}else this._isBufferNullified=!1,x(this,this._nativeConvolverNode.buffer===null?0:this._nativeConvolverNode.buffer.duration)}get normalize(){return this._nativeConvolverNode.normalize}set normalize(f){this._nativeConvolverNode.normalize=f}},e0=(P,r,v)=>()=>{const t=new WeakMap,j=async(x,d)=>{let f=r(x);if(!cn(f,d)){const c={buffer:f.buffer,channelCount:f.channelCount,channelCountMode:f.channelCountMode,channelInterpretation:f.channelInterpretation,disableNormalization:!f.normalize};f=P(d,c)}return t.set(d,f),ta(f)?await v(x,d,f.inputs[0]):await v(x,d,f),f};return{render(x,d){const f=t.get(d);return f!==void 0?Promise.resolve(f):j(x,d)}}},t0=(P,r)=>(v,t,j)=>{if(r===null)throw new Error("Missing the native OfflineAudioContext constructor.");try{return new r(v,t,j)}catch(x){throw x.name==="SyntaxError"?P():x}},r0=()=>new DOMException("","DataCloneError"),Kp=P=>{const{port1:r,port2:v}=new MessageChannel;return new Promise(t=>{const j=()=>{v.onmessage=null,r.close(),v.close(),t()};v.onmessage=()=>j();try{r.postMessage(P,[P])}catch{}finally{j()}})},n0=(P,r,v,t,j,x,d,f,s,c,g)=>(y,o)=>{const a=d(y)?y:x(y);if(j.has(o)){const i=v();return Promise.reject(i)}try{j.add(o)}catch{}return r(s,()=>s(a))?a.decodeAudioData(o).then(i=>(Kp(o).catch(()=>{}),r(f,()=>f(i))||g(i),P.add(i),i)):new Promise((i,h)=>{const p=async()=>{try{await Kp(o)}catch{}},l=m=>{h(m),p()};try{a.decodeAudioData(o,m=>{typeof m.copyFromChannel!="function"&&(c(m),Uh(m)),P.add(m),p().then(()=>i(m))},m=>{l(m===null?t():m)})}catch(m){l(m)}})},s0=(P,r,v,t,j,x,d,f)=>(s,c)=>{const g=r.get(s);if(g===void 0)throw new Error("Missing the expected cycle count.");const y=x(s.context),o=f(y);if(g===c){if(r.delete(s),!o&&d(s)){const a=t(s),{outputs:i}=v(s);for(const h of i)if(Xa(h)){const p=t(h[0]);P(a,p,h[1],h[2])}else{const p=j(h[0]);a.connect(p,h[1])}}}else r.set(s,g-c)},o0={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",delayTime:0,maxDelayTime:1},i0=(P,r,v,t,j,x,d)=>class extends P{constructor(s,c){const g=j(s),y={...o0,...c},o=t(g,y),a=x(g),i=a?v(y.maxDelayTime):null;super(s,!1,o,i),this._delayTime=r(this,a,o.delayTime),d(this,y.maxDelayTime)}get delayTime(){return this._delayTime}},a0=(P,r,v,t,j)=>x=>{const d=new WeakMap,f=async(s,c)=>{let g=v(s);const y=cn(g,c);if(!y){const o={channelCount:g.channelCount,channelCountMode:g.channelCountMode,channelInterpretation:g.channelInterpretation,delayTime:g.delayTime.value,maxDelayTime:x};g=r(c,o)}return d.set(c,g),y?await P(c,s.delayTime,g.delayTime):await t(c,s.delayTime,g.delayTime),await j(s,c,g),g};return{render(s,c){const g=d.get(c);return g!==void 0?Promise.resolve(g):f(s,c)}}},l0=P=>(r,v,t,j)=>P(r[j],x=>x[0]===v&&x[1]===t),u0=P=>(r,v)=>{P(r).delete(v)},c0=P=>"delayTime"in P,h0=(P,r,v)=>function t(j,x){const d=wu(x)?x:v(P,x);if(c0(d))return[];if(j[0]===d)return[j];if(j.includes(d))return[];const{outputs:f}=r(d);return Array.from(f).map(s=>t([...j,d],s[0])).reduce((s,c)=>s.concat(c),[])},du=(P,r,v)=>{const t=r[v];if(t===void 0)throw P();return t},d0=P=>(r,v=void 0,t=void 0,j=0)=>v===void 0?r.forEach(x=>x.disconnect()):typeof v=="number"?du(P,r,v).disconnect():Su(v)?t===void 0?r.forEach(x=>x.disconnect(v)):j===void 0?du(P,r,t).disconnect(v,0):du(P,r,t).disconnect(v,0,j):t===void 0?r.forEach(x=>x.disconnect(v)):du(P,r,t).disconnect(v,0),f0={attack:.003,channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",knee:30,ratio:12,release:.25,threshold:-24},p0=(P,r,v,t,j,x,d,f)=>class extends P{constructor(c,g){const y=x(c),o={...f0,...g},a=t(y,o),i=d(y),h=i?v():null;super(c,!1,a,h),this._attack=r(this,i,a.attack),this._knee=r(this,i,a.knee),this._nativeDynamicsCompressorNode=a,this._ratio=r(this,i,a.ratio),this._release=r(this,i,a.release),this._threshold=r(this,i,a.threshold),f(this,.006)}get attack(){return this._attack}get channelCount(){return this._nativeDynamicsCompressorNode.channelCount}set channelCount(c){const g=this._nativeDynamicsCompressorNode.channelCount;if(this._nativeDynamicsCompressorNode.channelCount=c,c>2)throw this._nativeDynamicsCompressorNode.channelCount=g,j()}get channelCountMode(){return this._nativeDynamicsCompressorNode.channelCountMode}set channelCountMode(c){const g=this._nativeDynamicsCompressorNode.channelCountMode;if(this._nativeDynamicsCompressorNode.channelCountMode=c,c==="max")throw this._nativeDynamicsCompressorNode.channelCountMode=g,j()}get knee(){return this._knee}get ratio(){return this._ratio}get reduction(){return typeof this._nativeDynamicsCompressorNode.reduction.value=="number"?this._nativeDynamicsCompressorNode.reduction.value:this._nativeDynamicsCompressorNode.reduction}get release(){return this._release}get threshold(){return this._threshold}},m0=(P,r,v,t,j)=>()=>{const x=new WeakMap,d=async(f,s)=>{let c=v(f);const g=cn(c,s);if(!g){const y={attack:c.attack.value,channelCount:c.channelCount,channelCountMode:c.channelCountMode,channelInterpretation:c.channelInterpretation,knee:c.knee.value,ratio:c.ratio.value,release:c.release.value,threshold:c.threshold.value};c=r(s,y)}return x.set(s,c),g?(await P(s,f.attack,c.attack),await P(s,f.knee,c.knee),await P(s,f.ratio,c.ratio),await P(s,f.release,c.release),await P(s,f.threshold,c.threshold)):(await t(s,f.attack,c.attack),await t(s,f.knee,c.knee),await t(s,f.ratio,c.ratio),await t(s,f.release,c.release),await t(s,f.threshold,c.threshold)),await j(f,s,c),c};return{render(f,s){const c=x.get(s);return c!==void 0?Promise.resolve(c):d(f,s)}}},y0=()=>new DOMException("","EncodingError"),g0=P=>r=>new Promise((v,t)=>{if(P===null){t(new SyntaxError);return}const j=P.document.head;if(j===null)t(new SyntaxError);else{const x=P.document.createElement("script"),d=new Blob([r],{type:"application/javascript"}),f=URL.createObjectURL(d),s=P.onerror,c=()=>{P.onerror=s,URL.revokeObjectURL(f)};P.onerror=(g,y,o,a,i)=>{if(y===f||y===P.location.href&&o===1&&a===1)return c(),t(i),!1;if(s!==null)return s(g,y,o,a,i)},x.onerror=()=>{c(),t(new SyntaxError)},x.onload=()=>{c(),v()},x.src=f,x.type="module",j.appendChild(x)}}),v0=P=>class{constructor(v){this._nativeEventTarget=v,this._listeners=new WeakMap}addEventListener(v,t,j){if(t!==null){let x=this._listeners.get(t);x===void 0&&(x=P(this,t),typeof t=="function"&&this._listeners.set(t,x)),this._nativeEventTarget.addEventListener(v,x,j)}}dispatchEvent(v){return this._nativeEventTarget.dispatchEvent(v)}removeEventListener(v,t,j){const x=t===null?void 0:this._listeners.get(t);this._nativeEventTarget.removeEventListener(v,x===void 0?null:x,j)}},_0=P=>(r,v,t)=>{Object.defineProperties(P,{currentFrame:{configurable:!0,get(){return Math.round(r*v)}},currentTime:{configurable:!0,get(){return r}}});try{return t()}finally{P!==null&&(delete P.currentFrame,delete P.currentTime)}},b0=P=>async r=>{try{const v=await fetch(r);if(v.ok)return[await v.text(),v.url]}catch{}throw P()},w0={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",gain:1},x0=(P,r,v,t,j,x)=>class extends P{constructor(f,s){const c=j(f),g={...w0,...s},y=t(c,g),o=x(c),a=o?v():null;super(f,!1,y,a),this._gain=r(this,o,y.gain,pn,Fn)}get gain(){return this._gain}},j0=(P,r,v,t,j)=>()=>{const x=new WeakMap,d=async(f,s)=>{let c=v(f);const g=cn(c,s);if(!g){const y={channelCount:c.channelCount,channelCountMode:c.channelCountMode,channelInterpretation:c.channelInterpretation,gain:c.gain.value};c=r(s,y)}return x.set(s,c),g?await P(s,f.gain,c.gain):await t(s,f.gain,c.gain),await j(f,s,c),c};return{render(f,s){const c=x.get(s);return c!==void 0?Promise.resolve(c):d(f,s)}}},S0=(P,r)=>v=>r(P,v),T0=P=>r=>{const v=P(r);if(v.renderer===null)throw new Error("Missing the renderer of the given AudioNode in the audio graph.");return v.renderer},k0=P=>r=>{var v;return(v=P.get(r))!==null&&v!==void 0?v:0},E0=P=>r=>{const v=P(r);if(v.renderer===null)throw new Error("Missing the renderer of the given AudioParam in the audio graph.");return v.renderer},C0=P=>r=>P.get(r),Zr=()=>new DOMException("","InvalidStateError"),M0=P=>r=>{const v=P.get(r);if(v===void 0)throw Zr();return v},O0=(P,r)=>v=>{let t=P.get(v);if(t!==void 0)return t;if(r===null)throw new Error("Missing the native OfflineAudioContext constructor.");return t=new r(1,1,44100),P.set(v,t),t},A0=P=>r=>{const v=P.get(r);if(v===void 0)throw new Error("The context has no set of AudioWorkletNodes.");return v},Au=()=>new DOMException("","InvalidAccessError"),P0=P=>{P.getFrequencyResponse=(r=>(v,t,j)=>{if(v.length!==t.length||t.length!==j.length)throw Au();return r.call(P,v,t,j)})(P.getFrequencyResponse)},R0={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers"},I0=(P,r,v,t,j,x)=>class extends P{constructor(f,s){const c=t(f),g=j(c),y={...R0,...s},o=r(c,g?null:f.baseLatency,y),a=g?v(y.feedback,y.feedforward):null;super(f,!1,o,a),P0(o),this._nativeIIRFilterNode=o,x(this,1)}getFrequencyResponse(f,s,c){return this._nativeIIRFilterNode.getFrequencyResponse(f,s,c)}},Cm=(P,r,v,t,j,x,d,f,s,c,g)=>{const y=c.length;let o=f;for(let a=0;a<y;a+=1){let i=v[0]*c[a];for(let h=1;h<j;h+=1){const p=o-h&s-1;i+=v[h]*x[p],i-=P[h]*d[p]}for(let h=j;h<t;h+=1)i+=v[h]*x[o-h&s-1];for(let h=j;h<r;h+=1)i-=P[h]*d[o-h&s-1];x[o]=c[a],d[o]=i,o=o+1&s-1,g[a]=i}return o},D0=(P,r,v,t)=>{const j=v instanceof Float64Array?v:new Float64Array(v),x=t instanceof Float64Array?t:new Float64Array(t),d=j.length,f=x.length,s=Math.min(d,f);if(j[0]!==1){for(let i=0;i<d;i+=1)x[i]/=j[0];for(let i=1;i<f;i+=1)j[i]/=j[0]}const c=32,g=new Float32Array(c),y=new Float32Array(c),o=r.createBuffer(P.numberOfChannels,P.length,P.sampleRate),a=P.numberOfChannels;for(let i=0;i<a;i+=1){const h=P.getChannelData(i),p=o.getChannelData(i);g.fill(0),y.fill(0),Cm(j,d,x,f,s,g,y,0,c,h,p)}return o},L0=(P,r,v,t,j)=>(x,d)=>{const f=new WeakMap;let s=null;const c=async(g,y)=>{let o=null,a=r(g);const i=cn(a,y);if(y.createIIRFilter===void 0?o=P(y,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}):i||(a=y.createIIRFilter(d,x)),f.set(y,o===null?a:o),o!==null){if(s===null){if(v===null)throw new Error("Missing the native OfflineAudioContext constructor.");const p=new v(g.context.destination.channelCount,g.context.length,y.sampleRate);s=(async()=>{await t(g,p,p.destination);const l=await j(p);return D0(l,y,x,d)})()}const h=await s;return o.buffer=h,o.start(0),o}return await t(g,y,a),a};return{render(g,y){const o=f.get(y);return o!==void 0?Promise.resolve(o):c(g,y)}}},N0=(P,r,v,t,j,x)=>d=>(f,s)=>{const c=P.get(f);if(c===void 0){if(!d&&x(f)){const g=t(f),{outputs:y}=v(f);for(const o of y)if(Xa(o)){const a=t(o[0]);r(g,a,o[1],o[2])}else{const a=j(o[0]);g.disconnect(a,o[1])}}P.set(f,s)}else P.set(f,c+s)},F0=(P,r)=>v=>{const t=P.get(v);return r(t)||r(v)},U0=(P,r)=>v=>P.has(v)||r(v),B0=(P,r)=>v=>P.has(v)||r(v),V0=(P,r)=>v=>{const t=P.get(v);return r(t)||r(v)},G0=P=>r=>P!==null&&r instanceof P,z0=P=>r=>P!==null&&typeof P.AudioNode=="function"&&r instanceof P.AudioNode,H0=P=>r=>P!==null&&typeof P.AudioParam=="function"&&r instanceof P.AudioParam,W0=(P,r)=>v=>P(v)||r(v),q0=P=>r=>P!==null&&r instanceof P,X0=P=>P!==null&&P.isSecureContext,Y0=(P,r,v,t)=>class extends P{constructor(x,d){const f=v(x),s=r(f,d);if(t(f))throw TypeError();super(x,!0,s,null),this._nativeMediaElementAudioSourceNode=s}get mediaElement(){return this._nativeMediaElementAudioSourceNode.mediaElement}},Q0={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers"},$0=(P,r,v,t)=>class extends P{constructor(x,d){const f=v(x);if(t(f))throw new TypeError;const s={...Q0,...d},c=r(f,s);super(x,!1,c,null),this._nativeMediaStreamAudioDestinationNode=c}get stream(){return this._nativeMediaStreamAudioDestinationNode.stream}},J0=(P,r,v,t)=>class extends P{constructor(x,d){const f=v(x),s=r(f,d);if(t(f))throw new TypeError;super(x,!0,s,null),this._nativeMediaStreamAudioSourceNode=s}get mediaStream(){return this._nativeMediaStreamAudioSourceNode.mediaStream}},Z0=(P,r,v)=>class extends P{constructor(j,x){const d=v(j),f=r(d,x);super(j,!0,f,null)}},K0=(P,r,v,t,j,x)=>class extends v{constructor(f,s){super(f),this._nativeContext=f,Mu.set(this,f),t(f)&&j.set(f,new Set),this._destination=new P(this,s),this._listener=r(this,f),this._onstatechange=null}get currentTime(){return this._nativeContext.currentTime}get destination(){return this._destination}get listener(){return this._listener}get onstatechange(){return this._onstatechange}set onstatechange(f){const s=typeof f=="function"?x(this,f):null;this._nativeContext.onstatechange=s;const c=this._nativeContext.onstatechange;this._onstatechange=c!==null&&c===s?f:c}get sampleRate(){return this._nativeContext.sampleRate}get state(){return this._nativeContext.state}},Va=P=>{const r=new Uint32Array([1179011410,40,1163280727,544501094,16,131073,44100,176400,1048580,1635017060,4,0]);try{const v=P.decodeAudioData(r.buffer,()=>{});return v===void 0?!1:(v.catch(()=>{}),!0)}catch{}return!1},e1=(P,r)=>(v,t,j)=>{const x=new Set;return v.connect=(d=>(f,s=0,c=0)=>{const g=x.size===0;if(r(f))return d.call(v,f,s,c),P(x,[f,s,c],y=>y[0]===f&&y[1]===s&&y[2]===c,!0),g&&t(),f;d.call(v,f,s),P(x,[f,s],y=>y[0]===f&&y[1]===s,!0),g&&t()})(v.connect),v.disconnect=(d=>(f,s,c)=>{const g=x.size>0;if(f===void 0)d.apply(v),x.clear();else if(typeof f=="number"){d.call(v,f);for(const o of x)o[1]===f&&x.delete(o)}else{r(f)?d.call(v,f,s,c):d.call(v,f,s);for(const o of x)o[0]===f&&(s===void 0||o[1]===s)&&(c===void 0||o[2]===c)&&x.delete(o)}const y=x.size===0;g&&y&&j()})(v.disconnect),v},br=(P,r,v)=>{const t=r[v];t!==void 0&&t!==P[v]&&(P[v]=t)},qr=(P,r)=>{br(P,r,"channelCount"),br(P,r,"channelCountMode"),br(P,r,"channelInterpretation")},em=P=>typeof P.getFloatTimeDomainData=="function",t1=P=>{P.getFloatTimeDomainData=r=>{const v=new Uint8Array(r.length);P.getByteTimeDomainData(v);const t=Math.max(v.length,P.fftSize);for(let j=0;j<t;j+=1)r[j]=(v[j]-128)*.0078125;return r}},r1=(P,r)=>(v,t)=>{const j=v.createAnalyser();if(qr(j,t),!(t.maxDecibels>t.minDecibels))throw r();return br(j,t,"fftSize"),br(j,t,"maxDecibels"),br(j,t,"minDecibels"),br(j,t,"smoothingTimeConstant"),P(em,()=>em(j))||t1(j),j},n1=P=>P===null?null:P.hasOwnProperty("AudioBuffer")?P.AudioBuffer:null,Mr=(P,r,v)=>{const t=r[v];t!==void 0&&t!==P[v].value&&(P[v].value=t)},s1=P=>{P.start=(r=>{let v=!1;return(t=0,j=0,x)=>{if(v)throw Zr();r.call(P,t,j,x),v=!0}})(P.start)},Gh=P=>{P.start=(r=>(v=0,t=0,j)=>{if(typeof j=="number"&&j<0||t<0||v<0)throw new RangeError("The parameters can't be negative.");r.call(P,v,t,j)})(P.start)},zh=P=>{P.stop=(r=>(v=0)=>{if(v<0)throw new RangeError("The parameter can't be negative.");r.call(P,v)})(P.stop)},o1=(P,r,v,t,j,x,d,f,s,c,g)=>(y,o)=>{const a=y.createBufferSource();return qr(a,o),Mr(a,o,"playbackRate"),br(a,o,"buffer"),br(a,o,"loop"),br(a,o,"loopEnd"),br(a,o,"loopStart"),r(v,()=>v(y))||s1(a),r(t,()=>t(y))||s(a),r(j,()=>j(y))||c(a,y),r(x,()=>x(y))||Gh(a),r(d,()=>d(y))||g(a,y),r(f,()=>f(y))||zh(a),P(y,a),a},i1=P=>P===null?null:P.hasOwnProperty("AudioContext")?P.AudioContext:P.hasOwnProperty("webkitAudioContext")?P.webkitAudioContext:null,a1=(P,r)=>(v,t,j)=>{const x=v.destination;if(x.channelCount!==t)try{x.channelCount=t}catch{}j&&x.channelCountMode!=="explicit"&&(x.channelCountMode="explicit"),x.maxChannelCount===0&&Object.defineProperty(x,"maxChannelCount",{value:t});const d=P(v,{channelCount:t,channelCountMode:x.channelCountMode,channelInterpretation:x.channelInterpretation,gain:1});return r(d,"channelCount",f=>()=>f.call(d),f=>s=>{f.call(d,s);try{x.channelCount=s}catch(c){if(s>x.maxChannelCount)throw c}}),r(d,"channelCountMode",f=>()=>f.call(d),f=>s=>{f.call(d,s),x.channelCountMode=s}),r(d,"channelInterpretation",f=>()=>f.call(d),f=>s=>{f.call(d,s),x.channelInterpretation=s}),Object.defineProperty(d,"maxChannelCount",{get:()=>x.maxChannelCount}),d.connect(x),d},l1=P=>P===null?null:P.hasOwnProperty("AudioWorkletNode")?P.AudioWorkletNode:null,u1=P=>{const{port1:r}=new MessageChannel;try{r.postMessage(P)}finally{r.close()}},c1=(P,r,v,t,j)=>(x,d,f,s,c,g)=>{if(f!==null)try{const y=new f(x,s,g),o=new Map;let a=null;if(Object.defineProperties(y,{channelCount:{get:()=>g.channelCount,set:()=>{throw P()}},channelCountMode:{get:()=>"explicit",set:()=>{throw P()}},onprocessorerror:{get:()=>a,set:i=>{typeof a=="function"&&y.removeEventListener("processorerror",a),a=typeof i=="function"?i:null,typeof a=="function"&&y.addEventListener("processorerror",a)}}}),y.addEventListener=(i=>(...h)=>{if(h[0]==="processorerror"){const p=typeof h[1]=="function"?h[1]:typeof h[1]=="object"&&h[1]!==null&&typeof h[1].handleEvent=="function"?h[1].handleEvent:null;if(p!==null){const l=o.get(h[1]);l!==void 0?h[1]=l:(h[1]=m=>{m.type==="error"?(Object.defineProperties(m,{type:{value:"processorerror"}}),p(m)):p(new ErrorEvent(h[0],{...m}))},o.set(p,h[1]))}}return i.call(y,"error",h[1],h[2]),i.call(y,...h)})(y.addEventListener),y.removeEventListener=(i=>(...h)=>{if(h[0]==="processorerror"){const p=o.get(h[1]);p!==void 0&&(o.delete(h[1]),h[1]=p)}return i.call(y,"error",h[1],h[2]),i.call(y,h[0],h[1],h[2])})(y.removeEventListener),g.numberOfOutputs!==0){const i=v(x,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});return y.connect(i).connect(x.destination),j(y,()=>i.disconnect(),()=>i.connect(x.destination))}return y}catch(y){throw y.code===11?t():y}if(c===void 0)throw t();return u1(g),r(x,d,c,g)},Mm=(P,r)=>P===null?512:Math.max(512,Math.min(16384,Math.pow(2,Math.round(Math.log2(P*r))))),h1=P=>new Promise((r,v)=>{const{port1:t,port2:j}=new MessageChannel;t.onmessage=({data:x})=>{t.close(),j.close(),r(x)},t.onmessageerror=({data:x})=>{t.close(),j.close(),v(x)},j.postMessage(P)}),d1=async(P,r)=>{const v=await h1(r);return new P(v)},f1=(P,r,v,t)=>{let j=Oh.get(P);j===void 0&&(j=new WeakMap,Oh.set(P,j));const x=d1(v,t);return j.set(r,x),x},p1=(P,r,v,t,j,x,d,f,s,c,g,y,o)=>(a,i,h,p)=>{if(p.numberOfInputs===0&&p.numberOfOutputs===0)throw s();const l=Array.isArray(p.outputChannelCount)?p.outputChannelCount:Array.from(p.outputChannelCount);if(l.some(he=>he<1))throw s();if(l.length!==p.numberOfOutputs)throw r();if(p.channelCountMode!=="explicit")throw s();const m=p.channelCount*p.numberOfInputs,_=l.reduce((he,be)=>he+be,0),b=h.parameterDescriptors===void 0?0:h.parameterDescriptors.length;if(m+b>6||_>6)throw s();const T=new MessageChannel,O=[],k=[];for(let he=0;he<p.numberOfInputs;he+=1)O.push(d(a,{channelCount:p.channelCount,channelCountMode:p.channelCountMode,channelInterpretation:p.channelInterpretation,gain:1})),k.push(j(a,{channelCount:p.channelCount,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:p.channelCount}));const M=[];if(h.parameterDescriptors!==void 0)for(const{defaultValue:he,maxValue:be,minValue:Ae,name:je}of h.parameterDescriptors){const Te=x(a,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:p.parameterData[je]!==void 0?p.parameterData[je]:he===void 0?0:he});Object.defineProperties(Te.offset,{defaultValue:{get:()=>he===void 0?0:he},maxValue:{get:()=>be===void 0?pn:be},minValue:{get:()=>Ae===void 0?Fn:Ae}}),M.push(Te)}const I=t(a,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Math.max(1,m+b)}),F=Mm(i,a.sampleRate),A=f(a,F,m+b,Math.max(1,_)),U=j(a,{channelCount:Math.max(1,_),channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:Math.max(1,_)}),D=[];for(let he=0;he<p.numberOfOutputs;he+=1)D.push(t(a,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:l[he]}));for(let he=0;he<p.numberOfInputs;he+=1){O[he].connect(k[he]);for(let be=0;be<p.channelCount;be+=1)k[he].connect(I,be,he*p.channelCount+be)}const V=new km(h.parameterDescriptors===void 0?[]:h.parameterDescriptors.map(({name:he},be)=>{const Ae=M[be];return Ae.connect(I,0,m+be),Ae.start(0),[he,Ae.offset]}));I.connect(A);let G=p.channelInterpretation,W=null;const J=p.numberOfOutputs===0?[A]:D,Q={get bufferSize(){return F},get channelCount(){return p.channelCount},set channelCount(he){throw v()},get channelCountMode(){return p.channelCountMode},set channelCountMode(he){throw v()},get channelInterpretation(){return G},set channelInterpretation(he){for(const be of O)be.channelInterpretation=he;G=he},get context(){return A.context},get inputs(){return O},get numberOfInputs(){return p.numberOfInputs},get numberOfOutputs(){return p.numberOfOutputs},get onprocessorerror(){return W},set onprocessorerror(he){typeof W=="function"&&Q.removeEventListener("processorerror",W),W=typeof he=="function"?he:null,typeof W=="function"&&Q.addEventListener("processorerror",W)},get parameters(){return V},get port(){return T.port2},addEventListener(...he){return A.addEventListener(he[0],he[1],he[2])},connect:P.bind(null,J),disconnect:c.bind(null,J),dispatchEvent(...he){return A.dispatchEvent(he[0])},removeEventListener(...he){return A.removeEventListener(he[0],he[1],he[2])}},Y=new Map;T.port1.addEventListener=(he=>(...be)=>{if(be[0]==="message"){const Ae=typeof be[1]=="function"?be[1]:typeof be[1]=="object"&&be[1]!==null&&typeof be[1].handleEvent=="function"?be[1].handleEvent:null;if(Ae!==null){const je=Y.get(be[1]);je!==void 0?be[1]=je:(be[1]=Te=>{g(a.currentTime,a.sampleRate,()=>Ae(Te))},Y.set(Ae,be[1]))}}return he.call(T.port1,be[0],be[1],be[2])})(T.port1.addEventListener),T.port1.removeEventListener=(he=>(...be)=>{if(be[0]==="message"){const Ae=Y.get(be[1]);Ae!==void 0&&(Y.delete(be[1]),be[1]=Ae)}return he.call(T.port1,be[0],be[1],be[2])})(T.port1.removeEventListener);let z=null;Object.defineProperty(T.port1,"onmessage",{get:()=>z,set:he=>{typeof z=="function"&&T.port1.removeEventListener("message",z),z=typeof he=="function"?he:null,typeof z=="function"&&(T.port1.addEventListener("message",z),T.port1.start())}}),h.prototype.port=T.port1;let ee=null;f1(a,Q,h,p).then(he=>ee=he);const C=ku(p.numberOfInputs,p.channelCount),B=ku(p.numberOfOutputs,l),H=h.parameterDescriptors===void 0?[]:h.parameterDescriptors.reduce((he,{name:be})=>({...he,[be]:new Float32Array(128)}),{});let $=!0;const ne=()=>{p.numberOfOutputs>0&&A.disconnect(U);for(let he=0,be=0;he<p.numberOfOutputs;he+=1){const Ae=D[he];for(let je=0;je<l[he];je+=1)U.disconnect(Ae,be+je,je);be+=l[he]}},se=new Map;A.onaudioprocess=({inputBuffer:he,outputBuffer:be})=>{if(ee!==null){const Ae=y(Q);for(let je=0;je<F;je+=128){for(let Te=0;Te<p.numberOfInputs;Te+=1)for(let Me=0;Me<p.channelCount;Me+=1)Tu(he,C[Te],Me,Me,je);h.parameterDescriptors!==void 0&&h.parameterDescriptors.forEach(({name:Te},Me)=>{Tu(he,H,Te,m+Me,je)});for(let Te=0;Te<p.numberOfInputs;Te+=1)for(let Me=0;Me<l[Te];Me+=1)B[Te][Me].byteLength===0&&(B[Te][Me]=new Float32Array(128));try{const Te=C.map((qe,Ne)=>{if(Ae[Ne].size>0)return se.set(Ne,F/128),qe;const nt=se.get(Ne);return nt===void 0?[]:(qe.every(ot=>ot.every(ut=>ut===0))&&(nt===1?se.delete(Ne):se.set(Ne,nt-1)),qe)});$=g(a.currentTime+je/a.sampleRate,a.sampleRate,()=>ee.process(Te,B,H));for(let qe=0,Ne=0;qe<p.numberOfOutputs;qe+=1){for(let ct=0;ct<l[qe];ct+=1)Em(be,B[qe],ct,Ne+ct,je);Ne+=l[qe]}}catch(Te){$=!1,Q.dispatchEvent(new ErrorEvent("processorerror",{colno:Te.colno,filename:Te.filename,lineno:Te.lineno,message:Te.message}))}if(!$){for(let Te=0;Te<p.numberOfInputs;Te+=1){O[Te].disconnect(k[Te]);for(let Me=0;Me<p.channelCount;Me+=1)k[je].disconnect(I,Me,Te*p.channelCount+Me)}if(h.parameterDescriptors!==void 0){const Te=h.parameterDescriptors.length;for(let Me=0;Me<Te;Me+=1){const qe=M[Me];qe.disconnect(I,0,m+Me),qe.stop()}}I.disconnect(A),A.onaudioprocess=null,de?ne():ge();break}}}};let de=!1;const _e=d(a,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0}),pe=()=>A.connect(_e).connect(a.destination),ge=()=>{A.disconnect(_e),_e.disconnect()},ve=()=>{if($){ge(),p.numberOfOutputs>0&&A.connect(U);for(let he=0,be=0;he<p.numberOfOutputs;he+=1){const Ae=D[he];for(let je=0;je<l[he];je+=1)U.connect(Ae,be+je,je);be+=l[he]}}de=!0},le=()=>{$&&(pe(),ne()),de=!1};return pe(),o(Q,ve,le)},Om=(P,r)=>{const v=P.createBiquadFilter();return qr(v,r),Mr(v,r,"Q"),Mr(v,r,"detune"),Mr(v,r,"frequency"),Mr(v,r,"gain"),br(v,r,"type"),v},m1=(P,r)=>(v,t)=>{const j=v.createChannelMerger(t.numberOfInputs);return P!==null&&P.name==="webkitAudioContext"&&r(v,j),qr(j,t),j},y1=P=>{const r=P.numberOfOutputs;Object.defineProperty(P,"channelCount",{get:()=>r,set:v=>{if(v!==r)throw Zr()}}),Object.defineProperty(P,"channelCountMode",{get:()=>"explicit",set:v=>{if(v!=="explicit")throw Zr()}}),Object.defineProperty(P,"channelInterpretation",{get:()=>"discrete",set:v=>{if(v!=="discrete")throw Zr()}})},Ya=(P,r)=>{const v=P.createChannelSplitter(r.numberOfOutputs);return qr(v,r),y1(v),v},g1=(P,r,v,t,j)=>(x,d)=>{if(x.createConstantSource===void 0)return v(x,d);const f=x.createConstantSource();return qr(f,d),Mr(f,d,"offset"),r(t,()=>t(x))||Gh(f),r(j,()=>j(x))||zh(f),P(x,f),f},ra=(P,r)=>(P.connect=r.connect.bind(r),P.disconnect=r.disconnect.bind(r),P),v1=(P,r,v,t)=>(j,{offset:x,...d})=>{const f=j.createBuffer(1,2,44100),s=r(j,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),c=v(j,{...d,gain:x}),g=f.getChannelData(0);g[0]=1,g[1]=1,s.buffer=f,s.loop=!0;const y={get bufferSize(){},get channelCount(){return c.channelCount},set channelCount(i){c.channelCount=i},get channelCountMode(){return c.channelCountMode},set channelCountMode(i){c.channelCountMode=i},get channelInterpretation(){return c.channelInterpretation},set channelInterpretation(i){c.channelInterpretation=i},get context(){return c.context},get inputs(){return[]},get numberOfInputs(){return s.numberOfInputs},get numberOfOutputs(){return c.numberOfOutputs},get offset(){return c.gain},get onended(){return s.onended},set onended(i){s.onended=i},addEventListener(...i){return s.addEventListener(i[0],i[1],i[2])},dispatchEvent(...i){return s.dispatchEvent(i[0])},removeEventListener(...i){return s.removeEventListener(i[0],i[1],i[2])},start(i=0){s.start.call(s,i)},stop(i=0){s.stop.call(s,i)}},o=()=>s.connect(c),a=()=>s.disconnect(c);return P(j,s),t(ra(y,c),o,a)},_1=(P,r)=>(v,t)=>{const j=v.createConvolver();if(qr(j,t),t.disableNormalization===j.normalize&&(j.normalize=!t.disableNormalization),br(j,t,"buffer"),t.channelCount>2||(r(j,"channelCount",x=>()=>x.call(j),x=>d=>{if(d>2)throw P();return x.call(j,d)}),t.channelCountMode==="max"))throw P();return r(j,"channelCountMode",x=>()=>x.call(j),x=>d=>{if(d==="max")throw P();return x.call(j,d)}),j},Am=(P,r)=>{const v=P.createDelay(r.maxDelayTime);return qr(v,r),Mr(v,r,"delayTime"),v},b1=P=>(r,v)=>{const t=r.createDynamicsCompressor();if(qr(t,v),v.channelCount>2||v.channelCountMode==="max")throw P();return Mr(t,v,"attack"),Mr(t,v,"knee"),Mr(t,v,"ratio"),Mr(t,v,"release"),Mr(t,v,"threshold"),t},En=(P,r)=>{const v=P.createGain();return qr(v,r),Mr(v,r,"gain"),v},w1=P=>(r,v,t)=>{if(r.createIIRFilter===void 0)return P(r,v,t);const j=r.createIIRFilter(t.feedforward,t.feedback);return qr(j,t),j};function x1(P,r){const v=r[0]*r[0]+r[1]*r[1];return[(P[0]*r[0]+P[1]*r[1])/v,(P[1]*r[0]-P[0]*r[1])/v]}function j1(P,r){return[P[0]*r[0]-P[1]*r[1],P[0]*r[1]+P[1]*r[0]]}function tm(P,r){let v=[0,0];for(let t=P.length-1;t>=0;t-=1)v=j1(v,r),v[0]+=P[t];return v}const S1=(P,r,v,t)=>(j,x,{channelCount:d,channelCountMode:f,channelInterpretation:s,feedback:c,feedforward:g})=>{const y=Mm(x,j.sampleRate),o=c instanceof Float64Array?c:new Float64Array(c),a=g instanceof Float64Array?g:new Float64Array(g),i=o.length,h=a.length,p=Math.min(i,h);if(i===0||i>20)throw t();if(o[0]===0)throw r();if(h===0||h>20)throw t();if(a[0]===0)throw r();if(o[0]!==1){for(let M=0;M<h;M+=1)a[M]/=o[0];for(let M=1;M<i;M+=1)o[M]/=o[0]}const l=v(j,y,d,d);l.channelCount=d,l.channelCountMode=f,l.channelInterpretation=s;const m=32,_=[],b=[],T=[];for(let M=0;M<d;M+=1){_.push(0);const I=new Float32Array(m),F=new Float32Array(m);I.fill(0),F.fill(0),b.push(I),T.push(F)}l.onaudioprocess=M=>{const I=M.inputBuffer,F=M.outputBuffer,A=I.numberOfChannels;for(let U=0;U<A;U+=1){const D=I.getChannelData(U),V=F.getChannelData(U);_[U]=Cm(o,i,a,h,p,b[U],T[U],_[U],m,D,V)}};const O=j.sampleRate/2;return ra({get bufferSize(){return y},get channelCount(){return l.channelCount},set channelCount(M){l.channelCount=M},get channelCountMode(){return l.channelCountMode},set channelCountMode(M){l.channelCountMode=M},get channelInterpretation(){return l.channelInterpretation},set channelInterpretation(M){l.channelInterpretation=M},get context(){return l.context},get inputs(){return[l]},get numberOfInputs(){return l.numberOfInputs},get numberOfOutputs(){return l.numberOfOutputs},addEventListener(...M){return l.addEventListener(M[0],M[1],M[2])},dispatchEvent(...M){return l.dispatchEvent(M[0])},getFrequencyResponse(M,I,F){if(M.length!==I.length||I.length!==F.length)throw P();const A=M.length;for(let U=0;U<A;U+=1){const D=-Math.PI*(M[U]/O),V=[Math.cos(D),Math.sin(D)],G=tm(a,V),W=tm(o,V),J=x1(G,W);I[U]=Math.sqrt(J[0]*J[0]+J[1]*J[1]),F[U]=Math.atan2(J[1],J[0])}},removeEventListener(...M){return l.removeEventListener(M[0],M[1],M[2])}},l)},T1=(P,r)=>P.createMediaElementSource(r.mediaElement),k1=(P,r)=>{const v=P.createMediaStreamDestination();return qr(v,r),v.numberOfOutputs===1&&Object.defineProperty(v,"numberOfOutputs",{get:()=>0}),v},E1=(P,{mediaStream:r})=>{const v=r.getAudioTracks();v.sort((x,d)=>x.id<d.id?-1:x.id>d.id?1:0);const t=v.slice(0,1),j=P.createMediaStreamSource(new MediaStream(t));return Object.defineProperty(j,"mediaStream",{value:r}),j},C1=(P,r)=>(v,{mediaStreamTrack:t})=>{if(typeof v.createMediaStreamTrackSource=="function")return v.createMediaStreamTrackSource(t);const j=new MediaStream([t]),x=v.createMediaStreamSource(j);if(t.kind!=="audio")throw P();if(r(v))throw new TypeError;return x},M1=P=>P===null?null:P.hasOwnProperty("OfflineAudioContext")?P.OfflineAudioContext:P.hasOwnProperty("webkitOfflineAudioContext")?P.webkitOfflineAudioContext:null,O1=(P,r,v,t,j,x)=>(d,f)=>{const s=d.createOscillator();return qr(s,f),Mr(s,f,"detune"),Mr(s,f,"frequency"),f.periodicWave!==void 0?s.setPeriodicWave(f.periodicWave):br(s,f,"type"),r(v,()=>v(d))||Gh(s),r(t,()=>t(d))||x(s,d),r(j,()=>j(d))||zh(s),P(d,s),s},A1=P=>(r,v)=>{const t=r.createPanner();return t.orientationX===void 0?P(r,v):(qr(t,v),Mr(t,v,"orientationX"),Mr(t,v,"orientationY"),Mr(t,v,"orientationZ"),Mr(t,v,"positionX"),Mr(t,v,"positionY"),Mr(t,v,"positionZ"),br(t,v,"coneInnerAngle"),br(t,v,"coneOuterAngle"),br(t,v,"coneOuterGain"),br(t,v,"distanceModel"),br(t,v,"maxDistance"),br(t,v,"panningModel"),br(t,v,"refDistance"),br(t,v,"rolloffFactor"),t)},P1=(P,r,v,t,j,x,d,f,s,c)=>(g,{coneInnerAngle:y,coneOuterAngle:o,coneOuterGain:a,distanceModel:i,maxDistance:h,orientationX:p,orientationY:l,orientationZ:m,panningModel:_,positionX:b,positionY:T,positionZ:O,refDistance:k,rolloffFactor:M,...I})=>{const F=g.createPanner();if(I.channelCount>2||I.channelCountMode==="max")throw d();qr(F,I);const A={channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete"},U=v(g,{...A,channelInterpretation:"speakers",numberOfInputs:6}),D=t(g,{...I,gain:1}),V=t(g,{...A,gain:1}),G=t(g,{...A,gain:0}),W=t(g,{...A,gain:0}),J=t(g,{...A,gain:0}),Q=t(g,{...A,gain:0}),Y=t(g,{...A,gain:0}),z=j(g,256,6,1),ee=x(g,{...A,curve:new Float32Array([1,1]),oversample:"none"});let ie=[p,l,m],C=[b,T,O];const B=new Float32Array(1);z.onaudioprocess=({inputBuffer:se})=>{const de=[s(se,B,0),s(se,B,1),s(se,B,2)];de.some((pe,ge)=>pe!==ie[ge])&&(F.setOrientation(...de),ie=de);const _e=[s(se,B,3),s(se,B,4),s(se,B,5)];_e.some((pe,ge)=>pe!==C[ge])&&(F.setPosition(..._e),C=_e)},Object.defineProperty(G.gain,"defaultValue",{get:()=>0}),Object.defineProperty(W.gain,"defaultValue",{get:()=>0}),Object.defineProperty(J.gain,"defaultValue",{get:()=>0}),Object.defineProperty(Q.gain,"defaultValue",{get:()=>0}),Object.defineProperty(Y.gain,"defaultValue",{get:()=>0});const H={get bufferSize(){},get channelCount(){return F.channelCount},set channelCount(se){if(se>2)throw d();D.channelCount=se,F.channelCount=se},get channelCountMode(){return F.channelCountMode},set channelCountMode(se){if(se==="max")throw d();D.channelCountMode=se,F.channelCountMode=se},get channelInterpretation(){return F.channelInterpretation},set channelInterpretation(se){D.channelInterpretation=se,F.channelInterpretation=se},get coneInnerAngle(){return F.coneInnerAngle},set coneInnerAngle(se){F.coneInnerAngle=se},get coneOuterAngle(){return F.coneOuterAngle},set coneOuterAngle(se){F.coneOuterAngle=se},get coneOuterGain(){return F.coneOuterGain},set coneOuterGain(se){if(se<0||se>1)throw r();F.coneOuterGain=se},get context(){return F.context},get distanceModel(){return F.distanceModel},set distanceModel(se){F.distanceModel=se},get inputs(){return[D]},get maxDistance(){return F.maxDistance},set maxDistance(se){if(se<0)throw new RangeError;F.maxDistance=se},get numberOfInputs(){return F.numberOfInputs},get numberOfOutputs(){return F.numberOfOutputs},get orientationX(){return V.gain},get orientationY(){return G.gain},get orientationZ(){return W.gain},get panningModel(){return F.panningModel},set panningModel(se){F.panningModel=se},get positionX(){return J.gain},get positionY(){return Q.gain},get positionZ(){return Y.gain},get refDistance(){return F.refDistance},set refDistance(se){if(se<0)throw new RangeError;F.refDistance=se},get rolloffFactor(){return F.rolloffFactor},set rolloffFactor(se){if(se<0)throw new RangeError;F.rolloffFactor=se},addEventListener(...se){return D.addEventListener(se[0],se[1],se[2])},dispatchEvent(...se){return D.dispatchEvent(se[0])},removeEventListener(...se){return D.removeEventListener(se[0],se[1],se[2])}};y!==H.coneInnerAngle&&(H.coneInnerAngle=y),o!==H.coneOuterAngle&&(H.coneOuterAngle=o),a!==H.coneOuterGain&&(H.coneOuterGain=a),i!==H.distanceModel&&(H.distanceModel=i),h!==H.maxDistance&&(H.maxDistance=h),p!==H.orientationX.value&&(H.orientationX.value=p),l!==H.orientationY.value&&(H.orientationY.value=l),m!==H.orientationZ.value&&(H.orientationZ.value=m),_!==H.panningModel&&(H.panningModel=_),b!==H.positionX.value&&(H.positionX.value=b),T!==H.positionY.value&&(H.positionY.value=T),O!==H.positionZ.value&&(H.positionZ.value=O),k!==H.refDistance&&(H.refDistance=k),M!==H.rolloffFactor&&(H.rolloffFactor=M),(ie[0]!==1||ie[1]!==0||ie[2]!==0)&&F.setOrientation(...ie),(C[0]!==0||C[1]!==0||C[2]!==0)&&F.setPosition(...C);const $=()=>{D.connect(F),P(D,ee,0,0),ee.connect(V).connect(U,0,0),ee.connect(G).connect(U,0,1),ee.connect(W).connect(U,0,2),ee.connect(J).connect(U,0,3),ee.connect(Q).connect(U,0,4),ee.connect(Y).connect(U,0,5),U.connect(z).connect(g.destination)},ne=()=>{D.disconnect(F),f(D,ee,0,0),ee.disconnect(V),V.disconnect(U),ee.disconnect(G),G.disconnect(U),ee.disconnect(W),W.disconnect(U),ee.disconnect(J),J.disconnect(U),ee.disconnect(Q),Q.disconnect(U),ee.disconnect(Y),Y.disconnect(U),U.disconnect(z),z.disconnect(g.destination)};return c(ra(H,F),$,ne)},R1=P=>(r,{disableNormalization:v,imag:t,real:j})=>{const x=t instanceof Float32Array?t:new Float32Array(t),d=j instanceof Float32Array?j:new Float32Array(j),f=r.createPeriodicWave(d,x,{disableNormalization:v});if(Array.from(t).length<2)throw P();return f},Qa=(P,r,v,t)=>P.createScriptProcessor(r,v,t),I1=(P,r)=>(v,t)=>{const j=t.channelCountMode;if(j==="clamped-max")throw r();if(v.createStereoPanner===void 0)return P(v,t);const x=v.createStereoPanner();return qr(x,t),Mr(x,t,"pan"),Object.defineProperty(x,"channelCountMode",{get:()=>j,set:d=>{if(d!==j)throw r()}}),x},D1=(P,r,v,t,j,x)=>{const f=new Float32Array([1,1]),s=Math.PI/2,c={channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete"},g={...c,oversample:"none"},y=(i,h,p,l)=>{const m=new Float32Array(16385),_=new Float32Array(16385);for(let I=0;I<16385;I+=1){const F=I/16384*s;m[I]=Math.cos(F),_[I]=Math.sin(F)}const b=v(i,{...c,gain:0}),T=t(i,{...g,curve:m}),O=t(i,{...g,curve:f}),k=v(i,{...c,gain:0}),M=t(i,{...g,curve:_});return{connectGraph(){h.connect(b),h.connect(O.inputs===void 0?O:O.inputs[0]),h.connect(k),O.connect(p),p.connect(T.inputs===void 0?T:T.inputs[0]),p.connect(M.inputs===void 0?M:M.inputs[0]),T.connect(b.gain),M.connect(k.gain),b.connect(l,0,0),k.connect(l,0,1)},disconnectGraph(){h.disconnect(b),h.disconnect(O.inputs===void 0?O:O.inputs[0]),h.disconnect(k),O.disconnect(p),p.disconnect(T.inputs===void 0?T:T.inputs[0]),p.disconnect(M.inputs===void 0?M:M.inputs[0]),T.disconnect(b.gain),M.disconnect(k.gain),b.disconnect(l,0,0),k.disconnect(l,0,1)}}},o=(i,h,p,l)=>{const m=new Float32Array(16385),_=new Float32Array(16385),b=new Float32Array(16385),T=new Float32Array(16385),O=Math.floor(16385/2);for(let J=0;J<16385;J+=1)if(J>O){const Q=(J-O)/(16384-O)*s;m[J]=Math.cos(Q),_[J]=Math.sin(Q),b[J]=0,T[J]=1}else{const Q=J/(16384-O)*s;m[J]=1,_[J]=0,b[J]=Math.cos(Q),T[J]=Math.sin(Q)}const k=r(i,{channelCount:2,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:2}),M=v(i,{...c,gain:0}),I=t(i,{...g,curve:m}),F=v(i,{...c,gain:0}),A=t(i,{...g,curve:_}),U=t(i,{...g,curve:f}),D=v(i,{...c,gain:0}),V=t(i,{...g,curve:b}),G=v(i,{...c,gain:0}),W=t(i,{...g,curve:T});return{connectGraph(){h.connect(k),h.connect(U.inputs===void 0?U:U.inputs[0]),k.connect(M,0),k.connect(F,0),k.connect(D,1),k.connect(G,1),U.connect(p),p.connect(I.inputs===void 0?I:I.inputs[0]),p.connect(A.inputs===void 0?A:A.inputs[0]),p.connect(V.inputs===void 0?V:V.inputs[0]),p.connect(W.inputs===void 0?W:W.inputs[0]),I.connect(M.gain),A.connect(F.gain),V.connect(D.gain),W.connect(G.gain),M.connect(l,0,0),D.connect(l,0,0),F.connect(l,0,1),G.connect(l,0,1)},disconnectGraph(){h.disconnect(k),h.disconnect(U.inputs===void 0?U:U.inputs[0]),k.disconnect(M,0),k.disconnect(F,0),k.disconnect(D,1),k.disconnect(G,1),U.disconnect(p),p.disconnect(I.inputs===void 0?I:I.inputs[0]),p.disconnect(A.inputs===void 0?A:A.inputs[0]),p.disconnect(V.inputs===void 0?V:V.inputs[0]),p.disconnect(W.inputs===void 0?W:W.inputs[0]),I.disconnect(M.gain),A.disconnect(F.gain),V.disconnect(D.gain),W.disconnect(G.gain),M.disconnect(l,0,0),D.disconnect(l,0,0),F.disconnect(l,0,1),G.disconnect(l,0,1)}}},a=(i,h,p,l,m)=>{if(h===1)return y(i,p,l,m);if(h===2)return o(i,p,l,m);throw j()};return(i,{channelCount:h,channelCountMode:p,pan:l,...m})=>{if(p==="max")throw j();const _=P(i,{...m,channelCount:1,channelCountMode:p,numberOfInputs:2}),b=v(i,{...m,channelCount:h,channelCountMode:p,gain:1}),T=v(i,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:l});let{connectGraph:O,disconnectGraph:k}=a(i,h,b,T,_);Object.defineProperty(T.gain,"defaultValue",{get:()=>0}),Object.defineProperty(T.gain,"maxValue",{get:()=>1}),Object.defineProperty(T.gain,"minValue",{get:()=>-1});const M={get bufferSize(){},get channelCount(){return b.channelCount},set channelCount(U){b.channelCount!==U&&(I&&k(),{connectGraph:O,disconnectGraph:k}=a(i,U,b,T,_),I&&O()),b.channelCount=U},get channelCountMode(){return b.channelCountMode},set channelCountMode(U){if(U==="clamped-max"||U==="max")throw j();b.channelCountMode=U},get channelInterpretation(){return b.channelInterpretation},set channelInterpretation(U){b.channelInterpretation=U},get context(){return b.context},get inputs(){return[b]},get numberOfInputs(){return b.numberOfInputs},get numberOfOutputs(){return b.numberOfOutputs},get pan(){return T.gain},addEventListener(...U){return b.addEventListener(U[0],U[1],U[2])},dispatchEvent(...U){return b.dispatchEvent(U[0])},removeEventListener(...U){return b.removeEventListener(U[0],U[1],U[2])}};let I=!1;const F=()=>{O(),I=!0},A=()=>{k(),I=!1};return x(ra(M,_),F,A)}},L1=(P,r,v,t,j,x,d)=>(f,s)=>{const c=f.createWaveShaper();if(x!==null&&x.name==="webkitAudioContext"&&f.createGain().gain.automationRate===void 0)return v(f,s);qr(c,s);const g=s.curve===null||s.curve instanceof Float32Array?s.curve:new Float32Array(s.curve);if(g!==null&&g.length<2)throw r();br(c,{curve:g},"curve"),br(c,s,"oversample");let y=null,o=!1;return d(c,"curve",h=>()=>h.call(c),h=>p=>(h.call(c,p),o&&(t(p)&&y===null?y=P(f,c):!t(p)&&y!==null&&(y(),y=null)),p)),j(c,()=>{o=!0,t(c.curve)&&(y=P(f,c))},()=>{o=!1,y!==null&&(y(),y=null)})},N1=(P,r,v,t,j)=>(x,{curve:d,oversample:f,...s})=>{const c=x.createWaveShaper(),g=x.createWaveShaper();qr(c,s),qr(g,s);const y=v(x,{...s,gain:1}),o=v(x,{...s,gain:-1}),a=v(x,{...s,gain:1}),i=v(x,{...s,gain:-1});let h=null,p=!1,l=null;const m={get bufferSize(){},get channelCount(){return c.channelCount},set channelCount(T){y.channelCount=T,o.channelCount=T,c.channelCount=T,a.channelCount=T,g.channelCount=T,i.channelCount=T},get channelCountMode(){return c.channelCountMode},set channelCountMode(T){y.channelCountMode=T,o.channelCountMode=T,c.channelCountMode=T,a.channelCountMode=T,g.channelCountMode=T,i.channelCountMode=T},get channelInterpretation(){return c.channelInterpretation},set channelInterpretation(T){y.channelInterpretation=T,o.channelInterpretation=T,c.channelInterpretation=T,a.channelInterpretation=T,g.channelInterpretation=T,i.channelInterpretation=T},get context(){return c.context},get curve(){return l},set curve(T){if(T!==null&&T.length<2)throw r();if(T===null)c.curve=T,g.curve=T;else{const O=T.length,k=new Float32Array(O+2-O%2),M=new Float32Array(O+2-O%2);k[0]=T[0],M[0]=-T[O-1];const I=Math.ceil((O+1)/2),F=(O+1)/2-1;for(let A=1;A<I;A+=1){const U=A/I*F,D=Math.floor(U),V=Math.ceil(U);k[A]=D===V?T[D]:(1-(U-D))*T[D]+(1-(V-U))*T[V],M[A]=D===V?-T[O-1-D]:-((1-(U-D))*T[O-1-D])-(1-(V-U))*T[O-1-V]}k[I]=O%2===1?T[I-1]:(T[I-2]+T[I-1])/2,c.curve=k,g.curve=M}l=T,p&&(t(l)&&h===null?h=P(x,y):h!==null&&(h(),h=null))},get inputs(){return[y]},get numberOfInputs(){return c.numberOfInputs},get numberOfOutputs(){return c.numberOfOutputs},get oversample(){return c.oversample},set oversample(T){c.oversample=T,g.oversample=T},addEventListener(...T){return y.addEventListener(T[0],T[1],T[2])},dispatchEvent(...T){return y.dispatchEvent(T[0])},removeEventListener(...T){return y.removeEventListener(T[0],T[1],T[2])}};d!==null&&(m.curve=d instanceof Float32Array?d:new Float32Array(d)),f!==m.oversample&&(m.oversample=f);const _=()=>{y.connect(c).connect(a),y.connect(o).connect(g).connect(i).connect(a),p=!0,t(l)&&(h=P(x,y))},b=()=>{y.disconnect(c),c.disconnect(a),y.disconnect(o),o.disconnect(g),g.disconnect(i),i.disconnect(a),p=!1,h!==null&&(h(),h=null)};return j(ra(m,a),_,b)},yn=()=>new DOMException("","NotSupportedError"),F1={numberOfChannels:1},U1=(P,r,v,t,j)=>class extends P{constructor(d,f,s){let c;if(typeof d=="number"&&f!==void 0&&s!==void 0)c={length:f,numberOfChannels:d,sampleRate:s};else if(typeof d=="object")c=d;else throw new Error("The given parameters are not valid.");const{length:g,numberOfChannels:y,sampleRate:o}={...F1,...c},a=t(y,g,o);r(Va,()=>Va(a))||a.addEventListener("statechange",(()=>{let i=0;const h=p=>{this._state==="running"&&(i>0?(a.removeEventListener("statechange",h),p.stopImmediatePropagation(),this._waitForThePromiseToSettle(p)):i+=1)};return h})()),super(a,y),this._length=g,this._nativeOfflineAudioContext=a,this._state=null}get length(){return this._nativeOfflineAudioContext.length===void 0?this._length:this._nativeOfflineAudioContext.length}get state(){return this._state===null?this._nativeOfflineAudioContext.state:this._state}startRendering(){return this._state==="running"?Promise.reject(v()):(this._state="running",j(this.destination,this._nativeOfflineAudioContext).finally(()=>{this._state=null,xm(this)}))}_waitForThePromiseToSettle(d){this._state===null?this._nativeOfflineAudioContext.dispatchEvent(d):setTimeout(()=>this._waitForThePromiseToSettle(d))}},B1={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",detune:0,frequency:440,periodicWave:void 0,type:"sine"},V1=(P,r,v,t,j,x,d)=>class extends P{constructor(s,c){const g=j(s),y={...B1,...c},o=v(g,y),a=x(g),i=a?t():null,h=s.sampleRate/2;super(s,!1,o,i),this._detune=r(this,a,o.detune,153600,-153600),this._frequency=r(this,a,o.frequency,h,-h),this._nativeOscillatorNode=o,this._onended=null,this._oscillatorNodeRenderer=i,this._oscillatorNodeRenderer!==null&&y.periodicWave!==void 0&&(this._oscillatorNodeRenderer.periodicWave=y.periodicWave)}get detune(){return this._detune}get frequency(){return this._frequency}get onended(){return this._onended}set onended(s){const c=typeof s=="function"?d(this,s):null;this._nativeOscillatorNode.onended=c;const g=this._nativeOscillatorNode.onended;this._onended=g!==null&&g===c?s:g}get type(){return this._nativeOscillatorNode.type}set type(s){this._nativeOscillatorNode.type=s,this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.periodicWave=null)}setPeriodicWave(s){this._nativeOscillatorNode.setPeriodicWave(s),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.periodicWave=s)}start(s=0){if(this._nativeOscillatorNode.start(s),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.start=s),this.context.state!=="closed"){Qi(this);const c=()=>{this._nativeOscillatorNode.removeEventListener("ended",c),Hs(this)&&Wa(this)};this._nativeOscillatorNode.addEventListener("ended",c)}}stop(s=0){this._nativeOscillatorNode.stop(s),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.stop=s)}},G1=(P,r,v,t,j)=>()=>{const x=new WeakMap;let d=null,f=null,s=null;const c=async(g,y)=>{let o=v(g);const a=cn(o,y);if(!a){const i={channelCount:o.channelCount,channelCountMode:o.channelCountMode,channelInterpretation:o.channelInterpretation,detune:o.detune.value,frequency:o.frequency.value,periodicWave:d===null?void 0:d,type:o.type};o=r(y,i),f!==null&&o.start(f),s!==null&&o.stop(s)}return x.set(y,o),a?(await P(y,g.detune,o.detune),await P(y,g.frequency,o.frequency)):(await t(y,g.detune,o.detune),await t(y,g.frequency,o.frequency)),await j(g,y,o),o};return{set periodicWave(g){d=g},set start(g){f=g},set stop(g){s=g},render(g,y){const o=x.get(y);return o!==void 0?Promise.resolve(o):c(g,y)}}},z1={channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",coneInnerAngle:360,coneOuterAngle:360,coneOuterGain:0,distanceModel:"inverse",maxDistance:1e4,orientationX:1,orientationY:0,orientationZ:0,panningModel:"equalpower",positionX:0,positionY:0,positionZ:0,refDistance:1,rolloffFactor:1},H1=(P,r,v,t,j,x,d)=>class extends P{constructor(s,c){const g=j(s),y={...z1,...c},o=v(g,y),a=x(g),i=a?t():null;super(s,!1,o,i),this._nativePannerNode=o,this._orientationX=r(this,a,o.orientationX,pn,Fn),this._orientationY=r(this,a,o.orientationY,pn,Fn),this._orientationZ=r(this,a,o.orientationZ,pn,Fn),this._positionX=r(this,a,o.positionX,pn,Fn),this._positionY=r(this,a,o.positionY,pn,Fn),this._positionZ=r(this,a,o.positionZ,pn,Fn),d(this,1)}get coneInnerAngle(){return this._nativePannerNode.coneInnerAngle}set coneInnerAngle(s){this._nativePannerNode.coneInnerAngle=s}get coneOuterAngle(){return this._nativePannerNode.coneOuterAngle}set coneOuterAngle(s){this._nativePannerNode.coneOuterAngle=s}get coneOuterGain(){return this._nativePannerNode.coneOuterGain}set coneOuterGain(s){this._nativePannerNode.coneOuterGain=s}get distanceModel(){return this._nativePannerNode.distanceModel}set distanceModel(s){this._nativePannerNode.distanceModel=s}get maxDistance(){return this._nativePannerNode.maxDistance}set maxDistance(s){this._nativePannerNode.maxDistance=s}get orientationX(){return this._orientationX}get orientationY(){return this._orientationY}get orientationZ(){return this._orientationZ}get panningModel(){return this._nativePannerNode.panningModel}set panningModel(s){this._nativePannerNode.panningModel=s}get positionX(){return this._positionX}get positionY(){return this._positionY}get positionZ(){return this._positionZ}get refDistance(){return this._nativePannerNode.refDistance}set refDistance(s){this._nativePannerNode.refDistance=s}get rolloffFactor(){return this._nativePannerNode.rolloffFactor}set rolloffFactor(s){this._nativePannerNode.rolloffFactor=s}},W1=(P,r,v,t,j,x,d,f,s,c)=>()=>{const g=new WeakMap;let y=null;const o=async(a,i)=>{let h=null,p=x(a);const l={channelCount:p.channelCount,channelCountMode:p.channelCountMode,channelInterpretation:p.channelInterpretation},m={...l,coneInnerAngle:p.coneInnerAngle,coneOuterAngle:p.coneOuterAngle,coneOuterGain:p.coneOuterGain,distanceModel:p.distanceModel,maxDistance:p.maxDistance,panningModel:p.panningModel,refDistance:p.refDistance,rolloffFactor:p.rolloffFactor},_=cn(p,i);if("bufferSize"in p)h=t(i,{...l,gain:1});else if(!_){const b={...m,orientationX:p.orientationX.value,orientationY:p.orientationY.value,orientationZ:p.orientationZ.value,positionX:p.positionX.value,positionY:p.positionY.value,positionZ:p.positionZ.value};p=j(i,b)}if(g.set(i,h===null?p:h),h!==null){if(y===null){if(d===null)throw new Error("Missing the native OfflineAudioContext constructor.");const A=new d(6,a.context.length,i.sampleRate),U=r(A,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:6});U.connect(A.destination),y=(async()=>{const D=await Promise.all([a.orientationX,a.orientationY,a.orientationZ,a.positionX,a.positionY,a.positionZ].map(async(V,G)=>{const W=v(A,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:G===0?1:0});return await f(A,V,W.offset),W}));for(let V=0;V<6;V+=1)D[V].connect(U,0,V),D[V].start(0);return c(A)})()}const b=await y,T=t(i,{...l,gain:1});await s(a,i,T);const O=[];for(let A=0;A<b.numberOfChannels;A+=1)O.push(b.getChannelData(A));let k=[O[0][0],O[1][0],O[2][0]],M=[O[3][0],O[4][0],O[5][0]],I=t(i,{...l,gain:1}),F=j(i,{...m,orientationX:k[0],orientationY:k[1],orientationZ:k[2],positionX:M[0],positionY:M[1],positionZ:M[2]});T.connect(I).connect(F.inputs[0]),F.connect(h);for(let A=128;A<b.length;A+=128){const U=[O[0][A],O[1][A],O[2][A]],D=[O[3][A],O[4][A],O[5][A]];if(U.some((V,G)=>V!==k[G])||D.some((V,G)=>V!==M[G])){k=U,M=D;const V=A/i.sampleRate;I.gain.setValueAtTime(0,V),I=t(i,{...l,gain:0}),F=j(i,{...m,orientationX:k[0],orientationY:k[1],orientationZ:k[2],positionX:M[0],positionY:M[1],positionZ:M[2]}),I.gain.setValueAtTime(1,V),T.connect(I).connect(F.inputs[0]),F.connect(h)}}return h}return _?(await P(i,a.orientationX,p.orientationX),await P(i,a.orientationY,p.orientationY),await P(i,a.orientationZ,p.orientationZ),await P(i,a.positionX,p.positionX),await P(i,a.positionY,p.positionY),await P(i,a.positionZ,p.positionZ)):(await f(i,a.orientationX,p.orientationX),await f(i,a.orientationY,p.orientationY),await f(i,a.orientationZ,p.orientationZ),await f(i,a.positionX,p.positionX),await f(i,a.positionY,p.positionY),await f(i,a.positionZ,p.positionZ)),ta(p)?await s(a,i,p.inputs[0]):await s(a,i,p),p};return{render(a,i){const h=g.get(i);return h!==void 0?Promise.resolve(h):o(a,i)}}},q1={disableNormalization:!1},X1=(P,r,v,t)=>class Pm{constructor(x,d){const f=r(x),s=t({...q1,...d}),c=P(f,s);return v.add(c),c}static[Symbol.hasInstance](x){return x!==null&&typeof x=="object"&&Object.getPrototypeOf(x)===Pm.prototype||v.has(x)}},Y1=(P,r)=>(v,t,j)=>(P(t).replay(j),r(t,v,j)),Q1=(P,r,v)=>async(t,j,x)=>{const d=P(t);await Promise.all(d.activeInputs.map((f,s)=>Array.from(f).map(async([c,g])=>{const o=await r(c).render(c,j),a=t.context.destination;!v(c)&&(t!==a||!v(t))&&o.connect(x,g,s)})).reduce((f,s)=>[...f,...s],[]))},$1=(P,r,v)=>async(t,j,x)=>{const d=r(t);await Promise.all(Array.from(d.activeInputs).map(async([f,s])=>{const g=await P(f).render(f,j);v(f)||g.connect(x,s)}))},J1=(P,r,v,t)=>j=>P(Va,()=>Va(j))?Promise.resolve(P(t,t)).then(x=>{if(!x){const d=v(j,512,0,1);j.oncomplete=()=>{d.onaudioprocess=null,d.disconnect()},d.onaudioprocess=()=>j.currentTime,d.connect(j.destination)}return j.startRendering()}):new Promise(x=>{const d=r(j,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});j.oncomplete=f=>{d.disconnect(),x(f.renderedBuffer)},d.connect(j.destination),j.startRendering()}),Z1=P=>(r,v)=>{P.set(r,v)},K1=P=>(r,v)=>P.set(r,v),e_=(P,r,v,t,j,x,d,f)=>(s,c)=>v(s).render(s,c).then(()=>Promise.all(Array.from(t(c)).map(g=>v(g).render(g,c)))).then(()=>j(c)).then(g=>(typeof g.copyFromChannel!="function"?(d(g),Uh(g)):r(x,()=>x(g))||f(g),P.add(g),g)),t_={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers",pan:0},r_=(P,r,v,t,j,x)=>class extends P{constructor(f,s){const c=j(f),g={...t_,...s},y=v(c,g),o=x(c),a=o?t():null;super(f,!1,y,a),this._pan=r(this,o,y.pan)}get pan(){return this._pan}},n_=(P,r,v,t,j)=>()=>{const x=new WeakMap,d=async(f,s)=>{let c=v(f);const g=cn(c,s);if(!g){const y={channelCount:c.channelCount,channelCountMode:c.channelCountMode,channelInterpretation:c.channelInterpretation,pan:c.pan.value};c=r(s,y)}return x.set(s,c),g?await P(s,f.pan,c.pan):await t(s,f.pan,c.pan),ta(c)?await j(f,s,c.inputs[0]):await j(f,s,c),c};return{render(f,s){const c=x.get(s);return c!==void 0?Promise.resolve(c):d(f,s)}}},s_=P=>()=>{if(P===null)return!1;try{new P({length:1,sampleRate:44100})}catch{return!1}return!0},o_=(P,r)=>async()=>{if(P===null)return!0;if(r===null)return!1;const v=new Blob(['class A extends AudioWorkletProcessor{process(i){this.port.postMessage(i,[i[0][0].buffer])}}registerProcessor("a",A)'],{type:"application/javascript; charset=utf-8"}),t=new r(1,128,44100),j=URL.createObjectURL(v);let x=!1,d=!1;try{await t.audioWorklet.addModule(j);const f=new P(t,"a",{numberOfOutputs:0}),s=t.createOscillator();f.port.onmessage=()=>x=!0,f.onprocessorerror=()=>d=!0,s.connect(f),s.start(0),await t.startRendering(),await new Promise(c=>setTimeout(c))}catch{}finally{URL.revokeObjectURL(j)}return x&&!d},i_=(P,r)=>()=>{if(r===null)return Promise.resolve(!1);const v=new r(1,1,44100),t=P(v,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});return new Promise(j=>{v.oncomplete=()=>{t.disconnect(),j(v.currentTime!==0)},v.startRendering()})},a_=()=>new DOMException("","UnknownError"),l_={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",curve:null,oversample:"none"},u_=(P,r,v,t,j,x,d)=>class extends P{constructor(s,c){const g=j(s),y={...l_,...c},o=v(g,y),i=x(g)?t():null;super(s,!0,o,i),this._isCurveNullified=!1,this._nativeWaveShaperNode=o,d(this,1)}get curve(){return this._isCurveNullified?null:this._nativeWaveShaperNode.curve}set curve(s){if(s===null)this._isCurveNullified=!0,this._nativeWaveShaperNode.curve=new Float32Array([0,0]);else{if(s.length<2)throw r();this._isCurveNullified=!1,this._nativeWaveShaperNode.curve=s}}get oversample(){return this._nativeWaveShaperNode.oversample}set oversample(s){this._nativeWaveShaperNode.oversample=s}},c_=(P,r,v)=>()=>{const t=new WeakMap,j=async(x,d)=>{let f=r(x);if(!cn(f,d)){const c={channelCount:f.channelCount,channelCountMode:f.channelCountMode,channelInterpretation:f.channelInterpretation,curve:f.curve,oversample:f.oversample};f=P(d,c)}return t.set(d,f),ta(f)?await v(x,d,f.inputs[0]):await v(x,d,f),f};return{render(x,d){const f=t.get(d);return f!==void 0?Promise.resolve(f):j(x,d)}}},h_=()=>typeof window>"u"?null:window,d_=(P,r)=>v=>{v.copyFromChannel=(t,j,x=0)=>{const d=P(x),f=P(j);if(f>=v.numberOfChannels)throw r();const s=v.length,c=v.getChannelData(f),g=t.length;for(let y=d<0?-d:0;y+d<s&&y<g;y+=1)t[y]=c[y+d]},v.copyToChannel=(t,j,x=0)=>{const d=P(x),f=P(j);if(f>=v.numberOfChannels)throw r();const s=v.length,c=v.getChannelData(f),g=t.length;for(let y=d<0?-d:0;y+d<s&&y<g;y+=1)c[y+d]=t[y]}},f_=P=>r=>{r.copyFromChannel=(v=>(t,j,x=0)=>{const d=P(x),f=P(j);if(d<r.length)return v.call(r,t,f,d)})(r.copyFromChannel),r.copyToChannel=(v=>(t,j,x=0)=>{const d=P(x),f=P(j);if(d<r.length)return v.call(r,t,f,d)})(r.copyToChannel)},p_=P=>(r,v)=>{const t=v.createBuffer(1,1,44100);r.buffer===null&&(r.buffer=t),P(r,"buffer",j=>()=>{const x=j.call(r);return x===t?null:x},j=>x=>j.call(r,x===null?t:x))},m_=(P,r)=>(v,t)=>{t.channelCount=1,t.channelCountMode="explicit",Object.defineProperty(t,"channelCount",{get:()=>1,set:()=>{throw P()}}),Object.defineProperty(t,"channelCountMode",{get:()=>"explicit",set:()=>{throw P()}});const j=v.createBufferSource();r(t,()=>{const f=t.numberOfInputs;for(let s=0;s<f;s+=1)j.connect(t,0,s)},()=>j.disconnect(t))},Rm=(P,r,v)=>P.copyFromChannel===void 0?P.getChannelData(v)[0]:(P.copyFromChannel(r,v),r[0]),Im=P=>{if(P===null)return!1;const r=P.length;return r%2!==0?P[Math.floor(r/2)]!==0:P[r/2-1]+P[r/2]!==0},$a=(P,r,v,t)=>{let j=P;for(;!j.hasOwnProperty(r);)j=Object.getPrototypeOf(j);const{get:x,set:d}=Object.getOwnPropertyDescriptor(j,r);Object.defineProperty(P,r,{get:v(x),set:t(d)})},y_=P=>({...P,outputChannelCount:P.outputChannelCount!==void 0?P.outputChannelCount:P.numberOfInputs===1&&P.numberOfOutputs===1?[P.channelCount]:Array.from({length:P.numberOfOutputs},()=>1)}),g_=P=>({...P,channelCount:P.numberOfOutputs}),v_=P=>{const{imag:r,real:v}=P;return r===void 0?v===void 0?{...P,imag:[0,0],real:[0,0]}:{...P,imag:Array.from(v,()=>0),real:v}:v===void 0?{...P,imag:r,real:Array.from(r,()=>0)}:{...P,imag:r,real:v}},Dm=(P,r,v)=>{try{P.setValueAtTime(r,v)}catch(t){if(t.code!==9)throw t;Dm(P,r,v+1e-7)}},__=P=>{const r=P.createBufferSource();r.start();try{r.start()}catch{return!0}return!1},b_=P=>{const r=P.createBufferSource(),v=P.createBuffer(1,1,44100);r.buffer=v;try{r.start(0,1)}catch{return!1}return!0},w_=P=>{const r=P.createBufferSource();r.start();try{r.stop()}catch{return!1}return!0},Hh=P=>{const r=P.createOscillator();try{r.start(-1)}catch(v){return v instanceof RangeError}return!1},Lm=P=>{const r=P.createBuffer(1,1,44100),v=P.createBufferSource();v.buffer=r,v.start(),v.stop();try{return v.stop(),!0}catch{return!1}},Wh=P=>{const r=P.createOscillator();try{r.stop(-1)}catch(v){return v instanceof RangeError}return!1},x_=P=>{const{port1:r,port2:v}=new MessageChannel;try{r.postMessage(P)}finally{r.close(),v.close()}},j_=P=>{P.start=(r=>(v=0,t=0,j)=>{const x=P.buffer,d=x===null?t:Math.min(x.duration,t);x!==null&&d>x.duration-.5/P.context.sampleRate?r.call(P,v,0,0):r.call(P,v,d,j)})(P.start)},Nm=(P,r)=>{const v=r.createGain();P.connect(v);const t=(j=>()=>{j.call(P,v),P.removeEventListener("ended",t)})(P.disconnect);P.addEventListener("ended",t),ra(P,v),P.stop=(j=>{let x=!1;return(d=0)=>{if(x)try{j.call(P,d)}catch{v.gain.setValueAtTime(0,d)}else j.call(P,d),x=!0}})(P.stop)},na=(P,r)=>v=>{const t={value:P};return Object.defineProperties(v,{currentTarget:t,target:t}),typeof r=="function"?r.call(P,v):r.handleEvent.call(P,v)},S_=Hg(fi),T_=$g(fi),k_=l0(Ou),Fm=new WeakMap,E_=k0(Fm),fs=Fv(new Map,new WeakMap),js=h_(),Um=r1(fs,Es),qh=T0(mn),nn=Q1(mn,qh,hi),C_=tv(Um,mr,nn),cr=M0(Mu),qs=M1(js),sr=q0(qs),Bm=new WeakMap,Vm=v0(na),Ja=i1(js),Xh=G0(Ja),Yh=z0(js),Gm=H0(js),Ga=l1(js),Pr=kv(Wg(mm),Qg(S_,T_,xu,k_,ju,mn,E_,Ha,mr,fi,Hs,hi,yu),fs,N0(Ch,ju,mn,mr,Ba,Hs),Es,Au,yn,s0(xu,Ch,mn,mr,Ba,cr,Hs,sr),h0(Bm,mn,ds),Vm,cr,Xh,Yh,Gm,sr,Ga),M_=ev(Pr,C_,Es,Um,cr,sr),Qh=new WeakSet,rm=n1(js),zm=Jv(new Uint32Array(1)),$h=d_(zm,Es),Jh=f_(zm),Hm=nv(Qh,fs,yn,rm,qs,s_(rm),$h,Jh),Pu=Jg(En),Wm=$1(qh,qa,hi),Cs=Wv(Wm),sa=o1(Pu,fs,__,b_,w_,Hh,Lm,Wh,j_,p_($a),Nm),Ms=Y1(E0(qa),Wm),O_=iv(Cs,sa,mr,Ms,nn),ps=Ev(qg(ym),Bm,Fh,Cv,Fg,Ug,Bg,Vg,Gg,Th,fm,Ja,Dm),A_=ov(Pr,O_,ps,Zr,sa,cr,sr,na),P_=mv(Pr,yv,Es,Zr,a1(En,$a),cr,sr,nn),R_=Nv(Cs,Om,mr,Ms,nn),pi=K1(Fm),I_=Lv(Pr,ps,R_,Au,Om,cr,sr,pi),Ao=e1(fi,Yh),D_=m_(Zr,Ao),Po=m1(Ja,D_),L_=Vv(Po,mr,nn),N_=Bv(Pr,L_,Po,cr,sr),F_=Hv(Ya,mr,nn),U_=zv(Pr,F_,Ya,cr,sr,g_),B_=v1(Pu,sa,En,Ao),oa=g1(Pu,fs,B_,Hh,Wh),V_=$v(Cs,oa,mr,Ms,nn),G_=Qv(Pr,ps,V_,oa,cr,sr,na),qm=_1(yn,$a),z_=e0(qm,mr,nn),H_=Kv(Pr,z_,qm,cr,sr,pi),W_=a0(Cs,Am,mr,Ms,nn),q_=i0(Pr,ps,W_,Am,cr,sr,pi),Xm=b1(yn),X_=m0(Cs,Xm,mr,Ms,nn),Y_=p0(Pr,ps,X_,Xm,yn,cr,sr,pi),Q_=j0(Cs,En,mr,Ms,nn),$_=x0(Pr,ps,Q_,En,cr,sr),J_=S1(Au,Zr,Qa,yn),Ru=J1(fs,En,Qa,i_(En,qs)),Z_=L0(sa,mr,qs,nn,Ru),K_=w1(J_),eb=I0(Pr,K_,Z_,cr,sr,pi),tb=gv(ps,Po,oa,Qa,yn,Rm,sr,$a),Ym=new WeakMap,rb=K0(P_,tb,Vm,sr,Ym,na),Qm=O1(Pu,fs,Hh,Lm,Wh,Nm),nb=G1(Cs,Qm,mr,Ms,nn),sb=V1(Pr,ps,Qm,nb,cr,sr,na),$m=Xv(sa),ob=N1($m,Zr,En,Im,Ao),Iu=L1($m,Zr,ob,Im,Ao,Ja,$a),ib=P1(xu,Zr,Po,En,Qa,Iu,yn,ju,Rm,Ao),Jm=A1(ib),ab=W1(Cs,Po,oa,En,Jm,mr,qs,Ms,nn,Ru),lb=H1(Pr,ps,Jm,ab,cr,sr,pi),ub=R1(Es),cb=X1(ub,cr,new WeakSet,v_),hb=D1(Po,Ya,En,Iu,yn,Ao),Zm=I1(hb,yn),db=n_(Cs,Zm,mr,Ms,nn),fb=r_(Pr,ps,Zm,db,cr,sr),pb=c_(Iu,mr,nn),mb=u_(Pr,Zr,Iu,pb,cr,sr,pi),Km=X0(js),Zh=_0(js),ey=new WeakMap,yb=O0(ey,qs),gb=Km?Yg(fs,yn,g0(js),Zh,b0(zg),cr,yb,sr,Ga,new WeakMap,new WeakMap,o_(Ga,qs),js):void 0,vb=W0(Xh,sr),_b=n0(Qh,fs,r0,y0,new WeakSet,cr,vb,bu,Va,$h,Jh),ty=Iv(gb,M_,Hm,A_,I_,N_,U_,G_,H_,_b,q_,Y_,$_,eb,rb,sb,lb,cb,fb,mb),bb=Y0(Pr,T1,cr,sr),wb=$0(Pr,k1,cr,sr),xb=J0(Pr,E1,cr,sr),jb=C1(Zr,sr),Sb=Z0(Pr,jb,cr),Tb=pv(ty,Zr,yn,a_,bb,wb,xb,Sb,Ja),Kh=A0(Ym),kb=Zg(Kh),ry=qv(Es),Eb=u0(Kh),ny=d0(Es),sy=new WeakMap,Cb=S0(sy,ds),Mb=p1(ry,Es,Zr,Po,Ya,oa,En,Qa,yn,ny,Zh,Cb,Ao),Ob=c1(Zr,Mb,En,yn,Ao),Ab=Rv(Cs,ry,sa,Po,Ya,oa,En,Eb,ny,Zh,mr,Ga,qs,Ms,nn,Ru),Pb=C0(ey),Rb=Z1(sy),nm=Km?Ov(kb,Pr,ps,Ab,Ob,mn,Pb,cr,sr,Ga,y_,Rb,x_,na):void 0,Ib=t0(yn,qs),Db=e_(Qh,fs,qh,Kh,Ru,bu,$h,Jh),Lb=U1(ty,fs,Zr,Ib,Db),Nb=F0(Mu,Xh),Fb=U0(Nh,Yh),Ub=B0(Fh,Gm),Bb=V0(Mu,sr);function Qn(P){return P===void 0}function Vt(P){return P!==void 0}function Vb(P){return typeof P=="function"}function Ss(P){return typeof P=="number"}function ui(P){return Object.prototype.toString.call(P)==="[object Object]"&&P.constructor===Object}function oy(P){return typeof P=="boolean"}function hs(P){return Array.isArray(P)}function Ws(P){return typeof P=="string"}function fu(P){return Ws(P)&&/^([a-g]{1}(?:b|#|x|bb)?)(-?[0-9]+)/i.test(P)}function Dt(P,r){if(!P)throw new Error(r)}function Eo(P,r,v=1/0){if(!(r<=P&&P<=v))throw new RangeError(`Value must be within [${r}, ${v}], got: ${P}`)}function iy(P){!P.isOffline&&P.state!=="running"&&ed('The AudioContext is "suspended". Invoke Tone.start() from a user action to start the audio.')}let ay=!1,sm=!1;function om(P){ay=P}function Gb(P){Qn(P)&&ay&&!sm&&(sm=!0,ed("Events scheduled inside of scheduled callbacks should use the passed in scheduling time. See https://github.com/Tonejs/Tone.js/wiki/Accurate-Timing"))}let ly=console;function zb(...P){ly.log(...P)}function ed(...P){ly.warn(...P)}function Hb(P){return new Tb(P)}function Wb(P,r,v){return new Lb(P,r,v)}const Un=typeof self=="object"?self:null,qb=Un&&(Un.hasOwnProperty("AudioContext")||Un.hasOwnProperty("webkitAudioContext"));function Xb(P,r,v){return Dt(Vt(nm),"AudioWorkletNode only works in a secure context (https or localhost)"),new(P instanceof(Un==null?void 0:Un.BaseAudioContext)?Un==null?void 0:Un.AudioWorkletNode:nm)(P,r,v)}function ms(P,r,v,t){var j=arguments.length,x=j<3?r:t===null?t=Object.getOwnPropertyDescriptor(r,v):t,d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")x=Reflect.decorate(P,r,v,t);else for(var f=P.length-1;f>=0;f--)(d=P[f])&&(x=(j<3?d(x):j>3?d(r,v,x):d(r,v))||x);return j>3&&x&&Object.defineProperty(r,v,x),x}function Vr(P,r,v,t){function j(x){return x instanceof v?x:new v(function(d){d(x)})}return new(v||(v=Promise))(function(x,d){function f(g){try{c(t.next(g))}catch(y){d(y)}}function s(g){try{c(t.throw(g))}catch(y){d(y)}}function c(g){g.done?x(g.value):j(g.value).then(f,s)}c((t=t.apply(P,r||[])).next())})}class Yb{constructor(r,v,t,j){this._callback=r,this._type=v,this._minimumUpdateInterval=Math.max(128/(j||44100),.001),this.updateInterval=t,this._createClock()}_createWorker(){const r=new Blob([`
			// the initial timeout time
			let timeoutTime =  ${(this._updateInterval*1e3).toFixed(1)};
			// onmessage callback
			self.onmessage = function(msg){
				timeoutTime = parseInt(msg.data);
			};
			// the tick function which posts a message
			// and schedules a new tick
			function tick(){
				setTimeout(tick, timeoutTime);
				self.postMessage('tick');
			}
			// call tick initially
			tick();
			`],{type:"text/javascript"}),v=URL.createObjectURL(r),t=new Worker(v);t.onmessage=this._callback.bind(this),this._worker=t}_createTimeout(){this._timeout=setTimeout(()=>{this._createTimeout(),this._callback()},this._updateInterval*1e3)}_createClock(){if(this._type==="worker")try{this._createWorker()}catch{this._type="timeout",this._createClock()}else this._type==="timeout"&&this._createTimeout()}_disposeClock(){this._timeout&&clearTimeout(this._timeout),this._worker&&(this._worker.terminate(),this._worker.onmessage=null)}get updateInterval(){return this._updateInterval}set updateInterval(r){var v;this._updateInterval=Math.max(r,this._minimumUpdateInterval),this._type==="worker"&&((v=this._worker)===null||v===void 0||v.postMessage(this._updateInterval*1e3))}get type(){return this._type}set type(r){this._disposeClock(),this._type=r,this._createClock()}dispose(){this._disposeClock()}}function di(P){return Ub(P)}function To(P){return Fb(P)}function gu(P){return Bb(P)}function Wi(P){return Nb(P)}function Qb(P){return P instanceof Hm}function $b(P,r){return P==="value"||di(r)||To(r)||Qb(r)}function ko(P,...r){if(!r.length)return P;const v=r.shift();if(ui(P)&&ui(v))for(const t in v)$b(t,v[t])?P[t]=v[t]:ui(v[t])?(P[t]||Object.assign(P,{[t]:{}}),ko(P[t],v[t])):Object.assign(P,{[t]:v[t]});return ko(P,...r)}function Jb(P,r){return P.length===r.length&&P.every((v,t)=>r[t]===v)}function Et(P,r,v=[],t){const j={},x=Array.from(r);if(ui(x[0])&&t&&!Reflect.has(x[0],t)&&(Object.keys(x[0]).some(f=>Reflect.has(P,f))||(ko(j,{[t]:x[0]}),v.splice(v.indexOf(t),1),x.shift())),x.length===1&&ui(x[0]))ko(j,x[0]);else for(let d=0;d<v.length;d++)Vt(x[d])&&(j[v[d]]=x[d]);return ko(P,j)}function Zb(P){return P.constructor.getDefaults()}function ci(P,r){return Qn(P)?r:P}function ai(P,r){return r.forEach(v=>{Reflect.has(P,v)&&delete P[v]}),P}/**
 * Tone.js
 * @author Yotam Mann
 * @license http://opensource.org/licenses/MIT MIT License
 * @copyright 2014-2024 Yotam Mann
 */class Xs{constructor(){this.debug=!1,this._wasDisposed=!1}static getDefaults(){return{}}log(...r){(this.debug||Un&&this.toString()===Un.TONE_DEBUG_CLASS)&&zb(this,...r)}dispose(){return this._wasDisposed=!0,this}get disposed(){return this._wasDisposed}toString(){return this.name}}Xs.version=dm;const td=1e-6;function $i(P,r){return P>r+td}function Rh(P,r){return $i(P,r)||us(P,r)}function Eu(P,r){return P+td<r}function us(P,r){return Math.abs(P-r)<td}function Kb(P,r,v){return Math.max(Math.min(P,v),r)}class $n extends Xs{constructor(){super(),this.name="Timeline",this._timeline=[];const r=Et($n.getDefaults(),arguments,["memory"]);this.memory=r.memory,this.increasing=r.increasing}static getDefaults(){return{memory:1/0,increasing:!1}}get length(){return this._timeline.length}add(r){if(Dt(Reflect.has(r,"time"),"Timeline: events must have a time attribute"),r.time=r.time.valueOf(),this.increasing&&this.length){const v=this._timeline[this.length-1];Dt(Rh(r.time,v.time),"The time must be greater than or equal to the last scheduled time"),this._timeline.push(r)}else{const v=this._search(r.time);this._timeline.splice(v+1,0,r)}if(this.length>this.memory){const v=this.length-this.memory;this._timeline.splice(0,v)}return this}remove(r){const v=this._timeline.indexOf(r);return v!==-1&&this._timeline.splice(v,1),this}get(r,v="time"){const t=this._search(r,v);return t!==-1?this._timeline[t]:null}peek(){return this._timeline[0]}shift(){return this._timeline.shift()}getAfter(r,v="time"){const t=this._search(r,v);return t+1<this._timeline.length?this._timeline[t+1]:null}getBefore(r){const v=this._timeline.length;if(v>0&&this._timeline[v-1].time<r)return this._timeline[v-1];const t=this._search(r);return t-1>=0?this._timeline[t-1]:null}cancel(r){if(this._timeline.length>1){let v=this._search(r);if(v>=0)if(us(this._timeline[v].time,r)){for(let t=v;t>=0&&us(this._timeline[t].time,r);t--)v=t;this._timeline=this._timeline.slice(0,v)}else this._timeline=this._timeline.slice(0,v+1);else this._timeline=[]}else this._timeline.length===1&&Rh(this._timeline[0].time,r)&&(this._timeline=[]);return this}cancelBefore(r){const v=this._search(r);return v>=0&&(this._timeline=this._timeline.slice(v+1)),this}previousEvent(r){const v=this._timeline.indexOf(r);return v>0?this._timeline[v-1]:null}_search(r,v="time"){if(this._timeline.length===0)return-1;let t=0;const j=this._timeline.length;let x=j;if(j>0&&this._timeline[j-1][v]<=r)return j-1;for(;t<x;){let d=Math.floor(t+(x-t)/2);const f=this._timeline[d],s=this._timeline[d+1];if(us(f[v],r)){for(let c=d;c<this._timeline.length;c++){const g=this._timeline[c];if(us(g[v],r))d=c;else break}return d}else{if(Eu(f[v],r)&&$i(s[v],r))return d;$i(f[v],r)?x=d:t=d+1}}return-1}_iterate(r,v=0,t=this._timeline.length-1){this._timeline.slice(v,t+1).forEach(r)}forEach(r){return this._iterate(r),this}forEachBefore(r,v){const t=this._search(r);return t!==-1&&this._iterate(v,0,t),this}forEachAfter(r,v){const t=this._search(r);return this._iterate(v,t+1),this}forEachBetween(r,v,t){let j=this._search(r),x=this._search(v);return j!==-1&&x!==-1?(this._timeline[j].time!==r&&(j+=1),this._timeline[x].time===v&&(x-=1),this._iterate(t,j,x)):j===-1&&this._iterate(t,0,x),this}forEachFrom(r,v){let t=this._search(r);for(;t>=0&&this._timeline[t].time>=r;)t--;return this._iterate(v,t+1),this}forEachAtTime(r,v){const t=this._search(r);if(t!==-1&&us(this._timeline[t].time,r)){let j=t;for(let x=t;x>=0&&us(this._timeline[x].time,r);x--)j=x;this._iterate(x=>{v(x)},j,t)}return this}dispose(){return super.dispose(),this._timeline=[],this}}const uy=[];function Du(P){uy.push(P)}function ew(P){uy.forEach(r=>r(P))}const cy=[];function Lu(P){cy.push(P)}function tw(P){cy.forEach(r=>r(P))}class Za extends Xs{constructor(){super(...arguments),this.name="Emitter"}on(r,v){return r.split(/\W+/).forEach(j=>{Qn(this._events)&&(this._events={}),this._events.hasOwnProperty(j)||(this._events[j]=[]),this._events[j].push(v)}),this}once(r,v){const t=(...j)=>{v(...j),this.off(r,t)};return this.on(r,t),this}off(r,v){return r.split(/\W+/).forEach(j=>{if(Qn(this._events)&&(this._events={}),this._events.hasOwnProperty(j))if(Qn(v))this._events[j]=[];else{const x=this._events[j];for(let d=x.length-1;d>=0;d--)x[d]===v&&x.splice(d,1)}}),this}emit(r,...v){if(this._events&&this._events.hasOwnProperty(r)){const t=this._events[r].slice(0);for(let j=0,x=t.length;j<x;j++)t[j].apply(this,v)}return this}static mixin(r){["on","once","off","emit"].forEach(v=>{const t=Object.getOwnPropertyDescriptor(Za.prototype,v);Object.defineProperty(r.prototype,v,t)})}dispose(){return super.dispose(),this._events=void 0,this}}class hy extends Za{constructor(){super(...arguments),this.isOffline=!1}toJSON(){return{}}}class Ka extends hy{constructor(){var r,v;super(),this.name="Context",this._constants=new Map,this._timeouts=new $n,this._timeoutIds=0,this._initialized=!1,this._closeStarted=!1,this.isOffline=!1,this._workletPromise=null;const t=Et(Ka.getDefaults(),arguments,["context"]);t.context?(this._context=t.context,this._latencyHint=((r=arguments[0])===null||r===void 0?void 0:r.latencyHint)||""):(this._context=Hb({latencyHint:t.latencyHint}),this._latencyHint=t.latencyHint),this._ticker=new Yb(this.emit.bind(this,"tick"),t.clockSource,t.updateInterval,this._context.sampleRate),this.on("tick",this._timeoutLoop.bind(this)),this._context.onstatechange=()=>{this.emit("statechange",this.state)},this[!((v=arguments[0])===null||v===void 0)&&v.hasOwnProperty("updateInterval")?"_lookAhead":"lookAhead"]=t.lookAhead}static getDefaults(){return{clockSource:"worker",latencyHint:"interactive",lookAhead:.1,updateInterval:.05}}initialize(){return this._initialized||(ew(this),this._initialized=!0),this}createAnalyser(){return this._context.createAnalyser()}createOscillator(){return this._context.createOscillator()}createBufferSource(){return this._context.createBufferSource()}createBiquadFilter(){return this._context.createBiquadFilter()}createBuffer(r,v,t){return this._context.createBuffer(r,v,t)}createChannelMerger(r){return this._context.createChannelMerger(r)}createChannelSplitter(r){return this._context.createChannelSplitter(r)}createConstantSource(){return this._context.createConstantSource()}createConvolver(){return this._context.createConvolver()}createDelay(r){return this._context.createDelay(r)}createDynamicsCompressor(){return this._context.createDynamicsCompressor()}createGain(){return this._context.createGain()}createIIRFilter(r,v){return this._context.createIIRFilter(r,v)}createPanner(){return this._context.createPanner()}createPeriodicWave(r,v,t){return this._context.createPeriodicWave(r,v,t)}createStereoPanner(){return this._context.createStereoPanner()}createWaveShaper(){return this._context.createWaveShaper()}createMediaStreamSource(r){return Dt(Wi(this._context),"Not available if OfflineAudioContext"),this._context.createMediaStreamSource(r)}createMediaElementSource(r){return Dt(Wi(this._context),"Not available if OfflineAudioContext"),this._context.createMediaElementSource(r)}createMediaStreamDestination(){return Dt(Wi(this._context),"Not available if OfflineAudioContext"),this._context.createMediaStreamDestination()}decodeAudioData(r){return this._context.decodeAudioData(r)}get currentTime(){return this._context.currentTime}get state(){return this._context.state}get sampleRate(){return this._context.sampleRate}get listener(){return this.initialize(),this._listener}set listener(r){Dt(!this._initialized,"The listener cannot be set after initialization."),this._listener=r}get transport(){return this.initialize(),this._transport}set transport(r){Dt(!this._initialized,"The transport cannot be set after initialization."),this._transport=r}get draw(){return this.initialize(),this._draw}set draw(r){Dt(!this._initialized,"Draw cannot be set after initialization."),this._draw=r}get destination(){return this.initialize(),this._destination}set destination(r){Dt(!this._initialized,"The destination cannot be set after initialization."),this._destination=r}createAudioWorkletNode(r,v){return Xb(this.rawContext,r,v)}addAudioWorkletModule(r){return Vr(this,void 0,void 0,function*(){Dt(Vt(this.rawContext.audioWorklet),"AudioWorkletNode is only available in a secure context (https or localhost)"),this._workletPromise||(this._workletPromise=this.rawContext.audioWorklet.addModule(r)),yield this._workletPromise})}workletsAreReady(){return Vr(this,void 0,void 0,function*(){(yield this._workletPromise)?this._workletPromise:Promise.resolve()})}get updateInterval(){return this._ticker.updateInterval}set updateInterval(r){this._ticker.updateInterval=r}get clockSource(){return this._ticker.type}set clockSource(r){this._ticker.type=r}get lookAhead(){return this._lookAhead}set lookAhead(r){this._lookAhead=r,this.updateInterval=r?r/2:.01}get latencyHint(){return this._latencyHint}get rawContext(){return this._context}now(){return this._context.currentTime+this._lookAhead}immediate(){return this._context.currentTime}resume(){return Wi(this._context)?this._context.resume():Promise.resolve()}close(){return Vr(this,void 0,void 0,function*(){Wi(this._context)&&this.state!=="closed"&&!this._closeStarted&&(this._closeStarted=!0,yield this._context.close()),this._initialized&&tw(this)})}getConstant(r){if(this._constants.has(r))return this._constants.get(r);{const v=this._context.createBuffer(1,128,this._context.sampleRate),t=v.getChannelData(0);for(let x=0;x<t.length;x++)t[x]=r;const j=this._context.createBufferSource();return j.channelCount=1,j.channelCountMode="explicit",j.buffer=v,j.loop=!0,j.start(0),this._constants.set(r,j),j}}dispose(){return super.dispose(),this._ticker.dispose(),this._timeouts.dispose(),Object.keys(this._constants).map(r=>this._constants[r].disconnect()),this.close(),this}_timeoutLoop(){const r=this.now();this._timeouts.forEachBefore(r,v=>{v.callback(),this._timeouts.remove(v)})}setTimeout(r,v){this._timeoutIds++;const t=this.now();return this._timeouts.add({callback:r,id:this._timeoutIds,time:t+v}),this._timeoutIds}clearTimeout(r){return this._timeouts.forEach(v=>{v.id===r&&this._timeouts.remove(v)}),this}clearInterval(r){return this.clearTimeout(r)}setInterval(r,v){const t=++this._timeoutIds,j=()=>{const x=this.now();this._timeouts.add({callback:()=>{r(),j()},id:t,time:x+v})};return j(),t}}class rw extends hy{constructor(){super(...arguments),this.lookAhead=0,this.latencyHint=0,this.isOffline=!1}createAnalyser(){return{}}createOscillator(){return{}}createBufferSource(){return{}}createBiquadFilter(){return{}}createBuffer(r,v,t){return{}}createChannelMerger(r){return{}}createChannelSplitter(r){return{}}createConstantSource(){return{}}createConvolver(){return{}}createDelay(r){return{}}createDynamicsCompressor(){return{}}createGain(){return{}}createIIRFilter(r,v){return{}}createPanner(){return{}}createPeriodicWave(r,v,t){return{}}createStereoPanner(){return{}}createWaveShaper(){return{}}createMediaStreamSource(r){return{}}createMediaElementSource(r){return{}}createMediaStreamDestination(){return{}}decodeAudioData(r){return Promise.resolve({})}createAudioWorkletNode(r,v){return{}}get rawContext(){return{}}addAudioWorkletModule(r){return Vr(this,void 0,void 0,function*(){return Promise.resolve()})}resume(){return Promise.resolve()}setTimeout(r,v){return 0}clearTimeout(r){return this}setInterval(r,v){return 0}clearInterval(r){return this}getConstant(r){return{}}get currentTime(){return 0}get state(){return{}}get sampleRate(){return 0}get listener(){return{}}get transport(){return{}}get draw(){return{}}set draw(r){}get destination(){return{}}set destination(r){}now(){return 0}immediate(){return 0}}function yr(P,r){hs(r)?r.forEach(v=>yr(P,v)):Object.defineProperty(P,r,{enumerable:!0,writable:!1})}function rd(P,r){hs(r)?r.forEach(v=>rd(P,v)):Object.defineProperty(P,r,{writable:!0})}const Xt=()=>{};class ar extends Xs{constructor(){super(),this.name="ToneAudioBuffer",this.onload=Xt;const r=Et(ar.getDefaults(),arguments,["url","onload","onerror"]);this.reverse=r.reverse,this.onload=r.onload,Ws(r.url)?this.load(r.url).catch(r.onerror):r.url&&this.set(r.url)}static getDefaults(){return{onerror:Xt,onload:Xt,reverse:!1}}get sampleRate(){return this._buffer?this._buffer.sampleRate:Xn().sampleRate}set(r){return r instanceof ar?r.loaded?this._buffer=r.get():r.onload=()=>{this.set(r),this.onload(this)}:this._buffer=r,this._reversed&&this._reverse(),this}get(){return this._buffer}load(r){return Vr(this,void 0,void 0,function*(){const v=ar.load(r).then(t=>{this.set(t),this.onload(this)});ar.downloads.push(v);try{yield v}finally{const t=ar.downloads.indexOf(v);ar.downloads.splice(t,1)}return this})}dispose(){return super.dispose(),this._buffer=void 0,this}fromArray(r){const v=hs(r)&&r[0].length>0,t=v?r.length:1,j=v?r[0].length:r.length,x=Xn(),d=x.createBuffer(t,j,x.sampleRate),f=!v&&t===1?[r]:r;for(let s=0;s<t;s++)d.copyToChannel(f[s],s);return this._buffer=d,this}toMono(r){if(Ss(r))this.fromArray(this.toArray(r));else{let v=new Float32Array(this.length);const t=this.numberOfChannels;for(let j=0;j<t;j++){const x=this.toArray(j);for(let d=0;d<x.length;d++)v[d]+=x[d]}v=v.map(j=>j/t),this.fromArray(v)}return this}toArray(r){if(Ss(r))return this.getChannelData(r);if(this.numberOfChannels===1)return this.toArray(0);{const v=[];for(let t=0;t<this.numberOfChannels;t++)v[t]=this.getChannelData(t);return v}}getChannelData(r){return this._buffer?this._buffer.getChannelData(r):new Float32Array(0)}slice(r,v=this.duration){Dt(this.loaded,"Buffer is not loaded");const t=Math.floor(r*this.sampleRate),j=Math.floor(v*this.sampleRate);Dt(t<j,"The start time must be less than the end time");const x=j-t,d=Xn().createBuffer(this.numberOfChannels,x,this.sampleRate);for(let f=0;f<this.numberOfChannels;f++)d.copyToChannel(this.getChannelData(f).subarray(t,j),f);return new ar(d)}_reverse(){if(this.loaded)for(let r=0;r<this.numberOfChannels;r++)this.getChannelData(r).reverse();return this}get loaded(){return this.length>0}get duration(){return this._buffer?this._buffer.duration:0}get length(){return this._buffer?this._buffer.length:0}get numberOfChannels(){return this._buffer?this._buffer.numberOfChannels:0}get reverse(){return this._reversed}set reverse(r){this._reversed!==r&&(this._reversed=r,this._reverse())}static fromArray(r){return new ar().fromArray(r)}static fromUrl(r){return Vr(this,void 0,void 0,function*(){return yield new ar().load(r)})}static load(r){return Vr(this,void 0,void 0,function*(){const v=ar.baseUrl===""||ar.baseUrl.endsWith("/")?ar.baseUrl:ar.baseUrl+"/",t=yield fetch(v+r);if(!t.ok)throw new Error(`could not load url: ${r}`);const j=yield t.arrayBuffer();return yield Xn().decodeAudioData(j)})}static supportsType(r){const v=r.split("."),t=v[v.length-1];return document.createElement("audio").canPlayType("audio/"+t)!==""}static loaded(){return Vr(this,void 0,void 0,function*(){for(yield Promise.resolve();ar.downloads.length;)yield ar.downloads[0]})}}ar.baseUrl="";ar.downloads=[];class nd extends Ka{constructor(){super({clockSource:"offline",context:gu(arguments[0])?arguments[0]:Wb(arguments[0],arguments[1]*arguments[2],arguments[2]),lookAhead:0,updateInterval:gu(arguments[0])?128/arguments[0].sampleRate:128/arguments[2]}),this.name="OfflineContext",this._currentTime=0,this.isOffline=!0,this._duration=gu(arguments[0])?arguments[0].length/arguments[0].sampleRate:arguments[1]}now(){return this._currentTime}get currentTime(){return this._currentTime}_renderClock(r){return Vr(this,void 0,void 0,function*(){let v=0;for(;this._duration-this._currentTime>=0;){this.emit("tick"),this._currentTime+=128/this.sampleRate,v++;const t=Math.floor(this.sampleRate/128);r&&v%t===0&&(yield new Promise(j=>setTimeout(j,1)))}})}render(){return Vr(this,arguments,void 0,function*(r=!0){yield this.workletsAreReady(),yield this._renderClock(r);const v=yield this._context.startRendering();return new ar(v)})}close(){return Promise.resolve()}}const dy=new rw;let li=dy;function Xn(){return li===dy&&qb&&nw(new Ka),li}function nw(P,r=!1){r&&li.dispose(),Wi(P)?li=new Ka(P):gu(P)?li=new nd(P):li=P}function fy(){return li.resume()}if(Un&&!Un.TONE_SILENCE_LOGGING){const r=` * Tone.js v${dm} * `;console.log(`%c${r}`,"background: #000; color: #fff")}function sw(P){return Math.pow(10,P/20)}function ow(P){return 20*(Math.log(P)/Math.LN10)}function py(P){return Math.pow(2,P/12)}let Nu=440;function iw(){return Nu}function aw(P){Nu=P}function Ih(P){return Math.round(my(P))}function my(P){return 69+12*Math.log2(P/Nu)}function lw(P){return Nu*Math.pow(2,(P-69)/12)}class sd extends Xs{constructor(r,v,t){super(),this.defaultUnits="s",this._val=v,this._units=t,this.context=r,this._expressions=this._getExpressions()}_getExpressions(){return{hz:{method:r=>this._frequencyToUnits(parseFloat(r)),regexp:/^(\d+(?:\.\d+)?)hz$/i},i:{method:r=>this._ticksToUnits(parseInt(r,10)),regexp:/^(\d+)i$/i},m:{method:r=>this._beatsToUnits(parseInt(r,10)*this._getTimeSignature()),regexp:/^(\d+)m$/i},n:{method:(r,v)=>{const t=parseInt(r,10),j=v==="."?1.5:1;return t===1?this._beatsToUnits(this._getTimeSignature())*j:this._beatsToUnits(4/t)*j},regexp:/^(\d+)n(\.?)$/i},number:{method:r=>this._expressions[this.defaultUnits].method.call(this,r),regexp:/^(\d+(?:\.\d+)?)$/},s:{method:r=>this._secondsToUnits(parseFloat(r)),regexp:/^(\d+(?:\.\d+)?)s$/},samples:{method:r=>parseInt(r,10)/this.context.sampleRate,regexp:/^(\d+)samples$/},t:{method:r=>{const v=parseInt(r,10);return this._beatsToUnits(8/(Math.floor(v)*3))},regexp:/^(\d+)t$/i},tr:{method:(r,v,t)=>{let j=0;return r&&r!=="0"&&(j+=this._beatsToUnits(this._getTimeSignature()*parseFloat(r))),v&&v!=="0"&&(j+=this._beatsToUnits(parseFloat(v))),t&&t!=="0"&&(j+=this._beatsToUnits(parseFloat(t)/4)),j},regexp:/^(\d+(?:\.\d+)?):(\d+(?:\.\d+)?):?(\d+(?:\.\d+)?)?$/}}}valueOf(){if(this._val instanceof sd&&this.fromType(this._val),Qn(this._val))return this._noArg();if(Ws(this._val)&&Qn(this._units)){for(const r in this._expressions)if(this._expressions[r].regexp.test(this._val.trim())){this._units=r;break}}else if(ui(this._val)){let r=0;for(const v in this._val)if(Vt(this._val[v])){const t=this._val[v],j=new this.constructor(this.context,v).valueOf()*t;r+=j}return r}if(Vt(this._units)){const r=this._expressions[this._units],v=this._val.toString().trim().match(r.regexp);return v?r.method.apply(this,v.slice(1)):r.method.call(this,this._val)}else return Ws(this._val)?parseFloat(this._val):this._val}_frequencyToUnits(r){return 1/r}_beatsToUnits(r){return 60/this._getBpm()*r}_secondsToUnits(r){return r}_ticksToUnits(r){return r*this._beatsToUnits(1)/this._getPPQ()}_noArg(){return this._now()}_getBpm(){return this.context.transport.bpm.value}_getTimeSignature(){return this.context.transport.timeSignature}_getPPQ(){return this.context.transport.PPQ}fromType(r){switch(this._units=void 0,this.defaultUnits){case"s":this._val=r.toSeconds();break;case"i":this._val=r.toTicks();break;case"hz":this._val=r.toFrequency();break;case"midi":this._val=r.toMidi();break}return this}toFrequency(){return 1/this.toSeconds()}toSamples(){return this.toSeconds()*this.context.sampleRate}toMilliseconds(){return this.toSeconds()*1e3}}class cs extends sd{constructor(){super(...arguments),this.name="TimeClass"}_getExpressions(){return Object.assign(super._getExpressions(),{now:{method:r=>this._now()+new this.constructor(this.context,r).valueOf(),regexp:/^\+(.+)/},quantize:{method:r=>{const v=new cs(this.context,r).valueOf();return this._secondsToUnits(this.context.transport.nextSubdivision(v))},regexp:/^@(.+)/}})}quantize(r,v=1){const t=new this.constructor(this.context,r).valueOf(),j=this.valueOf(),f=Math.round(j/t)*t-j;return j+f*v}toNotation(){const r=this.toSeconds(),v=["1m"];for(let x=1;x<9;x++){const d=Math.pow(2,x);v.push(d+"n."),v.push(d+"n"),v.push(d+"t")}v.push("0");let t=v[0],j=new cs(this.context,v[0]).toSeconds();return v.forEach(x=>{const d=new cs(this.context,x).toSeconds();Math.abs(d-r)<Math.abs(j-r)&&(t=x,j=d)}),t}toBarsBeatsSixteenths(){const r=this._beatsToUnits(1);let v=this.valueOf()/r;v=parseFloat(v.toFixed(4));const t=Math.floor(v/this._getTimeSignature());let j=v%1*4;v=Math.floor(v)%this._getTimeSignature();const x=j.toString();return x.length>3&&(j=parseFloat(parseFloat(x).toFixed(3))),[t,v,j].join(":")}toTicks(){const r=this._beatsToUnits(1);return this.valueOf()/r*this._getPPQ()}toSeconds(){return this.valueOf()}toMidi(){return Ih(this.toFrequency())}_now(){return this.context.now()}}class Yn extends cs{constructor(){super(...arguments),this.name="Frequency",this.defaultUnits="hz"}static get A4(){return iw()}static set A4(r){aw(r)}_getExpressions(){return Object.assign({},super._getExpressions(),{midi:{regexp:/^(\d+(?:\.\d+)?midi)/,method(r){return this.defaultUnits==="midi"?r:Yn.mtof(r)}},note:{regexp:/^([a-g]{1}(?:b|#|##|x|bb|###|#x|x#|bbb)?)(-?[0-9]+)/i,method(r,v){const j=uw[r.toLowerCase()]+(parseInt(v,10)+1)*12;return this.defaultUnits==="midi"?j:Yn.mtof(j)}},tr:{regexp:/^(\d+(?:\.\d+)?):(\d+(?:\.\d+)?):?(\d+(?:\.\d+)?)?/,method(r,v,t){let j=1;return r&&r!=="0"&&(j*=this._beatsToUnits(this._getTimeSignature()*parseFloat(r))),v&&v!=="0"&&(j*=this._beatsToUnits(parseFloat(v))),t&&t!=="0"&&(j*=this._beatsToUnits(parseFloat(t)/4)),j}}})}transpose(r){return new Yn(this.context,this.valueOf()*py(r))}harmonize(r){return r.map(v=>this.transpose(v))}toMidi(){return Ih(this.valueOf())}toNote(){const r=this.toFrequency(),v=Math.log2(r/Yn.A4);let t=Math.round(12*v)+57;const j=Math.floor(t/12);return j<0&&(t+=-12*j),cw[t%12]+j.toString()}toSeconds(){return 1/super.toSeconds()}toTicks(){const r=this._beatsToUnits(1),v=this.valueOf()/r;return Math.floor(v*this._getPPQ())}_noArg(){return 0}_frequencyToUnits(r){return r}_ticksToUnits(r){return 1/(r*60/(this._getBpm()*this._getPPQ()))}_beatsToUnits(r){return 1/super._beatsToUnits(r)}_secondsToUnits(r){return 1/r}static mtof(r){return lw(r)}static ftom(r){return Ih(r)}}const uw={cbbb:-3,cbb:-2,cb:-1,c:0,"c#":1,cx:2,"c##":2,"c###":3,"cx#":3,"c#x":3,dbbb:-1,dbb:0,db:1,d:2,"d#":3,dx:4,"d##":4,"d###":5,"dx#":5,"d#x":5,ebbb:1,ebb:2,eb:3,e:4,"e#":5,ex:6,"e##":6,"e###":7,"ex#":7,"e#x":7,fbbb:2,fbb:3,fb:4,f:5,"f#":6,fx:7,"f##":7,"f###":8,"fx#":8,"f#x":8,gbbb:4,gbb:5,gb:6,g:7,"g#":8,gx:9,"g##":9,"g###":10,"gx#":10,"g#x":10,abbb:6,abb:7,ab:8,a:9,"a#":10,ax:11,"a##":11,"a###":12,"ax#":12,"a#x":12,bbbb:8,bbb:9,bb:10,b:11,"b#":12,bx:13,"b##":13,"b###":14,"bx#":14,"b#x":14},cw=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"];class Fa extends cs{constructor(){super(...arguments),this.name="TransportTime"}_now(){return this.context.transport.seconds}}class Kr extends Xs{constructor(){super();const r=Et(Kr.getDefaults(),arguments,["context"]);this.defaultContext?this.context=this.defaultContext:this.context=r.context}static getDefaults(){return{context:Xn()}}now(){return this.context.currentTime+this.context.lookAhead}immediate(){return this.context.currentTime}get sampleTime(){return 1/this.context.sampleRate}get blockTime(){return 128/this.context.sampleRate}toSeconds(r){return Gb(r),new cs(this.context,r).toSeconds()}toFrequency(r){return new Yn(this.context,r).toFrequency()}toTicks(r){return new Fa(this.context,r).toTicks()}_getPartialProperties(r){const v=this.get();return Object.keys(v).forEach(t=>{Qn(r[t])&&delete v[t]}),v}get(){const r=Zb(this);return Object.keys(r).forEach(v=>{if(Reflect.has(this,v)){const t=this[v];Vt(t)&&Vt(t.value)&&Vt(t.setValueAtTime)?r[v]=t.value:t instanceof Kr?r[v]=t._getPartialProperties(r[v]):hs(t)||Ss(t)||Ws(t)||oy(t)?r[v]=t:delete r[v]}}),r}set(r){return Object.keys(r).forEach(v=>{Reflect.has(this,v)&&Vt(this[v])&&(this[v]&&Vt(this[v].value)&&Vt(this[v].setValueAtTime)?this[v].value!==r[v]&&(this[v].value=r[v]):this[v]instanceof Kr?this[v].set(r[v]):this[v]=r[v])}),this}}class Fu extends $n{constructor(r="stopped"){super(),this.name="StateTimeline",this._initial=r,this.setStateAtTime(this._initial,0)}getValueAtTime(r){const v=this.get(r);return v!==null?v.state:this._initial}setStateAtTime(r,v,t){return Eo(v,0),this.add(Object.assign({},t,{state:r,time:v})),this}getLastState(r,v){const t=this._search(v);for(let j=t;j>=0;j--){const x=this._timeline[j];if(x.state===r)return x}}getNextState(r,v){const t=this._search(v);if(t!==-1)for(let j=t;j<this._timeline.length;j++){const x=this._timeline[j];if(x.state===r)return x}}}class tr extends Kr{constructor(){const r=Et(tr.getDefaults(),arguments,["param","units","convert"]);for(super(r),this.name="Param",this.overridden=!1,this._minOutput=1e-7,Dt(Vt(r.param)&&(di(r.param)||r.param instanceof tr),"param must be an AudioParam");!di(r.param);)r.param=r.param._param;this._swappable=Vt(r.swappable)?r.swappable:!1,this._swappable?(this.input=this.context.createGain(),this._param=r.param,this.input.connect(this._param)):this._param=this.input=r.param,this._events=new $n(1e3),this._initialValue=this._param.defaultValue,this.units=r.units,this.convert=r.convert,this._minValue=r.minValue,this._maxValue=r.maxValue,Vt(r.value)&&r.value!==this._toType(this._initialValue)&&this.setValueAtTime(r.value,0)}static getDefaults(){return Object.assign(Kr.getDefaults(),{convert:!0,units:"number"})}get value(){const r=this.now();return this.getValueAtTime(r)}set value(r){this.cancelScheduledValues(this.now()),this.setValueAtTime(r,this.now())}get minValue(){return Vt(this._minValue)?this._minValue:this.units==="time"||this.units==="frequency"||this.units==="normalRange"||this.units==="positive"||this.units==="transportTime"||this.units==="ticks"||this.units==="bpm"||this.units==="hertz"||this.units==="samples"?0:this.units==="audioRange"?-1:this.units==="decibels"?-1/0:this._param.minValue}get maxValue(){return Vt(this._maxValue)?this._maxValue:this.units==="normalRange"||this.units==="audioRange"?1:this._param.maxValue}_is(r,v){return this.units===v}_assertRange(r){return Vt(this.maxValue)&&Vt(this.minValue)&&Eo(r,this._fromType(this.minValue),this._fromType(this.maxValue)),r}_fromType(r){return this.convert&&!this.overridden?this._is(r,"time")?this.toSeconds(r):this._is(r,"decibels")?sw(r):this._is(r,"frequency")?this.toFrequency(r):r:this.overridden?0:r}_toType(r){return this.convert&&this.units==="decibels"?ow(r):r}setValueAtTime(r,v){const t=this.toSeconds(v),j=this._fromType(r);return Dt(isFinite(j)&&isFinite(t),`Invalid argument(s) to setValueAtTime: ${JSON.stringify(r)}, ${JSON.stringify(v)}`),this._assertRange(j),this.log(this.units,"setValueAtTime",r,t),this._events.add({time:t,type:"setValueAtTime",value:j}),this._param.setValueAtTime(j,t),this}getValueAtTime(r){const v=Math.max(this.toSeconds(r),0),t=this._events.getAfter(v),j=this._events.get(v);let x=this._initialValue;if(j===null)x=this._initialValue;else if(j.type==="setTargetAtTime"&&(t===null||t.type==="setValueAtTime")){const d=this._events.getBefore(j.time);let f;d===null?f=this._initialValue:f=d.value,j.type==="setTargetAtTime"&&(x=this._exponentialApproach(j.time,f,j.value,j.constant,v))}else if(t===null)x=j.value;else if(t.type==="linearRampToValueAtTime"||t.type==="exponentialRampToValueAtTime"){let d=j.value;if(j.type==="setTargetAtTime"){const f=this._events.getBefore(j.time);f===null?d=this._initialValue:d=f.value}t.type==="linearRampToValueAtTime"?x=this._linearInterpolate(j.time,d,t.time,t.value,v):x=this._exponentialInterpolate(j.time,d,t.time,t.value,v)}else x=j.value;return this._toType(x)}setRampPoint(r){r=this.toSeconds(r);let v=this.getValueAtTime(r);return this.cancelAndHoldAtTime(r),this._fromType(v)===0&&(v=this._toType(this._minOutput)),this.setValueAtTime(v,r),this}linearRampToValueAtTime(r,v){const t=this._fromType(r),j=this.toSeconds(v);return Dt(isFinite(t)&&isFinite(j),`Invalid argument(s) to linearRampToValueAtTime: ${JSON.stringify(r)}, ${JSON.stringify(v)}`),this._assertRange(t),this._events.add({time:j,type:"linearRampToValueAtTime",value:t}),this.log(this.units,"linearRampToValueAtTime",r,j),this._param.linearRampToValueAtTime(t,j),this}exponentialRampToValueAtTime(r,v){let t=this._fromType(r);t=us(t,0)?this._minOutput:t,this._assertRange(t);const j=this.toSeconds(v);return Dt(isFinite(t)&&isFinite(j),`Invalid argument(s) to exponentialRampToValueAtTime: ${JSON.stringify(r)}, ${JSON.stringify(v)}`),this._events.add({time:j,type:"exponentialRampToValueAtTime",value:t}),this.log(this.units,"exponentialRampToValueAtTime",r,j),this._param.exponentialRampToValueAtTime(t,j),this}exponentialRampTo(r,v,t){return t=this.toSeconds(t),this.setRampPoint(t),this.exponentialRampToValueAtTime(r,t+this.toSeconds(v)),this}linearRampTo(r,v,t){return t=this.toSeconds(t),this.setRampPoint(t),this.linearRampToValueAtTime(r,t+this.toSeconds(v)),this}targetRampTo(r,v,t){return t=this.toSeconds(t),this.setRampPoint(t),this.exponentialApproachValueAtTime(r,t,v),this}exponentialApproachValueAtTime(r,v,t){v=this.toSeconds(v),t=this.toSeconds(t);const j=Math.log(t+1)/Math.log(200);return this.setTargetAtTime(r,v,j),this.cancelAndHoldAtTime(v+t*.9),this.linearRampToValueAtTime(r,v+t),this}setTargetAtTime(r,v,t){const j=this._fromType(r);Dt(isFinite(t)&&t>0,"timeConstant must be a number greater than 0");const x=this.toSeconds(v);return this._assertRange(j),Dt(isFinite(j)&&isFinite(x),`Invalid argument(s) to setTargetAtTime: ${JSON.stringify(r)}, ${JSON.stringify(v)}`),this._events.add({constant:t,time:x,type:"setTargetAtTime",value:j}),this.log(this.units,"setTargetAtTime",r,x,t),this._param.setTargetAtTime(j,x,t),this}setValueCurveAtTime(r,v,t,j=1){t=this.toSeconds(t),v=this.toSeconds(v);const x=this._fromType(r[0])*j;this.setValueAtTime(this._toType(x),v);const d=t/(r.length-1);for(let f=1;f<r.length;f++){const s=this._fromType(r[f])*j;this.linearRampToValueAtTime(this._toType(s),v+f*d)}return this}cancelScheduledValues(r){const v=this.toSeconds(r);return Dt(isFinite(v),`Invalid argument to cancelScheduledValues: ${JSON.stringify(r)}`),this._events.cancel(v),this._param.cancelScheduledValues(v),this.log(this.units,"cancelScheduledValues",v),this}cancelAndHoldAtTime(r){const v=this.toSeconds(r),t=this._fromType(this.getValueAtTime(v));Dt(isFinite(v),`Invalid argument to cancelAndHoldAtTime: ${JSON.stringify(r)}`),this.log(this.units,"cancelAndHoldAtTime",v,"value="+t);const j=this._events.get(v),x=this._events.getAfter(v);return j&&us(j.time,v)?x?(this._param.cancelScheduledValues(x.time),this._events.cancel(x.time)):(this._param.cancelAndHoldAtTime(v),this._events.cancel(v+this.sampleTime)):x&&(this._param.cancelScheduledValues(x.time),this._events.cancel(x.time),x.type==="linearRampToValueAtTime"?this.linearRampToValueAtTime(this._toType(t),v):x.type==="exponentialRampToValueAtTime"&&this.exponentialRampToValueAtTime(this._toType(t),v)),this._events.add({time:v,type:"setValueAtTime",value:t}),this._param.setValueAtTime(t,v),this}rampTo(r,v=.1,t){return this.units==="frequency"||this.units==="bpm"||this.units==="decibels"?this.exponentialRampTo(r,v,t):this.linearRampTo(r,v,t),this}apply(r){const v=this.context.currentTime;r.setValueAtTime(this.getValueAtTime(v),v);const t=this._events.get(v);if(t&&t.type==="setTargetAtTime"){const j=this._events.getAfter(t.time),x=j?j.time:v+2,d=(x-v)/10;for(let f=v;f<x;f+=d)r.linearRampToValueAtTime(this.getValueAtTime(f),f)}return this._events.forEachAfter(this.context.currentTime,j=>{j.type==="cancelScheduledValues"?r.cancelScheduledValues(j.time):j.type==="setTargetAtTime"?r.setTargetAtTime(j.value,j.time,j.constant):r[j.type](j.value,j.time)}),this}setParam(r){Dt(this._swappable,"The Param must be assigned as 'swappable' in the constructor");const v=this.input;return v.disconnect(this._param),this.apply(r),this._param=r,v.connect(this._param),this}dispose(){return super.dispose(),this._events.dispose(),this}get defaultValue(){return this._toType(this._param.defaultValue)}_exponentialApproach(r,v,t,j,x){return t+(v-t)*Math.exp(-(x-r)/j)}_linearInterpolate(r,v,t,j,x){return v+(j-v)*((x-r)/(t-r))}_exponentialInterpolate(r,v,t,j,x){return v*Math.pow(j/v,(x-r)/(t-r))}}class Pt extends Kr{constructor(){super(...arguments),this._internalChannels=[]}get numberOfInputs(){return Vt(this.input)?di(this.input)||this.input instanceof tr?1:this.input.numberOfInputs:0}get numberOfOutputs(){return Vt(this.output)?this.output.numberOfOutputs:0}_isAudioNode(r){return Vt(r)&&(r instanceof Pt||To(r))}_getInternalNodes(){const r=this._internalChannels.slice(0);return this._isAudioNode(this.input)&&r.push(this.input),this._isAudioNode(this.output)&&this.input!==this.output&&r.push(this.output),r}_setChannelProperties(r){this._getInternalNodes().forEach(t=>{t.channelCount=r.channelCount,t.channelCountMode=r.channelCountMode,t.channelInterpretation=r.channelInterpretation})}_getChannelProperties(){const r=this._getInternalNodes();Dt(r.length>0,"ToneAudioNode does not have any internal nodes");const v=r[0];return{channelCount:v.channelCount,channelCountMode:v.channelCountMode,channelInterpretation:v.channelInterpretation}}get channelCount(){return this._getChannelProperties().channelCount}set channelCount(r){const v=this._getChannelProperties();this._setChannelProperties(Object.assign(v,{channelCount:r}))}get channelCountMode(){return this._getChannelProperties().channelCountMode}set channelCountMode(r){const v=this._getChannelProperties();this._setChannelProperties(Object.assign(v,{channelCountMode:r}))}get channelInterpretation(){return this._getChannelProperties().channelInterpretation}set channelInterpretation(r){const v=this._getChannelProperties();this._setChannelProperties(Object.assign(v,{channelInterpretation:r}))}connect(r,v=0,t=0){return ia(this,r,v,t),this}toDestination(){return this.connect(this.context.destination),this}toMaster(){return ed("toMaster() has been renamed toDestination()"),this.toDestination()}disconnect(r,v=0,t=0){return hw(this,r,v,t),this}chain(...r){return Ji(this,...r),this}fan(...r){return r.forEach(v=>this.connect(v)),this}dispose(){return super.dispose(),Vt(this.input)&&(this.input instanceof Pt?this.input.dispose():To(this.input)&&this.input.disconnect()),Vt(this.output)&&(this.output instanceof Pt?this.output.dispose():To(this.output)&&this.output.disconnect()),this._internalChannels=[],this}}function Ji(...P){const r=P.shift();P.reduce((v,t)=>(v instanceof Pt?v.connect(t):To(v)&&ia(v,t),t),r)}function ia(P,r,v=0,t=0){for(Dt(Vt(P),"Cannot connect from undefined node"),Dt(Vt(r),"Cannot connect to undefined node"),(r instanceof Pt||To(r))&&Dt(r.numberOfInputs>0,"Cannot connect to node with no inputs"),Dt(P.numberOfOutputs>0,"Cannot connect from node with no outputs");r instanceof Pt||r instanceof tr;)Vt(r.input)&&(r=r.input);for(;P instanceof Pt;)Vt(P.output)&&(P=P.output);di(r)?P.connect(r,v):P.connect(r,v,t)}function hw(P,r,v=0,t=0){if(Vt(r))for(;r instanceof Pt;)r=r.input;for(;!To(P);)Vt(P.output)&&(P=P.output);di(r)?P.disconnect(r,v):To(r)?P.disconnect(r,v,t):P.disconnect()}class ur extends Pt{constructor(){const r=Et(ur.getDefaults(),arguments,["gain","units"]);super(r),this.name="Gain",this._gainNode=this.context.createGain(),this.input=this._gainNode,this.output=this._gainNode,this.gain=new tr({context:this.context,convert:r.convert,param:this._gainNode.gain,units:r.units,value:r.gain,minValue:r.minValue,maxValue:r.maxValue}),yr(this,"gain")}static getDefaults(){return Object.assign(Pt.getDefaults(),{convert:!0,gain:1,units:"gain"})}dispose(){return super.dispose(),this._gainNode.disconnect(),this.gain.dispose(),this}}class Zi extends Pt{constructor(r){super(r),this.onended=Xt,this._startTime=-1,this._stopTime=-1,this._timeout=-1,this.output=new ur({context:this.context,gain:0}),this._gainNode=this.output,this.getStateAtTime=function(v){const t=this.toSeconds(v);return this._startTime!==-1&&t>=this._startTime&&(this._stopTime===-1||t<=this._stopTime)?"started":"stopped"},this._fadeIn=r.fadeIn,this._fadeOut=r.fadeOut,this._curve=r.curve,this.onended=r.onended}static getDefaults(){return Object.assign(Pt.getDefaults(),{curve:"linear",fadeIn:0,fadeOut:0,onended:Xt})}_startGain(r,v=1){Dt(this._startTime===-1,"Source cannot be started more than once");const t=this.toSeconds(this._fadeIn);return this._startTime=r+t,this._startTime=Math.max(this._startTime,this.context.currentTime),t>0?(this._gainNode.gain.setValueAtTime(0,r),this._curve==="linear"?this._gainNode.gain.linearRampToValueAtTime(v,r+t):this._gainNode.gain.exponentialApproachValueAtTime(v,r,t)):this._gainNode.gain.setValueAtTime(v,r),this}stop(r){return this.log("stop",r),this._stopGain(this.toSeconds(r)),this}_stopGain(r){Dt(this._startTime!==-1,"'start' must be called before 'stop'"),this.cancelStop();const v=this.toSeconds(this._fadeOut);return this._stopTime=this.toSeconds(r)+v,this._stopTime=Math.max(this._stopTime,this.now()),v>0?this._curve==="linear"?this._gainNode.gain.linearRampTo(0,v,r):this._gainNode.gain.targetRampTo(0,v,r):(this._gainNode.gain.cancelAndHoldAtTime(r),this._gainNode.gain.setValueAtTime(0,r)),this.context.clearTimeout(this._timeout),this._timeout=this.context.setTimeout(()=>{const t=this._curve==="exponential"?v*2:0;this._stopSource(this.now()+t),this._onended()},this._stopTime-this.context.currentTime),this}_onended(){if(this.onended!==Xt&&(this.onended(this),this.onended=Xt,!this.context.isOffline)){const r=()=>this.dispose();typeof requestIdleCallback<"u"?requestIdleCallback(r):setTimeout(r,10)}}get state(){return this.getStateAtTime(this.now())}cancelStop(){return this.log("cancelStop"),Dt(this._startTime!==-1,"Source is not started"),this._gainNode.gain.cancelScheduledValues(this._startTime+this.sampleTime),this.context.clearTimeout(this._timeout),this._stopTime=-1,this}dispose(){return super.dispose(),this._gainNode.dispose(),this.onended=Xt,this}}class od extends Zi{constructor(){const r=Et(od.getDefaults(),arguments,["offset"]);super(r),this.name="ToneConstantSource",this._source=this.context.createConstantSource(),ia(this._source,this._gainNode),this.offset=new tr({context:this.context,convert:r.convert,param:this._source.offset,units:r.units,value:r.offset,minValue:r.minValue,maxValue:r.maxValue})}static getDefaults(){return Object.assign(Zi.getDefaults(),{convert:!0,offset:1,units:"number"})}start(r){const v=this.toSeconds(r);return this.log("start",v),this._startGain(v),this._source.start(v),this}_stopSource(r){this._source.stop(r)}dispose(){return super.dispose(),this.state==="started"&&this.stop(),this._source.disconnect(),this.offset.dispose(),this}}class nr extends Pt{constructor(){const r=Et(nr.getDefaults(),arguments,["value","units"]);super(r),this.name="Signal",this.override=!0,this.output=this._constantSource=new od({context:this.context,convert:r.convert,offset:r.value,units:r.units,minValue:r.minValue,maxValue:r.maxValue}),this._constantSource.start(0),this.input=this._param=this._constantSource.offset}static getDefaults(){return Object.assign(Pt.getDefaults(),{convert:!0,units:"number",value:0})}connect(r,v=0,t=0){return id(this,r,v,t),this}dispose(){return super.dispose(),this._param.dispose(),this._constantSource.dispose(),this}setValueAtTime(r,v){return this._param.setValueAtTime(r,v),this}getValueAtTime(r){return this._param.getValueAtTime(r)}setRampPoint(r){return this._param.setRampPoint(r),this}linearRampToValueAtTime(r,v){return this._param.linearRampToValueAtTime(r,v),this}exponentialRampToValueAtTime(r,v){return this._param.exponentialRampToValueAtTime(r,v),this}exponentialRampTo(r,v,t){return this._param.exponentialRampTo(r,v,t),this}linearRampTo(r,v,t){return this._param.linearRampTo(r,v,t),this}targetRampTo(r,v,t){return this._param.targetRampTo(r,v,t),this}exponentialApproachValueAtTime(r,v,t){return this._param.exponentialApproachValueAtTime(r,v,t),this}setTargetAtTime(r,v,t){return this._param.setTargetAtTime(r,v,t),this}setValueCurveAtTime(r,v,t,j){return this._param.setValueCurveAtTime(r,v,t,j),this}cancelScheduledValues(r){return this._param.cancelScheduledValues(r),this}cancelAndHoldAtTime(r){return this._param.cancelAndHoldAtTime(r),this}rampTo(r,v,t){return this._param.rampTo(r,v,t),this}get value(){return this._param.value}set value(r){this._param.value=r}get convert(){return this._param.convert}set convert(r){this._param.convert=r}get units(){return this._param.units}get overridden(){return this._param.overridden}set overridden(r){this._param.overridden=r}get maxValue(){return this._param.maxValue}get minValue(){return this._param.minValue}apply(r){return this._param.apply(r),this}}function id(P,r,v,t){(r instanceof tr||di(r)||r instanceof nr&&r.override)&&(r.cancelScheduledValues(0),r.setValueAtTime(0,0),r instanceof nr&&(r.overridden=!0)),ia(P,r,v,t)}class ad extends tr{constructor(){const r=Et(ad.getDefaults(),arguments,["value"]);super(r),this.name="TickParam",this._events=new $n(1/0),this._multiplier=1,this._multiplier=r.multiplier,this._events.cancel(0),this._events.add({ticks:0,time:0,type:"setValueAtTime",value:this._fromType(r.value)}),this.setValueAtTime(r.value,0)}static getDefaults(){return Object.assign(tr.getDefaults(),{multiplier:1,units:"hertz",value:1})}setTargetAtTime(r,v,t){v=this.toSeconds(v),this.setRampPoint(v);const j=this._fromType(r),x=this._events.get(v),d=Math.round(Math.max(1/t,1));for(let f=0;f<=d;f++){const s=t*f+v,c=this._exponentialApproach(x.time,x.value,j,t,s);this.linearRampToValueAtTime(this._toType(c),s)}return this}setValueAtTime(r,v){const t=this.toSeconds(v);super.setValueAtTime(r,v);const j=this._events.get(t),x=this._events.previousEvent(j),d=this._getTicksUntilEvent(x,t);return j.ticks=Math.max(d,0),this}linearRampToValueAtTime(r,v){const t=this.toSeconds(v);super.linearRampToValueAtTime(r,v);const j=this._events.get(t),x=this._events.previousEvent(j),d=this._getTicksUntilEvent(x,t);return j.ticks=Math.max(d,0),this}exponentialRampToValueAtTime(r,v){v=this.toSeconds(v);const t=this._fromType(r),j=this._events.get(v),x=Math.round(Math.max((v-j.time)*10,1)),d=(v-j.time)/x;for(let f=0;f<=x;f++){const s=d*f+j.time,c=this._exponentialInterpolate(j.time,j.value,v,t,s);this.linearRampToValueAtTime(this._toType(c),s)}return this}_getTicksUntilEvent(r,v){if(r===null)r={ticks:0,time:0,type:"setValueAtTime",value:0};else if(Qn(r.ticks)){const d=this._events.previousEvent(r);r.ticks=this._getTicksUntilEvent(d,r.time)}const t=this._fromType(this.getValueAtTime(r.time));let j=this._fromType(this.getValueAtTime(v));const x=this._events.get(v);return x&&x.time===v&&x.type==="setValueAtTime"&&(j=this._fromType(this.getValueAtTime(v-this.sampleTime))),.5*(v-r.time)*(t+j)+r.ticks}getTicksAtTime(r){const v=this.toSeconds(r),t=this._events.get(v);return Math.max(this._getTicksUntilEvent(t,v),0)}getDurationOfTicks(r,v){const t=this.toSeconds(v),j=this.getTicksAtTime(v);return this.getTimeOfTick(j+r)-t}getTimeOfTick(r){const v=this._events.get(r,"ticks"),t=this._events.getAfter(r,"ticks");if(v&&v.ticks===r)return v.time;if(v&&t&&t.type==="linearRampToValueAtTime"&&v.value!==t.value){const j=this._fromType(this.getValueAtTime(v.time)),d=(this._fromType(this.getValueAtTime(t.time))-j)/(t.time-v.time),f=Math.sqrt(Math.pow(j,2)-2*d*(v.ticks-r)),s=(-j+f)/d,c=(-j-f)/d;return(s>0?s:c)+v.time}else return v?v.value===0?1/0:v.time+(r-v.ticks)/v.value:r/this._initialValue}ticksToTime(r,v){return this.getDurationOfTicks(r,v)}timeToTicks(r,v){const t=this.toSeconds(v),j=this.toSeconds(r),x=this.getTicksAtTime(t);return this.getTicksAtTime(t+j)-x}_fromType(r){return this.units==="bpm"&&this.multiplier?1/(60/r/this.multiplier):super._fromType(r)}_toType(r){return this.units==="bpm"&&this.multiplier?r/this.multiplier*60:super._toType(r)}get multiplier(){return this._multiplier}set multiplier(r){const v=this.value;this._multiplier=r,this.cancelScheduledValues(0),this.setValueAtTime(v,0)}}class ld extends nr{constructor(){const r=Et(ld.getDefaults(),arguments,["value"]);super(r),this.name="TickSignal",this.input=this._param=new ad({context:this.context,convert:r.convert,multiplier:r.multiplier,param:this._constantSource.offset,units:r.units,value:r.value})}static getDefaults(){return Object.assign(nr.getDefaults(),{multiplier:1,units:"hertz",value:1})}ticksToTime(r,v){return this._param.ticksToTime(r,v)}timeToTicks(r,v){return this._param.timeToTicks(r,v)}getTimeOfTick(r){return this._param.getTimeOfTick(r)}getDurationOfTicks(r,v){return this._param.getDurationOfTicks(r,v)}getTicksAtTime(r){return this._param.getTicksAtTime(r)}get multiplier(){return this._param.multiplier}set multiplier(r){this._param.multiplier=r}dispose(){return super.dispose(),this._param.dispose(),this}}class ud extends Kr{constructor(){const r=Et(ud.getDefaults(),arguments,["frequency"]);super(r),this.name="TickSource",this._state=new Fu,this._tickOffset=new $n,this._ticksAtTime=new $n,this._secondsAtTime=new $n,this.frequency=new ld({context:this.context,units:r.units,value:r.frequency}),yr(this,"frequency"),this._state.setStateAtTime("stopped",0),this.setTicksAtTime(0,0)}static getDefaults(){return Object.assign({frequency:1,units:"hertz"},Kr.getDefaults())}get state(){return this.getStateAtTime(this.now())}start(r,v){const t=this.toSeconds(r);return this._state.getValueAtTime(t)!=="started"&&(this._state.setStateAtTime("started",t),Vt(v)&&this.setTicksAtTime(v,t),this._ticksAtTime.cancel(t),this._secondsAtTime.cancel(t)),this}stop(r){const v=this.toSeconds(r);if(this._state.getValueAtTime(v)==="stopped"){const t=this._state.get(v);t&&t.time>0&&(this._tickOffset.cancel(t.time),this._state.cancel(t.time))}return this._state.cancel(v),this._state.setStateAtTime("stopped",v),this.setTicksAtTime(0,v),this._ticksAtTime.cancel(v),this._secondsAtTime.cancel(v),this}pause(r){const v=this.toSeconds(r);return this._state.getValueAtTime(v)==="started"&&(this._state.setStateAtTime("paused",v),this._ticksAtTime.cancel(v),this._secondsAtTime.cancel(v)),this}cancel(r){return r=this.toSeconds(r),this._state.cancel(r),this._tickOffset.cancel(r),this._ticksAtTime.cancel(r),this._secondsAtTime.cancel(r),this}getTicksAtTime(r){const v=this.toSeconds(r),t=this._state.getLastState("stopped",v),j=this._ticksAtTime.get(v),x={state:"paused",time:v};this._state.add(x);let d=j||t,f=j?j.ticks:0,s=null;return this._state.forEachBetween(d.time,v+this.sampleTime,c=>{let g=d.time;const y=this._tickOffset.get(c.time);y&&y.time>=d.time&&(f=y.ticks,g=y.time),d.state==="started"&&c.state!=="started"&&(f+=this.frequency.getTicksAtTime(c.time)-this.frequency.getTicksAtTime(g),c.time!==x.time&&(s={state:c.state,time:c.time,ticks:f})),d=c}),this._state.remove(x),s&&this._ticksAtTime.add(s),f}get ticks(){return this.getTicksAtTime(this.now())}set ticks(r){this.setTicksAtTime(r,this.now())}get seconds(){return this.getSecondsAtTime(this.now())}set seconds(r){const v=this.now(),t=this.frequency.timeToTicks(r,v);this.setTicksAtTime(t,v)}getSecondsAtTime(r){r=this.toSeconds(r);const v=this._state.getLastState("stopped",r),t={state:"paused",time:r};this._state.add(t);const j=this._secondsAtTime.get(r);let x=j||v,d=j?j.seconds:0,f=null;return this._state.forEachBetween(x.time,r+this.sampleTime,s=>{let c=x.time;const g=this._tickOffset.get(s.time);g&&g.time>=x.time&&(d=g.seconds,c=g.time),x.state==="started"&&s.state!=="started"&&(d+=s.time-c,s.time!==t.time&&(f={state:s.state,time:s.time,seconds:d})),x=s}),this._state.remove(t),f&&this._secondsAtTime.add(f),d}setTicksAtTime(r,v){return v=this.toSeconds(v),this._tickOffset.cancel(v),this._tickOffset.add({seconds:this.frequency.getDurationOfTicks(r,v),ticks:r,time:v}),this._ticksAtTime.cancel(v),this._secondsAtTime.cancel(v),this}getStateAtTime(r){return r=this.toSeconds(r),this._state.getValueAtTime(r)}getTimeOfTick(r,v=this.now()){const t=this._tickOffset.get(v),j=this._state.get(v),x=Math.max(t.time,j.time),d=this.frequency.getTicksAtTime(x)+r-t.ticks;return this.frequency.getTimeOfTick(d)}forEachTickBetween(r,v,t){let j=this._state.get(r);this._state.forEachBetween(r,v,d=>{j&&j.state==="started"&&d.state!=="started"&&this.forEachTickBetween(Math.max(j.time,r),d.time-this.sampleTime,t),j=d});let x=null;if(j&&j.state==="started"){const d=Math.max(j.time,r),f=this.frequency.getTicksAtTime(d),s=this.frequency.getTicksAtTime(j.time),c=f-s;let g=Math.ceil(c)-c;g=us(g,1)?0:g;let y=this.frequency.getTimeOfTick(f+g);for(;y<v;){try{t(y,Math.round(this.getTicksAtTime(y)))}catch(o){x=o;break}y+=this.frequency.getDurationOfTicks(1,y)}}if(x)throw x;return this}dispose(){return super.dispose(),this._state.dispose(),this._tickOffset.dispose(),this._ticksAtTime.dispose(),this._secondsAtTime.dispose(),this.frequency.dispose(),this}}class Uu extends Kr{constructor(){const r=Et(Uu.getDefaults(),arguments,["callback","frequency"]);super(r),this.name="Clock",this.callback=Xt,this._lastUpdate=0,this._state=new Fu("stopped"),this._boundLoop=this._loop.bind(this),this.callback=r.callback,this._tickSource=new ud({context:this.context,frequency:r.frequency,units:r.units}),this._lastUpdate=0,this.frequency=this._tickSource.frequency,yr(this,"frequency"),this._state.setStateAtTime("stopped",0),this.context.on("tick",this._boundLoop)}static getDefaults(){return Object.assign(Kr.getDefaults(),{callback:Xt,frequency:1,units:"hertz"})}get state(){return this._state.getValueAtTime(this.now())}start(r,v){iy(this.context);const t=this.toSeconds(r);return this.log("start",t),this._state.getValueAtTime(t)!=="started"&&(this._state.setStateAtTime("started",t),this._tickSource.start(t,v),t<this._lastUpdate&&this.emit("start",t,v)),this}stop(r){const v=this.toSeconds(r);return this.log("stop",v),this._state.cancel(v),this._state.setStateAtTime("stopped",v),this._tickSource.stop(v),v<this._lastUpdate&&this.emit("stop",v),this}pause(r){const v=this.toSeconds(r);return this._state.getValueAtTime(v)==="started"&&(this._state.setStateAtTime("paused",v),this._tickSource.pause(v),v<this._lastUpdate&&this.emit("pause",v)),this}get ticks(){return Math.ceil(this.getTicksAtTime(this.now()))}set ticks(r){this._tickSource.ticks=r}get seconds(){return this._tickSource.seconds}set seconds(r){this._tickSource.seconds=r}getSecondsAtTime(r){return this._tickSource.getSecondsAtTime(r)}setTicksAtTime(r,v){return this._tickSource.setTicksAtTime(r,v),this}getTimeOfTick(r,v=this.now()){return this._tickSource.getTimeOfTick(r,v)}getTicksAtTime(r){return this._tickSource.getTicksAtTime(r)}nextTickTime(r,v){const t=this.toSeconds(v),j=this.getTicksAtTime(t);return this._tickSource.getTimeOfTick(j+r,t)}_loop(){const r=this._lastUpdate,v=this.now();this._lastUpdate=v,this.log("loop",r,v),r!==v&&(this._state.forEachBetween(r,v,t=>{switch(t.state){case"started":const j=this._tickSource.getTicksAtTime(t.time);this.emit("start",t.time,j);break;case"stopped":t.time!==0&&this.emit("stop",t.time);break;case"paused":this.emit("pause",t.time);break}}),this._tickSource.forEachTickBetween(r,v,(t,j)=>{this.callback(t,j)}))}getStateAtTime(r){const v=this.toSeconds(r);return this._state.getValueAtTime(v)}dispose(){return super.dispose(),this.context.off("tick",this._boundLoop),this._tickSource.dispose(),this._state.dispose(),this}}Za.mixin(Uu);class aa extends Pt{constructor(){const r=Et(aa.getDefaults(),arguments,["volume"]);super(r),this.name="Volume",this.input=this.output=new ur({context:this.context,gain:r.volume,units:"decibels"}),this.volume=this.output.gain,yr(this,"volume"),this._unmutedVolume=r.volume,this.mute=r.mute}static getDefaults(){return Object.assign(Pt.getDefaults(),{mute:!1,volume:0})}get mute(){return this.volume.value===-1/0}set mute(r){!this.mute&&r?(this._unmutedVolume=this.volume.value,this.volume.value=-1/0):this.mute&&!r&&(this.volume.value=this._unmutedVolume)}dispose(){return super.dispose(),this.input.dispose(),this.volume.dispose(),this}}class cd extends Pt{constructor(){const r=Et(cd.getDefaults(),arguments);super(r),this.name="Destination",this.input=new aa({context:this.context}),this.output=new ur({context:this.context}),this.volume=this.input.volume,Ji(this.input,this.output,this.context.rawContext.destination),this.mute=r.mute,this._internalChannels=[this.input,this.context.rawContext.destination,this.output]}static getDefaults(){return Object.assign(Pt.getDefaults(),{mute:!1,volume:0})}get mute(){return this.input.mute}set mute(r){this.input.mute=r}chain(...r){return this.input.disconnect(),r.unshift(this.input),r.push(this.output),Ji(...r),this}get maxChannelCount(){return this.context.rawContext.destination.maxChannelCount}dispose(){return super.dispose(),this.volume.dispose(),this}}Du(P=>{P.destination=new cd({context:P})});Lu(P=>{P.destination.dispose()});class dw extends Pt{constructor(){super(...arguments),this.name="Listener",this.positionX=new tr({context:this.context,param:this.context.rawContext.listener.positionX}),this.positionY=new tr({context:this.context,param:this.context.rawContext.listener.positionY}),this.positionZ=new tr({context:this.context,param:this.context.rawContext.listener.positionZ}),this.forwardX=new tr({context:this.context,param:this.context.rawContext.listener.forwardX}),this.forwardY=new tr({context:this.context,param:this.context.rawContext.listener.forwardY}),this.forwardZ=new tr({context:this.context,param:this.context.rawContext.listener.forwardZ}),this.upX=new tr({context:this.context,param:this.context.rawContext.listener.upX}),this.upY=new tr({context:this.context,param:this.context.rawContext.listener.upY}),this.upZ=new tr({context:this.context,param:this.context.rawContext.listener.upZ})}static getDefaults(){return Object.assign(Pt.getDefaults(),{positionX:0,positionY:0,positionZ:0,forwardX:0,forwardY:0,forwardZ:-1,upX:0,upY:1,upZ:0})}dispose(){return super.dispose(),this.positionX.dispose(),this.positionY.dispose(),this.positionZ.dispose(),this.forwardX.dispose(),this.forwardY.dispose(),this.forwardZ.dispose(),this.upX.dispose(),this.upY.dispose(),this.upZ.dispose(),this}}Du(P=>{P.listener=new dw({context:P})});Lu(P=>{P.listener.dispose()});class hd extends Xs{constructor(){super(),this.name="ToneAudioBuffers",this._buffers=new Map,this._loadingCount=0;const r=Et(hd.getDefaults(),arguments,["urls","onload","baseUrl"],"urls");this.baseUrl=r.baseUrl,Object.keys(r.urls).forEach(v=>{this._loadingCount++;const t=r.urls[v];this.add(v,t,this._bufferLoaded.bind(this,r.onload),r.onerror)})}static getDefaults(){return{baseUrl:"",onerror:Xt,onload:Xt,urls:{}}}has(r){return this._buffers.has(r.toString())}get(r){return Dt(this.has(r),`ToneAudioBuffers has no buffer named: ${r}`),this._buffers.get(r.toString())}_bufferLoaded(r){this._loadingCount--,this._loadingCount===0&&r&&r()}get loaded(){return Array.from(this._buffers).every(([r,v])=>v.loaded)}add(r,v,t=Xt,j=Xt){return Ws(v)?(this.baseUrl&&v.trim().substring(0,11).toLowerCase()==="data:audio/"&&(this.baseUrl=""),this._buffers.set(r.toString(),new ar(this.baseUrl+v,t,j))):this._buffers.set(r.toString(),new ar(v,t,j)),this}dispose(){return super.dispose(),this._buffers.forEach(r=>r.dispose()),this._buffers.clear(),this}}class qn extends Fa{constructor(){super(...arguments),this.name="Ticks",this.defaultUnits="i"}_now(){return this.context.transport.ticks}_beatsToUnits(r){return this._getPPQ()*r}_secondsToUnits(r){return Math.floor(r/(60/this._getBpm())*this._getPPQ())}_ticksToUnits(r){return r}toTicks(){return this.valueOf()}toSeconds(){return this.valueOf()/this._getPPQ()*(60/this._getBpm())}}class fw extends Kr{constructor(){super(...arguments),this.name="Draw",this.expiration=.25,this.anticipation=.008,this._events=new $n,this._boundDrawLoop=this._drawLoop.bind(this),this._animationFrame=-1}schedule(r,v){return this._events.add({callback:r,time:this.toSeconds(v)}),this._events.length===1&&(this._animationFrame=requestAnimationFrame(this._boundDrawLoop)),this}cancel(r){return this._events.cancel(this.toSeconds(r)),this}_drawLoop(){const r=this.context.currentTime;this._events.forEachBefore(r+this.anticipation,v=>{r-v.time<=this.expiration&&v.callback(),this._events.remove(v)}),this._events.length>0&&(this._animationFrame=requestAnimationFrame(this._boundDrawLoop))}dispose(){return super.dispose(),this._events.dispose(),cancelAnimationFrame(this._animationFrame),this}}Du(P=>{P.draw=new fw({context:P})});Lu(P=>{P.draw.dispose()});class pw extends Xs{constructor(){super(...arguments),this.name="IntervalTimeline",this._root=null,this._length=0}add(r){Dt(Vt(r.time),"Events must have a time property"),Dt(Vt(r.duration),"Events must have a duration parameter"),r.time=r.time.valueOf();let v=new mw(r.time,r.time+r.duration,r);for(this._root===null?this._root=v:this._root.insert(v),this._length++;v!==null;)v.updateHeight(),v.updateMax(),this._rebalance(v),v=v.parent;return this}remove(r){if(this._root!==null){const v=[];this._root.search(r.time,v);for(const t of v)if(t.event===r){this._removeNode(t),this._length--;break}}return this}get length(){return this._length}cancel(r){return this.forEachFrom(r,v=>this.remove(v)),this}_setRoot(r){this._root=r,this._root!==null&&(this._root.parent=null)}_replaceNodeInParent(r,v){r.parent!==null?(r.isLeftChild()?r.parent.left=v:r.parent.right=v,this._rebalance(r.parent)):this._setRoot(v)}_removeNode(r){if(r.left===null&&r.right===null)this._replaceNodeInParent(r,null);else if(r.right===null)this._replaceNodeInParent(r,r.left);else if(r.left===null)this._replaceNodeInParent(r,r.right);else{const v=r.getBalance();let t,j=null;if(v>0)if(r.left.right===null)t=r.left,t.right=r.right,j=t;else{for(t=r.left.right;t.right!==null;)t=t.right;t.parent&&(t.parent.right=t.left,j=t.parent,t.left=r.left,t.right=r.right)}else if(r.right.left===null)t=r.right,t.left=r.left,j=t;else{for(t=r.right.left;t.left!==null;)t=t.left;t.parent&&(t.parent.left=t.right,j=t.parent,t.left=r.left,t.right=r.right)}r.parent!==null?r.isLeftChild()?r.parent.left=t:r.parent.right=t:this._setRoot(t),j&&this._rebalance(j)}r.dispose()}_rotateLeft(r){const v=r.parent,t=r.isLeftChild(),j=r.right;j&&(r.right=j.left,j.left=r),v!==null?t?v.left=j:v.right=j:this._setRoot(j)}_rotateRight(r){const v=r.parent,t=r.isLeftChild(),j=r.left;j&&(r.left=j.right,j.right=r),v!==null?t?v.left=j:v.right=j:this._setRoot(j)}_rebalance(r){const v=r.getBalance();v>1&&r.left?r.left.getBalance()<0?this._rotateLeft(r.left):this._rotateRight(r):v<-1&&r.right&&(r.right.getBalance()>0?this._rotateRight(r.right):this._rotateLeft(r))}get(r){if(this._root!==null){const v=[];if(this._root.search(r,v),v.length>0){let t=v[0];for(let j=1;j<v.length;j++)v[j].low>t.low&&(t=v[j]);return t.event}}return null}forEach(r){if(this._root!==null){const v=[];this._root.traverse(t=>v.push(t)),v.forEach(t=>{t.event&&r(t.event)})}return this}forEachAtTime(r,v){if(this._root!==null){const t=[];this._root.search(r,t),t.forEach(j=>{j.event&&v(j.event)})}return this}forEachFrom(r,v){if(this._root!==null){const t=[];this._root.searchAfter(r,t),t.forEach(j=>{j.event&&v(j.event)})}return this}dispose(){return super.dispose(),this._root!==null&&this._root.traverse(r=>r.dispose()),this._root=null,this}}class mw{constructor(r,v,t){this._left=null,this._right=null,this.parent=null,this.height=0,this.event=t,this.low=r,this.high=v,this.max=this.high}insert(r){r.low<=this.low?this.left===null?this.left=r:this.left.insert(r):this.right===null?this.right=r:this.right.insert(r)}search(r,v){r>this.max||(this.left!==null&&this.left.search(r,v),this.low<=r&&this.high>r&&v.push(this),!(this.low>r)&&this.right!==null&&this.right.search(r,v))}searchAfter(r,v){this.low>=r&&(v.push(this),this.left!==null&&this.left.searchAfter(r,v)),this.right!==null&&this.right.searchAfter(r,v)}traverse(r){r(this),this.left!==null&&this.left.traverse(r),this.right!==null&&this.right.traverse(r)}updateHeight(){this.left!==null&&this.right!==null?this.height=Math.max(this.left.height,this.right.height)+1:this.right!==null?this.height=this.right.height+1:this.left!==null?this.height=this.left.height+1:this.height=0}updateMax(){this.max=this.high,this.left!==null&&(this.max=Math.max(this.max,this.left.max)),this.right!==null&&(this.max=Math.max(this.max,this.right.max))}getBalance(){let r=0;return this.left!==null&&this.right!==null?r=this.left.height-this.right.height:this.left!==null?r=this.left.height+1:this.right!==null&&(r=-(this.right.height+1)),r}isLeftChild(){return this.parent!==null&&this.parent.left===this}get left(){return this._left}set left(r){this._left=r,r!==null&&(r.parent=this),this.updateHeight(),this.updateMax()}get right(){return this._right}set right(r){this._right=r,r!==null&&(r.parent=this),this.updateHeight(),this.updateMax()}dispose(){this.parent=null,this._left=null,this._right=null,this.event=null}}class yw extends Xs{constructor(r){super(),this.name="TimelineValue",this._timeline=new $n({memory:10}),this._initialValue=r}set(r,v){return this._timeline.add({value:r,time:v}),this}get(r){const v=this._timeline.get(r);return v?v.value:this._initialValue}}class Co extends Pt{constructor(){super(Et(Co.getDefaults(),arguments,["context"]))}connect(r,v=0,t=0){return id(this,r,v,t),this}}class el extends Co{constructor(){const r=Et(el.getDefaults(),arguments,["mapping","length"]);super(r),this.name="WaveShaper",this._shaper=this.context.createWaveShaper(),this.input=this._shaper,this.output=this._shaper,hs(r.mapping)||r.mapping instanceof Float32Array?this.curve=Float32Array.from(r.mapping):Vb(r.mapping)&&this.setMap(r.mapping,r.length)}static getDefaults(){return Object.assign(nr.getDefaults(),{length:1024})}setMap(r,v=1024){const t=new Float32Array(v);for(let j=0,x=v;j<x;j++){const d=j/(x-1)*2-1;t[j]=r(d,j)}return this.curve=t,this}get curve(){return this._shaper.curve}set curve(r){this._shaper.curve=r}get oversample(){return this._shaper.oversample}set oversample(r){const v=["none","2x","4x"].some(t=>t.includes(r));Dt(v,"oversampling must be either 'none', '2x', or '4x'"),this._shaper.oversample=r}dispose(){return super.dispose(),this._shaper.disconnect(),this}}class dd extends Co{constructor(){const r=Et(dd.getDefaults(),arguments,["value"]);super(r),this.name="Pow",this._exponentScaler=this.input=this.output=new el({context:this.context,mapping:this._expFunc(r.value),length:8192}),this._exponent=r.value}static getDefaults(){return Object.assign(Co.getDefaults(),{value:1})}_expFunc(r){return v=>Math.pow(Math.abs(v),r)}get value(){return this._exponent}set value(r){this._exponent=r,this._exponentScaler.setMap(this._expFunc(this._exponent))}dispose(){return super.dispose(),this._exponentScaler.dispose(),this}}class Mo{constructor(r,v){this.id=Mo._eventId++,this._remainderTime=0;const t=Object.assign(Mo.getDefaults(),v);this.transport=r,this.callback=t.callback,this._once=t.once,this.time=Math.floor(t.time),this._remainderTime=t.time-this.time}static getDefaults(){return{callback:Xt,once:!1,time:0}}get floatTime(){return this.time+this._remainderTime}invoke(r){if(this.callback){const v=this.transport.bpm.getDurationOfTicks(1,r);this.callback(r+this._remainderTime*v),this._once&&this.transport.clear(this.id)}}dispose(){return this.callback=void 0,this}}Mo._eventId=0;class fd extends Mo{constructor(r,v){super(r,v),this._currentId=-1,this._nextId=-1,this._nextTick=this.time,this._boundRestart=this._restart.bind(this);const t=Object.assign(fd.getDefaults(),v);this.duration=t.duration,this._interval=t.interval,this._nextTick=t.time,this.transport.on("start",this._boundRestart),this.transport.on("loopStart",this._boundRestart),this.transport.on("ticks",this._boundRestart),this.context=this.transport.context,this._restart()}static getDefaults(){return Object.assign({},Mo.getDefaults(),{duration:1/0,interval:1,once:!1})}invoke(r){this._createEvents(r),super.invoke(r)}_createEvent(){return Eu(this._nextTick,this.floatTime+this.duration)?this.transport.scheduleOnce(this.invoke.bind(this),new qn(this.context,this._nextTick).toSeconds()):-1}_createEvents(r){Eu(this._nextTick+this._interval,this.floatTime+this.duration)&&(this._nextTick+=this._interval,this._currentId=this._nextId,this._nextId=this.transport.scheduleOnce(this.invoke.bind(this),new qn(this.context,this._nextTick).toSeconds()))}_restart(r){this.transport.clear(this._currentId),this.transport.clear(this._nextId),this._nextTick=this.floatTime;const v=this.transport.getTicksAtTime(r);$i(v,this.time)&&(this._nextTick=this.floatTime+Math.ceil((v-this.floatTime)/this._interval)*this._interval),this._currentId=this._createEvent(),this._nextTick+=this._interval,this._nextId=this._createEvent()}dispose(){return super.dispose(),this.transport.clear(this._currentId),this.transport.clear(this._nextId),this.transport.off("start",this._boundRestart),this.transport.off("loopStart",this._boundRestart),this.transport.off("ticks",this._boundRestart),this}}class Bu extends Kr{constructor(){const r=Et(Bu.getDefaults(),arguments);super(r),this.name="Transport",this._loop=new yw(!1),this._loopStart=0,this._loopEnd=0,this._scheduledEvents={},this._timeline=new $n,this._repeatedEvents=new pw,this._syncedSignals=[],this._swingAmount=0,this._ppq=r.ppq,this._clock=new Uu({callback:this._processTick.bind(this),context:this.context,frequency:0,units:"bpm"}),this._bindClockEvents(),this.bpm=this._clock.frequency,this._clock.frequency.multiplier=r.ppq,this.bpm.setValueAtTime(r.bpm,0),yr(this,"bpm"),this._timeSignature=r.timeSignature,this._swingTicks=r.ppq/2}static getDefaults(){return Object.assign(Kr.getDefaults(),{bpm:120,loopEnd:"4m",loopStart:0,ppq:192,swing:0,swingSubdivision:"8n",timeSignature:4})}_processTick(r,v){if(this._loop.get(r)&&v>=this._loopEnd&&(this.emit("loopEnd",r),this._clock.setTicksAtTime(this._loopStart,r),v=this._loopStart,this.emit("loopStart",r,this._clock.getSecondsAtTime(r)),this.emit("loop",r)),this._swingAmount>0&&v%this._ppq!==0&&v%(this._swingTicks*2)!==0){const t=v%(this._swingTicks*2)/(this._swingTicks*2),j=Math.sin(t*Math.PI)*this._swingAmount;r+=new qn(this.context,this._swingTicks*2/3).toSeconds()*j}om(!0),this._timeline.forEachAtTime(v,t=>t.invoke(r)),om(!1)}schedule(r,v){const t=new Mo(this,{callback:r,time:new Fa(this.context,v).toTicks()});return this._addEvent(t,this._timeline)}scheduleRepeat(r,v,t,j=1/0){const x=new fd(this,{callback:r,duration:new cs(this.context,j).toTicks(),interval:new cs(this.context,v).toTicks(),time:new Fa(this.context,t).toTicks()});return this._addEvent(x,this._repeatedEvents)}scheduleOnce(r,v){const t=new Mo(this,{callback:r,once:!0,time:new Fa(this.context,v).toTicks()});return this._addEvent(t,this._timeline)}clear(r){if(this._scheduledEvents.hasOwnProperty(r)){const v=this._scheduledEvents[r.toString()];v.timeline.remove(v.event),v.event.dispose(),delete this._scheduledEvents[r.toString()]}return this}_addEvent(r,v){return this._scheduledEvents[r.id.toString()]={event:r,timeline:v},v.add(r),r.id}cancel(r=0){const v=this.toTicks(r);return this._timeline.forEachFrom(v,t=>this.clear(t.id)),this._repeatedEvents.forEachFrom(v,t=>this.clear(t.id)),this}_bindClockEvents(){this._clock.on("start",(r,v)=>{v=new qn(this.context,v).toSeconds(),this.emit("start",r,v)}),this._clock.on("stop",r=>{this.emit("stop",r)}),this._clock.on("pause",r=>{this.emit("pause",r)})}get state(){return this._clock.getStateAtTime(this.now())}start(r,v){this.context.resume();let t;return Vt(v)&&(t=this.toTicks(v)),this._clock.start(r,t),this}stop(r){return this._clock.stop(r),this}pause(r){return this._clock.pause(r),this}toggle(r){return r=this.toSeconds(r),this._clock.getStateAtTime(r)!=="started"?this.start(r):this.stop(r),this}get timeSignature(){return this._timeSignature}set timeSignature(r){hs(r)&&(r=r[0]/r[1]*4),this._timeSignature=r}get loopStart(){return new cs(this.context,this._loopStart,"i").toSeconds()}set loopStart(r){this._loopStart=this.toTicks(r)}get loopEnd(){return new cs(this.context,this._loopEnd,"i").toSeconds()}set loopEnd(r){this._loopEnd=this.toTicks(r)}get loop(){return this._loop.get(this.now())}set loop(r){this._loop.set(r,this.now())}setLoopPoints(r,v){return this.loopStart=r,this.loopEnd=v,this}get swing(){return this._swingAmount}set swing(r){this._swingAmount=r}get swingSubdivision(){return new qn(this.context,this._swingTicks).toNotation()}set swingSubdivision(r){this._swingTicks=this.toTicks(r)}get position(){const r=this.now(),v=this._clock.getTicksAtTime(r);return new qn(this.context,v).toBarsBeatsSixteenths()}set position(r){const v=this.toTicks(r);this.ticks=v}get seconds(){return this._clock.seconds}set seconds(r){const v=this.now(),t=this._clock.frequency.timeToTicks(r,v);this.ticks=t}get progress(){if(this.loop){const r=this.now();return(this._clock.getTicksAtTime(r)-this._loopStart)/(this._loopEnd-this._loopStart)}else return 0}get ticks(){return this._clock.ticks}set ticks(r){if(this._clock.ticks!==r){const v=this.now();if(this.state==="started"){const t=this._clock.getTicksAtTime(v),j=this._clock.frequency.getDurationOfTicks(Math.ceil(t)-t,v),x=v+j;this.emit("stop",x),this._clock.setTicksAtTime(r,x),this.emit("start",x,this._clock.getSecondsAtTime(x))}else this.emit("ticks",v),this._clock.setTicksAtTime(r,v)}}getTicksAtTime(r){return this._clock.getTicksAtTime(r)}getSecondsAtTime(r){return this._clock.getSecondsAtTime(r)}get PPQ(){return this._clock.frequency.multiplier}set PPQ(r){this._clock.frequency.multiplier=r}nextSubdivision(r){if(r=this.toTicks(r),this.state!=="started")return 0;{const v=this.now(),t=this.getTicksAtTime(v),j=r-t%r;return this._clock.nextTickTime(j,v)}}syncSignal(r,v){const t=this.now();let j=this.bpm,x=1/(60/j.getValueAtTime(t)/this.PPQ),d=[];if(r.units==="time"){const s=.015625/x,c=new ur(s),g=new dd(-1),y=new ur(s);j.chain(c,g,y),j=y,x=1/x,d=[c,g,y]}v||(r.getValueAtTime(t)!==0?v=r.getValueAtTime(t)/x:v=0);const f=new ur(v);return j.connect(f),f.connect(r._param),d.push(f),this._syncedSignals.push({initial:r.value,nodes:d,signal:r}),r.value=0,this}unsyncSignal(r){for(let v=this._syncedSignals.length-1;v>=0;v--){const t=this._syncedSignals[v];t.signal===r&&(t.nodes.forEach(j=>j.dispose()),t.signal.value=t.initial,this._syncedSignals.splice(v,1))}return this}dispose(){return super.dispose(),this._clock.dispose(),rd(this,"bpm"),this._timeline.dispose(),this._repeatedEvents.dispose(),this}}Za.mixin(Bu);Du(P=>{P.transport=new Bu({context:P})});Lu(P=>{P.transport.dispose()});class rn extends Pt{constructor(r){super(r),this.input=void 0,this._state=new Fu("stopped"),this._synced=!1,this._scheduled=[],this._syncedStart=Xt,this._syncedStop=Xt,this._state.memory=100,this._state.increasing=!0,this._volume=this.output=new aa({context:this.context,mute:r.mute,volume:r.volume}),this.volume=this._volume.volume,yr(this,"volume"),this.onstop=r.onstop}static getDefaults(){return Object.assign(Pt.getDefaults(),{mute:!1,onstop:Xt,volume:0})}get state(){return this._synced?this.context.transport.state==="started"?this._state.getValueAtTime(this.context.transport.seconds):"stopped":this._state.getValueAtTime(this.now())}get mute(){return this._volume.mute}set mute(r){this._volume.mute=r}_clampToCurrentTime(r){return this._synced?r:Math.max(r,this.context.currentTime)}start(r,v,t){let j=Qn(r)&&this._synced?this.context.transport.seconds:this.toSeconds(r);if(j=this._clampToCurrentTime(j),!this._synced&&this._state.getValueAtTime(j)==="started")Dt($i(j,this._state.get(j).time),"Start time must be strictly greater than previous start time"),this._state.cancel(j),this._state.setStateAtTime("started",j),this.log("restart",j),this.restart(j,v,t);else if(this.log("start",j),this._state.setStateAtTime("started",j),this._synced){const x=this._state.get(j);x&&(x.offset=this.toSeconds(ci(v,0)),x.duration=t?this.toSeconds(t):void 0);const d=this.context.transport.schedule(f=>{this._start(f,v,t)},j);this._scheduled.push(d),this.context.transport.state==="started"&&this.context.transport.getSecondsAtTime(this.immediate())>j&&this._syncedStart(this.now(),this.context.transport.seconds)}else iy(this.context),this._start(j,v,t);return this}stop(r){let v=Qn(r)&&this._synced?this.context.transport.seconds:this.toSeconds(r);if(v=this._clampToCurrentTime(v),this._state.getValueAtTime(v)==="started"||Vt(this._state.getNextState("started",v))){if(this.log("stop",v),!this._synced)this._stop(v);else{const t=this.context.transport.schedule(this._stop.bind(this),v);this._scheduled.push(t)}this._state.cancel(v),this._state.setStateAtTime("stopped",v)}return this}restart(r,v,t){return r=this.toSeconds(r),this._state.getValueAtTime(r)==="started"&&(this._state.cancel(r),this._restart(r,v,t)),this}sync(){return this._synced||(this._synced=!0,this._syncedStart=(r,v)=>{if($i(v,0)){const t=this._state.get(v);if(t&&t.state==="started"&&t.time!==v){const j=v-this.toSeconds(t.time);let x;t.duration&&(x=this.toSeconds(t.duration)-j),this._start(r,this.toSeconds(t.offset)+j,x)}}},this._syncedStop=r=>{const v=this.context.transport.getSecondsAtTime(Math.max(r-this.sampleTime,0));this._state.getValueAtTime(v)==="started"&&this._stop(r)},this.context.transport.on("start",this._syncedStart),this.context.transport.on("loopStart",this._syncedStart),this.context.transport.on("stop",this._syncedStop),this.context.transport.on("pause",this._syncedStop),this.context.transport.on("loopEnd",this._syncedStop)),this}unsync(){return this._synced&&(this.context.transport.off("stop",this._syncedStop),this.context.transport.off("pause",this._syncedStop),this.context.transport.off("loopEnd",this._syncedStop),this.context.transport.off("start",this._syncedStart),this.context.transport.off("loopStart",this._syncedStart)),this._synced=!1,this._scheduled.forEach(r=>this.context.transport.clear(r)),this._scheduled=[],this._state.cancel(0),this._stop(0),this}dispose(){return super.dispose(),this.onstop=Xt,this.unsync(),this._volume.dispose(),this._state.dispose(),this}}class tl extends Zi{constructor(){const r=Et(tl.getDefaults(),arguments,["url","onload"]);super(r),this.name="ToneBufferSource",this._source=this.context.createBufferSource(),this._internalChannels=[this._source],this._sourceStarted=!1,this._sourceStopped=!1,ia(this._source,this._gainNode),this._source.onended=()=>this._stopSource(),this.playbackRate=new tr({context:this.context,param:this._source.playbackRate,units:"positive",value:r.playbackRate}),this.loop=r.loop,this.loopStart=r.loopStart,this.loopEnd=r.loopEnd,this._buffer=new ar(r.url,r.onload,r.onerror),this._internalChannels.push(this._source)}static getDefaults(){return Object.assign(Zi.getDefaults(),{url:new ar,loop:!1,loopEnd:0,loopStart:0,onload:Xt,onerror:Xt,playbackRate:1})}get fadeIn(){return this._fadeIn}set fadeIn(r){this._fadeIn=r}get fadeOut(){return this._fadeOut}set fadeOut(r){this._fadeOut=r}get curve(){return this._curve}set curve(r){this._curve=r}start(r,v,t,j=1){Dt(this.buffer.loaded,"buffer is either not set or not loaded");const x=this.toSeconds(r);this._startGain(x,j),this.loop?v=ci(v,this.loopStart):v=ci(v,0);let d=Math.max(this.toSeconds(v),0);if(this.loop){const f=this.toSeconds(this.loopEnd)||this.buffer.duration,s=this.toSeconds(this.loopStart),c=f-s;Rh(d,f)&&(d=(d-s)%c+s),us(d,this.buffer.duration)&&(d=0)}if(this._source.buffer=this.buffer.get(),this._source.loopEnd=this.toSeconds(this.loopEnd)||this.buffer.duration,Eu(d,this.buffer.duration)&&(this._sourceStarted=!0,this._source.start(x,d)),Vt(t)){let f=this.toSeconds(t);f=Math.max(f,0),this.stop(x+f)}return this}_stopSource(r){!this._sourceStopped&&this._sourceStarted&&(this._sourceStopped=!0,this._source.stop(this.toSeconds(r)),this._onended())}get loopStart(){return this._source.loopStart}set loopStart(r){this._source.loopStart=this.toSeconds(r)}get loopEnd(){return this._source.loopEnd}set loopEnd(r){this._source.loopEnd=this.toSeconds(r)}get buffer(){return this._buffer}set buffer(r){this._buffer.set(r)}get loop(){return this._source.loop}set loop(r){this._source.loop=r,this._sourceStarted&&this.cancelStop()}dispose(){return super.dispose(),this._source.onended=null,this._source.disconnect(),this._buffer.dispose(),this.playbackRate.dispose(),this}}class pd extends rn{constructor(){const r=Et(pd.getDefaults(),arguments,["type"]);super(r),this.name="Noise",this._source=null,this._playbackRate=r.playbackRate,this.type=r.type,this._fadeIn=r.fadeIn,this._fadeOut=r.fadeOut}static getDefaults(){return Object.assign(rn.getDefaults(),{fadeIn:0,fadeOut:0,playbackRate:1,type:"white"})}get type(){return this._type}set type(r){if(Dt(r in im,"Noise: invalid type: "+r),this._type!==r&&(this._type=r,this.state==="started")){const v=this.now();this._stop(v),this._start(v)}}get playbackRate(){return this._playbackRate}set playbackRate(r){this._playbackRate=r,this._source&&(this._source.playbackRate.value=r)}_start(r){const v=im[this._type];this._source=new tl({url:v,context:this.context,fadeIn:this._fadeIn,fadeOut:this._fadeOut,loop:!0,onended:()=>this.onstop(this),playbackRate:this._playbackRate}).connect(this.output),this._source.start(this.toSeconds(r),Math.random()*(v.duration-.001))}_stop(r){this._source&&(this._source.stop(this.toSeconds(r)),this._source=null)}get fadeIn(){return this._fadeIn}set fadeIn(r){this._fadeIn=r,this._source&&(this._source.fadeIn=this._fadeIn)}get fadeOut(){return this._fadeOut}set fadeOut(r){this._fadeOut=r,this._source&&(this._source.fadeOut=this._fadeOut)}_restart(r){this._stop(r),this._start(r)}dispose(){return super.dispose(),this._source&&this._source.disconnect(),this}}const Hi=44100*5,Sh=2,Gs={brown:null,pink:null,white:null},im={get brown(){if(!Gs.brown){const P=[];for(let r=0;r<Sh;r++){const v=new Float32Array(Hi);P[r]=v;let t=0;for(let j=0;j<Hi;j++){const x=Math.random()*2-1;v[j]=(t+.02*x)/1.02,t=v[j],v[j]*=3.5}}Gs.brown=new ar().fromArray(P)}return Gs.brown},get pink(){if(!Gs.pink){const P=[];for(let r=0;r<Sh;r++){const v=new Float32Array(Hi);P[r]=v;let t,j,x,d,f,s,c;t=j=x=d=f=s=c=0;for(let g=0;g<Hi;g++){const y=Math.random()*2-1;t=.99886*t+y*.0555179,j=.99332*j+y*.0750759,x=.969*x+y*.153852,d=.8665*d+y*.3104856,f=.55*f+y*.5329522,s=-.7616*s-y*.016898,v[g]=t+j+x+d+f+s+c+y*.5362,v[g]*=.11,c=y*.115926}}Gs.pink=new ar().fromArray(P)}return Gs.pink},get white(){if(!Gs.white){const P=[];for(let r=0;r<Sh;r++){const v=new Float32Array(Hi);P[r]=v;for(let t=0;t<Hi;t++)v[t]=Math.random()*2-1}Gs.white=new ar().fromArray(P)}return Gs.white}};function mi(P,r){return Vr(this,void 0,void 0,function*(){const v=r/P.context.sampleRate,t=new nd(1,v,P.context.sampleRate);return new P.constructor(Object.assign(P.get(),{frequency:2/v,detune:0,context:t})).toDestination().start(0),(yield t.render()).getChannelData(0)})}class md extends Zi{constructor(){const r=Et(md.getDefaults(),arguments,["frequency","type"]);super(r),this.name="ToneOscillatorNode",this._oscillator=this.context.createOscillator(),this._internalChannels=[this._oscillator],ia(this._oscillator,this._gainNode),this.type=r.type,this.frequency=new tr({context:this.context,param:this._oscillator.frequency,units:"frequency",value:r.frequency}),this.detune=new tr({context:this.context,param:this._oscillator.detune,units:"cents",value:r.detune}),yr(this,["frequency","detune"])}static getDefaults(){return Object.assign(Zi.getDefaults(),{detune:0,frequency:440,type:"sine"})}start(r){const v=this.toSeconds(r);return this.log("start",v),this._startGain(v),this._oscillator.start(v),this}_stopSource(r){this._oscillator.stop(r)}setPeriodicWave(r){return this._oscillator.setPeriodicWave(r),this}get type(){return this._oscillator.type}set type(r){this._oscillator.type=r}dispose(){return super.dispose(),this.state==="started"&&this.stop(),this._oscillator.disconnect(),this.frequency.dispose(),this.detune.dispose(),this}}class Br extends rn{constructor(){const r=Et(Br.getDefaults(),arguments,["frequency","type"]);super(r),this.name="Oscillator",this._oscillator=null,this.frequency=new nr({context:this.context,units:"frequency",value:r.frequency}),yr(this,"frequency"),this.detune=new nr({context:this.context,units:"cents",value:r.detune}),yr(this,"detune"),this._partials=r.partials,this._partialCount=r.partialCount,this._type=r.type,r.partialCount&&r.type!=="custom"&&(this._type=this.baseType+r.partialCount.toString()),this.phase=r.phase}static getDefaults(){return Object.assign(rn.getDefaults(),{detune:0,frequency:440,partialCount:0,partials:[],phase:0,type:"sine"})}_start(r){const v=this.toSeconds(r),t=new md({context:this.context,onended:()=>this.onstop(this)});this._oscillator=t,this._wave?this._oscillator.setPeriodicWave(this._wave):this._oscillator.type=this._type,this._oscillator.connect(this.output),this.frequency.connect(this._oscillator.frequency),this.detune.connect(this._oscillator.detune),this._oscillator.start(v)}_stop(r){const v=this.toSeconds(r);this._oscillator&&this._oscillator.stop(v)}_restart(r){const v=this.toSeconds(r);return this.log("restart",v),this._oscillator&&this._oscillator.cancelStop(),this._state.cancel(v),this}syncFrequency(){return this.context.transport.syncSignal(this.frequency),this}unsyncFrequency(){return this.context.transport.unsyncSignal(this.frequency),this}_getCachedPeriodicWave(){if(this._type==="custom")return Br._periodicWaveCache.find(v=>v.phase===this._phase&&Jb(v.partials,this._partials));{const r=Br._periodicWaveCache.find(v=>v.type===this._type&&v.phase===this._phase);return this._partialCount=r?r.partialCount:this._partialCount,r}}get type(){return this._type}set type(r){this._type=r;const v=["sine","square","sawtooth","triangle"].indexOf(r)!==-1;if(this._phase===0&&v)this._wave=void 0,this._partialCount=0,this._oscillator!==null&&(this._oscillator.type=r);else{const t=this._getCachedPeriodicWave();if(Vt(t)){const{partials:j,wave:x}=t;this._wave=x,this._partials=j,this._oscillator!==null&&this._oscillator.setPeriodicWave(this._wave)}else{const[j,x]=this._getRealImaginary(r,this._phase),d=this.context.createPeriodicWave(j,x);this._wave=d,this._oscillator!==null&&this._oscillator.setPeriodicWave(this._wave),Br._periodicWaveCache.push({imag:x,partialCount:this._partialCount,partials:this._partials,phase:this._phase,real:j,type:this._type,wave:this._wave}),Br._periodicWaveCache.length>100&&Br._periodicWaveCache.shift()}}}get baseType(){return this._type.replace(this.partialCount.toString(),"")}set baseType(r){this.partialCount&&this._type!=="custom"&&r!=="custom"?this.type=r+this.partialCount:this.type=r}get partialCount(){return this._partialCount}set partialCount(r){Eo(r,0);let v=this._type;const t=/^(sine|triangle|square|sawtooth)(\d+)$/.exec(this._type);if(t&&(v=t[1]),this._type!=="custom")r===0?this.type=v:this.type=v+r.toString();else{const j=new Float32Array(r);this._partials.forEach((x,d)=>j[d]=x),this._partials=Array.from(j),this.type=this._type}}_getRealImaginary(r,v){let j=2048;const x=new Float32Array(j),d=new Float32Array(j);let f=1;if(r==="custom"){if(f=this._partials.length+1,this._partialCount=this._partials.length,j=f,this._partials.length===0)return[x,d]}else{const s=/^(sine|triangle|square|sawtooth)(\d+)$/.exec(r);s?(f=parseInt(s[2],10)+1,this._partialCount=parseInt(s[2],10),r=s[1],f=Math.max(f,2),j=f):this._partialCount=0,this._partials=[]}for(let s=1;s<j;++s){const c=2/(s*Math.PI);let g;switch(r){case"sine":g=s<=f?1:0,this._partials[s-1]=g;break;case"square":g=s&1?2*c:0,this._partials[s-1]=g;break;case"sawtooth":g=c*(s&1?1:-1),this._partials[s-1]=g;break;case"triangle":s&1?g=2*(c*c)*(s-1>>1&1?-1:1):g=0,this._partials[s-1]=g;break;case"custom":g=this._partials[s-1];break;default:throw new TypeError("Oscillator: invalid type: "+r)}g!==0?(x[s]=-g*Math.sin(v*s),d[s]=g*Math.cos(v*s)):(x[s]=0,d[s]=0)}return[x,d]}_inverseFFT(r,v,t){let j=0;const x=r.length;for(let d=0;d<x;d++)j+=r[d]*Math.cos(d*t)+v[d]*Math.sin(d*t);return j}getInitialValue(){const[r,v]=this._getRealImaginary(this._type,0);let t=0;const j=Math.PI*2,x=32;for(let d=0;d<x;d++)t=Math.max(this._inverseFFT(r,v,d/x*j),t);return Kb(-this._inverseFFT(r,v,this._phase)/t,-1,1)}get partials(){return this._partials.slice(0,this.partialCount)}set partials(r){this._partials=r,this._partialCount=this._partials.length,r.length&&(this.type="custom")}get phase(){return this._phase*(180/Math.PI)}set phase(r){this._phase=r*Math.PI/180,this.type=this._type}asArray(){return Vr(this,arguments,void 0,function*(r=1024){return mi(this,r)})}dispose(){return super.dispose(),this._oscillator!==null&&this._oscillator.dispose(),this._wave=void 0,this.frequency.dispose(),this.detune.dispose(),this}}Br._periodicWaveCache=[];class yy extends Co{constructor(){super(...arguments),this.name="AudioToGain",this._norm=new el({context:this.context,mapping:r=>(r+1)/2}),this.input=this._norm,this.output=this._norm}dispose(){return super.dispose(),this._norm.dispose(),this}}class Ts extends nr{constructor(){const r=Et(Ts.getDefaults(),arguments,["value"]);super(r),this.name="Multiply",this.override=!1,this._mult=this.input=this.output=new ur({context:this.context,minValue:r.minValue,maxValue:r.maxValue}),this.factor=this._param=this._mult.gain,this.factor.setValueAtTime(r.value,0)}static getDefaults(){return Object.assign(nr.getDefaults(),{value:0})}dispose(){return super.dispose(),this._mult.dispose(),this}}class Vu extends rn{constructor(){const r=Et(Vu.getDefaults(),arguments,["frequency","type","modulationType"]);super(r),this.name="AMOscillator",this._modulationScale=new yy({context:this.context}),this._modulationNode=new ur({context:this.context}),this._carrier=new Br({context:this.context,detune:r.detune,frequency:r.frequency,onstop:()=>this.onstop(this),phase:r.phase,type:r.type}),this.frequency=this._carrier.frequency,this.detune=this._carrier.detune,this._modulator=new Br({context:this.context,phase:r.phase,type:r.modulationType}),this.harmonicity=new Ts({context:this.context,units:"positive",value:r.harmonicity}),this.frequency.chain(this.harmonicity,this._modulator.frequency),this._modulator.chain(this._modulationScale,this._modulationNode.gain),this._carrier.chain(this._modulationNode,this.output),yr(this,["frequency","detune","harmonicity"])}static getDefaults(){return Object.assign(Br.getDefaults(),{harmonicity:1,modulationType:"square"})}_start(r){this._modulator.start(r),this._carrier.start(r)}_stop(r){this._modulator.stop(r),this._carrier.stop(r)}_restart(r){this._modulator.restart(r),this._carrier.restart(r)}get type(){return this._carrier.type}set type(r){this._carrier.type=r}get baseType(){return this._carrier.baseType}set baseType(r){this._carrier.baseType=r}get partialCount(){return this._carrier.partialCount}set partialCount(r){this._carrier.partialCount=r}get modulationType(){return this._modulator.type}set modulationType(r){this._modulator.type=r}get phase(){return this._carrier.phase}set phase(r){this._carrier.phase=r,this._modulator.phase=r}get partials(){return this._carrier.partials}set partials(r){this._carrier.partials=r}asArray(){return Vr(this,arguments,void 0,function*(r=1024){return mi(this,r)})}dispose(){return super.dispose(),this.frequency.dispose(),this.detune.dispose(),this.harmonicity.dispose(),this._carrier.dispose(),this._modulator.dispose(),this._modulationNode.dispose(),this._modulationScale.dispose(),this}}class rl extends rn{constructor(){const r=Et(rl.getDefaults(),arguments,["frequency","type","modulationType"]);super(r),this.name="FMOscillator",this._modulationNode=new ur({context:this.context,gain:0}),this._carrier=new Br({context:this.context,detune:r.detune,frequency:0,onstop:()=>this.onstop(this),phase:r.phase,type:r.type}),this.detune=this._carrier.detune,this.frequency=new nr({context:this.context,units:"frequency",value:r.frequency}),this._modulator=new Br({context:this.context,phase:r.phase,type:r.modulationType}),this.harmonicity=new Ts({context:this.context,units:"positive",value:r.harmonicity}),this.modulationIndex=new Ts({context:this.context,units:"positive",value:r.modulationIndex}),this.frequency.connect(this._carrier.frequency),this.frequency.chain(this.harmonicity,this._modulator.frequency),this.frequency.chain(this.modulationIndex,this._modulationNode),this._modulator.connect(this._modulationNode.gain),this._modulationNode.connect(this._carrier.frequency),this._carrier.connect(this.output),this.detune.connect(this._modulator.detune),yr(this,["modulationIndex","frequency","detune","harmonicity"])}static getDefaults(){return Object.assign(Br.getDefaults(),{harmonicity:1,modulationIndex:2,modulationType:"square"})}_start(r){this._modulator.start(r),this._carrier.start(r)}_stop(r){this._modulator.stop(r),this._carrier.stop(r)}_restart(r){return this._modulator.restart(r),this._carrier.restart(r),this}get type(){return this._carrier.type}set type(r){this._carrier.type=r}get baseType(){return this._carrier.baseType}set baseType(r){this._carrier.baseType=r}get partialCount(){return this._carrier.partialCount}set partialCount(r){this._carrier.partialCount=r}get modulationType(){return this._modulator.type}set modulationType(r){this._modulator.type=r}get phase(){return this._carrier.phase}set phase(r){this._carrier.phase=r,this._modulator.phase=r}get partials(){return this._carrier.partials}set partials(r){this._carrier.partials=r}asArray(){return Vr(this,arguments,void 0,function*(r=1024){return mi(this,r)})}dispose(){return super.dispose(),this.frequency.dispose(),this.harmonicity.dispose(),this._carrier.dispose(),this._modulator.dispose(),this._modulationNode.dispose(),this.modulationIndex.dispose(),this}}class nl extends rn{constructor(){const r=Et(nl.getDefaults(),arguments,["frequency","width"]);super(r),this.name="PulseOscillator",this._widthGate=new ur({context:this.context,gain:0}),this._thresh=new el({context:this.context,mapping:v=>v<=0?-1:1}),this.width=new nr({context:this.context,units:"audioRange",value:r.width}),this._triangle=new Br({context:this.context,detune:r.detune,frequency:r.frequency,onstop:()=>this.onstop(this),phase:r.phase,type:"triangle"}),this.frequency=this._triangle.frequency,this.detune=this._triangle.detune,this._triangle.chain(this._thresh,this.output),this.width.chain(this._widthGate,this._thresh),yr(this,["width","frequency","detune"])}static getDefaults(){return Object.assign(rn.getDefaults(),{detune:0,frequency:440,phase:0,type:"pulse",width:.2})}_start(r){r=this.toSeconds(r),this._triangle.start(r),this._widthGate.gain.setValueAtTime(1,r)}_stop(r){r=this.toSeconds(r),this._triangle.stop(r),this._widthGate.gain.cancelScheduledValues(r),this._widthGate.gain.setValueAtTime(0,r)}_restart(r){this._triangle.restart(r),this._widthGate.gain.cancelScheduledValues(r),this._widthGate.gain.setValueAtTime(1,r)}get phase(){return this._triangle.phase}set phase(r){this._triangle.phase=r}get type(){return"pulse"}get baseType(){return"pulse"}get partials(){return[]}get partialCount(){return 0}set carrierType(r){this._triangle.type=r}asArray(){return Vr(this,arguments,void 0,function*(r=1024){return mi(this,r)})}dispose(){return super.dispose(),this._triangle.dispose(),this.width.dispose(),this._widthGate.dispose(),this._thresh.dispose(),this}}class Gu extends rn{constructor(){const r=Et(Gu.getDefaults(),arguments,["frequency","type","spread"]);super(r),this.name="FatOscillator",this._oscillators=[],this.frequency=new nr({context:this.context,units:"frequency",value:r.frequency}),this.detune=new nr({context:this.context,units:"cents",value:r.detune}),this._spread=r.spread,this._type=r.type,this._phase=r.phase,this._partials=r.partials,this._partialCount=r.partialCount,this.count=r.count,yr(this,["frequency","detune"])}static getDefaults(){return Object.assign(Br.getDefaults(),{count:3,spread:20,type:"sawtooth"})}_start(r){r=this.toSeconds(r),this._forEach(v=>v.start(r))}_stop(r){r=this.toSeconds(r),this._forEach(v=>v.stop(r))}_restart(r){this._forEach(v=>v.restart(r))}_forEach(r){for(let v=0;v<this._oscillators.length;v++)r(this._oscillators[v],v)}get type(){return this._type}set type(r){this._type=r,this._forEach(v=>v.type=r)}get spread(){return this._spread}set spread(r){if(this._spread=r,this._oscillators.length>1){const v=-r/2,t=r/(this._oscillators.length-1);this._forEach((j,x)=>j.detune.value=v+t*x)}}get count(){return this._oscillators.length}set count(r){if(Eo(r,1),this._oscillators.length!==r){this._forEach(v=>v.dispose()),this._oscillators=[];for(let v=0;v<r;v++){const t=new Br({context:this.context,volume:-6-r*1.1,type:this._type,phase:this._phase+v/r*360,partialCount:this._partialCount,onstop:v===0?()=>this.onstop(this):Xt});this.type==="custom"&&(t.partials=this._partials),this.frequency.connect(t.frequency),this.detune.connect(t.detune),t.detune.overridden=!1,t.connect(this.output),this._oscillators[v]=t}this.spread=this._spread,this.state==="started"&&this._forEach(v=>v.start())}}get phase(){return this._phase}set phase(r){this._phase=r,this._forEach((v,t)=>v.phase=this._phase+t/this.count*360)}get baseType(){return this._oscillators[0].baseType}set baseType(r){this._forEach(v=>v.baseType=r),this._type=this._oscillators[0].type}get partials(){return this._oscillators[0].partials}set partials(r){this._partials=r,this._partialCount=this._partials.length,r.length&&(this._type="custom",this._forEach(v=>v.partials=r))}get partialCount(){return this._oscillators[0].partialCount}set partialCount(r){this._partialCount=r,this._forEach(v=>v.partialCount=r),this._type=this._oscillators[0].type}asArray(){return Vr(this,arguments,void 0,function*(r=1024){return mi(this,r)})}dispose(){return super.dispose(),this.frequency.dispose(),this.detune.dispose(),this._forEach(r=>r.dispose()),this}}class zu extends rn{constructor(){const r=Et(zu.getDefaults(),arguments,["frequency","modulationFrequency"]);super(r),this.name="PWMOscillator",this.sourceType="pwm",this._scale=new Ts({context:this.context,value:2}),this._pulse=new nl({context:this.context,frequency:r.modulationFrequency}),this._pulse.carrierType="sine",this.modulationFrequency=this._pulse.frequency,this._modulator=new Br({context:this.context,detune:r.detune,frequency:r.frequency,onstop:()=>this.onstop(this),phase:r.phase}),this.frequency=this._modulator.frequency,this.detune=this._modulator.detune,this._modulator.chain(this._scale,this._pulse.width),this._pulse.connect(this.output),yr(this,["modulationFrequency","frequency","detune"])}static getDefaults(){return Object.assign(rn.getDefaults(),{detune:0,frequency:440,modulationFrequency:.4,phase:0,type:"pwm"})}_start(r){r=this.toSeconds(r),this._modulator.start(r),this._pulse.start(r)}_stop(r){r=this.toSeconds(r),this._modulator.stop(r),this._pulse.stop(r)}_restart(r){this._modulator.restart(r),this._pulse.restart(r)}get type(){return"pwm"}get baseType(){return"pwm"}get partials(){return[]}get partialCount(){return 0}get phase(){return this._modulator.phase}set phase(r){this._modulator.phase=r}asArray(){return Vr(this,arguments,void 0,function*(r=1024){return mi(this,r)})}dispose(){return super.dispose(),this._pulse.dispose(),this._scale.dispose(),this._modulator.dispose(),this}}const am={am:Vu,fat:Gu,fm:rl,oscillator:Br,pulse:nl,pwm:zu};class Ki extends rn{constructor(){const r=Et(Ki.getDefaults(),arguments,["frequency","type"]);super(r),this.name="OmniOscillator",this.frequency=new nr({context:this.context,units:"frequency",value:r.frequency}),this.detune=new nr({context:this.context,units:"cents",value:r.detune}),yr(this,["frequency","detune"]),this.set(r)}static getDefaults(){return Object.assign(Br.getDefaults(),rl.getDefaults(),Vu.getDefaults(),Gu.getDefaults(),nl.getDefaults(),zu.getDefaults())}_start(r){this._oscillator.start(r)}_stop(r){this._oscillator.stop(r)}_restart(r){return this._oscillator.restart(r),this}get type(){let r="";return["am","fm","fat"].some(v=>this._sourceType===v)&&(r=this._sourceType),r+this._oscillator.type}set type(r){r.substr(0,2)==="fm"?(this._createNewOscillator("fm"),this._oscillator=this._oscillator,this._oscillator.type=r.substr(2)):r.substr(0,2)==="am"?(this._createNewOscillator("am"),this._oscillator=this._oscillator,this._oscillator.type=r.substr(2)):r.substr(0,3)==="fat"?(this._createNewOscillator("fat"),this._oscillator=this._oscillator,this._oscillator.type=r.substr(3)):r==="pwm"?(this._createNewOscillator("pwm"),this._oscillator=this._oscillator):r==="pulse"?this._createNewOscillator("pulse"):(this._createNewOscillator("oscillator"),this._oscillator=this._oscillator,this._oscillator.type=r)}get partials(){return this._oscillator.partials}set partials(r){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&(this._oscillator.partials=r)}get partialCount(){return this._oscillator.partialCount}set partialCount(r){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&(this._oscillator.partialCount=r)}set(r){return Reflect.has(r,"type")&&r.type&&(this.type=r.type),super.set(r),this}_createNewOscillator(r){if(r!==this._sourceType){this._sourceType=r;const v=am[r],t=this.now();if(this._oscillator){const j=this._oscillator;j.stop(t),this.context.setTimeout(()=>j.dispose(),this.blockTime)}this._oscillator=new v({context:this.context}),this.frequency.connect(this._oscillator.frequency),this.detune.connect(this._oscillator.detune),this._oscillator.connect(this.output),this._oscillator.onstop=()=>this.onstop(this),this.state==="started"&&this._oscillator.start(t)}}get phase(){return this._oscillator.phase}set phase(r){this._oscillator.phase=r}get sourceType(){return this._sourceType}set sourceType(r){let v="sine";this._oscillator.type!=="pwm"&&this._oscillator.type!=="pulse"&&(v=this._oscillator.type),r==="fm"?this.type="fm"+v:r==="am"?this.type="am"+v:r==="fat"?this.type="fat"+v:r==="oscillator"?this.type=v:r==="pulse"?this.type="pulse":r==="pwm"&&(this.type="pwm")}_getOscType(r,v){return r instanceof am[v]}get baseType(){return this._oscillator.baseType}set baseType(r){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&r!=="pulse"&&r!=="pwm"&&(this._oscillator.baseType=r)}get width(){if(this._getOscType(this._oscillator,"pulse"))return this._oscillator.width}get count(){if(this._getOscType(this._oscillator,"fat"))return this._oscillator.count}set count(r){this._getOscType(this._oscillator,"fat")&&Ss(r)&&(this._oscillator.count=r)}get spread(){if(this._getOscType(this._oscillator,"fat"))return this._oscillator.spread}set spread(r){this._getOscType(this._oscillator,"fat")&&Ss(r)&&(this._oscillator.spread=r)}get modulationType(){if(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))return this._oscillator.modulationType}set modulationType(r){(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))&&Ws(r)&&(this._oscillator.modulationType=r)}get modulationIndex(){if(this._getOscType(this._oscillator,"fm"))return this._oscillator.modulationIndex}get harmonicity(){if(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))return this._oscillator.harmonicity}get modulationFrequency(){if(this._getOscType(this._oscillator,"pwm"))return this._oscillator.modulationFrequency}asArray(){return Vr(this,arguments,void 0,function*(r=1024){return mi(this,r)})}dispose(){return super.dispose(),this.detune.dispose(),this.frequency.dispose(),this._oscillator.dispose(),this}}class yd extends nr{constructor(){super(Et(yd.getDefaults(),arguments,["value"])),this.override=!1,this.name="Add",this._sum=new ur({context:this.context}),this.input=this._sum,this.output=this._sum,this.addend=this._param,Ji(this._constantSource,this._sum)}static getDefaults(){return Object.assign(nr.getDefaults(),{value:0})}dispose(){return super.dispose(),this._sum.dispose(),this}}class gd extends Co{constructor(){const r=Et(gd.getDefaults(),arguments,["min","max"]);super(r),this.name="Scale",this._mult=this.input=new Ts({context:this.context,value:r.max-r.min}),this._add=this.output=new yd({context:this.context,value:r.min}),this._min=r.min,this._max=r.max,this.input.connect(this.output)}static getDefaults(){return Object.assign(Co.getDefaults(),{max:1,min:0})}get min(){return this._min}set min(r){this._min=r,this._setRange()}get max(){return this._max}set max(r){this._max=r,this._setRange()}_setRange(){this._add.value=this._min,this._mult.value=this._max-this._min}dispose(){return super.dispose(),this._add.dispose(),this._mult.dispose(),this}}function gy(P,r=1/0){const v=new WeakMap;return function(t,j){Reflect.defineProperty(t,j,{configurable:!0,enumerable:!0,get:function(){return v.get(this)},set:function(x){Eo(x,P,r),v.set(this,x)}})}}function Ys(P,r=1/0){const v=new WeakMap;return function(t,j){Reflect.defineProperty(t,j,{configurable:!0,enumerable:!0,get:function(){return v.get(this)},set:function(x){Eo(this.toSeconds(x),P,r),v.set(this,x)}})}}class sl extends rn{constructor(){const r=Et(sl.getDefaults(),arguments,["url","onload"]);super(r),this.name="Player",this._activeSources=new Set,this._buffer=new ar({onload:this._onload.bind(this,r.onload),onerror:r.onerror,reverse:r.reverse,url:r.url}),this.autostart=r.autostart,this._loop=r.loop,this._loopStart=r.loopStart,this._loopEnd=r.loopEnd,this._playbackRate=r.playbackRate,this.fadeIn=r.fadeIn,this.fadeOut=r.fadeOut}static getDefaults(){return Object.assign(rn.getDefaults(),{autostart:!1,fadeIn:0,fadeOut:0,loop:!1,loopEnd:0,loopStart:0,onload:Xt,onerror:Xt,playbackRate:1,reverse:!1})}load(r){return Vr(this,void 0,void 0,function*(){return yield this._buffer.load(r),this._onload(),this})}_onload(r=Xt){r(),this.autostart&&this.start()}_onSourceEnd(r){this.onstop(this),this._activeSources.delete(r),this._activeSources.size===0&&!this._synced&&this._state.getValueAtTime(this.now())==="started"&&(this._state.cancel(this.now()),this._state.setStateAtTime("stopped",this.now()))}start(r,v,t){return super.start(r,v,t),this}_start(r,v,t){this._loop?v=ci(v,this._loopStart):v=ci(v,0);const j=this.toSeconds(v),x=t;t=ci(t,Math.max(this._buffer.duration-j,0));let d=this.toSeconds(t);d=d/this._playbackRate,r=this.toSeconds(r);const f=new tl({url:this._buffer,context:this.context,fadeIn:this.fadeIn,fadeOut:this.fadeOut,loop:this._loop,loopEnd:this._loopEnd,loopStart:this._loopStart,onended:this._onSourceEnd.bind(this),playbackRate:this._playbackRate}).connect(this.output);!this._loop&&!this._synced&&(this._state.cancel(r+d),this._state.setStateAtTime("stopped",r+d,{implicitEnd:!0})),this._activeSources.add(f),this._loop&&Qn(x)?f.start(r,j):f.start(r,j,d-this.toSeconds(this.fadeOut))}_stop(r){const v=this.toSeconds(r);this._activeSources.forEach(t=>t.stop(v))}restart(r,v,t){return super.restart(r,v,t),this}_restart(r,v,t){var j;(j=[...this._activeSources].pop())===null||j===void 0||j.stop(r),this._start(r,v,t)}seek(r,v){const t=this.toSeconds(v);if(this._state.getValueAtTime(t)==="started"){const j=this.toSeconds(r);this._stop(t),this._start(t,j)}return this}setLoopPoints(r,v){return this.loopStart=r,this.loopEnd=v,this}get loopStart(){return this._loopStart}set loopStart(r){this._loopStart=r,this.buffer.loaded&&Eo(this.toSeconds(r),0,this.buffer.duration),this._activeSources.forEach(v=>{v.loopStart=r})}get loopEnd(){return this._loopEnd}set loopEnd(r){this._loopEnd=r,this.buffer.loaded&&Eo(this.toSeconds(r),0,this.buffer.duration),this._activeSources.forEach(v=>{v.loopEnd=r})}get buffer(){return this._buffer}set buffer(r){this._buffer.set(r)}get loop(){return this._loop}set loop(r){if(this._loop!==r&&(this._loop=r,this._activeSources.forEach(v=>{v.loop=r}),r)){const v=this._state.getNextState("stopped",this.now());v&&this._state.cancel(v.time)}}get playbackRate(){return this._playbackRate}set playbackRate(r){this._playbackRate=r;const v=this.now(),t=this._state.getNextState("stopped",v);t&&t.implicitEnd&&(this._state.cancel(t.time),this._activeSources.forEach(j=>j.cancelStop())),this._activeSources.forEach(j=>{j.playbackRate.setValueAtTime(r,v)})}get reverse(){return this._buffer.reverse}set reverse(r){this._buffer.reverse=r}get loaded(){return this._buffer.loaded}dispose(){return super.dispose(),this._activeSources.forEach(r=>r.dispose()),this._activeSources.clear(),this._buffer.dispose(),this}}ms([Ys(0)],sl.prototype,"fadeIn",void 0);ms([Ys(0)],sl.prototype,"fadeOut",void 0);class Jn extends Pt{constructor(){const r=Et(Jn.getDefaults(),arguments,["attack","decay","sustain","release"]);super(r),this.name="Envelope",this._sig=new nr({context:this.context,value:0}),this.output=this._sig,this.input=void 0,this.attack=r.attack,this.decay=r.decay,this.sustain=r.sustain,this.release=r.release,this.attackCurve=r.attackCurve,this.releaseCurve=r.releaseCurve,this.decayCurve=r.decayCurve}static getDefaults(){return Object.assign(Pt.getDefaults(),{attack:.01,attackCurve:"linear",decay:.1,decayCurve:"exponential",release:1,releaseCurve:"exponential",sustain:.5})}get value(){return this.getValueAtTime(this.now())}_getCurve(r,v){if(Ws(r))return r;{let t;for(t in pu)if(pu[t][v]===r)return t;return r}}_setCurve(r,v,t){if(Ws(t)&&Reflect.has(pu,t)){const j=pu[t];ui(j)?r!=="_decayCurve"&&(this[r]=j[v]):this[r]=j}else if(hs(t)&&r!=="_decayCurve")this[r]=t;else throw new Error("Envelope: invalid curve: "+t)}get attackCurve(){return this._getCurve(this._attackCurve,"In")}set attackCurve(r){this._setCurve("_attackCurve","In",r)}get releaseCurve(){return this._getCurve(this._releaseCurve,"Out")}set releaseCurve(r){this._setCurve("_releaseCurve","Out",r)}get decayCurve(){return this._getCurve(this._decayCurve,"Out")}set decayCurve(r){this._setCurve("_decayCurve","Out",r)}triggerAttack(r,v=1){this.log("triggerAttack",r,v),r=this.toSeconds(r);let j=this.toSeconds(this.attack);const x=this.toSeconds(this.decay),d=this.getValueAtTime(r);if(d>0){const f=1/j;j=(1-d)/f}if(j<this.sampleTime)this._sig.cancelScheduledValues(r),this._sig.setValueAtTime(v,r);else if(this._attackCurve==="linear")this._sig.linearRampTo(v,j,r);else if(this._attackCurve==="exponential")this._sig.targetRampTo(v,j,r);else{this._sig.cancelAndHoldAtTime(r);let f=this._attackCurve;for(let s=1;s<f.length;s++)if(f[s-1]<=d&&d<=f[s]){f=this._attackCurve.slice(s),f[0]=d;break}this._sig.setValueCurveAtTime(f,r,j,v)}if(x&&this.sustain<1){const f=v*this.sustain,s=r+j;this.log("decay",s),this._decayCurve==="linear"?this._sig.linearRampToValueAtTime(f,x+s):this._sig.exponentialApproachValueAtTime(f,s,x)}return this}triggerRelease(r){this.log("triggerRelease",r),r=this.toSeconds(r);const v=this.getValueAtTime(r);if(v>0){const t=this.toSeconds(this.release);t<this.sampleTime?this._sig.setValueAtTime(0,r):this._releaseCurve==="linear"?this._sig.linearRampTo(0,t,r):this._releaseCurve==="exponential"?this._sig.targetRampTo(0,t,r):(Dt(hs(this._releaseCurve),"releaseCurve must be either 'linear', 'exponential' or an array"),this._sig.cancelAndHoldAtTime(r),this._sig.setValueCurveAtTime(this._releaseCurve,r,t,v))}return this}getValueAtTime(r){return this._sig.getValueAtTime(r)}triggerAttackRelease(r,v,t=1){return v=this.toSeconds(v),this.triggerAttack(v,t),this.triggerRelease(v+this.toSeconds(r)),this}cancel(r){return this._sig.cancelScheduledValues(this.toSeconds(r)),this}connect(r,v=0,t=0){return id(this,r,v,t),this}asArray(){return Vr(this,arguments,void 0,function*(r=1024){const v=r/this.context.sampleRate,t=new nd(1,v,this.context.sampleRate),j=this.toSeconds(this.attack)+this.toSeconds(this.decay),x=j+this.toSeconds(this.release),d=x*.1,f=x+d,s=new this.constructor(Object.assign(this.get(),{attack:v*this.toSeconds(this.attack)/f,decay:v*this.toSeconds(this.decay)/f,release:v*this.toSeconds(this.release)/f,context:t}));return s._sig.toDestination(),s.triggerAttackRelease(v*(j+d)/f,0),(yield t.render()).getChannelData(0)})}dispose(){return super.dispose(),this._sig.dispose(),this}}ms([Ys(0)],Jn.prototype,"attack",void 0);ms([Ys(0)],Jn.prototype,"decay",void 0);ms([gy(0,1)],Jn.prototype,"sustain",void 0);ms([Ys(0)],Jn.prototype,"release",void 0);const pu=(()=>{let r,v;const t=[];for(r=0;r<128;r++)t[r]=Math.sin(r/127*(Math.PI/2));const j=[],x=6.4;for(r=0;r<127;r++){v=r/127;const o=Math.sin(v*(Math.PI*2)*x-Math.PI/2)+1;j[r]=o/10+v*.83}j[127]=1;const d=[],f=5;for(r=0;r<128;r++)d[r]=Math.ceil(r/127*f)/f;const s=[];for(r=0;r<128;r++)v=r/127,s[r]=.5*(1-Math.cos(Math.PI*v));const c=[];for(r=0;r<128;r++){v=r/127;const o=Math.pow(v,3)*4+.2,a=Math.cos(o*Math.PI*2*v);c[r]=Math.abs(a*(1-v))}function g(o){const a=new Array(o.length);for(let i=0;i<o.length;i++)a[i]=1-o[i];return a}function y(o){return o.slice(0).reverse()}return{bounce:{In:g(c),Out:c},cosine:{In:t,Out:y(t)},exponential:"exponential",linear:"linear",ripple:{In:j,Out:g(j)},sine:{In:s,Out:g(s)},step:{In:d,Out:g(d)}}})();class Oo extends Pt{constructor(){const r=Et(Oo.getDefaults(),arguments);super(r),this._scheduledEvents=[],this._synced=!1,this._original_triggerAttack=this.triggerAttack,this._original_triggerRelease=this.triggerRelease,this._syncedRelease=v=>this._original_triggerRelease(v),this._volume=this.output=new aa({context:this.context,volume:r.volume}),this.volume=this._volume.volume,yr(this,"volume")}static getDefaults(){return Object.assign(Pt.getDefaults(),{volume:0})}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",0),this.context.transport.on("stop",this._syncedRelease),this.context.transport.on("pause",this._syncedRelease),this.context.transport.on("loopEnd",this._syncedRelease)),this}_syncState(){let r=!1;return this._synced||(this._synced=!0,r=!0),r}_syncMethod(r,v){const t=this["_original_"+r]=this[r];this[r]=(...j)=>{const x=j[v],d=this.context.transport.schedule(f=>{j[v]=f,t.apply(this,j)},x);this._scheduledEvents.push(d)}}unsync(){return this._scheduledEvents.forEach(r=>this.context.transport.clear(r)),this._scheduledEvents=[],this._synced&&(this._synced=!1,this.triggerAttack=this._original_triggerAttack,this.triggerRelease=this._original_triggerRelease,this.context.transport.off("stop",this._syncedRelease),this.context.transport.off("pause",this._syncedRelease),this.context.transport.off("loopEnd",this._syncedRelease)),this}triggerAttackRelease(r,v,t,j){const x=this.toSeconds(t),d=this.toSeconds(v);return this.triggerAttack(r,x,j),this.triggerRelease(x+d),this}dispose(){return super.dispose(),this._volume.dispose(),this.unsync(),this._scheduledEvents=[],this}}class ks extends Oo{constructor(){const r=Et(ks.getDefaults(),arguments);super(r),this.portamento=r.portamento,this.onsilence=r.onsilence}static getDefaults(){return Object.assign(Oo.getDefaults(),{detune:0,onsilence:Xt,portamento:0})}triggerAttack(r,v,t=1){this.log("triggerAttack",r,v,t);const j=this.toSeconds(v);return this._triggerEnvelopeAttack(j,t),this.setNote(r,j),this}triggerRelease(r){this.log("triggerRelease",r);const v=this.toSeconds(r);return this._triggerEnvelopeRelease(v),this}setNote(r,v){const t=this.toSeconds(v),j=r instanceof Yn?r.toFrequency():r;if(this.portamento>0&&this.getLevelAtTime(t)>.05){const x=this.toSeconds(this.portamento);this.frequency.exponentialRampTo(j,x,t)}else this.frequency.setValueAtTime(j,t);return this}}ms([Ys(0)],ks.prototype,"portamento",void 0);class vd extends Jn{constructor(){super(Et(vd.getDefaults(),arguments,["attack","decay","sustain","release"])),this.name="AmplitudeEnvelope",this._gainNode=new ur({context:this.context,gain:0}),this.output=this._gainNode,this.input=this._gainNode,this._sig.connect(this._gainNode.gain),this.output=this._gainNode,this.input=this._gainNode}dispose(){return super.dispose(),this._gainNode.dispose(),this}}class ea extends ks{constructor(){const r=Et(ea.getDefaults(),arguments);super(r),this.name="Synth",this.oscillator=new Ki(Object.assign({context:this.context,detune:r.detune,onstop:()=>this.onsilence(this)},r.oscillator)),this.frequency=this.oscillator.frequency,this.detune=this.oscillator.detune,this.envelope=new vd(Object.assign({context:this.context},r.envelope)),this.oscillator.chain(this.envelope,this.output),yr(this,["oscillator","frequency","detune","envelope"])}static getDefaults(){return Object.assign(ks.getDefaults(),{envelope:Object.assign(ai(Jn.getDefaults(),Object.keys(Pt.getDefaults())),{attack:.005,decay:.1,release:1,sustain:.3}),oscillator:Object.assign(ai(Ki.getDefaults(),[...Object.keys(rn.getDefaults()),"frequency","detune"]),{type:"triangle"})})}_triggerEnvelopeAttack(r,v){if(this.envelope.triggerAttack(r,v),this.oscillator.start(r),this.envelope.sustain===0){const t=this.toSeconds(this.envelope.attack),j=this.toSeconds(this.envelope.decay);this.oscillator.stop(r+t+j)}}_triggerEnvelopeRelease(r){this.envelope.triggerRelease(r),this.oscillator.stop(r+this.toSeconds(this.envelope.release))}getLevelAtTime(r){return r=this.toSeconds(r),this.envelope.getValueAtTime(r)}dispose(){return super.dispose(),this.oscillator.dispose(),this.envelope.dispose(),this}}class za extends ks{constructor(){const r=Et(za.getDefaults(),arguments);super(r),this.name="ModulationSynth",this._carrier=new ea({context:this.context,oscillator:r.oscillator,envelope:r.envelope,onsilence:()=>this.onsilence(this),volume:-10}),this._modulator=new ea({context:this.context,oscillator:r.modulation,envelope:r.modulationEnvelope,volume:-10}),this.oscillator=this._carrier.oscillator,this.envelope=this._carrier.envelope,this.modulation=this._modulator.oscillator,this.modulationEnvelope=this._modulator.envelope,this.frequency=new nr({context:this.context,units:"frequency"}),this.detune=new nr({context:this.context,value:r.detune,units:"cents"}),this.harmonicity=new Ts({context:this.context,value:r.harmonicity,minValue:0}),this._modulationNode=new ur({context:this.context,gain:0}),yr(this,["frequency","harmonicity","oscillator","envelope","modulation","modulationEnvelope","detune"])}static getDefaults(){return Object.assign(ks.getDefaults(),{harmonicity:3,oscillator:Object.assign(ai(Ki.getDefaults(),[...Object.keys(rn.getDefaults()),"frequency","detune"]),{type:"sine"}),envelope:Object.assign(ai(Jn.getDefaults(),Object.keys(Pt.getDefaults())),{attack:.01,decay:.01,sustain:1,release:.5}),modulation:Object.assign(ai(Ki.getDefaults(),[...Object.keys(rn.getDefaults()),"frequency","detune"]),{type:"square"}),modulationEnvelope:Object.assign(ai(Jn.getDefaults(),Object.keys(Pt.getDefaults())),{attack:.5,decay:0,sustain:1,release:.5})})}_triggerEnvelopeAttack(r,v){this._carrier._triggerEnvelopeAttack(r,v),this._modulator._triggerEnvelopeAttack(r,v)}_triggerEnvelopeRelease(r){return this._carrier._triggerEnvelopeRelease(r),this._modulator._triggerEnvelopeRelease(r),this}getLevelAtTime(r){return r=this.toSeconds(r),this.envelope.getValueAtTime(r)}dispose(){return super.dispose(),this._carrier.dispose(),this._modulator.dispose(),this.frequency.dispose(),this.detune.dispose(),this.harmonicity.dispose(),this._modulationNode.dispose(),this}}class _d extends za{constructor(){super(Et(_d.getDefaults(),arguments)),this.name="AMSynth",this._modulationScale=new yy({context:this.context}),this.frequency.connect(this._carrier.frequency),this.frequency.chain(this.harmonicity,this._modulator.frequency),this.detune.fan(this._carrier.detune,this._modulator.detune),this._modulator.chain(this._modulationScale,this._modulationNode.gain),this._carrier.chain(this._modulationNode,this.output)}dispose(){return super.dispose(),this._modulationScale.dispose(),this}}class Cu extends Pt{constructor(){const r=Et(Cu.getDefaults(),arguments,["frequency","type"]);super(r),this.name="BiquadFilter",this._filter=this.context.createBiquadFilter(),this.input=this.output=this._filter,this.Q=new tr({context:this.context,units:"number",value:r.Q,param:this._filter.Q}),this.frequency=new tr({context:this.context,units:"frequency",value:r.frequency,param:this._filter.frequency}),this.detune=new tr({context:this.context,units:"cents",value:r.detune,param:this._filter.detune}),this.gain=new tr({context:this.context,units:"decibels",convert:!1,value:r.gain,param:this._filter.gain}),this.type=r.type}static getDefaults(){return Object.assign(Pt.getDefaults(),{Q:1,type:"lowpass",frequency:350,detune:0,gain:0})}get type(){return this._filter.type}set type(r){Dt(["lowpass","highpass","bandpass","lowshelf","highshelf","notch","allpass","peaking"].indexOf(r)!==-1,`Invalid filter type: ${r}`),this._filter.type=r}getFrequencyResponse(r=128){const v=new Float32Array(r);for(let d=0;d<r;d++){const s=Math.pow(d/r,2)*19980+20;v[d]=s}const t=new Float32Array(r),j=new Float32Array(r),x=this.context.createBiquadFilter();return x.type=this.type,x.Q.value=this.Q.value,x.frequency.value=this.frequency.value,x.gain.value=this.gain.value,x.getFrequencyResponse(v,t,j),t}dispose(){return super.dispose(),this._filter.disconnect(),this.Q.dispose(),this.frequency.dispose(),this.gain.dispose(),this.detune.dispose(),this}}class bd extends Pt{constructor(){const r=Et(bd.getDefaults(),arguments,["frequency","type","rolloff"]);super(r),this.name="Filter",this.input=new ur({context:this.context}),this.output=new ur({context:this.context}),this._filters=[],this._filters=[],this.Q=new nr({context:this.context,units:"positive",value:r.Q}),this.frequency=new nr({context:this.context,units:"frequency",value:r.frequency}),this.detune=new nr({context:this.context,units:"cents",value:r.detune}),this.gain=new nr({context:this.context,units:"decibels",convert:!1,value:r.gain}),this._type=r.type,this.rolloff=r.rolloff,yr(this,["detune","frequency","gain","Q"])}static getDefaults(){return Object.assign(Pt.getDefaults(),{Q:1,detune:0,frequency:350,gain:0,rolloff:-12,type:"lowpass"})}get type(){return this._type}set type(r){Dt(["lowpass","highpass","bandpass","lowshelf","highshelf","notch","allpass","peaking"].indexOf(r)!==-1,`Invalid filter type: ${r}`),this._type=r,this._filters.forEach(t=>t.type=r)}get rolloff(){return this._rolloff}set rolloff(r){const v=Ss(r)?r:parseInt(r,10),t=[-12,-24,-48,-96];let j=t.indexOf(v);Dt(j!==-1,`rolloff can only be ${t.join(", ")}`),j+=1,this._rolloff=v,this.input.disconnect(),this._filters.forEach(x=>x.disconnect()),this._filters=new Array(j);for(let x=0;x<j;x++){const d=new Cu({context:this.context});d.type=this._type,this.frequency.connect(d.frequency),this.detune.connect(d.detune),this.Q.connect(d.Q),this.gain.connect(d.gain),this._filters[x]=d}this._internalChannels=this._filters,Ji(this.input,...this._internalChannels,this.output)}getFrequencyResponse(r=128){const v=new Cu({context:this.context,frequency:this.frequency.value,gain:this.gain.value,Q:this.Q.value,type:this._type,detune:this.detune.value}),t=new Float32Array(r).map(()=>1);return this._filters.forEach(()=>{v.getFrequencyResponse(r).forEach((x,d)=>t[d]*=x)}),v.dispose(),t}dispose(){return super.dispose(),this._filters.forEach(r=>{r.dispose()}),rd(this,["detune","frequency","gain","Q"]),this.frequency.dispose(),this.Q.dispose(),this.detune.dispose(),this.gain.dispose(),this}}class wd extends za{constructor(){const r=Et(wd.getDefaults(),arguments);super(r),this.name="FMSynth",this.modulationIndex=new Ts({context:this.context,value:r.modulationIndex}),this.frequency.connect(this._carrier.frequency),this.frequency.chain(this.harmonicity,this._modulator.frequency),this.frequency.chain(this.modulationIndex,this._modulationNode),this.detune.fan(this._carrier.detune,this._modulator.detune),this._modulator.connect(this._modulationNode.gain),this._modulationNode.connect(this._carrier.frequency),this._carrier.connect(this.output)}static getDefaults(){return Object.assign(za.getDefaults(),{modulationIndex:10})}dispose(){return super.dispose(),this.modulationIndex.dispose(),this}}const lm=[1,1.483,1.932,2.546,2.63,3.897];class xd extends ks{constructor(){const r=Et(xd.getDefaults(),arguments);super(r),this.name="MetalSynth",this._oscillators=[],this._freqMultipliers=[],this.detune=new nr({context:this.context,units:"cents",value:r.detune}),this.frequency=new nr({context:this.context,units:"frequency"}),this._amplitude=new ur({context:this.context,gain:0}).connect(this.output),this._highpass=new bd({Q:0,context:this.context,type:"highpass"}).connect(this._amplitude);for(let v=0;v<lm.length;v++){const t=new rl({context:this.context,harmonicity:r.harmonicity,modulationIndex:r.modulationIndex,modulationType:"square",onstop:v===0?()=>this.onsilence(this):Xt,type:"square"});t.connect(this._highpass),this._oscillators[v]=t;const j=new Ts({context:this.context,value:lm[v]});this._freqMultipliers[v]=j,this.frequency.chain(j,t.frequency),this.detune.connect(t.detune)}this._filterFreqScaler=new gd({context:this.context,max:7e3,min:this.toFrequency(r.resonance)}),this.envelope=new Jn({attack:r.envelope.attack,attackCurve:"linear",context:this.context,decay:r.envelope.decay,release:r.envelope.release,sustain:0}),this.envelope.chain(this._filterFreqScaler,this._highpass.frequency),this.envelope.connect(this._amplitude.gain),this._octaves=r.octaves,this.octaves=r.octaves}static getDefaults(){return ko(ks.getDefaults(),{envelope:Object.assign(ai(Jn.getDefaults(),Object.keys(Pt.getDefaults())),{attack:.001,decay:1.4,release:.2}),harmonicity:5.1,modulationIndex:32,octaves:1.5,resonance:4e3})}_triggerEnvelopeAttack(r,v=1){return this.envelope.triggerAttack(r,v),this._oscillators.forEach(t=>t.start(r)),this.envelope.sustain===0&&this._oscillators.forEach(t=>{t.stop(r+this.toSeconds(this.envelope.attack)+this.toSeconds(this.envelope.decay))}),this}_triggerEnvelopeRelease(r){return this.envelope.triggerRelease(r),this._oscillators.forEach(v=>v.stop(r+this.toSeconds(this.envelope.release))),this}getLevelAtTime(r){return r=this.toSeconds(r),this.envelope.getValueAtTime(r)}get modulationIndex(){return this._oscillators[0].modulationIndex.value}set modulationIndex(r){this._oscillators.forEach(v=>v.modulationIndex.value=r)}get harmonicity(){return this._oscillators[0].harmonicity.value}set harmonicity(r){this._oscillators.forEach(v=>v.harmonicity.value=r)}get resonance(){return this._filterFreqScaler.min}set resonance(r){this._filterFreqScaler.min=this.toFrequency(r),this.octaves=this._octaves}get octaves(){return this._octaves}set octaves(r){this._octaves=r,this._filterFreqScaler.max=this._filterFreqScaler.min*Math.pow(2,r)}dispose(){return super.dispose(),this._oscillators.forEach(r=>r.dispose()),this._freqMultipliers.forEach(r=>r.dispose()),this.frequency.dispose(),this.detune.dispose(),this._filterFreqScaler.dispose(),this._amplitude.dispose(),this.envelope.dispose(),this._highpass.dispose(),this}}class ol extends ea{constructor(){const r=Et(ol.getDefaults(),arguments);super(r),this.name="MembraneSynth",this.portamento=0,this.pitchDecay=r.pitchDecay,this.octaves=r.octaves,yr(this,["oscillator","envelope"])}static getDefaults(){return ko(ks.getDefaults(),ea.getDefaults(),{envelope:{attack:.001,attackCurve:"exponential",decay:.4,release:1.4,sustain:.01},octaves:10,oscillator:{type:"sine"},pitchDecay:.05})}setNote(r,v){const t=this.toSeconds(v),j=this.toFrequency(r instanceof Yn?r.toFrequency():r),x=j*this.octaves;return this.oscillator.frequency.setValueAtTime(x,t),this.oscillator.frequency.exponentialRampToValueAtTime(j,t+this.toSeconds(this.pitchDecay)),this}dispose(){return super.dispose(),this}}ms([gy(0)],ol.prototype,"octaves",void 0);ms([Ys(0)],ol.prototype,"pitchDecay",void 0);const jd=new Set;function Sd(P){jd.add(P)}function vy(P,r){const v=`registerProcessor("${P}", ${r})`;jd.add(v)}function gw(){return Array.from(jd).join(`
`)}class vw extends Pt{constructor(r){super(r),this.name="ToneAudioWorklet",this.workletOptions={},this.onprocessorerror=Xt;const v=URL.createObjectURL(new Blob([gw()],{type:"text/javascript"})),t=this._audioWorkletName();this._dummyGain=this.context.createGain(),this._dummyParam=this._dummyGain.gain,this.context.addAudioWorkletModule(v).then(()=>{this.disposed||(this._worklet=this.context.createAudioWorkletNode(t,this.workletOptions),this._worklet.onprocessorerror=this.onprocessorerror.bind(this),this.onReady(this._worklet))})}dispose(){return super.dispose(),this._dummyGain.disconnect(),this._worklet&&(this._worklet.port.postMessage("dispose"),this._worklet.disconnect()),this}}const _w=`
	/**
	 * The base AudioWorkletProcessor for use in Tone.js. Works with the {@link ToneAudioWorklet}. 
	 */
	class ToneAudioWorkletProcessor extends AudioWorkletProcessor {

		constructor(options) {
			
			super(options);
			/**
			 * If the processor was disposed or not. Keep alive until it's disposed.
			 */
			this.disposed = false;
		   	/** 
			 * The number of samples in the processing block
			 */
			this.blockSize = 128;
			/**
			 * the sample rate
			 */
			this.sampleRate = sampleRate;

			this.port.onmessage = (event) => {
				// when it receives a dispose 
				if (event.data === "dispose") {
					this.disposed = true;
				}
			};
		}
	}
`;Sd(_w);const bw=`
	/**
	 * Abstract class for a single input/output processor. 
	 * has a 'generate' function which processes one sample at a time
	 */
	class SingleIOProcessor extends ToneAudioWorkletProcessor {

		constructor(options) {
			super(Object.assign(options, {
				numberOfInputs: 1,
				numberOfOutputs: 1
			}));
			/**
			 * Holds the name of the parameter and a single value of that
			 * parameter at the current sample
			 * @type { [name: string]: number }
			 */
			this.params = {}
		}

		/**
		 * Generate an output sample from the input sample and parameters
		 * @abstract
		 * @param input number
		 * @param channel number
		 * @param parameters { [name: string]: number }
		 * @returns number
		 */
		generate(){}

		/**
		 * Update the private params object with the 
		 * values of the parameters at the given index
		 * @param parameters { [name: string]: Float32Array },
		 * @param index number
		 */
		updateParams(parameters, index) {
			for (const paramName in parameters) {
				const param = parameters[paramName];
				if (param.length > 1) {
					this.params[paramName] = parameters[paramName][index];
				} else {
					this.params[paramName] = parameters[paramName][0];
				}
			}
		}

		/**
		 * Process a single frame of the audio
		 * @param inputs Float32Array[][]
		 * @param outputs Float32Array[][]
		 */
		process(inputs, outputs, parameters) {
			const input = inputs[0];
			const output = outputs[0];
			// get the parameter values
			const channelCount = Math.max(input && input.length || 0, output.length);
			for (let sample = 0; sample < this.blockSize; sample++) {
				this.updateParams(parameters, sample);
				for (let channel = 0; channel < channelCount; channel++) {
					const inputSample = input && input.length ? input[channel][sample] : 0;
					output[channel][sample] = this.generate(inputSample, channel, this.params);
				}
			}
			return !this.disposed;
		}
	};
`;Sd(bw);const ww=`
	/**
	 * A multichannel buffer for use within an AudioWorkletProcessor as a delay line
	 */
	class DelayLine {
		
		constructor(size, channels) {
			this.buffer = [];
			this.writeHead = []
			this.size = size;

			// create the empty channels
			for (let i = 0; i < channels; i++) {
				this.buffer[i] = new Float32Array(this.size);
				this.writeHead[i] = 0;
			}
		}

		/**
		 * Push a value onto the end
		 * @param channel number
		 * @param value number
		 */
		push(channel, value) {
			this.writeHead[channel] += 1;
			if (this.writeHead[channel] > this.size) {
				this.writeHead[channel] = 0;
			}
			this.buffer[channel][this.writeHead[channel]] = value;
		}

		/**
		 * Get the recorded value of the channel given the delay
		 * @param channel number
		 * @param delay number delay samples
		 */
		get(channel, delay) {
			let readHead = this.writeHead[channel] - Math.floor(delay);
			if (readHead < 0) {
				readHead += this.size;
			}
			return this.buffer[channel][readHead];
		}
	}
`;Sd(ww);const _y="feedback-comb-filter",xw=`
	class FeedbackCombFilterWorklet extends SingleIOProcessor {

		constructor(options) {
			super(options);
			this.delayLine = new DelayLine(this.sampleRate, options.channelCount || 2);
		}

		static get parameterDescriptors() {
			return [{
				name: "delayTime",
				defaultValue: 0.1,
				minValue: 0,
				maxValue: 1,
				automationRate: "k-rate"
			}, {
				name: "feedback",
				defaultValue: 0.5,
				minValue: 0,
				maxValue: 0.9999,
				automationRate: "k-rate"
			}];
		}

		generate(input, channel, parameters) {
			const delayedSample = this.delayLine.get(channel, parameters.delayTime * this.sampleRate);
			this.delayLine.push(channel, input + delayedSample * parameters.feedback);
			return delayedSample;
		}
	}
`;vy(_y,xw);class Td extends vw{constructor(){const r=Et(Td.getDefaults(),arguments,["delayTime","resonance"]);super(r),this.name="FeedbackCombFilter",this.input=new ur({context:this.context}),this.output=new ur({context:this.context}),this.delayTime=new tr({context:this.context,value:r.delayTime,units:"time",minValue:0,maxValue:1,param:this._dummyParam,swappable:!0}),this.resonance=new tr({context:this.context,value:r.resonance,units:"normalRange",param:this._dummyParam,swappable:!0}),yr(this,["resonance","delayTime"])}_audioWorkletName(){return _y}static getDefaults(){return Object.assign(Pt.getDefaults(),{delayTime:.1,resonance:.5})}onReady(r){Ji(this.input,r,this.output);const v=r.parameters.get("delayTime");this.delayTime.setParam(v);const t=r.parameters.get("feedback");this.resonance.setParam(t)}dispose(){return super.dispose(),this.input.dispose(),this.output.dispose(),this.delayTime.dispose(),this.resonance.dispose(),this}}class kd extends Pt{constructor(){const r=Et(kd.getDefaults(),arguments,["frequency","type"]);super(r),this.name="OnePoleFilter",this._frequency=r.frequency,this._type=r.type,this.input=new ur({context:this.context}),this.output=new ur({context:this.context}),this._createFilter()}static getDefaults(){return Object.assign(Pt.getDefaults(),{frequency:880,type:"lowpass"})}_createFilter(){const r=this._filter,v=this.toFrequency(this._frequency),t=1/(2*Math.PI*v);if(this._type==="lowpass"){const j=1/(t*this.context.sampleRate),x=j-1;this._filter=this.context.createIIRFilter([j,0],[1,x])}else{const j=1/(t*this.context.sampleRate)-1;this._filter=this.context.createIIRFilter([1,-1],[1,j])}this.input.chain(this._filter,this.output),r&&this.context.setTimeout(()=>{this.disposed||(this.input.disconnect(r),r.disconnect())},this.blockTime)}get frequency(){return this._frequency}set frequency(r){this._frequency=r,this._createFilter()}get type(){return this._type}set type(r){this._type=r,this._createFilter()}getFrequencyResponse(r=128){const v=new Float32Array(r);for(let x=0;x<r;x++){const f=Math.pow(x/r,2)*19980+20;v[x]=f}const t=new Float32Array(r),j=new Float32Array(r);return this._filter.getFrequencyResponse(v,t,j),t}dispose(){return super.dispose(),this.input.dispose(),this.output.dispose(),this._filter.disconnect(),this}}class Ed extends Pt{constructor(){const r=Et(Ed.getDefaults(),arguments,["delayTime","resonance","dampening"]);super(r),this.name="LowpassCombFilter",this._combFilter=this.output=new Td({context:this.context,delayTime:r.delayTime,resonance:r.resonance}),this.delayTime=this._combFilter.delayTime,this.resonance=this._combFilter.resonance,this._lowpass=this.input=new kd({context:this.context,frequency:r.dampening,type:"lowpass"}),this._lowpass.connect(this._combFilter)}static getDefaults(){return Object.assign(Pt.getDefaults(),{dampening:3e3,delayTime:.1,resonance:.5})}get dampening(){return this._lowpass.frequency}set dampening(r){this._lowpass.frequency=r}dispose(){return super.dispose(),this._combFilter.dispose(),this._lowpass.dispose(),this}}class Cd extends Oo{constructor(){const r=Et(Cd.getDefaults(),arguments);super(r),this.name="PluckSynth",this._noise=new pd({context:this.context,type:"pink"}),this.attackNoise=r.attackNoise,this._lfcf=new Ed({context:this.context,dampening:r.dampening,resonance:r.resonance}),this.resonance=r.resonance,this.release=r.release,this._noise.connect(this._lfcf),this._lfcf.connect(this.output)}static getDefaults(){return ko(Oo.getDefaults(),{attackNoise:1,dampening:4e3,resonance:.7,release:1})}get dampening(){return this._lfcf.dampening}set dampening(r){this._lfcf.dampening=r}triggerAttack(r,v){const t=this.toFrequency(r);v=this.toSeconds(v);const j=1/t;return this._lfcf.delayTime.setValueAtTime(j,v),this._noise.start(v),this._noise.stop(v+j*this.attackNoise),this._lfcf.resonance.cancelScheduledValues(v),this._lfcf.resonance.setValueAtTime(this.resonance,v),this}triggerRelease(r){return this._lfcf.resonance.linearRampTo(0,this.release,r),this}dispose(){return super.dispose(),this._noise.dispose(),this._lfcf.dispose(),this}}class Hu extends Oo{constructor(){const r=Et(Hu.getDefaults(),arguments,["urls","onload","baseUrl"],"urls");super(r),this.name="Sampler",this._activeSources=new Map;const v={};Object.keys(r.urls).forEach(t=>{const j=parseInt(t,10);if(Dt(fu(t)||Ss(j)&&isFinite(j),`url key is neither a note or midi pitch: ${t}`),fu(t)){const x=new Yn(this.context,t).toMidi();v[x]=r.urls[t]}else Ss(j)&&isFinite(j)&&(v[j]=r.urls[j])}),this._buffers=new hd({urls:v,onload:r.onload,baseUrl:r.baseUrl,onerror:r.onerror}),this.attack=r.attack,this.release=r.release,this.curve=r.curve,this._buffers.loaded&&Promise.resolve().then(r.onload)}static getDefaults(){return Object.assign(Oo.getDefaults(),{attack:0,baseUrl:"",curve:"exponential",onload:Xt,onerror:Xt,release:.1,urls:{}})}_findClosest(r){let t=0;for(;t<96;){if(this._buffers.has(r+t))return-t;if(this._buffers.has(r-t))return t;t++}throw new Error(`No available buffers for note: ${r}`)}triggerAttack(r,v,t=1){return this.log("triggerAttack",r,v,t),Array.isArray(r)||(r=[r]),r.forEach(j=>{const x=my(new Yn(this.context,j).toFrequency()),d=Math.round(x),f=x-d,s=this._findClosest(d),c=d-s,g=this._buffers.get(c),y=py(s+f),o=new tl({url:g,context:this.context,curve:this.curve,fadeIn:this.attack,fadeOut:this.release,playbackRate:y}).connect(this.output);o.start(v,0,g.duration/y,t),hs(this._activeSources.get(d))||this._activeSources.set(d,[]),this._activeSources.get(d).push(o),o.onended=()=>{if(this._activeSources&&this._activeSources.has(d)){const a=this._activeSources.get(d),i=a.indexOf(o);i!==-1&&a.splice(i,1)}}}),this}triggerRelease(r,v){return this.log("triggerRelease",r,v),Array.isArray(r)||(r=[r]),r.forEach(t=>{const j=new Yn(this.context,t).toMidi();if(this._activeSources.has(j)&&this._activeSources.get(j).length){const x=this._activeSources.get(j);v=this.toSeconds(v),x.forEach(d=>{d.stop(v)}),this._activeSources.set(j,[])}}),this}releaseAll(r){const v=this.toSeconds(r);return this._activeSources.forEach(t=>{for(;t.length;)t.shift().stop(v)}),this}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",1)),this}triggerAttackRelease(r,v,t,j=1){const x=this.toSeconds(t);return this.triggerAttack(r,x,j),hs(v)?(Dt(hs(r),"notes must be an array when duration is array"),r.forEach((d,f)=>{const s=v[Math.min(f,v.length-1)];this.triggerRelease(d,x+this.toSeconds(s))})):this.triggerRelease(r,x+this.toSeconds(v)),this}add(r,v,t){if(Dt(fu(r)||isFinite(r),`note must be a pitch or midi: ${r}`),fu(r)){const j=new Yn(this.context,r).toMidi();this._buffers.add(j,v,t)}else this._buffers.add(r,v,t);return this}get loaded(){return this._buffers.loaded}dispose(){return super.dispose(),this._buffers.dispose(),this._activeSources.forEach(r=>{r.forEach(v=>v.dispose())}),this._activeSources.clear(),this}}ms([Ys(0)],Hu.prototype,"attack",void 0);ms([Ys(0)],Hu.prototype,"release",void 0);class Md extends Kr{constructor(){const r=Et(Md.getDefaults(),arguments,["callback","value"]);super(r),this.name="ToneEvent",this._state=new Fu("stopped"),this._startOffset=0,this._loop=r.loop,this.callback=r.callback,this.value=r.value,this._loopStart=this.toTicks(r.loopStart),this._loopEnd=this.toTicks(r.loopEnd),this._playbackRate=r.playbackRate,this._probability=r.probability,this._humanize=r.humanize,this.mute=r.mute,this._playbackRate=r.playbackRate,this._state.increasing=!0,this._rescheduleEvents()}static getDefaults(){return Object.assign(Kr.getDefaults(),{callback:Xt,humanize:!1,loop:!1,loopEnd:"1m",loopStart:0,mute:!1,playbackRate:1,probability:1,value:null})}_rescheduleEvents(r=-1){this._state.forEachFrom(r,v=>{let t;if(v.state==="started"){v.id!==-1&&this.context.transport.clear(v.id);const j=v.time+Math.round(this.startOffset/this._playbackRate);if(this._loop===!0||Ss(this._loop)&&this._loop>1){t=1/0,Ss(this._loop)&&(t=this._loop*this._getLoopDuration());const x=this._state.getAfter(j);x!==null&&(t=Math.min(t,x.time-j)),t!==1/0&&(t=new qn(this.context,t));const d=new qn(this.context,this._getLoopDuration());v.id=this.context.transport.scheduleRepeat(this._tick.bind(this),d,new qn(this.context,j),t)}else v.id=this.context.transport.schedule(this._tick.bind(this),new qn(this.context,j))}})}get state(){return this._state.getValueAtTime(this.context.transport.ticks)}get startOffset(){return this._startOffset}set startOffset(r){this._startOffset=r}get probability(){return this._probability}set probability(r){this._probability=r}get humanize(){return this._humanize}set humanize(r){this._humanize=r}start(r){const v=this.toTicks(r);return this._state.getValueAtTime(v)==="stopped"&&(this._state.add({id:-1,state:"started",time:v}),this._rescheduleEvents(v)),this}stop(r){this.cancel(r);const v=this.toTicks(r);if(this._state.getValueAtTime(v)==="started"){this._state.setStateAtTime("stopped",v,{id:-1});const t=this._state.getBefore(v);let j=v;t!==null&&(j=t.time),this._rescheduleEvents(j)}return this}cancel(r){r=ci(r,-1/0);const v=this.toTicks(r);return this._state.forEachFrom(v,t=>{this.context.transport.clear(t.id)}),this._state.cancel(v),this}_tick(r){const v=this.context.transport.getTicksAtTime(r);if(!this.mute&&this._state.getValueAtTime(v)==="started"){if(this.probability<1&&Math.random()>this.probability)return;if(this.humanize){let t=.02;oy(this.humanize)||(t=this.toSeconds(this.humanize)),r+=(Math.random()*2-1)*t}this.callback(r,this.value)}}_getLoopDuration(){return(this._loopEnd-this._loopStart)/this._playbackRate}get loop(){return this._loop}set loop(r){this._loop=r,this._rescheduleEvents()}get playbackRate(){return this._playbackRate}set playbackRate(r){this._playbackRate=r,this._rescheduleEvents()}get loopEnd(){return new qn(this.context,this._loopEnd).toSeconds()}set loopEnd(r){this._loopEnd=this.toTicks(r),this._loop&&this._rescheduleEvents()}get loopStart(){return new qn(this.context,this._loopStart).toSeconds()}set loopStart(r){this._loopStart=this.toTicks(r),this._loop&&this._rescheduleEvents()}get progress(){if(this._loop){const r=this.context.transport.ticks,v=this._state.get(r);if(v!==null&&v.state==="started"){const t=this._getLoopDuration();return(r-v.time)%t/t}else return 0}else return 0}dispose(){return super.dispose(),this.cancel(),this._state.dispose(),this}}class Od extends Kr{constructor(){const r=Et(Od.getDefaults(),arguments,["callback","interval"]);super(r),this.name="Loop",this._event=new Md({context:this.context,callback:this._tick.bind(this),loop:!0,loopEnd:r.interval,playbackRate:r.playbackRate,probability:r.probability,humanize:r.humanize}),this.callback=r.callback,this.iterations=r.iterations}static getDefaults(){return Object.assign(Kr.getDefaults(),{interval:"4n",callback:Xt,playbackRate:1,iterations:1/0,probability:1,mute:!1,humanize:!1})}start(r){return this._event.start(r),this}stop(r){return this._event.stop(r),this}cancel(r){return this._event.cancel(r),this}_tick(r){this.callback(r)}get state(){return this._event.state}get progress(){return this._event.progress}get interval(){return this._event.loopEnd}set interval(r){this._event.loopEnd=r}get playbackRate(){return this._event.playbackRate}set playbackRate(r){this._event.playbackRate=r}get humanize(){return this._event.humanize}set humanize(r){this._event.humanize=r}get probability(){return this._event.probability}set probability(r){this._event.probability=r}get mute(){return this._event.mute}set mute(r){this._event.mute=r}get iterations(){return this._event.loop===!0?1/0:this._event.loop}set iterations(r){r===1/0?this._event.loop=!0:this._event.loop=r}dispose(){return super.dispose(),this._event.dispose(),this}}class Ad extends Pt{constructor(){const r=Et(Ad.getDefaults(),arguments,["pan"]);super(r),this.name="Panner",this._panner=this.context.createStereoPanner(),this.input=this._panner,this.output=this._panner,this.pan=new tr({context:this.context,param:this._panner.pan,value:r.pan,minValue:-1,maxValue:1}),this._panner.channelCount=r.channelCount,this._panner.channelCountMode="explicit",yr(this,"pan")}static getDefaults(){return Object.assign(Pt.getDefaults(),{pan:0,channelCount:1})}dispose(){return super.dispose(),this._panner.disconnect(),this.pan.dispose(),this}}const jw="bit-crusher",Sw=`
	class BitCrusherWorklet extends SingleIOProcessor {

		static get parameterDescriptors() {
			return [{
				name: "bits",
				defaultValue: 12,
				minValue: 1,
				maxValue: 16,
				automationRate: 'k-rate'
			}];
		}

		generate(input, _channel, parameters) {
			const step = Math.pow(0.5, parameters.bits - 1);
			const val = step * Math.floor(input / step + 0.5);
			return val;
		}
	}
`;vy(jw,Sw);class Ur extends Pt{constructor(){const r=Et(Ur.getDefaults(),arguments,["solo"]);super(r),this.name="Solo",this.input=this.output=new ur({context:this.context}),Ur._allSolos.has(this.context)||Ur._allSolos.set(this.context,new Set),Ur._allSolos.get(this.context).add(this),this.solo=r.solo}static getDefaults(){return Object.assign(Pt.getDefaults(),{solo:!1})}get solo(){return this._isSoloed()}set solo(r){r?this._addSolo():this._removeSolo(),Ur._allSolos.get(this.context).forEach(v=>v._updateSolo())}get muted(){return this.input.gain.value===0}_addSolo(){Ur._soloed.has(this.context)||Ur._soloed.set(this.context,new Set),Ur._soloed.get(this.context).add(this)}_removeSolo(){Ur._soloed.has(this.context)&&Ur._soloed.get(this.context).delete(this)}_isSoloed(){return Ur._soloed.has(this.context)&&Ur._soloed.get(this.context).has(this)}_noSolos(){return!Ur._soloed.has(this.context)||Ur._soloed.has(this.context)&&Ur._soloed.get(this.context).size===0}_updateSolo(){this._isSoloed()?this.input.gain.value=1:this._noSolos()?this.input.gain.value=1:this.input.gain.value=0}dispose(){return super.dispose(),Ur._allSolos.get(this.context).delete(this),this._removeSolo(),this}}Ur._allSolos=new Map;Ur._soloed=new Map;class Pd extends Pt{constructor(){const r=Et(Pd.getDefaults(),arguments,["pan","volume"]);super(r),this.name="PanVol",this._panner=this.input=new Ad({context:this.context,pan:r.pan,channelCount:r.channelCount}),this.pan=this._panner.pan,this._volume=this.output=new aa({context:this.context,volume:r.volume}),this.volume=this._volume.volume,this._panner.connect(this._volume),this.mute=r.mute,yr(this,["pan","volume"])}static getDefaults(){return Object.assign(Pt.getDefaults(),{mute:!1,pan:0,volume:0,channelCount:1})}get mute(){return this._volume.mute}set mute(r){this._volume.mute=r}dispose(){return super.dispose(),this._panner.dispose(),this.pan.dispose(),this._volume.dispose(),this.volume.dispose(),this}}class Xi extends Pt{constructor(){const r=Et(Xi.getDefaults(),arguments,["volume","pan"]);super(r),this.name="Channel",this._solo=this.input=new Ur({solo:r.solo,context:this.context}),this._panVol=this.output=new Pd({context:this.context,pan:r.pan,volume:r.volume,mute:r.mute,channelCount:r.channelCount}),this.pan=this._panVol.pan,this.volume=this._panVol.volume,this._solo.connect(this._panVol),yr(this,["pan","volume"])}static getDefaults(){return Object.assign(Pt.getDefaults(),{pan:0,volume:0,mute:!1,solo:!1,channelCount:1})}get solo(){return this._solo.solo}set solo(r){this._solo.solo=r}get muted(){return this._solo.muted||this.mute}get mute(){return this._panVol.mute}set mute(r){this._panVol.mute=r}_getBus(r){return Xi.buses.has(r)||Xi.buses.set(r,new ur({context:this.context})),Xi.buses.get(r)}send(r,v=0){const t=this._getBus(r),j=new ur({context:this.context,units:"decibels",gain:v});return this.connect(j),j.connect(t),j}receive(r){return this._getBus(r).connect(this),this}dispose(){return super.dispose(),this._panVol.dispose(),this.pan.dispose(),this.volume.dispose(),this._solo.dispose(),this}}Xi.buses=new Map;Xn().transport;function Tw(){return Xn().transport}Xn().destination;Xn().destination;Xn().listener;Xn().draw;Xn();class kw{constructor(r,v){this.p=v,this.output=r,this.transport=Tw(),this.transport.bpm.value=60,this.counter=0,this.hasStarted=!1,this.bassSynth=new ol().connect(this.output),this.amSynth=new _d({harmonicity:2/3,modulationEnveloper:{attack:.005}}).connect(this.output),this.fmSynth=new wd({harmonicity:6}).connect(this.output),this.pluckSynth=new Cd().connect(this.output),this.pluckSynth.attackNoise=.05,this.cymbalSynth=new xd({envelope:{attack:.001,decay:.01,release:.2},harmonicity:5.1,modulationIndex:32,resonance:4e3,octaves:1.5,frequency:250}).toDestination(),this.loopBeat=new Od(t=>this.song(t),"16n")}async mousePressed(){this.hasStarted||(await fy(),this.hasStarted=!0,console.log("AUDIO STARTING")),this.transport.state==="started"?(this.transport.stop(),this.loopBeat.stop()):(this.transport.start(),this.loopBeat.start())}song(r){console.log("SONG!");let v=["c3","c3","d3","e3"];const t=this.transport.position;if(console.log(t),this.playOnBeat([0],this.counter,()=>{this.bassSynth.triggerAttackRelease("C1","8n",r,.2)}),this.playOnBeat([0,2],this.counter,()=>{this.cymbalSynth.triggerAttackRelease("A3","32n",r,.05)}),this.counter===0){let j=this.p.floor(this.p.random(v.length));v[j]=this.getNote(),this.getNote(2)}this.playLine(v,this.counter,j=>{this.fmSynth.triggerAttackRelease(j,"16n",r,.3),this.amSynth.triggerAttackRelease(j,"16n",r,.8)}),this.counter=(this.counter+1)%4}playOnBeat(r,v,t){r.includes(v)&&t()}getNote(r=3){let v=this.p.random(["a","c","d","e","g",""]);return v===""?null:v.concat(r)}playLine(r,v,t){r[v]!==null&&v<r.length&&t(r[v])}}class Ew{constructor(r){this.output=r,this.players=new Map,this.load("voice1","/trajectory/audio/Spirits_Get_Eaten.mp3")}load(r,v){const t=new sl({url:v,autostart:!1,onload:()=>console.log(`${r} loaded.`)}).connect(this.output);this.players.set(r,t)}play(r){const v=this.players.get(r);if(!v){console.warn(`Voice "${r}" not found.`);return}fy().then(()=>{v.start()})}stop(r){const v=this.players.get(r);(v==null?void 0:v.state)==="started"&&v.stop()}}const Cw=P=>{let r=30,v,t,j,x,d;P.setup=()=>{P.createCanvas(P.windowWidth,P.windowHeight,P.WEBGL),j=new ur().toDestination(),x=new kw(j,P),v=new s(P.windowWidth,P.windowHeight),t=new f,d=new Ew(j),P.pixelDensity(1),P.frameRate(20),P.mousePressed=async()=>{x!=null&&x.mousePressed?await x.mousePressed():console.warn("music.mousePressed is not defined")},P.keyPressed=()=>{P.key===" "&&(d==null||d.play("voice1"))}},P.windowResized=()=>{P.resizeCanvas(P.windowWidth,P.windowHeight)},P.draw=()=>{P.background(0),P.translate(15,0,0),v.update(),v.draw(),t.update(),t.draw()};class f{constructor(){this.fill=P.color(252,3,65),this.stroke=P.color(255,110,150),this.radius=400,this.location=P.createVector(0,-450,-1e3),this.gSize=this.radius*2.4,this.sphereGraphic=this.createSphereGraphic(this.createGraphic(P.WEBGL)),this.blurGraphic=this.createBlurGraphic(this.createGraphic()),this.tintGraphic=this.createGraphic(),this.barGraphic=this.createBarGraphic(this.createGraphic(P.WEBGL)),this.direction=1,this.scale=1}createSphereGraphic(g){return g.clear(),g.stroke(230),g.fill(255),g.sphere(this.radius,24,24),g}createBarGraphic(g){g.clear();let y=5,o=P.frameCount*.5%(y*4);for(let a=-this.radius+10;a<this.radius+50;a+=y*4){g.push();let i=-(a+o)*this.direction;g.translate(0,i||a,this.radius/5),g.noStroke(),g.fill(0),g.box(this.gSize,y),g.pop()}return g}createBlurGraphic(g){return g.image(this.sphereGraphic,0,0),g.filter(g.BLUR,10),g}createGraphic(g){return g===P.WEBGL?P.createGraphics(this.gSize,this.gSize,g):P.createGraphics(this.gSize,this.gSize)}update(){P.colorMode(P.HSB,360,100,100);let g=P.frameCount*1%360;this.fill=P.color(g,255,255),P.colorMode(P.RGB),this.createBarGraphic(this.barGraphic)}draw(){P.push(),P.scale(this.scale),P.translate(0,0,-800),P.imageMode(P.CENTER),P.tint(this.fill),P.push(),P.image(this.sphereGraphic,0,0),P.pop(),P.push(),P.image(this.barGraphic,0,0),P.pop(),P.push(),P.tint(255,100),P.image(this.blurGraphic,0,0),P.pop,P.pop()}}class s{constructor(){this.flying=0,this.terrain=[],this.width=P.width*2,this.height=P.height*2,this.cols=Math.floor(this.width/r)+1,this.rows=Math.floor(this.height/r)+2,this.stroke=P.color(150,0,255),this.fill=P.color(0,150,255),this.viewAngle=85,this.shiftingAltitudes=!0,this.fadeIn=0,this.setAltitudes(0,0);for(let g=0;g<this.rows;g++){let y=[];for(let o=0;o<this.cols;o++)y.push(0);this.terrain.push(y)}console.log(this.terrain)}update(){if(this.flying-=.05,this.fadeIn<1&&(this.fadeIn+=1e-4),P.frameCount%10===0){let i=P.frameCount/10*.001,h=P.lerp(P.map(P.noise(i,0),0,1,-500,100),0,this.fadeIn),p=P.lerp(0,P.map(P.noise(i,1e3),0,1,100,2e3),this.fadeIn);this.setAltitudes(h,p)}this.terrain.pop();const g=[];let y=this.flying+this.rows*.05;for(var o=0,a=0;a<this.cols;a++){let i=this.cols/2,l=P.abs(a-i)/i;l>20&&(l=1);const m=P.map(P.noise(o,y),0,1,this.lowAltitude,this.highAltitude)*l;g.push(m),o+=.05}this.terrain.unshift(g)}setAltitudes(g,y){this.lowAltitude=g,this.highAltitude=y}draw(){P.push(),P.rotateX(P.radians(this.viewAngle)),P.fill(this.fill),P.stroke(this.stroke);let g=-150;P.translate(-(this.width/2+r/2),-this.height/2),P.translate(0,50,g);for(let y=0;y<this.rows-1;y++){P.beginShape(P.TRIANGLE_STRIP);for(let o=0;o<this.cols;o++)P.vertex(o*r,y*r,this.terrain[y][o]),P.vertex(o*r,(y+1)*r,this.terrain[y+1][o]);P.endShape()}P.pop()}}};function Mw(){return Ua.jsx(Ig,{sketch:Cw})}function Ow(){return Ua.jsx("div",{style:{display:"grid",placeItems:"center",overflow:"hidden",margin:0,padding:0},children:Ua.jsx(Mw,{})})}jg.createRoot(document.getElementById("root")).render(Ua.jsx(So.StrictMode,{children:Ua.jsx(Ow,{})}));
